/*
 * Copyright 1999 - 2014 icCube software Llc.
 *
 * The code and all underlying concepts and data models are owned fully
 * and exclusively by icCube software Llc. and are protected by
 * copyright law and international treaties.
 *
 * Warning: Unauthorized reproduction, use or distribution of this
 * program, concepts, documentation and data models, or any portion of
 * it, may result in severe civil and criminal penalties, and will be
 * prosecuted to the maximum extent possible under the law.
 */

var ic3;(function(a){var b=(function(){function c(d){this.localizations={};this.defaultLocalization=d;this.load(d)}c.prototype.load=function(e){var d=this;if(_.isArray(e.locale)){_.each(e.locale,function(f){d.loadForLocale(f,e)})}else{if(_.isString(e.locale)){this.loadForLocale(e.locale,e)
}}};c.prototype.clear=function(){this.localizations={}};c.prototype.getLocales=function(){return _.uniq(this.defaultLocalization.locale.concat(_.keys(this.localizations)))};c.prototype.getMessage=function(d,e){if(!_.isString(d)||this.localizations[d.toLowerCase()]==null){d="en"
}var f=_.findLast(this.localizations[d.toLowerCase()],function(g){return _.isObject(g.messages)&&_.isString(g.messages[e])});if(_.isObject(f)){return f.messages[e]}if(_.isObject(this.defaultLocalization.messages)&&_.isString(this.defaultLocalization.messages[e])){return this.defaultLocalization.messages[e]
}return e};c.prototype.loadForLocale=function(d,e){d=d.toLowerCase();if(!_.isArray(this.localizations[d])){this.localizations[d]=[]}this.localizations[d].push(e)};return c}());a.LocalizationsContainer=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(d,f,e){this.selectedLocale=_.includes(f.getLocales(),d.toLowerCase())?d.toLowerCase():"en";
this.localizations=f;this.parent=e}c.prototype.l=function(e){var d=[];for(var h=1;h<arguments.length;h++){d[h-1]=arguments[h]}var g;if(_.isObject(e)){g=this.localizations.getMessage(this.getSelectedLocale(),e.name);d=e.args||[]}else{g=this.localizations.getMessage(this.getSelectedLocale(),e)
}if(g!==e){return a.format.apply(void 0,[g].concat(d))}else{if(_.isObject(this.parent)){return(f=this.parent).l.apply(f,[e].concat(d))}else{return e}}var f};c.prototype.getSelectedLocale=function(){return this.selectedLocale};c.prototype.setSelectedLocale=function(d){if(_.isString(d)){this.selectedLocale=d
}};c.prototype.getSupportedLanguages=function(){return _.filter(this.localizations.getLocales(),function(d){return d.indexOf("_")<0&&d.indexOf("-")<0})};return c}());a.I18n=b})(ic3||(ic3={}));var ic3;(function(a){a.SystemLocalizationEn={locale:["en","en_GB","en_US","en-GB","en-US"],messages:{"ic3.ok":"OK","ic3.yes":"Yes","ic3.done":"Done","ic3.no":"No","ic3.cancel":"Cancel","ic3.reset":"Reset","ic3.close":"Close","ic3.delete":"Delete","ic3.hide":"Hide","ic3.back":"Back","ic3.open":"Open","ic3.on":"On","ic3.off":"Off","ic3.add":"Add","ic3.search":"Search","ic3.undefined":"Undefined","ic3.command.admin.edit_common_command.title":"Edit {0}","ic3.command.admin.edit_common_command.error.fileSize":"The file content has been truncated as the file size is greater than maxFileSizeForGuiVisualization (server property). Do you want to continue?","ic3.command.admin.edit_report_code.title":"Report JSON","ic3.command.admin.edit_report_css.title":"CSS","ic3.command.admin.edit_report_html.title":"Report HTML","ic3.command.admin.edit_report_html.error.not_saved":"Please save the report first","ic3.command.admin.edit_report_js.title":"Javascript","ic3.command.admin.edit_constants.title":"Constants","ic3.command.admin.edit_constants.error.duplicated":"Duplicated constant name [{0}]","ic3.command.open.restore.title":"Restore from local auto-save","ic3.command.open.restore.message":"You have an unsaved change of this report in the local auto-save. Do you want to restore it?","ic3.command.paste_box.title":"Paste Widget","ic3.command.paste_box.message":"Paste here: ","ic3.command.paste_box.error.invalid":"Invalid JSON string","ic3.command.save.title":"Save Report","ic3.command.save.message":"Please select a folder to save","ic3.command.save.success_message":"{0} saved","ic3.command.save.success_snapshot_message":"Snapshot {0} saved","ic3.command.save.error.report":"Could not save the report ({0})","ic3.command.save.error.save_snapshot":"Could not save the report snapshot ({0})","ic3.command.save.warning.overwrite.title":"Save As Report : {0}","ic3.command.save.warning.overwrite.message":'The report "{0}" exists; do you want to replace it?',"ic3.validator.greater_than_max":'"{0}" is greater than "{1}"',"ic3.validator.less_than_min":'"{0}" is less than "{1}"',"ic3.validator.not_number":'"{0}" is not a number',"ic3.file_browser.new_folder":"New folder","ic3.file_browser.place.shared":"Shared","ic3.file_browser.place.home":"Home","ic3.file_browser.place.users":"Users","ic3.file_browser.delete_header":"Delete {0}","ic3.file_browser.delete_confirm":'Do you want to delete {0} "{1}"?',"ic3.file_browser.folder":"folder","ic3.file_browser.report":"report","ic3.file_browser.snapshot":"snapshot","ic3.open_report.title":"Open a report","ic3.open_report.create_report_link":"Create Report Link","ic3.open_report.save_first":"Save current report before using relative path","ic3.save_report_dialog.title":"Save As","ic3.save_report_dialog.save_as":"Save as","ic3.save_report_dialog.move":"Move report","ic3.save_report_dialog.name":"Name","ic3.save_report_dialog.save_mode":"Save mode","ic3.color_mode.auto":"Auto","ic3.color_mode.single_color":"Single Color","ic3.color_mode.palette":"for Legend","ic3.color_mode.palette_for_values":"for Cell Values","ic3.color_mode.palette_for_categories":"for Category Axis","ic3.color_mode.gradient":"Gradient","ic3.color_mode.palette_gradient":"Palette Gradient","ic3.color_mode.mdx_measure":"MDX Measure","ic3.color_mode.mdx_property":"MDX Cell Property","ic3.color_mode.mdx_axis_property":"MDX Axis Property","ic3.color_mode.expression":"Expression","ic3.color_mode.conditional":"Conditional","ic3.color_mode.conditional.add":"Add Condition","ic3.color_mode.conditional.copy":"Copy as expression","ic3.color_mode.conditional.copied":"Conditional expression has been copied into clipboard","ic3.color_mode.mdx_axis_property.rows":"Rows","ic3.color_mode.mdx_axis_property.columns":"Columns","ic3.color_mode.type_alias.palette":"Palette","ic3.color_mode.type_alias.mdx":"MDX","ic3.color_mode_dialog.title":"Color editor dialog","ic3.color_mode_dialog.tab.color_picker":"Color Picker","ic3.color_mode_dialog.tab.mdx_measure":"Cell Measure","ic3.color_mode_dialog.tab.mdx_property":"Cell Property","ic3.color_mode_dialog.tab.mdx_axis_property":"Axis Property","ic3.color_mode_dialog.tab.general":"General","ic3.color_mode_dialog.tab.palette_editor":"Palette Editor","ic3.color_mode_dialog.tab.expression":"Palette Codes","ic3.color_mode_dialog.header.current_palette":"Current Palette","ic3.color_mode_dialog.header.theme_palette":"Theme Palette","ic3.color_mode_dialog.header.theme_palettes":"Theme Palettes","ic3.color_mode_dialog.header.recent":"Recent","ic3.color_mode_dialog.header.palette_type":"Palette Type","ic3.color_mode_dialog.alpha":"Alpha","ic3.color_mode_dialog.interpolation.no_interpolation":"No interpolation","ic3.color_mode_dialog.interpolation.interpolate_hsv":"Interpolate HSV","ic3.color_mode_dialog.interpolation.interpolate_rgb":"Interpolate RGB","ic3.color_mode_dialog.list.add":"Add new","ic3.widget_jsprop_dialog.title":"Edit JSON widget properties","ic3.widget_jsprop_dialog.apply":"Apply","ic3.widget_jsprop_dialog.import":"Import","ic3.widget_jsprop_dialog.export":"Export","ic3.widget_jsprop_dialog.errors.wrong_category":"Specified JSON-data for wrong category/widget!","ic3.widget_jsprop_dialog.errors.invalid_data":"Invalid JSON-data!","ic3.event_manager.info.event_name":"Name","ic3.event_manager.info.event_description":"Description","ic3.event_manager.info.event_type_name":"Event Name (P/C Types)","ic3.event_manager.info.producer":"Producer","ic3.event_manager.info.consumer":"Consumer","ic3.event_manager.info.event_caption":"Caption","ic3.event_manager.fire_mode.all_events":"All Events (default)","ic3.event_manager.fire_mode.only_refresh":"Only Refresh","ic3.top_menu.filters_and_tools":"Filters & Tools","ic3.top_menu.charts":"Charts","ic3.top_menu.file":"File","ic3.top_menu.file.new":"New","ic3.top_menu.file.open":"Open","ic3.top_menu.file.save":"Save","ic3.top_menu.file.save_as":"Save As","ic3.top_menu.file.export":"Export","ic3.top_menu.file.import":"Import","ic3.top_menu.configuration":"Configuration","ic3.top_menu.configuration.settings":"Report Settings","ic3.top_menu.configuration.localization":"Localization","ic3.top_menu.configuration.css":"Report CSS","ic3.top_menu.configuration.js":"Report Javascript","ic3.top_menu.configuration.constants":"Constants","ic3.top_menu.configuration.schema":"Schema / Cube","ic3.top_menu.info":"Info","ic3.top_menu.info.report_code":"Report Code","ic3.top_menu.info.report_html_embedded":"Report HTML (embedded)","ic3.top_menu.info.event_usage":"Report Event Status","ic3.top_menu.info.events_info":"Available Events","ic3.top_menu.info.report_info":"Report Information","ic3.top_menu.info.report_info.link_copied":"Link copied to the clipboard","ic3.top_menu.admin":"Admin","ic3.top_menu.admin.reports_manager":"Reports Manager","ic3.top_menu.admin.edit_config_js":"Configuration JS","ic3.top_menu.admin.edit_common_css":"Common CSS","ic3.top_menu.admin.edit_common_js":"Common JS","ic3.top_menu.admin.print":"Print Report","ic3.top_menu.admin.print_batch":"Print Report (Batch)","ic3.top_menu.admin.print_test":"Print Test Page","ic3.top_menu.admin.save_snapshot":"Save Snapshot","ic3.top_menu.admin.clear_persistent_data":"Clear Persistent Data","ic3.top_menu.admin.clear_persistent_data.question":"Do you want to continue?","ic3.top_menu.admin.refresh_report":"Refresh Report","ic3.top_menu.admin.version":"Version","ic3.reports_manager.migration_tab":"Migration","ic3.reports_manager.deletion_tab":"Deletion","ic3.reports_manager.deselect_all":"Deselect All","ic3.reports_manager.migrate":"Migrate","ic3.reports_manager.delete_reports":"Delete Reports","ic3.reports_manager.delete_reports.message":"Do you want to delete all selected reports?","ic3.reports_manager.migrate_reports":"Migrate reports","ic3.reports_manager.migrate_reports.message":"Migration will overwrite reports. Make sure to backup files with IcCube IDE first. Would you like to proceed?","ic3.reports_manager.internal_migrator_error":"Internal migrator error : {0}","ic3.reports_manager.report_saving_error":"Report Saving GVI Error : {0}","ic3.reports_manager.up_to_date":"Report is already Up-to-date","ic3.reports_manager.saved_as":'Saved as "{0}"',"ic3.reports_manager.migration_half_title":"Selected Reports for Migration","ic3.reports_manager.deletion_half_title":"Selected Reports for Deletion","ic3.top_controls.refresh":"Refresh Report","ic3.top_controls.notifications":"Notifications","ic3.top_controls.user.logout":"Logout","ic3.top_controls.user.settings":"Settings","ic3.top_controls.user.settings.system_locale":"Reporting Language","ic3.top_controls.user.settings.report_locale":"Report Language","ic3.left_menu.modify":"Modify","ic3.left_menu.options":"Options","ic3.left_menu.actions":"Actions","ic3.left_menu.actions.filter_add_to_all":"Filter (Add To all)","ic3.left_menu.actions.filter_remove_all":"Filter (Remove all)","ic3.left_menu.actions.duplicate":"Duplicate","ic3.left_menu.actions.copy":"Copy","ic3.left_menu.actions.paste":"Paste","ic3.left_menu.actions.migrate":"Migrate","ic3.left_menu.actions.remove":"Remove","ic3.left_menu.history":"History","ic3.left_menu.history.undo":"Undo","ic3.left_menu.history.redo":"Redo","ic3.left_menu.arrange":"Arrange","ic3.left_menu.layer":"Layer","ic3.left_menu.layer.description":"Bring Forward / Backward","ic3.left_menu.layer.send_back":"Send Back","ic3.left_menu.layer.bring_to_front":"Bring To Front","ic3.left_menu.position":"Position","ic3.left_menu.position.description":"Alignment","ic3.left_menu.position.align_left":"Align Left","ic3.left_menu.position.align_center":"Align Center","ic3.left_menu.position.align_right":"Align Right","ic3.left_menu.position.align_top":"Align Top","ic3.left_menu.position.align_middle":"Align Middle","ic3.left_menu.position.align_bottom":"Align Bottom","ic3.left_menu.center":"Center","ic3.left_menu.center.description":"Centering","ic3.left_menu.center.center_horizontally":"Center Horizontally","ic3.left_menu.center.center_vertically":"Center Vertically","ic3.left_menu.center.distribute_horizontally":"Distribute Horizontally","ic3.left_menu.center.distribute_vertically":"Distribute Vertically","ic3.left_menu.widgets":"Widgets","ic3.left_menu.sizing":"Sizing","ic3.left_menu.size":"Size","ic3.left_menu.size.same_width":"Same Width","ic3.left_menu.size.same_height":"Same height","ic3.left_menu.magnet":"Magnet","ic3.left_menu.magnet.snap_to_grid":"Snap to grid","ic3.left_menu.mode":"Mode","ic3.left_menu.layout":"Layout","ic3.left_menu.layout.description":"Layout Mode","ic3.widget_data_options.suggestions":"Suggestions","ic3.widget_data_options.add":"Add Item","ic3.widget_data_options.tabs.wizard":"Wizard","ic3.widget_data_options.tabs.mdx":"MDX","ic3.widget_data_options.wizard.measures":"Measures","ic3.widget_data_options.wizard.rows":"Rows","ic3.widget_data_options.wizard.columns":"Columns","ic3.widget_data_options.wizard.filter":"Filter","ic3.widget_data_options.wizard.drop_here":"Drop here...","ic3.widget_data_options.wizard.non_empty":"Non empty","ic3.widget_data_options.wizard.advanced.limiter":"Limit","ic3.widget_data_options.wizard.advanced.limiter.type":"Limit Type","ic3.widget_data_options.wizard.advanced.limiter.limit":"Limit","ic3.widget_data_options.wizard.advanced.limiter.limit_measure":"Limit Measure","ic3.widget_data_options.wizard.advanced.limiter.top":"Top","ic3.widget_data_options.wizard.advanced.limiter.bottom":"Bottom","ic3.widget_data_options.wizard.advanced.limiter.top_percent":"Top Percent","ic3.widget_data_options.wizard.advanced.limiter.bottom_percent":"Bottom Percent","ic3.widget_data_options.wizard.advanced.order":"Order","ic3.widget_data_options.wizard.advanced.order.direction":"Direction","ic3.widget_data_options.wizard.advanced.order.ascendant":"Ascendant","ic3.widget_data_options.wizard.advanced.order.ascendant_keep_hierarchy":"Ascendant keep hierarchy","ic3.widget_data_options.wizard.advanced.order.descendant":"Descendant","ic3.widget_data_options.wizard.advanced.order.descendant_keep_hierarchy":"Descendant keep hierarchy","ic3.widget_data_options.wizard.advanced.non_empty":"Non Empty","ic3.widget_data_options.wizard.advanced.hierarchize":"Hierarchize","ic3.widget_data_options.wizard.advanced.mdx_definition":"MDX Definition","ic3.widget_data_options.wizard.advanced.measure_name":"Measure Name","ic3.widget_data_options.wizard.advanced.filter_as_where":"As where clause","ic3.widget_data_options.mdx.query_editor.title":"MDX query editor","ic3.widget_data_options.mdx.query_changed":"Query was changed by wizard","ic3.widget_data_options.mdx.query_reload":"Reload?","ic3.widget_data_options.suggestions.search":"Search","ic3.widget_data_options.suggestions.mdx_definition":"MDX Definition","ic3.widget_data_options.item_advanced.type.event":"Event","ic3.widget_data_options.item_advanced.type.report_name":"Report Link","ic3.widget_data_options.item_advanced.type.javascript":"Javascript","ic3.widget_data_options.report.link":"Report Link","ic3.widget_data_options.report.non_existing_error":"Non Existing Report Error","ic3.widget_data_options.report.parameter":"Parameter","ic3.widget_data_options.report.parameter.name":"Parameter","ic3.widget_data_options.report.parameter.value":"Parameter","ic3.expression_editor.title":"Expression","ic3.event.fire_on_refresh.name":"Fire Query Mode","ic3.event.fire_on_refresh.detail":"The default behavior is to fire/execute the MDX query as soon as it had been changed (and all the events/parameters are available).","ic3.event.ic3_button_click.name":"on Button Click","ic3.event.ic3_button_click.detail":"Name of the event generated for the actions not explicitly specifying an event. Internal : ic3buttonClick.","ic3.event.ic3_cell_click.name":"on Cell Click","ic3.event.ic3_cell_click.detail":"Name of the event generated when a cell is clicked; the event contains the cell information. Internal : ic3cellClick.","ic3.event.ic3_column_click.name":"on Column Click","ic3.event.ic3_column_click.detail":"Name of the event generated when a column header is clicked; the event contains the column header information. Internal : ic3columnClick.","ic3.event.ic3_input_change.name":"on Input Change","ic3.event.ic3_input_change.detail":"Name of the event generated when the content of the input field has changed; the event contains the field value. Internal : ic3InputChange.","ic3.event.ic3_legend_click.name":"on Legend Click","ic3.event.ic3_legend_click.detail":"Name of the event generated when a legend is clicked; the event contains the legend information. Internal : ic3legendClick.","ic3.event.ic3_mdx_query_change.name":"on MDX Query Change","ic3.event.ic3_mdx_query_change.detail":"Name of the event generated when the MDX query has changed. The event contains the MDX statement. Note that the query might not be ready for execution yet. Internal : ic3mdxQueryChange.","ic3.event.ic3_mdx_query_execution.name":"on MDX Query Execution","ic3.event.ic3_mdx_query_execution.detail":"Name of the event generated when the MDX query is ready for execution. The event contains the MDX statement. Internal : ic3mdxQueryExecution.","ic3.event.ic3_mdx_query_generation.name":"on MDX Query Generation","ic3.event.ic3_mdx_query_generation.detail":"Name of the event generated when the MDX query is ready for execution. The event contains the MDX statement. Internal : ic3mdxQueryGeneration.","ic3.event.ic3_new_label.name":"on New Label","ic3.event.ic3_new_label.detail":"Name of the event generated when the slider label has changed. The event contain either the single value or the bounds of the slider. Internal : ic3newLabel.","ic3.event.ic3_query_history_size_change.name":"on Query History Size Change","ic3.event.ic3_query_history_size_change.detail":"Name of the event generated when the history query (e.g., drilldown serie) has changed; the event contains the number of queries in the history. Internal : ic3queryHistorySizeChange.","ic3.event.ic3_row_click.name":"on Row Click","ic3.event.ic3_row_click.detail":"Name of the event generated when a row header is clicked; the event contains the row header information. Internal : ic3rowClick.","ic3.event.ic3_selection.name":"on Selection","ic3.event.ic3_selection.detail":"Name of the event generated with the current selected items. Note that a chart/table can behave as filters and have a selection. Internal : ic3selection.","ic3.event.ic3_navigate.name":"on Navigate","ic3.event.ic3_navigate.detail":"Name of the event generated when drill down on the chart. Internal : ic3navigate","ic3.event.ic3_do_add_selection.name":"do Add Selection","ic3.event.ic3_do_add_selection.detail":"Name of the event that triggers the filter to reset its selection with the content of the event. Internal : ic3doAddSelection.","ic3.event.ic3_do_open_report.name":"do Open Report","ic3.event.ic3_do_open_report.detail":"Name of the event that triggers the opening of the report specified by this widget. Internal : ic3doOpenReport.","ic3.event.ic3_do_resize_widget.name":"do Resize Widget","ic3.event.ic3_do_resize_widget.detail":"Name of the event that triggers the resize of the widget. The value should be two numbers separated with comma. The first is the width, the second is the height. Internal : ic3doResizeWidget.","ic3.event.ic3_do_row_click.name":"do Click Row","ic3.event.ic3_do_row_click.detail":"Name of the event that triggers the click of a row of the chart/table. This should be an event as generated by a row click. Note that the connected charts/tables should have consistent row axis. Internal : ic3doRowClick.","ic3.event.ic3_do_select_all.name":"do Select All","ic3.event.ic3_do_select_all.detail":"Name of the event that triggers the widget to select all items. Internal : ic3doSelectAll","ic3.event.ic3_do_select_none.name":"do Select None","ic3.event.ic3_do_select_none.detail":"Name of the event that triggers the widget to unselect all items. Internal : ic3doSelectNone","ic3.event.ic3_do_set_mdx_content.name":"do Set MDX Query.","ic3.event.ic3_do_set_mdx_content.detail":"Name of the event that triggers the widget to reset the MDX query with the content of the event. Internal : ic3doSetMdxContent.","ic3.event.ic3_do_set_selection.name":"do Set Selection","ic3.event.ic3_do_set_selection.detail":"Name of the event that triggers the filter to set its selection to the content of the event. Internal : ic3doSetSelection. ","ic3.event.ic3_export_am_chart.name":"do Export Chart","ic3.event.ic3_export_am_chart.detail":"Name of the event that triggers the export of the chart. Internal : ic3exportAmChart. Use 'png', 'jpg' or 'svg' as event value to export as the desired file extension.","ic3.event.ic3_set_chart_type.name":"do Set Chart Type","ic3.event.ic3_set_chart_type.detail":"Dynamically changes the chart type","ic3.event.ic3_export_to_excel.name":"do Export To Excel","ic3.event.ic3_export_to_excel.detail":"Name of the event that triggers the export to Excel of the chart/table. Internal : ic3exportToExcel.","ic3.event.ic3_filter_to_default.name":"do Reset To Initial Selection","ic3.event.ic3_filter_to_default.detail":"Name of the event that triggers the filter to reset its initial selection. Internal : ic3filterToDefault.","ic3.event.ic3_fire_mdx_query_execution.name":"do Execute MDX Query","ic3.event.ic3_fire_mdx_query_execution.detail":"Name of the event that triggers the 'on MDX Query Execution' event. Internal : ic3fireMdxQueryExecution.","ic3.event.ic3_fire_mdx_query_generation.name":"do Fire MDX Query Generation","ic3.event.ic3_fire_mdx_query_generation.detail":"Name of the event that triggers the 'on MDX Query Generation' event. Internal : ic3fireMdxQueryGeneration.","ic3.event.ic3_toggle_mdx_query_generation_mode.name":"do Toggle MDX Query Generation Mode","ic3.event.ic3_toggle_mdx_query_generation_mode.detail":"Name of the event to toggle the MDX query generation mode (i.e., deferred vs. immediate). Internal : ic3toggleMdxQueryGenerationMode.","ic3.event.ic3_switch_columns_rows.name":"do Switch Columns/Rows","ic3.event.ic3_switch_columns_rows.detail":"Name of the event to switch the columns/rows content. Internal : ic3switchColumnsRows.","ic3.event.ic3_query_back.name":"do Previous Query","ic3.event.ic3_query_back.detail":"Name of the event that triggers the execution of the previous MDX query of the chart/table. Internal : ic3queryBack.","ic3.event.ic3_query_refresh.name":"do Refresh Query","ic3.event.ic3_query_refresh.detail":"Name of the event that triggers the execution of the MDX query of the chart/table. Internal : ic3queryRefresh.","ic3.select_schema_dialog.title":"Select Schema/Cube","ic3.select_schema_dialog.schema":"Schema","ic3.select_schema_dialog.cube":"Cube","ic3.select_schema_dialog.error.invalidJSON":"Invalid JSON data ({0})","ic3.logout_dialog.title":"Logout","ic3.logout_dialog.message":"Do you really want to log out?","ic3.print_dialog.title":"Print Report","ic3.print_dialog.title.test_page":"Print Test Page","ic3.print_dialog.buttons.print":"Print","ic3.print_dialog.buttons.open_in_browser":"Open in Browser","ic3.print_dialog.dpi":"DPI","ic3.print_dialog.fit_to_page":"Fit To Page","ic3.print_dialog.font_resizing":"Font (Zoom)","ic3.print_dialog.keep_aspect_ratio":"Keep Aspect Ratio","ic3.print_dialog.orientation":"Orientation","ic3.print_dialog.size":"Size","ic3.print_dialog.timeout":"Timeout","ic3.print_dialog.zoom":"Zoom","ic3.print_dialog.unavailable":"The print server is not available. Please contact your system administrator.","ic3.report_modified.title":"Report {0}","ic3.report_modified.message":"The report has been modified, do you want to save it?","ic3.migrate_widget_dialog.title":"Migrate","ic3.migrate_widget_dialog.migrate":"Migrate","ic3.report_info_dialog.title":"Report Information","ic3.report_info_dialog.error.not_saved":"The report permaLink is not available yet; please save the report first","ic3.report_info_dialog.info.name":"Name","ic3.report_info_dialog.info.id":"ID","ic3.report_info_dialog.info.url":"Reporting URL","ic3.report_info_dialog.info.report_name":"Report Name","ic3.report_info_dialog.info.report_id":"Report ID","ic3.report_info_dialog.info.link_by":"PermaLink By","ic3.report_info_dialog.info.parameters":"Parameter(s)","ic3.report_info_dialog.info.mode":"Mode","ic3.report_info_dialog.info.menu":"Menu","ic3.report_info_dialog.info.link":"PermaLink","ic3.report_info_dialog.copy_link":"Copy link","ic3.report_info_dialog.open_link":"Open link","ic3.localization_editor.title":"Localization Editor","ic3.localization_editor.key":"Key","ic3.localization_editor.value":"Value","ic3.localization_editor.actions":"Actions","ic3.localization_editor.actions.edit":"Edit","ic3.localization_editor.actions.apply":"Apply","ic3.localization_editor.actions.add":"Add","ic3.localization_editor.actions.create":"Create","ic3.localization_editor.actions.delete":"Delete","ic3.localization_editor.locales_list":"Selected locale","ic3.localization_editor.language_code":"Language Code","ic3.main_report.leave_check_message":"The report might have been modified","ic3.main_report.new_report.title":"New Report","ic3.main_report.event_usage.title":"Report Event Status","ic3.main_report.available_events.title":"Available Events","ic3.main_report.settings.title":"Settings","ic3.main_report.server_version":"icCube Server : {0}","ic3.main_report.reporting_version":"icCube Reporting : {0}","ic3.main_report.version.title":"Version","ic3.main_report.error.init":"Application (blank) initialization error - please contact your support ({0})","ic3.main_report.error.import":"Invalid report: {0}","ic3.main_report.warning.ids":"Multiple IDs #{0}","ic3.widget_options.category.general":"General","ic3.widget_options.category.data_render":"Data Render","ic3.widget_options.category.user_menu":"User Menu","ic3.widget_options.category.data":"Data","ic3.widget_options.category.events":"Events","ic3.widget_options.category.navigation":"Navigation","ic3.widget_options.advanced":"Advanced Properties","ic3.widget_options.save":"Save","ic3.widget_options.run":"Run","ic3.widget_options.try":"Try","ic3.widget_options.stopLoading":"Stop loading","ic3.widget_options.css":"CSS Properties","ic3.widget_adapter.error.olap_select_max_cell_count":"Request failed. Max number of cells ({0}) reached.","ic3.widget_adapter.error.render_failed":"Error while rendering widget: {0}","ic3.widget.user_menu.options.enabled":"Show User Menu","ic3.widget.user_menu.export":"Show Export Button","ic3.widget.user_menu.options.back_forward":"Show Back Button","ic3.widget.user_menu.options.reset":"Show Reset Button","ic3.widget.user_menu.chart_type":"Chart Type Selection Button","ic3.widget.user_menu.styling":"Styling Selection Button","ic3.widget.user_menu.reset":"Reset Options","ic3.widget.user_menu.palette":"Color Palette","ic3.widget.appearance.save_preset.title":"Save preset","ic3.widget.appearance.save_preset.prompt":"Preset name","ic3.widget.appearance.delete_preset.title":"Delete preset","ic3.widget.appearance.delete_preset.prompt":'Would you like to delete style preset "{0}"?',"ic3.widget.appearance.override_caution":"This property is overridden for components below:","ic3.widget.appearance.basic_presets":"Styles Preset","ic3.fixed_layout.name":"Fixed Layout","ic3.fixed_layout.render_failed":"Unexpected error while rendering a widget {0} ({1})","ic3.fixed_layout.options.theme":"Theme","ic3.fixed_layout.options.locale":"Locale","ic3.fixed_layout.options.css":"CSS","ic3.fixed_layout.options.snap_to_grid":"Snap To Grid","ic3.fixed_layout.options.background":"Background","ic3.fixed_layout.options.size":"Size","ic3.fixed_layout.options.width":"Width (px)","ic3.fixed_layout.options.height":"Height (px)","ic3.fixed_layout.options.ratio":"Ratio","ic3.fixed_layout.options.ratio.description":"Allows for defining the height from the width (or the height from the width) according to the ratio value. Ignored if both the width and the height are specified.","ic3.fixed_layout.options.margin":"Margins","ic3.fixed_layout.options.margin.description":"Margins for the automatic report sizing","ic3.fixed_layout.options.margin_left":"Margin Left","ic3.fixed_layout.options.margin_right":"Margin Right","ic3.fixed_layout.options.margin_top":"Margin Top","ic3.fixed_layout.options.margin_bottom":"Margin Bottom","ic3.fixed_layout.options.resize_mode":"Resizing Behavior","ic3.fixed_layout.options.resize_mode.description":"On screen resizing (i.e., does not apply when printing).","ic3.fixed_layout.options.fit_to_width":"Fit To Width","ic3.fixed_layout.options.min_width":"Min. Width (px)","ic3.fixed_layout.options.max_width":"Max. Width (px)","ic3.fixed_layout.options.fit_to_height":"Fit To Height","ic3.fixed_layout.options.min_height":"Min. Height (px)","ic3.fixed_layout.options.max_height":"Max. Height (px)","ic3.fixed_layout.options.font_zoom":"Font (Zoom)","ic3.fixed_layout.options.horizontal_zoom":"Apply Horizontal Zoom","ic3.fixed_layout.options.vertical_zoom":"Apply Vertical Zoom","ic3.fixed_layout.options.auto_refresh":"Refresh Period","ic3.fixed_layout.options.auto_refresh.description":"Every Refresh Period seconds the report is checking if the schema has been updated and the report is automatically refreshed if required.","ic3.fixed_layout.options.cell_max_count":"MDX Cell Max Count","ic3.fixed_layout.options.backup_enabled":"Backup","ic3.fixed_layout.options.backup_enabled.description":"","ic3.fixed_layout.options.backup_interval":"Backup period","ic3.fixed_layout.options.backup_interval.description":"","ic3.fixed_layout_box.stop_loading":"Stop Loading","ic3.fixed_layout_box.options.header":"Header Title","ic3.fixed_layout_box.options.header_height":"Header Height","ic3.fixed_layout_box.options.theme":"Theme","ic3.fixed_layout_box.options.zoom":"Zoom","ic3.fixed_layout_box.options.box_style":"Box Style","ic3.fixed_layout_box.options.waiting_event_placeholder":"Waiting Event Placeholder","ic3.fixed_layout_box.options.behavior":"Behavior","ic3.fixed_layout_box.options.embedded_div":"Embedded DIV","ic3.fixed_layout_box.options.resize_behavior":"Resizing Behavior","ic3.fixed_layout_box.options.exclude_from_print":"No Print","ic3.fixed_layout_box.options.position":"Position","ic3.fixed_layout_box.options.position.top":"Top","ic3.fixed_layout_box.options.position.left":"Left","ic3.fixed_layout_box.options.position.width":"Width","ic3.fixed_layout_box.options.position.height":"Height","ic3.fixed_layout_box.options.z_index":"Z-index","ic3.fixed_layout_box.options.css_class":"Class","ic3.fixed_layout_box.options.css_style":"Style","ic3.fixed_layout_box.placeholder.not_configured":"Not Configured","ic3.fixed_layout_box.placeholder.no_data":"No Data","ic3.fixed_layout_box.placeholder.error":"Error Occurred","ic3.fixed_layout_box.placeholder.waiting_event":"Waiting Event","ic3.fixed_layout_box.placeholder.unavailable":"Unavailable","ic3.widget_group.tools":"Tools","ic3.widget_group.mdx":"MDX","ic3.widget_group.filters":"Filters","ic3.widget_group.templates":"Templates","ic3.widget_group.charts":"Charts","ic3.widget_group.google_charts":"Google Charts","ic3.widget_group.google_maps":"Google Maps","ic3.filters_widgets.top_menu":"Filters","ic3.widget.date_picker.name":"Date Picker","ic3.widget.date_picker.options.is_range":"Range","ic3.widget.date_picker.options.separator":"Separator","ic3.widget.date_picker.options.placeholder":"Placeholder","ic3.widget.date_picker.options.from_placeholder":"From Placeholder","ic3.widget.date_picker.options.to_placeholder":"To Placeholder","ic3.widget.date_picker.options.renderer":"Renderer","ic3.widget.date_picker.options.date_format":"Date Format","ic3.widget.date_picker.options.fire_on_blur":"Fire event on blur","ic3.widget.select_control.name":"MDX Filter","ic3.widget.select_control.type.multi_select":"Multi Select","ic3.widget.select_control.type.buttons_list":"Buttons List","ic3.widget.select_control.type.horizontal_buttons_list":"Horizontal Buttons List","ic3.widget.select_control.type.drop_down":"Drop Down","ic3.widget.select_control.type.tree":"Tree","ic3.widget.select_control.type.autocomplete":"Autocomplete","ic3.widget.select_control.type.slider":"Slider","ic3.widget.select_control.type.context_menu":"Context Menu","ic3.widget.select_control.options.text_color":"Text Color","ic3.widget.select_control.options.text_background":"Text Background","ic3.widget.select_control.options.selected_text_color":"Selected Text Color","ic3.widget.select_control.options.selected_text_background_color":"Selected Text Background Color","ic3.widget.select_control.options.empty_member_text_color":"Empty Member Text Color","ic3.widget.select_control.options.type":"Type","ic3.widget.select_control.options.mode":"Mode","ic3.widget.select_control.options.mode.single":"single","ic3.widget.select_control.options.mode.multi":"multi","ic3.widget.select_control.options.mode.hierarchical_multi":"hierarchical multi","ic3.widget.select_control.options.inverse_selection":"Inverse selection","ic3.widget.select_control.options.range":"Range","ic3.widget.select_control.options.show_labels":"Show Labels","ic3.widget.select_control.options.orientation":"Orientation","ic3.widget.select_control.options.apply_instantly":"Apply Instantly","ic3.widget.select_control.options.collapsible":"Collapsible","ic3.widget.select_control.options.empty_selection_allowed":"Empty selection","ic3.widget.select_control.options.fit_to_container":"Fit to container","ic3.widget.select_control.options.empty_message":"Empty message","ic3.widget.select_control.options.more_message":"More Message","ic3.widget.select_control.options.suggestion_length":"Suggestion Length","ic3.widget.select_control.options.add_hierarchy_default":"Add Hierarchy Default","ic3.widget.select_control.options.use_default_if_no_selection":"Use Default Member If No Selection","ic3.widget.select_control.options.use_all_if_all_selected":"Use All Member If All Items Are Selected","ic3.widget.select_control.options.advanced_styling":"Advanced Styling","ic3.widget.hierarchy_select.name":"Multi Filter","ic3.action_widgets.top_menu":"Actions","ic3.widget.action_select_control.name":"Select Control","ic3.widget.action_select_control.type.buttons_list":"Buttons List","ic3.widget.action_select_control.type.horizontal_buttons_list":"Horizontal Buttons List","ic3.widget.action_select_control.type.drop_down":"Drop Down","ic3.widget.action_select_control.type.context_menu":"Context Menu","ic3.widget.action_select_control.options.type":"Type","ic3.widget.action_select_control.options.behavior":"Behavior","ic3.widget.action_select_control.options.fit_to_container":"Fit to container","ic3.widget.action_select_control.options.empty_message":"Empty message","ic3.widget.action_select_control.options.trigger":"Trigger","ic3.widget.input.name":"Input Widget","ic3.text_widgets.top_menu":"Text","ic3.widget.text_html.name":"Text/HTML","ic3.report_integration_widgets.top_menu":"Report Integration","ic3.widget.report_launcher.name":"Report Launcher","ic3.widget.embedded_report.name":"Embedded Report","ic3.mdx_support_widgets.top_menu":"MDX","ic3.widget.mdx_query_editor.name":"MDX Query Editor","ic3.widget.mdx_query_builder.name":"MDX Query Builder","ic3.table_widgets.top_menu":"Tables","ic3.widget.generic_table.name":"Table","ic3.widget.widget_template.top_menu":"Widget Templates","ic3.widget.widget_template.sub_menu":"icCube Templates","ic3.widget.widget_template.name":"Widget Template","ic3.widget.widget_template.options.preset":"Preset","ic3.widget.widget_template.options.preset.basic":"Basic","ic3.widget.widget_template.options.preset.shared":"Shared","ic3.widget.widget_template.options.preset.default":"Empty Template","ic3.widget.widget_template.options.preset.progress_bar":"Progress Bar","ic3.widget.widget_template.options.preset.d3_bubble_chart":"D3 Bubble Chart","ic3.widget.widget_template.options.preset.d3_sunburst_chart":"D3 Sunburst Chart","ic3.widget.widget_template.options.preset.d3_cloud_chart":"D3 Cloud Chart","ic3.widget.widget_template.options.preset.svg_map":"SVG Map Sample","ic3.widget.widget_template.options.reference_category":"Options","ic3.widget.widget_template.options.on_data_received":"On Data Received","ic3.widget.widget_template.options.after_render":"After Render","ic3.widget.widget_template.options.initial_html":"Initial HTML, before receiving data","ic3.widget.widget_template.options.html":"HTML, data received","ic3.widget.widget_template.options.property":"Property","ic3.widget.widget_template.options.properties":"Properties","ic3.widget.widget_template.options.properties.name":"Name","ic3.widget.widget_template.options.properties.type":"Type","ic3.widget.widget_template.options.properties.value_ref":"Value Reference (In Properties)","ic3.widget.widget_template.options.properties.default_value":"Default Value","ic3.widget.widget_template.options.properties.detailed_info":"Detailed Information","ic3.widget.widget_template.options.options":"Options","ic3.widget.widget_template.options.delete_template.title":"Delete template","ic3.widget.widget_template.options.delete_template.message":"This action will remove template from the server. Are you sure?","ic3.widget.widget_template.options.save_template.title":"Save template","ic3.widget.widget_template.options.save_template.prompt":"Template name","ic3.widget.widget_template.options.overwrite.title":"Overwrite template","ic3.widget.widget_template.options.overwrite.message":"Do you want to overwrite existing template?","ic3.widget.query_editor.options.initial_mdx":"Initial MDX","ic3.widget.query_editor.options.execute_on_ctrle":"Execute on Ctrl-E","ic3.widget.query_editor.options.execute_on_start":"Execute on start","ic3.widget.query_editor.options.show_help":"Show help","ic3.code_mirror.help":"F11 - fullscreen, CTR+SPACE - autocompletion, dot '.' - continue autocompletion, autocompletion on '@' retrieves events","ic3.code_mirror.help.fire_event":"CTRL+E - fire event","ic3.charts_widgets.top_menu":"Charts","ic3.charts_widgets.sub_menu":"Others","ic3.widget.chart.type.serial":"Serial","ic3.widget.chart.type.pie":"Pie","ic3.widget.chart.type.xy":"XY","ic3.widget.chart.type.ohlc":"OHLC","ic3.widget.chart.type.funnel":"Funnel","ic3.widget.chart.type.radar":"Radar","ic3.widget.chart.type.gantt":"Gantt","ic3.widget.chart.type.waterfall":"Waterfall","ic3.widget.chart.type.gauge":"Gauge","ic3.widget.chart.type.combo":"Combo","ic3.widget.chart.click_action":"Click Action","ic3.widget.chart.click_action.selection":"Selection","ic3.widget.chart.click_action.navigation":"Navigation","ic3.widget.chart.selection.type.none":"None","ic3.widget.chart.selection.type.cell":"Cell","ic3.widget.chart.selection.type.row":"Row","ic3.widget.chart.selection.type.column":"Column","ic3.widget.chart.selection.mode.single":"Single selection","ic3.widget.chart.selection.mode.multi":"Multiple selection","ic3.google_maps.top_menu":"Google Maps","ic3.google_maps.sub_menu":"Geo / Maps","ic3.widget.google_map.name":"Google Map","ic3.widget.google_regions_map.name":"Google Regions","ic3.google_viz.top_menu":"Google Viz","ic3.google_viz.sub_menu":"Google Viz","ic3.widget.google_viz.type.generic":"Generic Chart","ic3.widget.google_viz.type.table":"Table","ic3.widget.google_viz.type.combo":"Combo","ic3.widget.google_viz.type.sankey":"Sankey","ic3.widget.google_viz.type.calendar":"Calendar","ic3.widget.google_viz.type.geo":"Google Geo Chart","ic3.widget.google_viz.options.title":"Google Chart Options"}}
})(ic3||(ic3={}));var ic3;(function(a){a.ReportLocalizationEn={locale:["en","en_GB","en_US","en-GB","en-US"],messages:{"ic3.widget.box_menu.back":"Back","ic3.widget.box_menu.forward":"Forward","ic3.widget.box_menu.drilldown_stategy":"Drilldown Strategy","ic3.widget.box_menu.drilldown_stategy.mdx":"MDX Expression","ic3.widget.box_menu.drilldown_stategy.filter_by":"Filter by","ic3.widget.box_menu.drilldown_stategy.user_select_mdx":"MDX Expression","ic3.widget.box_menu.export":"Export","ic3.widget.box_menu.chart_type":"Chart Type","ic3.widget.box_menu.styling":"Styling","ic3.widget.box_menu.filter_info":"Filter Info Renderer","ic3.widget.box_menu.max_axis_member_count":"Max Member Count on Axis","ic3.widget.box_menu.measures":"Measures","ic3.widget.box_menu.none":"None","ic3.widget.box_menu.other":"Other","ic3.widget.box_menu.show_data":"Show Data","ic3.widget.box_menu.show_widget":"Show Widget","ic3.widget.box_menu.reset_drilldown_stategy":"Reset Drilldown Strategy","ic3.widget.box_menu.reset_query":"Reset Axes/Filters","ic3.widget.box_menu.search_suffix.hierarchy":"hier.","ic3.widget.box_menu.search_suffix.level":"level","ic3.widget.box_menu.export.png":"To PNG","ic3.widget.box_menu.export.jpg":"To JPEG","ic3.widget.box_menu.export.svg":"To SVG","ic3.widget.box_menu.export.xlsx":"To Excel","ic3.widget.hierarchy_menu.head":"Head","ic3.widget.hierarchy_menu.top":"Top","ic3.widget.hierarchy_menu.bottom":"Bottom","ic3.widget.hierarchy_menu.members":"Members","ic3.widget.hierarchy_selector.filter":"Filter...","ic3.gizmo.cell_calculator.column_percentage":"Percentage Column","ic3.gizmo.cell_calculator.default":"Default","ic3.gizmo.cell_calculator.first_col_percentage":"Percentage First","ic3.gizmo.cell_calculator.javascript":"Javascript","ic3.gizmo.cell_calculator.rank_largest":"Rank Largest","ic3.gizmo.cell_calculator.rank_smallest":"Rank Smallest","ic3.gizmo.cell_calculator.row_array":"Row As Array","ic3.gizmo.cell_calculator.row_percentage":"Percentage Row","ic3.gizmo.cell_calculator.total_percentage":"Percentage Total","ic3.gizmo.cell_renderer.arrow":"Arrow","ic3.gizmo.cell_renderer.simple_bar_data":"Bar Data (Simple%)","ic3.gizmo.cell_renderer.bar_data":"Bar Data","ic3.gizmo.cell_renderer.default":"Default","ic3.gizmo.cell_renderer.format":"Format","ic3.gizmo.cell_renderer.javascript":"Javascript","ic3.gizmo.cell_renderer.micro_chart":"Micro Chart","ic3.gizmo.cell_renderer.percent":"Percent","ic3.gizmo.cell_renderer.yes_no":"Yes/No","ic3.gizmo.validator.javascript":"Javascript","ic3.gizmo.validator.number":"number validator","ic3.gizmo.drill_down_strategy.children":"Children","ic3.gizmo.drill_down_strategy.custom":"Custom","ic3.gizmo.drill_down_strategy.javascript":"Javascript","ic3.gizmo.drill_down_strategy.top_count":"TopCount","ic3.gizmo.drill_down_strategy.mdx_expression":"MDX","ic3.gizmo.drill_down_strategy.user_select":"User Select","ic3.gizmo.table_target_column.adhoc":"Ad-Hoc Expression","ic3.gizmo.table_target_column.adhoc_tooltip":"User defined Javascript expression based on the column index. The first data column is 1, last headers ends at 0.","ic3.gizmo.table_target_column.default":"Default","ic3.gizmo.table_target_column.header":"Header","ic3.gizmo.table_target_column.even":"Even Columns","ic3.gizmo.table_target_column.items":"Indices","ic3.gizmo.table_target_column.items_tooltip":"One or more column indices separated by a comma. The first data column is 1, last headers ends at 0.","ic3.gizmo.table_target_column.list":"List of Columns","ic3.gizmo.table_target_column.odd":"Odd Columns","ic3.gizmo.table_target_column.predicate":"Predicate","ic3.gizmo.table_target_column.predicate_tooltip":"A boolean expression that returns true if this column options apply to the column index passed as parameter. The first data column is 1, last headers ends at 0.","ic3.gizmo.table_target_column.target":"Target","ic3.gizmo.table_target_column.target_tooltip":"The column(s) these options apply to.","ic3.gizmo.filter_info_renderer.custom":"Custom","ic3.gizmo.filter_info_renderer.default":"Default","ic3.gizmo.filter_info_renderer.separator":"Separator","widget.html.default_text":"Insert your text here","widget.html_template.error.column_label_not_found":"Column label '{0}' not found","widget.pivot_table.reload_children":"Reload","widget.multi_select.apply_selection":"Apply"}}
})(ic3||(ic3={}));var ic3;(function(a){a.SystemLocalizationFr={locale:["fr","fr_BE","fr_CA","fr_FR","fr_LU","fr_CH","fr-BE","fr-CA","fr-FR","fr-LU","fr-CH"],messages:{"ic3.ok":"OK","ic3.yes":"Oui","ic3.no":"Non","ic3.cancel":"Annuler","ic3.reset":"Réinitialiser","ic3.close":"Fermer","ic3.delete":"Effacer","ic3.hide":"Cacher","ic3.back":"Retour","ic3.open":"Ouvrir","ic3.on":"On","ic3.off":"Off","ic3.add":"Ajouter","ic3.search":"Chercher","ic3.undefined":"Non Défini","ic3.command.admin.edit_common_command.title":"Éditer {0}","ic3.command.admin.edit_common_command.error.fileSize":"Le fichier a été tronqué (taille supérieure à maxFileSizeForGuiVisualization (propriété du serveur). Voulez-vous continuer?","ic3.command.admin.edit_report_code.title":"JSON du Rapport","ic3.command.admin.edit_report_css.title":"CSS","ic3.command.admin.edit_report_html.title":"HTML du Rapport","ic3.command.admin.edit_report_html.error.not_saved":"Veuillez sauvegarder le rapport","ic3.command.admin.edit_report_js.title":"Javascript","ic3.command.admin.edit_constants.title":"Constantes","ic3.command.admin.edit_constants.error.duplicated":"Nom de la constante en double [{0}]","ic3.command.paste_box.title":"Coller le Widget","ic3.command.paste_box.message":"Coller ici: ","ic3.command.paste_box.error.invalid":"JSON non valide","ic3.command.save.title":"Sauvegarder le Rapport","ic3.command.save.message":"Veuillez sélectionner un répertoire pour la sauvegarde","ic3.command.save.success_message":"{0} sauvegardé","ic3.command.save.success_snapshot_message":"Snapshot {0} sauvegardé","ic3.command.save.error.report":"Rapport non sauvergardé ({0})","ic3.command.save.error.save_snapshot":"Snapshot non sauvergardé ({0})","ic3.command.save.warning.overwrite.title":"Sauvergarder Sous le Rapport : {0}","ic3.command.save.warning.overwrite.message":'Le rapport "{0}" existe; voulez-vous le remplacer?',"ic3.validator.greater_than_max":'"{0}" est supérieur à "{1}"',"ic3.validator.less_than_min":'"{0}" est inférieur à "{1}"',"ic3.validator.not_number":'"{0}" n\'est pas un nombre',"ic3.file_browser.new_folder":"Nouveau Répertoire","ic3.file_browser.place.shared":"Partagé","ic3.file_browser.place.home":"Répertoire de l'Utilisateur","ic3.file_browser.place.users":"Utilisateurs","ic3.file_browser.delete_header":"Effacer {0}","ic3.file_browser.delete_confirm":'Voulez-vous effacer {0} "{1}"?',"ic3.file_browser.folder":"répertoire","ic3.file_browser.report":"rapport","ic3.file_browser.snapshot":"snapshot","ic3.open_report.title":"Ouvrir un Rapport","ic3.save_report_dialog.title":"Sauvegarder Sous","ic3.save_report_dialog.save_as":"Sauvegarder Sous","ic3.save_report_dialog.move":"Déplacer un Rapport","ic3.save_report_dialog.name":"Nom","ic3.save_report_dialog.save_mode":"Mode de Sauvegarde","ic3.color_mode.auto":"Auto","ic3.color_mode.single_color":"Couleur Unique","ic3.color_mode.palette":"pour la Légende","ic3.color_mode.palette_for_values":"pour les Valeurs des Cellules","ic3.color_mode.palette_for_categories":"pour les Catégories des Axes","ic3.color_mode.gradient":"Gradient","ic3.color_mode.palette_gradient":"Palette de Gradient","ic3.color_mode.mdx_property":"Propriété MDX","ic3.color_mode.expression":"Expression","ic3.color_mode.type_alias.palette":"Palette","ic3.color_mode_dialog.title":"Éditeur de Couleur","ic3.color_mode_dialog.tab.color_picker":"Pipette à Couleur","ic3.color_mode_dialog.tab.mdx_property":"Propriété MDX","ic3.color_mode_dialog.tab.general":"Général","ic3.color_mode_dialog.tab.palette_editor":"Éditeur de Palette","ic3.color_mode_dialog.tab.expression":"Codes des Palette","ic3.color_mode_dialog.header.current_palette":"Palette Courante","ic3.color_mode_dialog.header.theme_palette":"Palette du Thème","ic3.color_mode_dialog.header.theme_palettes":"Palettes du Thème","ic3.color_mode_dialog.header.recent":"Récent","ic3.color_mode_dialog.header.palette_type":"Type de Palette","ic3.color_mode_dialog.alpha":"Alpha","ic3.color_mode_dialog.interpolation.no_interpolation":"Sans interpolation","ic3.color_mode_dialog.interpolation.interpolate_hsv":"Interpolation HSV","ic3.color_mode_dialog.interpolation.interpolate_rgb":"Interpolation RGB","ic3.widget_jsprop_dialog.title":"Editer les propriétés JSON du widget","ic3.widget_jsprop_dialog.apply":"Appliquer","ic3.widget_jsprop_dialog.import":"Importer","ic3.widget_jsprop_dialog.export":"Exporter","ic3.widget_jsprop_dialog.errors.wrong_category":"JSON spécifié pour la mauvaise categorie/widget!","ic3.widget_jsprop_dialog.errors.invalid_data":"JSON non valide!","ic3.event_manager.info.event_name":"Nom","ic3.event_manager.info.event_description":"Description","ic3.event_manager.info.event_type_name":"Nom de l'Évènement (P/C Types)","ic3.event_manager.info.producer":"Producteur","ic3.event_manager.info.consumer":"Consommateur","ic3.event_manager.info.event_caption":"Légende","ic3.event_manager.fire_mode.all_events":"Tous les Évènements (défaut)","ic3.event_manager.fire_mode.only_refresh":"Seuleument Refresh","ic3.top_menu.filters_and_tools":"Filtres & Outils","ic3.top_menu.charts":"Graphiques","ic3.top_menu.file":"Fichier","ic3.top_menu.file.new":"Nouveau","ic3.top_menu.file.open":"Ouvrir","ic3.top_menu.file.save":"Sauvegarder","ic3.top_menu.file.save_as":"Sauvegarder Sous","ic3.top_menu.file.export":"Exporter","ic3.top_menu.file.import":"Importer","ic3.top_menu.configuration":"Configuration","ic3.top_menu.configuration.settings":"Configuration du Rapport","ic3.top_menu.configuration.localization":"Traduction","ic3.top_menu.configuration.css":"Report CSS","ic3.top_menu.configuration.js":"Report Javascript","ic3.top_menu.configuration.constants":"Constantes","ic3.top_menu.configuration.schema":"Schéma / Cube","ic3.top_menu.info":"Info","ic3.top_menu.info.report_code":"Code du Rapport","ic3.top_menu.info.report_html_embedded":"HTML du Rapport (intégré)","ic3.top_menu.info.event_usage":"Évènements du Rapport","ic3.top_menu.info.events_info":"Évènements Disponibles","ic3.top_menu.info.report_info":"Information du Rapport","ic3.top_menu.info.report_info.link_copied":"Lien copié dans le presse-papiers","ic3.top_menu.admin":"Admin","ic3.top_menu.admin.edit_config_js":"Configuration JS","ic3.top_menu.admin.edit_common_css":"Common CSS","ic3.top_menu.admin.edit_common_js":"Common JS","ic3.top_menu.admin.print":"Imprimer le Rapport","ic3.top_menu.admin.print_batch":"Imprimer le Rapport (Batch)","ic3.top_menu.admin.print_test":"Imprimer un Page de Test","ic3.top_menu.admin.save_snapshot":"Sauvegarder un Snapshot","ic3.top_menu.admin.clear_persistent_data":"Éffacer les Données Persistentes","ic3.top_menu.admin.clear_persistent_data.question":"Voulez-vous continuer?","ic3.top_menu.admin.refresh_report":"Recharger le Rapport","ic3.top_menu.admin.version":"Version","ic3.top_controls.refresh":"Recharger le Rapport","ic3.top_controls.notifications":"Notifications","ic3.top_controls.user.logout":"Se Déconnecter","ic3.top_controls.user.settings":"Configuration","ic3.top_controls.user.settings.system_locale":"Langue de l'Application","ic3.top_controls.user.settings.report_locale":"Report Language","ic3.left_menu.modify":"Modifier","ic3.left_menu.options":"Options","ic3.left_menu.actions":"Actions","ic3.left_menu.actions.filter_add_to_all":"Filtre (Ajouter à Tous)","ic3.left_menu.actions.filter_remove_all":"Filtre (Éffacer Tous)","ic3.left_menu.actions.duplicate":"Dupliquer","ic3.left_menu.actions.copy":"Copier","ic3.left_menu.actions.paste":"Coller","ic3.left_menu.actions.migrate":"Migrer","ic3.left_menu.actions.remove":"Éffacer","ic3.left_menu.history":"Historique","ic3.left_menu.history.undo":"Annuler","ic3.left_menu.history.redo":"Refaire","ic3.left_menu.arrange":"Arranger","ic3.left_menu.layer":"Couche","ic3.left_menu.layer.description":"Amener Devant / Derrière","ic3.left_menu.layer.send_back":"Envoyer Derrière","ic3.left_menu.layer.bring_to_front":"Envoyer Devant","ic3.left_menu.position":"Position","ic3.left_menu.position.description":"Alignement","ic3.left_menu.position.align_left":"Aligner à Gauche","ic3.left_menu.position.align_center":"Aligner au Centre","ic3.left_menu.position.align_right":"Aligner à Droite","ic3.left_menu.position.align_top":"Aligner en Haut","ic3.left_menu.position.align_middle":"Aligner au Milieu","ic3.left_menu.position.align_bottom":"Aligner en Bas","ic3.left_menu.center":"Centrer","ic3.left_menu.center.description":"Centrer","ic3.left_menu.center.center_horizontally":"Centrer Horizontalement","ic3.left_menu.center.center_vertically":"Centrer Verticalement","ic3.left_menu.center.distribute_horizontally":"Distribuer Horizontalement","ic3.left_menu.center.distribute_vertically":"Distribuer Verticalement","ic3.left_menu.widgets":"Widgets","ic3.left_menu.sizing":"Taille","ic3.left_menu.size":"Tailler","ic3.left_menu.size.same_width":"Même Largeur","ic3.left_menu.size.same_height":"Même Hauteur","ic3.left_menu.magnet":"Aimant","ic3.left_menu.magnet.snap_to_grid":"Aligner sur la Grille","ic3.left_menu.mode":"Mode","ic3.left_menu.layout":"Disposition","ic3.left_menu.layout.description":"Mode de Disposition","ic3.widget_data_options.suggestions":"Suggestions","ic3.widget_data_options.tabs.wizard":"Assistant","ic3.widget_data_options.tabs.mdx":"MDX","ic3.widget_data_options.wizard.measures":"Mesures","ic3.widget_data_options.wizard.rows":"Lignes","ic3.widget_data_options.wizard.columns":"Colonnes","ic3.widget_data_options.wizard.filter":"Filtre","ic3.widget_data_options.wizard.drop_here":"Déposer ici...","ic3.widget_data_options.wizard.non_empty":"Non Vide","ic3.widget_data_options.wizard.advanced.limiter":"Limit","ic3.widget_data_options.wizard.advanced.limiter.type":"Limit Type","ic3.widget_data_options.wizard.advanced.limiter.limit":"Limit","ic3.widget_data_options.wizard.advanced.limiter.limit_measure":"Limit Measure","ic3.widget_data_options.wizard.advanced.limiter.top":"Top","ic3.widget_data_options.wizard.advanced.limiter.bottom":"Bottom","ic3.widget_data_options.wizard.advanced.limiter.top_percent":"Top Percent","ic3.widget_data_options.wizard.advanced.limiter.bottom_percent":"Bottom Percent","ic3.widget_data_options.wizard.advanced.order":"Order","ic3.widget_data_options.wizard.advanced.order.direction":"Direction","ic3.widget_data_options.wizard.advanced.order.ascendant":"Ascendant","ic3.widget_data_options.wizard.advanced.order.ascendant_keep_hierarchy":"Ascendant keep hierarchy","ic3.widget_data_options.wizard.advanced.order.descendant":"Descendant","ic3.widget_data_options.wizard.advanced.order.descendant_keep_hierarchy":"Descendant keep hierarchy","ic3.widget_data_options.wizard.advanced.non_empty":"Non Empty","ic3.widget_data_options.wizard.advanced.hierarchize":"Hierarchize","ic3.widget_data_options.wizard.advanced.mdx_definition":"MDX Definition","ic3.widget_data_options.wizard.advanced.measure_name":"Measure Name","ic3.widget_data_options.wizard.advanced.filter_as_where":"As where clause","ic3.widget_data_options.mdx.query_editor.title":"Éditeur de requêtes MDX","ic3.widget_data_options.mdx.query_changed":"La requête a été modifiée par l'assistant","ic3.widget_data_options.mdx.query_reload":"Recharder?","ic3.widget_data_options.suggestions.search":"Chercher","ic3.widget_data_options.suggestions.mdx_definition":"Définition MDX","ic3.widget_data_options.item_advanced.type.event":"Event","ic3.widget_data_options.item_advanced.type.report_id":"Report ID","ic3.widget_data_options.item_advanced.type.report_name":"Report Name","ic3.widget_data_options.item_advanced.type.javascript":"Javascript","ic3.expression_editor.title":"Expression","ic3.event.fire_on_refresh.name":"Fire Query Mode","ic3.event.fire_on_refresh.detail":"Le comportement par défaut est d'exécuter la requête MDX dès qu'elle a été modifiée (et que tous les évènements et paramêtres sont disponibles).","ic3.event.ic3_button_click.name":"on Button Click","ic3.event.ic3_button_click.detail":"Nom de l'évènement généré pour les actions qui ne spécifient pas explicitement un évènement. Interne: ic3buttonClick.","ic3.event.ic3_cell_click.name":"on Cell Click","ic3.event.ic3_cell_click.detail":"Nom de l'évènement généré quand on clique sur un cellule; l'évènement contient les information de la cellule. Interne: ic3cellClick.","ic3.event.ic3_column_click.name":"on Column Click","ic3.event.ic3_column_click.detail":"Nom de l'évènement généré quand on clique sur un entête de colonne; évènement contient les information de l'entête. Interne: ic3columnClick.","ic3.event.ic3_input_change.name":"on Input Change","ic3.event.ic3_input_change.detail":"Nom de l'évènement généré quand le contenu d'un champ d'entrée a été modifié; l'évènement contient la valeur du champ. Interne: ic3InputChange.","ic3.event.ic3_legend_click.name":"on Legend Click","ic3.event.ic3_legend_click.detail":"Nom de l'évènement généré quand on clique sur une légende; l'évènement contient les information de la légende. Interne: ic3legendClick.","ic3.event.ic3_mdx_query_change.name":"on MDX Query Change","ic3.event.ic3_mdx_query_change.detail":"Nom de l'évènement généré quand une requête MDX a été modifiée; l'évènement contient la requête MDX. Notez que la requête peut ne pas être prête pour être éxécuter. Interne: ic3mdxQueryChange.","ic3.event.ic3_mdx_query_execution.name":"on MDX Query Execution","ic3.event.ic3_mdx_query_execution.detail":"Nom de l'évènement généré quand une requête MDX est prête pour être éxécuter. L'évènement contient la requête MDX. Interne: ic3mdxQueryExecution.","ic3.event.ic3_mdx_query_generation.name":"on MDX Query Generation","ic3.event.ic3_mdx_query_generation.detail":"Nom de l'évènement généré quand une requête MDX est prête pour être éxécuter. L'évènement contient la requête MDX. Interne: ic3mdxQueryGeneration.","ic3.event.ic3_new_label.name":"on New Label","ic3.event.ic3_new_label.detail":"Nom de l'évènement généré quand l'étiquette du curseur a été modifiée. L'l'évènement contient soit la valeur ou les bornes du curseur. Interne: ic3newLabel.","ic3.event.ic3_query_history_size_change.name":"on Query History Size Change","ic3.event.ic3_query_history_size_change.detail":"Nom de l'évènement généré quand l'historique des requêtes (e.g., drilldown serie) a été modifié; l'évènement contient le nombre de requêtes dans l'historique. Interne: ic3queryHistorySizeChange.","ic3.event.ic3_row_click.name":"on Row Click","ic3.event.ic3_row_click.detail":"Nom de l'évènement généré quand on clique sur l'entête d'une ligne; l'évènement contient les information de l'entête. Interne: ic3rowClick.","ic3.event.ic3_selection.name":"on Selection","ic3.event.ic3_selection.detail":"Nom de l'évènement généré avec la selection courante. Notez qu'un graphique/table peut se comporter comme un filter et donc avoir une selection. Interne: ic3selection.","ic3.event.ic3_navigate.name":"on Navigate","ic3.event.ic3_navigate.detail":"Nom de l'évènement généré quand on drilldown dans le graphique. Interne: ic3navigate","ic3.event.ic3_do_add_selection.name":"do Add Selection","ic3.event.ic3_do_add_selection.detail":"Nom de l'évènement qui déclanche la ré-initialisation de la selection du filtre avec le contenu de l'évènement. Interne: ic3doAddSelection.","ic3.event.ic3_do_open_report.name":"do Open Report","ic3.event.ic3_do_open_report.detail":"Nom de l'évènement qui déclanche l'ouverture du rapport specifié par ce widget. Interne: ic3doOpenReport.","ic3.event.ic3_do_resize_widget.name":"do Resize Widget","ic3.event.ic3_do_resize_widget.detail":"Nom de l'évènement qui redimensionne le widget. La valeur doit être deux nombres séparés par une virgule (largeur,hauteur). Interne: ic3doResizeWidget.","ic3.event.ic3_do_row_click.name":"do Click Row","ic3.event.ic3_do_row_click.detail":"Nom de l'évènement qui déclanche un clique d'une ligne du graphique/table. Cela doit être un évènement généré par un clique de ligne. Notez que les graphiques/tables doivent avoir un axe de ligne (i.e., MDX row axis) consistent. Interne: ic3doRowClick.","ic3.event.ic3_do_select_all.name":"do Select All","ic3.event.ic3_do_select_all.detail":"Nom de l'évènement qui déclanche la sélection de tous les éléments. Interne: ic3doSelectAll","ic3.event.ic3_do_select_none.name":"do Select None","ic3.event.ic3_do_select_none.detail":"Nom de l'évènement qui déclanche la non sélection de tous les éléments. Interne: ic3doSelectNone","ic3.event.ic3_do_set_mdx_content.name":"do Set MDX Query.","ic3.event.ic3_do_set_mdx_content.detail":"Nom de l'évènement qui déclanche la ré-initialisation de la requête MDX avec le contenu de l'évènement. Interne: ic3doSetMdxContent.","ic3.event.ic3_do_set_selection.name":"do Set Selection","ic3.event.ic3_do_set_selection.detail":"Nom de l'évènement qui déclanche la ré-initialisation de la selection du filtre avec le contenu de l'évènement. Interne: ic3doSetSelection.","ic3.event.ic3_export_am_chart.name":"do Export Chart","ic3.event.ic3_export_am_chart.detail":"Nom de l'évènement qui déclanche l'export du graphique. Interne: ic3exportAmChart. Utiliser 'png', 'jpg' ou 'svg' comme valeur pour exporter au format désiré.","ic3.event.ic3_set_chart_type.name":"do Set Chart Type","ic3.event.ic3_set_chart_type.detail":"Dynamically changes the chart type","ic3.event.ic3_export_to_excel.name":"do Export To Excel","ic3.event.ic3_export_to_excel.detail":"Nom de l'évènement qui déclanche l'export vers Excel du graphique/table. Interne: ic3exportToExcel.","ic3.event.ic3_filter_to_default.name":"do Reset To Initial Selection","ic3.event.ic3_filter_to_default.detail":"Nom de l'évènement qui déclanche la ré-initialisation de la selection du filtre avec les valeurs initiales. Interne: ic3filterToDefault.","ic3.event.ic3_fire_mdx_query_execution.name":"do Execute MDX Query","ic3.event.ic3_fire_mdx_query_execution.detail":"Nom de l'évènement qui déclanche l'évènement' on MDX Query Execution'. Interne: ic3fireMdxQueryExecution.","ic3.event.ic3_fire_mdx_query_generation.name":"do Fire MDX Query Generation","ic3.event.ic3_fire_mdx_query_generation.detail":"Nom de l'évènement qui déclanche l'évènement 'on MDX Query Generation'. Interne: ic3fireMdxQueryGeneration.","ic3.event.ic3_toggle_mdx_query_generation_mode.name":"do Toggle MDX Query Generation Mode","ic3.event.ic3_toggle_mdx_query_generation_mode.detail":"Nom de l'évènement pour basculer le mode de génération des requêtes MDX (i.e., deferred vs. immediate). Interne: ic3toggleMdxQueryGenerationMode.","ic3.event.ic3_switch_columns_rows.name":"do Switch Columns/Rows","ic3.event.ic3_switch_columns_rows.detail":"Nom de l'évènement pour échanger le contenu des lignes/colonnes. Interne: ic3switchColumnsRows.","ic3.event.ic3_query_back.name":"do Previous Query","ic3.event.ic3_query_back.detail":"Nom de l'évènement qui déclanche l'execution de la requête MDX précédente du graphique/table. Interne: ic3queryBack.","ic3.event.ic3_query_refresh.name":"do Refresh Query","ic3.event.ic3_query_refresh.detail":"Nom de l'évènement qui déclanche l'execution de la requête MDX du graphique/table. Interne: ic3queryRefresh.","ic3.select_schema_dialog.title":"Selectionner Schéma/Cube","ic3.select_schema_dialog.schema":"Schéma","ic3.select_schema_dialog.cube":"Cube","ic3.select_schema_dialog.error.invalidJSON":"JSON non valide ({0})","ic3.logout_dialog.title":"Se Déconnecter","ic3.logout_dialog.message":"Voulez-vous vous déconnecter?","ic3.print_dialog.title":"Imprimer le Rapport","ic3.print_dialog.title.test_page":"Imprimer une Page de Test","ic3.print_dialog.buttons.print":"Imprimer","ic3.print_dialog.buttons.open_in_browser":"Ouvrir dans le Navigateur","ic3.print_dialog.dpi":"DPI","ic3.print_dialog.fit_to_page":"Ajuster à la Taille de la Page","ic3.print_dialog.font_resizing":"Font (Zoom)","ic3.print_dialog.keep_aspect_ratio":"Garder les Proportions","ic3.print_dialog.orientation":"Orientation","ic3.print_dialog.size":"Taille","ic3.print_dialog.timeout":"Délai","ic3.print_dialog.zoom":"Zoom","ic3.print_dialog.unavailable":"Le serveur d'impression n'est pas disponible. Veuillez contacter vôtre administrateur système.","ic3.report_modified.title":"Rapport {0}","ic3.report_modified.message":"Le rapport a été modifié, voulez-vous le sauver?","ic3.migrate_widget_dialog.title":"Migrer","ic3.migrate_widget_dialog.migrate":"Migrer","ic3.report_info_dialog.title":"Information du Rapport","ic3.report_info_dialog.error.not_saved":"Le permaLink du rapport n'est pas encore disponible; veuillez sauvegarder le rapport","ic3.report_info_dialog.info.name":"Nom","ic3.report_info_dialog.info.id":"ID","ic3.report_info_dialog.info.url":"URL du Rapport","ic3.report_info_dialog.info.report_name":"Nom du Rapport","ic3.report_info_dialog.info.report_id":"ID du Rapport","ic3.report_info_dialog.info.link_by":"PermaLink Avec","ic3.report_info_dialog.info.parameters":"Paramêtre(s)","ic3.report_info_dialog.info.mode":"Mode","ic3.report_info_dialog.info.menu":"Menu","ic3.report_info_dialog.info.link":"PermaLink","ic3.report_info_dialog.copy_link":"Copier le lien","ic3.report_info_dialog.open_link":"Ouvrir le lien","ic3.localization_editor.title":"Éditor de Traduction","ic3.localization_editor.key":"Clé","ic3.localization_editor.value":"Valeur","ic3.localization_editor.actions":"Actions","ic3.localization_editor.actions.edit":"Editer","ic3.localization_editor.actions.apply":"Appliquer","ic3.localization_editor.actions.add":"Ajouter","ic3.localization_editor.actions.create":"Créer","ic3.localization_editor.actions.delete":"Effacer","ic3.localization_editor.locales_list":"Selectionner une langue","ic3.localization_editor.language_code":"Code de langue","ic3.main_report.leave_check_message":"La rapport a pu être modifié","ic3.main_report.new_report.title":"Nouveau rapport","ic3.main_report.event_usage.title":"Évènements du Rapport","ic3.main_report.available_events.title":"Évènements Disponibles","ic3.main_report.settings.title":"Configuration","ic3.main_report.server_version":"Serveur icCube : {0}","ic3.main_report.reporting_version":"icCube Reporting : {0}","ic3.main_report.version.title":"Version","ic3.main_report.error.init":"Erreur de démarrage de l'Application - veuillez contacter vôtre support ({0})","ic3.main_report.error.import":"Rapport Non Valide: {0}","ic3.main_report.warning.ids":"IDs Multiples #{0}","ic3.widget_options.category.general":"Général","ic3.widget_options.category.data_render":"Rendu des Données","ic3.widget_options.category.user_menu":"Menu Utilisateur","ic3.widget_options.category.data":"Données","ic3.widget_options.category.events":"Évènements","ic3.widget_options.category.navigation":"Navigation","ic3.widget_options.advanced":"Propriétiés Avancées","ic3.widget_options.save":"Sauvergarder","ic3.widget_options.run":"Exécuter","ic3.widget_options.try":"Essayer","ic3.widget_options.stopLoading":"Arrêter le chargement","ic3.widget_adapter.error.olap_select_max_cell_count":"La requête a échouée. Nombre maximum de cellules ({0}) atteint.","ic3.widget_adapter.error.render_failed":"Erreur lors de l'affichage du widget: {0}","ic3.widget.user_menu.options.enabled":"Menu Utilisateur","ic3.widget.user_menu.options.back_forward":"Derrière","ic3.widget.user_menu.options.reset":"Réinitialiser","ic3.widget.user_menu.chart_type":"Type de Graphique","ic3.widget.user_menu.reset":"Réinitialiser les Options","ic3.widget.user_menu.palette":"Palette de Couleurs","ic3.fixed_layout.name":"Disposition Fixe","ic3.fixed_layout.render_failed":"Erreur lors de l'affichage du widget {0} ({1})","ic3.fixed_layout.options.theme":"Thème","ic3.fixed_layout.options.locale":"Langue","ic3.fixed_layout.options.css":"CSS","ic3.fixed_layout.options.snap_to_grid":"Aligner sur la Grille","ic3.fixed_layout.options.background":"Fond","ic3.fixed_layout.options.size":"Taille","ic3.fixed_layout.options.width":"Largeur (px)","ic3.fixed_layout.options.height":"Hauteur (px)","ic3.fixed_layout.options.ratio":"Ratio","ic3.fixed_layout.options.ratio.description":"Défini la hauteur à partir de la largeur (et vice-versa) en fonction du ratio. Ignoré si la hauteur et la largeur sont spécifiés.","ic3.fixed_layout.options.margin":"Margins","ic3.fixed_layout.options.margin.description":"Margins for the automatic report sizing","ic3.fixed_layout.options.margin_left":"Margin Left","ic3.fixed_layout.options.margin_right":"Margin Right","ic3.fixed_layout.options.margin_top":"Margin Top","ic3.fixed_layout.options.margin_bottom":"Margin Bottom","ic3.fixed_layout.options.resize_mode":"Comportement de Redimensionnement","ic3.fixed_layout.options.resize_mode.description":"Redimensionnement à l'écran (i.e., ignoré pendant l'impression).","ic3.fixed_layout.options.fit_to_width":"Ajuster la Taille à la Largeur","ic3.fixed_layout.options.min_width":"Largeur Min. (px)","ic3.fixed_layout.options.max_width":"Largeur Max. (px)","ic3.fixed_layout.options.fit_to_height":"Ajuster la Taille à la Hauteur","ic3.fixed_layout.options.min_height":"Hauteur Min. (px)","ic3.fixed_layout.options.max_height":"Hauteur Max. (px)","ic3.fixed_layout.options.font_zoom":"Font (Zoom)","ic3.fixed_layout.options.horizontal_zoom":"Appliquer Un Zoom Horizontal","ic3.fixed_layout.options.vertical_zoom":"Appliquer un Zoom Vertical","ic3.fixed_layout.options.auto_refresh":"Période de Rafraichissement","ic3.fixed_layout.options.auto_refresh.description":"Chaque Période de Rafraichissement (secondes) le rapport est mis-à-jour si le schéma a été modifié.","ic3.fixed_layout.options.cell_max_count":"Limite du nombre de Cellules MDX","ic3.fixed_layout.options.backup_enabled":"Backup","ic3.fixed_layout.options.backup_enabled.description":"","ic3.fixed_layout.options.backup_interval":"Backup period","ic3.fixed_layout.options.backup_interval.description":"","ic3.fixed_layout_box.stop_loading":"Arrêter le Chargement","ic3.fixed_layout_box.options.header":"Entête","ic3.fixed_layout_box.options.header_height":"Hauteur de tête","ic3.fixed_layout_box.options.theme":"Thème","ic3.fixed_layout_box.options.zoom":"Zoom","ic3.fixed_layout_box.options.box_style":"Style des Boites","ic3.fixed_layout_box.options.waiting_event_placeholder":"Emplacement de l'évènement d'Attente","ic3.fixed_layout_box.options.behavior":"Comportement","ic3.fixed_layout_box.options.embedded_div":"DIV Intégrée","ic3.fixed_layout_box.options.resize_behavior":"Comportement de Redimensionement","ic3.fixed_layout_box.options.exclude_from_print":"Pas d'Impression","ic3.fixed_layout_box.options.position":"Position","ic3.fixed_layout_box.options.position.top":"En Haut","ic3.fixed_layout_box.options.position.left":"A Gauche","ic3.fixed_layout_box.options.position.width":"Largeur","ic3.fixed_layout_box.options.position.height":"Hauteur","ic3.fixed_layout_box.options.z_index":"Z-index","ic3.fixed_layout_box.placeholder.not_configured":"Non Configuré","ic3.fixed_layout_box.placeholder.no_data":"Pas de Données","ic3.fixed_layout_box.placeholder.error":"Erreur","ic3.fixed_layout_box.placeholder.waiting_event":"Évènement d'Attente","ic3.fixed_layout_box.placeholder.unavailable":"Unavailable","ic3.widget_group.tools":"Outils","ic3.widget_group.mdx":"MDX","ic3.widget_group.filters":"Filtres","ic3.widget_group.templates":"Templates","ic3.widget_group.charts":"Graphiques","ic3.widget_group.google_charts":"Graphiques Google","ic3.widget_group.google_maps":"Cartes Google","ic3.filters_widgets.top_menu":"Filtres","ic3.widget.date_picker.name":"Sélectionneurs de Dates","ic3.widget.date_picker.options.is_range":"Plage de Valeurs","ic3.widget.date_picker.options.separator":"Séparateur","ic3.widget.date_picker.options.placeholder":"Espace Réservé","ic3.widget.date_picker.options.from_placeholder":"Depuis l'Espace Réservé","ic3.widget.date_picker.options.to_placeholder":"Vers l'Espace Réservé","ic3.widget.date_picker.options.renderer":"Renderer","ic3.widget.date_picker.options.date_format":"Format des Dates","ic3.widget.date_picker.options.fire_on_blur":"Fire event on blur","ic3.widget.select_control.name":"Filtre MDX","ic3.widget.select_control.type.multi_select":"Multi Selection","ic3.widget.select_control.type.buttons_list":"Liste de Boutons","ic3.widget.select_control.type.horizontal_buttons_list":"Liste Horizontale de Boutons ","ic3.widget.select_control.type.drop_down":"Menu Déroulant","ic3.widget.select_control.type.tree":"Arbre","ic3.widget.select_control.type.autocomplete":"Autocomplete","ic3.widget.select_control.type.slider":"Curseur","ic3.widget.select_control.type.context_menu":"Menu Contextuel","ic3.widget.select_control.options.text_color":"Couleur du Texte","ic3.widget.select_control.options.text_background":"Couleur de fond du Texte","ic3.widget.select_control.options.selected_text_color":"Couleur du Texte Sélectionné","ic3.widget.select_control.options.selected_text_background_color":"Couleur de fond du Texte Sélectionné","ic3.widget.select_control.options.empty_member_text_color":"Couleur du Membre Vide","ic3.widget.select_control.options.type":"Type","ic3.widget.select_control.options.mode":"Mode","ic3.widget.select_control.options.inverse_selection":"Selection Inversée","ic3.widget.select_control.options.range":"Plage de Valeurs","ic3.widget.select_control.options.show_labels":"Afficher les Étiquettes","ic3.widget.select_control.options.orientation":"Orientation","ic3.widget.select_control.options.apply_instantly":"Applique Instantanément","ic3.widget.select_control.options.collapsible":"Pliant","ic3.widget.select_control.options.empty_selection_allowed":"Sélection Vide","ic3.widget.select_control.options.fit_to_container":"Ajuster la taille au conteneur","ic3.widget.select_control.options.empty_message":"Message Vide","ic3.widget.select_control.options.more_message":"More Message","ic3.widget.select_control.options.suggestion_length":"Longeur de la Suggestion","ic3.widget.select_control.options.add_hierarchy_default":"Ajouter le Défaut de la Hiérarchie","ic3.widget.select_control.options.use_default_if_no_selection":"Utiliser le Membre par Défaut Si Pas de Sélection","ic3.widget.select_control.options.use_all_if_all_selected":"Utiliser le Membre 'All' si Tous les Élements sont Sélectionnés","ic3.widget.select_control.options.advanced_styling":"Style Avancé","ic3.widget.hierarchy_select.name":"Multi Filtre","ic3.action_widgets.top_menu":"Actions","ic3.widget.action_select_control.name":"Select Control","ic3.widget.action_select_control.type.buttons_list":"Liste de Boutons","ic3.widget.action_select_control.type.horizontal_buttons_list":"Liste Horizontale de Boutons","ic3.widget.action_select_control.type.drop_down":"Menu Déroulant","ic3.widget.action_select_control.type.context_menu":"Menu Contextuel","ic3.widget.action_select_control.options.type":"Type","ic3.widget.action_select_control.options.behavior":"Comportement","ic3.widget.action_select_control.options.fit_to_container":"Ajuster la taille au conteneur","ic3.widget.action_select_control.options.empty_message":"Message Vide","ic3.widget.action_select_control.options.trigger":"Déclencheur","ic3.widget.input.name":"Widget d'Entrée","ic3.text_widgets.top_menu":"Texte","ic3.widget.text_html.name":"Texte/HTML","ic3.report_integration_widgets.top_menu":"Intégration de Rapport","ic3.widget.report_launcher.name":"Lanceur de Rapport","ic3.widget.embedded_report.name":"Rapport Intégré","ic3.mdx_support_widgets.top_menu":"MDX","ic3.widget.mdx_query_editor.name":"Éditeur de Requête MDX","ic3.widget.mdx_query_builder.name":"Assistant de Requête MDX","ic3.table_widgets.top_menu":"Tables","ic3.table_widgets.sub_menu.widget_templates":"Custom Templates","ic3.widget.generic_table.name":"Table","ic3.widget.widget_template.top_menu":"Widget Templates","ic3.widget.widget_template.sub_menu":"icCube Templates","ic3.widget.widget_template.name":"Modèle de Widget","ic3.widget.widget_template.options.preset":"Preset","ic3.widget.widget_template.options.preset.basic":"Basic","ic3.widget.widget_template.options.preset.shared":"Shared","ic3.widget.widget_template.options.preset.default":"Empty Template","ic3.widget.widget_template.options.preset.progress_bar":"Progress Bar","ic3.widget.widget_template.options.preset.d3_bubble_chart":"D3 Bubble Chart","ic3.widget.widget_template.options.preset.d3_sunburst_chart":"D3 Sunburst Chart","ic3.widget.widget_template.options.preset.d3_cloud_chart":"D3 Cloud Chart","ic3.widget.widget_template.options.preset.svg_map":"SVG Map Sample","ic3.widget.widget_template.options.reference_category":"Options","ic3.widget.widget_template.options.on_data_received":"On Data Received","ic3.widget.widget_template.options.after_render":"After Render","ic3.widget.widget_template.options.initial_html":"Initial HTML, before receiving data","ic3.widget.widget_template.options.html":"HTML, data received","ic3.widget.widget_template.options.property":"Property","ic3.widget.widget_template.options.properties":"Properties","ic3.widget.widget_template.options.properties.name":"Name","ic3.widget.widget_template.options.properties.type":"Type","ic3.widget.widget_template.options.properties.value_ref":"Value Reference (In Properties)","ic3.widget.widget_template.options.properties.default_value":"Default Value","ic3.widget.widget_template.options.properties.detailed_info":"Detailed Information","ic3.widget.widget_template.options.options":"Options","ic3.widget.widget_template.options.delete_template.title":"Delete template","ic3.widget.widget_template.options.delete_template.message":"This action will remove template from the server. Are you sure?","ic3.widget.widget_template.options.save_template.title":"Save template","ic3.widget.widget_template.options.save_template.prompt":"Template name","ic3.widget.widget_template.options.overwrite.title":"Overwrite template","ic3.widget.widget_template.options.overwrite.message":"Do you want to overwrite existing template?","ic3.charts_widgets.top_menu":"Graphiques","ic3.charts_widgets.sub_menu":"Autres","ic3.widget.chart.type.serial":"Serial","ic3.widget.chart.type.pie":"Pie","ic3.widget.chart.type.xy":"XY","ic3.widget.chart.type.ohlc":"OHLC","ic3.widget.chart.type.funnel":"Funnel","ic3.widget.chart.type.radar":"Radar","ic3.widget.chart.type.gantt":"Gantt","ic3.widget.chart.type.waterfall":"Waterfall","ic3.widget.chart.type.gauge":"Gauge","ic3.widget.chart.type.combo":"Combo","ic3.widget.chart.selection.type.none":"None","ic3.widget.chart.selection.type.cell":"Cell","ic3.widget.chart.selection.type.row":"Row","ic3.widget.chart.selection.type.column":"Column","ic3.widget.chart.selection.mode.single":"Single selection","ic3.widget.chart.selection.mode.multi":"Multiple selection","ic3.google_maps.top_menu":"Google Maps","ic3.google_maps.sub_menu":"Geo / Maps","ic3.widget.google_map.name":"Google Map","ic3.widget.google_regions_map.name":"Google Regions","ic3.google_viz.top_menu":"Google Viz","ic3.google_viz.sub_menu":"Google Viz","ic3.widget.google_viz.type.generic":"Generic Chart","ic3.widget.google_viz.type.table":"Table","ic3.widget.google_viz.type.combo":"Combo","ic3.widget.google_viz.type.sankey":"Sankey","ic3.widget.google_viz.type.calendar":"Calendar","ic3.widget.google_viz.type.geo":"Google Geo Chart","ic3.widget.google_viz.options.title":"Google Chart Options"}}
})(ic3||(ic3={}));var ic3;(function(a){a.ReportLocalizationFr={locale:["fr","fr_BE","fr_CA","fr_FR","fr_LU","fr_CH","fr-BE","fr-CA","fr-FR","fr-LU","fr-CH"],messages:{"ic3.widget.box_menu.back":"Retour","ic3.widget.box_menu.drilldown_stategy":"Stratégie de Drilldown","ic3.widget.box_menu.drilldown_stategy.mdx":"Expression MDX","ic3.widget.box_menu.drilldown_stategy.filter_by":"Filtrer par","ic3.widget.box_menu.drilldown_stategy.user_select_mdx":"Expression MDX","ic3.widget.box_menu.export":"Exporter","ic3.widget.box_menu.filter_info":"Filter Info Renderer","ic3.widget.box_menu.max_axis_member_count":"Nombre Maximum de Membres sur l'Axe","ic3.widget.box_menu.measures":"Mesures","ic3.widget.box_menu.none":"Aucun","ic3.widget.box_menu.other":"Autre","ic3.widget.box_menu.show_data":"Afficher les Données","ic3.widget.box_menu.show_widget":"Afficer le Widget","ic3.widget.box_menu.reset_drilldown_stategy":"Réinitialiser la Stratégie de Drilldown","ic3.widget.box_menu.reset_query":"Réinitialiser Axes/Filtres","ic3.widget.box_menu.search_suffix.hierarchy":"hiér.","ic3.widget.box_menu.search_suffix.level":"niveau","ic3.widget.box_menu.export.png":"To PNG","ic3.widget.box_menu.export.jpg":"To JPEG","ic3.widget.box_menu.export.svg":"To SVG","ic3.widget.box_menu.export.xlsx":"To Excel","ic3.widget.hierarchy_menu.head":"Head","ic3.widget.hierarchy_menu.top":"Top","ic3.widget.hierarchy_menu.bottom":"Bottom","ic3.widget.hierarchy_menu.members":"Members","ic3.widget.hierarchy_selector.filter":"Filtre...","ic3.gizmo.cell_calculator.column_percentage":"Pourcentage de la Colonne","ic3.gizmo.cell_calculator.default":"Défaut","ic3.gizmo.cell_calculator.first_col_percentage":"Percentage First","ic3.gizmo.cell_calculator.javascript":"Javascript","ic3.gizmo.cell_calculator.rank_largest":"Rank Largest","ic3.gizmo.cell_calculator.rank_smallest":"Rank Smallest","ic3.gizmo.cell_calculator.row_array":"Line As Array","ic3.gizmo.cell_calculator.row_percentage":"Pourcentage de la Ligne","ic3.gizmo.cell_calculator.total_percentage":"Pourcentage Total","ic3.gizmo.cell_renderer.arrow":"Flèche","ic3.gizmo.cell_renderer.simple_bar_data":"Barre (Simple%)","ic3.gizmo.cell_renderer.bar_data":"Barre","ic3.gizmo.cell_renderer.default":"Défaut","ic3.gizmo.cell_renderer.format":"Format","ic3.gizmo.cell_renderer.javascript":"Javascript","ic3.gizmo.cell_renderer.micro_chart":"Micro Graphique","ic3.gizmo.cell_renderer.percent":"Pourcentage","ic3.gizmo.cell_renderer.yes_no":"Oui/Non","ic3.gizmo.validator.javascript":"Javascript","ic3.gizmo.validator.number":"validateur de nombre","ic3.gizmo.drill_down_strategy.children":"Children","ic3.gizmo.drill_down_strategy.custom":"Sur Mesure","ic3.gizmo.drill_down_strategy.javascript":"Javascript","ic3.gizmo.drill_down_strategy.top_count":"TopCount","ic3.gizmo.drill_down_strategy.mdx_expression":"MDX","ic3.gizmo.drill_down_strategy.user_select":"Sélection de l'Utilisateur","ic3.gizmo.table_target_column.adhoc":"Éxpression Ad-Hoc","ic3.gizmo.table_target_column.adhoc_tooltip":"Éxpression Javascript définie par l'utilisateur basée sur l'index de la colonne. La première colonne de donnée est 1, les derniers entêtes terminent à 0.","ic3.gizmo.table_target_column.default":"Défaut","ic3.gizmo.table_target_column.header":"Entête","ic3.gizmo.table_target_column.even":"Colonnes Pairs","ic3.gizmo.table_target_column.items":"Indices","ic3.gizmo.table_target_column.items_tooltip":"Un ou plusieurs indices de colonne séparés par une virgule. La première colonne de donnée est 1, les derniers entêtes terminent à 0.","ic3.gizmo.table_target_column.list":"Liste de Colunnes","ic3.gizmo.table_target_column.odd":"Colonnes Impaires","ic3.gizmo.table_target_column.predicate":"Prédicat","ic3.gizmo.table_target_column.predicate_tooltip":"Une expression booléenne qui retourne true si les options de la colonne s'appliquent à la colonne dont l'indice est passé comme paramêtre. La première colonne de donnée est 1, les derniers entêtes terminent à 0.","ic3.gizmo.table_target_column.target":"Destination","ic3.gizmo.table_target_column.target_tooltip":"La(les) colonne(s) dont les options s'appliquent.","ic3.gizmo.filter_info_renderer.custom":"Sur Mesure","ic3.gizmo.filter_info_renderer.default":"Défaut","ic3.gizmo.filter_info_renderer.separator":"Séparateur","widget.html.default_text":"Insérer votre texte ici","widget.html_template.error.column_label_not_found":"L'étiquette de le colonne '{0}' non trouvé","widget.pivot_table.reload_children":"Recharder","widget.multi_select.apply_selection":"Appliquer"}}
})(ic3||(ic3={}));var ic3;(function(a){a.SystemLocalizationRu={locale:["ru","ru_RU","ru_UA","ru-RU","ru-UA"],messages:{"ic3.ok":"OK","ic3.yes":"Да","ic3.no":"Нет","ic3.reset":"Сбросить","ic3.cancel":"Отмена","ic3.close":"Закрыть","ic3.delete":"Удалить","ic3.hide":"Скрыть","ic3.back":"Назад","ic3.open":"Открыть","ic3.on":"Вкл","ic3.off":"Выкл","ic3.search":"Поиск","ic3.add":"Добавить","ic3.undefined":"Неизвестно","ic3.command.admin.edit_common_command.title":"Редактирование {0}","ic3.command.admin.edit_common_command.error.fileSize":"Содержимое файла будет обрезано поскольку размер первышает maxFileSizeForGuiVisualization (настрйка сервера). Вы желаете продолжить?","ic3.command.admin.edit_report_code.title":"JSON Код Отчета","ic3.command.admin.edit_report_css.title":"CSS Отчета","ic3.command.admin.edit_report_html.title":"HTML код встроенного отчета","ic3.command.admin.edit_report_html.error.not_saved":"Пожалуйста, сохрание отчет перед генерацией кода","ic3.command.admin.edit_report_js.title":"Javascript","ic3.command.admin.edit_constants.title":"Константы","ic3.command.admin.edit_constants.error.duplicated":"Повторяющееся имя константы [{0}]","ic3.command.paste_box.title":"Вставить Виджет","ic3.command.paste_box.message":"Вставте сюда: ","ic3.command.paste_box.error.invalid":"Неправильный JSON виджета","ic3.command.save.title":"Сохранение отчета","ic3.command.save.message":"Пожалуйста выберите папку для сохранения","ic3.command.save.success_message":"{0} сохранен","ic3.command.save.success_snapshot_message":"Снимок {0} сохранен","ic3.command.save.error.report":"Ошибка сохранения отчета ({0})","ic3.command.save.error.save_snapshot":"Ошибка сохранения снимка ({0})","ic3.command.save.warning.overwrite.title":"Сохранить отчет как : {0}","ic3.command.save.warning.overwrite.message":'Отчет "{0}" уже существует. Вы желаете заменить его?',"ic3.validator.greater_than_max":'"{0}" больше, чем "{1}"',"ic3.validator.less_than_min":'"{0}" меньше, чем "{1}"',"ic3.validator.not_number":'"{0}" не является числом',"ic3.file_browser.new_folder":"Новая папка","ic3.file_browser.place.shared":"Общее","ic3.file_browser.place.home":"Домашняя","ic3.file_browser.place.users":"Пользователи","ic3.file_browser.delete_header":"Удалить {0}","ic3.file_browser.delete_confirm":'Вы хотите удалить {0} "{1}"?',"ic3.file_browser.folder":"каталог","ic3.file_browser.report":"отчёт","ic3.file_browser.snapshot":"снимок","ic3.open_report.title":"Открытие отчета","ic3.save_report_dialog.title":"Сохранить как","ic3.save_report_dialog.save_as":"Сохранить","ic3.save_report_dialog.move":"Переместить отчет","ic3.save_report_dialog.name":"Имя","ic3.save_report_dialog.save_mode":"Режим сохранения","ic3.color_mode.auto":"Авто","ic3.color_mode.single_color":"Один цвет","ic3.color_mode.palette":"для Легенды","ic3.color_mode.palette_for_categories":"для категорий","ic3.color_mode.gradient":"Градиент","ic3.color_mode.palette_gradient":"Градиент по палитре","ic3.color_mode.palette_for_values":"для значений","ic3.color_mode.mdx_property":"MDX свойство","ic3.color_mode.expression":"Выражение","ic3.color_mode.type_alias.palette":"Палитра","ic3.color_mode_dialog.title":"Окно редактирования цвета","ic3.color_mode_dialog.tab.color_picker":"Выбор цвета","ic3.color_mode_dialog.tab.mdx_property":"MDX свойство","ic3.color_mode_dialog.tab.general":"Главные настройки","ic3.color_mode_dialog.tab.palette_editor":"Редактор палитры","ic3.color_mode_dialog.tab.expression":"Цвета Палитры","ic3.color_mode_dialog.header.current_palette":"Текущая палитра","ic3.color_mode_dialog.header.theme_palette":"Палитра темы","ic3.color_mode_dialog.header.theme_palettes":"Палитры темы","ic3.color_mode_dialog.header.recent":"Недавние","ic3.color_mode_dialog.header.palette_type":"Тип палитры","ic3.color_mode_dialog.alpha":"Прозрачность","ic3.color_mode_dialog.interpolation.no_interpolation":"Без интерполяции","ic3.color_mode_dialog.interpolation.interpolate_hsv":"Интерполяция HSV","ic3.color_mode_dialog.interpolation.interpolate_rgb":"Интерполяция RGB","ic3.widget_jsprop_dialog.title":"Редактирование JSON настроек виджета","ic3.widget_jsprop_dialog.apply":"Применить","ic3.widget_jsprop_dialog.import":"Импорт","ic3.widget_jsprop_dialog.export":"Экспорт","ic3.widget_jsprop_dialog.errors.wrong_category":"Указаны JSON-данные неверной категории/виджета!","ic3.widget_jsprop_dialog.errors.invalid_data":"Неверные JSON-данные!","ic3.event_manager.info.event_name":"Имя","ic3.event_manager.info.event_description":"Описание","ic3.event_manager.info.event_type_name":"Имя события","ic3.event_manager.info.producer":"Источник","ic3.event_manager.info.consumer":"Получатель","ic3.event_manager.info.event_caption":"Заголовок","ic3.event_manager.fire_mode.all_events":"Все события","ic3.event_manager.fire_mode.only_refresh":"Только ручное обновление","ic3.top_menu.filters_and_tools":"Фильтры и инструменты","ic3.top_menu.charts":"Диаграммы","ic3.top_menu.file":"Файл","ic3.top_menu.file.new":"Новый","ic3.top_menu.file.open":"Открыть","ic3.top_menu.file.save":"Сохранить","ic3.top_menu.file.save_as":"Сохранить как","ic3.top_menu.file.export":"Экспорт","ic3.top_menu.file.import":"Импорт","ic3.top_menu.configuration":"Конфигурация","ic3.top_menu.configuration.settings ":"Настройки отчёта","ic3.top_menu.configuration.localization":"Локализация","ic3.top_menu.configuration.css":"CSS отчета","ic3.top_menu.configuration.js":"Javascript отчета","ic3.top_menu.configuration.constants":"Константы","ic3.top_menu.configuration.schema":"Выбор схемы","ic3.top_menu.info":"Информация","ic3.top_menu.info.report_code":"Код отчета","ic3.top_menu.info.report_html_embedded":"HTML код отчета (встраиваемый)","ic3.top_menu.info.event_usage":"Состояние событий","ic3.top_menu.info.events_info":"Доступные события","ic3.top_menu.info.report_info":"Информация об отчете","ic3.top_menu.admin":"Администрирование","ic3.top_menu.admin.reports_manager":"Управление Отчётами","ic3.top_menu.admin.edit_config_js":"Конфигурационный JS","ic3.top_menu.admin.edit_common_css":"Общий CSS","ic3.top_menu.admin.edit_common_js":"Общий JS","ic3.top_menu.admin.print":"Напечатать отчет","ic3.top_menu.admin.print_batch":"Напечатать отчеты","ic3.top_menu.admin.print_test":"Напечатать тестовую страницу","ic3.top_menu.admin.save_snapshot":"Сохранить снимок","ic3.top_menu.admin.clear_persistent_data":"Очистить локальное хранилище","ic3.top_menu.admin.clear_persistent_data.question":"Эта операция очистит локально сохраненноые настройки. Желаете продолжить?","ic3.top_menu.admin.refresh_report":"Обновить отчет","ic3.top_menu.admin.version":"Версия","ic3.top_controls.refresh":"Обновить отчет","ic3.top_controls.notifications":"Сообщения","ic3.top_controls.user.logout":"Выйти","ic3.top_controls.user.settings":"Настройки","ic3.top_controls.user.settings.system_locale":"Язык приложения","ic3.top_controls.user.settings.report_locale":"Язык отчета","ic3.left_menu.modify":"Модификация","ic3.left_menu.options":"Настройки","ic3.left_menu.actions":"Действия","ic3.left_menu.actions.filter_add_to_all":"Добавить фильтр ко всем","ic3.left_menu.actions.filter_remove_all":"Удалить фильтр из всех","ic3.left_menu.actions.duplicate":"Клонировать","ic3.left_menu.actions.copy":"Скопировать","ic3.left_menu.actions.paste":"Вставить","ic3.left_menu.actions.migrate":"Мигрировать","ic3.left_menu.actions.remove":"Удалить","ic3.left_menu.history":"История","ic3.left_menu.history.undo":"Отменить действие","ic3.left_menu.history.redo":"Повторить","ic3.left_menu.arrange":"Организация","ic3.left_menu.layer":"Макет","ic3.left_menu.layer.description":"Пранировка","ic3.left_menu.layer.send_back":"На задний план","ic3.left_menu.layer.bring_to_front":"На передний план","ic3.left_menu.position":"Позиция","ic3.left_menu.position.description":"Выравнивание","ic3.left_menu.position.align_left":"По левому краю","ic3.left_menu.position.align_center":"По центру","ic3.left_menu.position.align_right":"По правому краю","ic3.left_menu.position.align_top":"По верхнему краю","ic3.left_menu.position.align_middle":"По середине","ic3.left_menu.position.align_bottom":"по нижнему краю","ic3.left_menu.center":"Центр","ic3.left_menu.center.description":"Центровка","ic3.left_menu.center.center_horizontally":"Центровать горизонтально","ic3.left_menu.center.center_vertically":"Центровать вертикально","ic3.left_menu.center.distribute_horizontally":"Распределить горизонтально","ic3.left_menu.center.distribute_vertically":"Распределить вертикально","ic3.left_menu.widgets":"Виджеты","ic3.left_menu.sizing":"Размеры","ic3.left_menu.size":"Размер","ic3.left_menu.size.same_width":"Одинаковая ширина","ic3.left_menu.size.same_height":"Одинаковая высота","ic3.left_menu.magnet":"Магнетизм","ic3.left_menu.magnet.snap_to_grid":"Привязать к сетке","ic3.left_menu.mode":"Режим","ic3.left_menu.layout":"Макет","ic3.left_menu.layout.description":"Режим отображения","ic3.widget_data_options.suggestions":"Предложения","ic3.widget_data_options.tabs.wizard":"Мастер","ic3.widget_data_options.tabs.mdx":"MDX","ic3.widget_data_options.wizard.measures":"Измерения","ic3.widget_data_options.wizard.rows":"Строки","ic3.widget_data_options.wizard.columns":"Столбцы","ic3.widget_data_options.wizard.filter":"Фильтр","ic3.widget_data_options.wizard.drop_here":"Переместите сюда...","ic3.widget_data_options.wizard.non_empty":"Не пусто","ic3.widget_data_options.wizard.advanced.limiter":"Лимит","ic3.widget_data_options.wizard.advanced.limiter.type":"Тип лимита","ic3.widget_data_options.wizard.advanced.limiter.limit":"Лимит","ic3.widget_data_options.wizard.advanced.limiter.limit_measure":"Измерение","ic3.widget_data_options.wizard.advanced.limiter.top":"Верхний","ic3.widget_data_options.wizard.advanced.limiter.bottom":"Нижний","ic3.widget_data_options.wizard.advanced.limiter.top_percent":"Верхний процент","ic3.widget_data_options.wizard.advanced.limiter.bottom_percent":"Нижний процент","ic3.widget_data_options.wizard.advanced.order":"Сортировка","ic3.widget_data_options.wizard.advanced.order.direction":"Направление","ic3.widget_data_options.wizard.advanced.order.ascendant":"Восходящее","ic3.widget_data_options.wizard.advanced.order.ascendant_keep_hierarchy":"Восходящее по иерархии","ic3.widget_data_options.wizard.advanced.order.descendant":"Нисходящее","ic3.widget_data_options.wizard.advanced.order.descendant_keep_hierarchy":"Нисходящее по иерархии","ic3.widget_data_options.wizard.advanced.non_empty":"Не путое","ic3.widget_data_options.wizard.advanced.hierarchize":"Иерархизировать","ic3.widget_data_options.wizard.advanced.mdx_definition":"MDX определение","ic3.widget_data_options.wizard.advanced.measure_name":"Имя измерения","ic3.widget_data_options.wizard.advanced.filter_as_where":"Как where ограничитель","ic3.widget_data_options.mdx.query_editor.title":"Редактор MDX-запроса","ic3.widget_data_options.mdx.query_changed":"Запрос был изменен мастером","ic3.widget_data_options.mdx.query_reload":"Обновить?","ic3.widget_data_options.suggestions.search":"Поиск","ic3.widget_data_options.suggestions.mdx_definition":"Определение MDX","ic3.widget_data_options.item_advanced.type.event":"Событие","ic3.widget_data_options.item_advanced.type.report_id":"ID отчета","ic3.widget_data_options.item_advanced.type.report_name":"Имя отчета","ic3.widget_data_options.item_advanced.type.javascript":"Javascript","ic3.expression_editor.title":"Выражение","ic3.event.fire_on_refresh.name":"Режим срабатывания запросов","ic3.event.fire_on_refresh.detail":"По-умолчанию MDX-запрос выполняется как можно скорее после его изменения (и доступны все события/параметры).","ic3.event.ic3_button_click.name":"on Button Click","ic3.event.ic3_button_click.detail":"Название события, генерируемого для действий, в которых не указано имя события. Внутреннее : ic3buttonClick.","ic3.event.ic3_cell_click.name":"on Cell Click","ic3.event.ic3_cell_click.detail":"Название события, генерируемого при нажатии на ячейку; событие содержит информацию о ячейке. Внутреннее : ic3cellClick.","ic3.event.ic3_column_click.name":"on Column Click","ic3.event.ic3_column_click.detail":"Название события, генерируемого при нажатии на заголовок столбца; событие содержит информацию о заголовке столбца. Внутреннее : ic3columnClick.","ic3.event.ic3_input_change.name":"on Input Change","ic3.event.ic3_input_change.detail":"Название события, генерируемого при изменении содержимого поля ввода; событие содержит значение поля. Внутреннее : ic3InputChange.","ic3.event.ic3_legend_click.name":"on Legend Click","ic3.event.ic3_legend_click.detail":"Название события, генерируемого при клике на легенду; событие содержит информацию о легенде. Внутреннее : ic3legendClick.","ic3.event.ic3_mdx_query_change.name":"on MDX Query Change","ic3.event.ic3_mdx_query_change.detail":"Название события, генерируемого при изменении MDX-запроса; событие содержит MDX-запрос. Запрос может быть еще не готов для выполнения. Внутреннее : ic3mdxQueryChange.","ic3.event.ic3_mdx_query_execution.name":"on MDX Query Execution","ic3.event.ic3_mdx_query_execution.detail":"Название события, генерируемого при готовности MDX-запроса к выполнению. Событие содержит MDX-запрос. Внутреннее : ic3mdxQueryExecution.","ic3.event.ic3_mdx_query_generation.name":"on MDX Query Generation","ic3.event.ic3_mdx_query_generation.detail":"Название события, генерируемого при готовности MDX-запроса к созданию. Событие содержит MDX-запрос. Внутреннее : ic3mdxQueryGeneration.","ic3.event.ic3_new_label.name":"on New Label","ic3.event.ic3_new_label.detail":"Название события, генерируемого при изменении метки ползунка. Событие содержит или единственное значение, или граничные значения ползунка. Внутреннее : ic3newLabel.","ic3.event.ic3_query_history_size_change.name":"on Query History Size Change","ic3.event.ic3_query_history_size_change.detail":"Название события, генерируемого при изменении истории запроса (т.е. серии разворачиваний); событие содержит количество запросов в истории. Внутреннее : ic3queryHistorySizeChange.","ic3.event.ic3_row_click.name":"on Row Click","ic3.event.ic3_row_click.detail":"Название события, генерируемого при нажатии на заголовок строки; событие содержит информацию о заголовке строки. Внутреннее : ic3rowClick.","ic3.event.ic3_selection.name":"on Selection","ic3.event.ic3_selection.detail":"Название события, генерируемого при выделении элементов. График/таблица могут вести себя как фильтры и содержать выделение. Внутреннее : ic3selection.","ic3.event.ic3_navigate.name":"on Navigate","ic3.event.ic3_navigate.detail":"Название события, которое генерируется при разворачивании значения на графике. Внутреннее : ic3navigate.","ic3.event.ic3_do_add_selection.name":"do Add Selection","ic3.event.ic3_do_add_selection.detail":"Название события, которое устанавливает выделение, указанное в событии. Внутреннее : ic3doAddSelection.","ic3.event.ic3_do_open_report.name":"do Open Report","ic3.event.ic3_do_open_report.detail":"Название события, которое открывает отчет, указанный этим виджетом. Внутреннее : ic3doOpenReport.","ic3.event.ic3_do_resize_widget.name":"do Resize Widget","ic3.event.ic3_do_resize_widget.detail":"Название события, которое изменяет размер виджета. Значением должно быть два числа (ширина и высота), разделенных запятой. Внутреннее : ic3doResizeWidget.","ic3.event.ic3_do_row_click.name":"do Click Row","ic3.event.ic3_do_row_click.detail":"Название события, которое производит нажатие на строку в графике/таблице. Это должно быть событие, генерируемое по нажатию на строку. Учтите, что связанные графики/таблицы должны содержать соответствующую ось строк. Внутреннее : ic3doRowClick.","ic3.event.ic3_do_select_all.name":"do Select All","ic3.event.ic3_do_select_all.detail":"Название события, которое выделяет все элементы виджета. Внутреннее : ic3doSelectAll","ic3.event.ic3_do_select_none.name":"do Select None","ic3.event.ic3_do_select_none.detail":"Название события, которое убирает выделение всех элементов виджета. Внутреннее : ic3doSelectNone","ic3.event.ic3_do_set_mdx_content.name":"do Set MDX Query.","ic3.event.ic3_do_set_mdx_content.detail":"Название события, которое устанавливает MDX-запрос в значение, переданное в событии. Внутреннее : ic3doSetMdxContent.","ic3.event.ic3_do_set_selection.name":"do Set Selection","ic3.event.ic3_do_set_selection.detail":"Название события, которое устанавливает выделение фильтра в указанное в событии. Внутреннее : ic3doSetSelection. ","ic3.event.ic3_export_am_chart.name":"do Export Chart","ic3.event.ic3_export_am_chart.detail":"Название события, которое выполняет экспорт графика. Принимает 'png', 'jpg' или 'svg' в качестве значения для экспорта в соответствующем формате. Внутреннее : ic3exportAmChart.","ic3.event.ic3_set_chart_type.name":"do Set Chart Type","ic3.event.ic3_set_chart_type.detail":"Динамически устанавливает тип графика","ic3.event.ic3_export_to_excel.name":"do Export To Excel","ic3.event.ic3_export_to_excel.detail":"Название события, которое экспортирует график/таблицу в формат Excel. Внутреннее : ic3exportToExcel.","ic3.event.ic3_filter_to_default.name":"do Reset To Initial Selection","ic3.event.ic3_filter_to_default.detail":"Название события, которое сбрасывает выделение фильтра. Внутреннее : ic3filterToDefault.","ic3.event.ic3_fire_mdx_query_execution.name":"do Execute MDX Query","ic3.event.ic3_fire_mdx_query_execution.detail":"Название события, которое вызывает 'on MDX Query Execution'. Внутреннее : ic3fireMdxQueryExecution.","ic3.event.ic3_fire_mdx_query_generation.name":"do Fire MDX Query Generation","ic3.event.ic3_fire_mdx_query_generation.detail":"Название события, которое вызывает 'on MDX Query Generation'. Внутреннее : ic3fireMdxQueryGeneration.","ic3.event.ic3_toggle_mdx_query_generation_mode.name":"do Toggle MDX Query Generation Mode","ic3.event.ic3_toggle_mdx_query_generation_mode.detail":"Название события, которое переключает режим генерации MDX запроса (отложенный или мгновенный). Внутреннее : ic3toggleMdxQueryGenerationMode.","ic3.event.ic3_switch_columns_rows.name":"do Switch Columns/Rows","ic3.event.ic3_switch_columns_rows.detail":"Название события, которое переключает содержимое строк/столбцов. Внутреннее : ic3switchColumnsRows.","ic3.event.ic3_query_back.name":"do Previous Query","ic3.event.ic3_query_back.detail":"Название события, которое выполняет предыдущий MDX-запрос графика/таблицы. Внутреннее : ic3queryBack.","ic3.event.ic3_query_refresh.name":"do Refresh Query","ic3.event.ic3_query_refresh.detail":"Название события, которое повторно исполняет MDX-запрос графика/таблицы. Внутреннее : ic3queryRefresh.","ic3.select_schema_dialog.title":"Выберите схему/куб","ic3.select_schema_dialog.schema":"Схема","ic3.select_schema_dialog.cube":"Куб","ic3.select_schema_dialog.error.invalidJSON":"Неправильные данные в ответе от сервера ({0})","ic3.logout_dialog.title":"Выйти","ic3.logout_dialog.message":"Вы действительно желаете выйти?","ic3.print_dialog.title":"Печать отчета","ic3.print_dialog.title.test_page":"Печать тестовой страницы","ic3.print_dialog.buttons.print":"Печать","ic3.print_dialog.buttons.open_in_browser":"Предпросмотр в браузере","ic3.print_dialog.dpi":"DPI","ic3.print_dialog.fit_to_page":"По размеру страницы","ic3.print_dialog.font_resizing":"Масштаб шрифта","ic3.print_dialog.keep_aspect_ratio":"Сохранять пропорции","ic3.print_dialog.orientation":"Ориентация","ic3.print_dialog.size":"Размер","ic3.print_dialog.timeout":"Тайм-аут","ic3.print_dialog.zoom":"Масштаб","ic3.print_dialog.unavailable":"Сервер печати недоступен. Пожалуйста обратитесь к вашему системному администратору.","ic3.report_modified.title":"Отчет {0}","ic3.report_modified.message":"Отчет был изменен, желаете сохранить?","ic3.migrate_widget_dialog.title":"Миграция","ic3.migrate_widget_dialog.migrate":"Миграция","ic3.report_info_dialog.title":"Информация об отчете","ic3.report_info_dialog.error.not_saved":"Невозможно сформировать информацию пока отчет не сохранен","ic3.report_info_dialog.info.name":"Имя","ic3.report_info_dialog.info.id":"ID","ic3.report_info_dialog.info.url":"Ссылка","ic3.report_info_dialog.info.report_name":"Имя отчета","ic3.report_info_dialog.info.report_id":"ID отчета","ic3.report_info_dialog.info.link_by":"Тип связывания","ic3.report_info_dialog.info.parameters":"Параметры","ic3.report_info_dialog.info.mode":"Режим","ic3.report_info_dialog.info.menu":"Меню","ic3.report_info_dialog.info.link":"Ссылка","ic3.report_info_dialog.copy_link":"Скопировать ссылку","ic3.report_info_dialog.open_link":"Открыть в новом окне","ic3.localization_editor.title":"Редактор локализации","ic3.localization_editor.key":"Ключ","ic3.localization_editor.value":"Значение","ic3.localization_editor.actions":"Действия","ic3.localization_editor.actions.edit":"Редактировать","ic3.localization_editor.actions.apply":"Применить","ic3.localization_editor.actions.add":"Добавить","ic3.localization_editor.actions.create":"Создать","ic3.localization_editor.actions.delete":"Удалить","ic3.localization_editor.locales_list":"Выбранная локаль","ic3.localization_editor.language_code":"Код языка","ic3.main_report.leave_check_message":"Отчет был изменен","ic3.main_report.new_report.title":"Новый отчет","ic3.main_report.event_usage.title":"Состояние событий","ic3.main_report.available_events.title":"Доступные события","ic3.main_report.settings.title":"Настройки отчёта","ic3.main_report.server_version":"icCube Server : {0}","ic3.main_report.reporting_version":"icCube Reporting : {0}","ic3.main_report.version.title":"Версия","ic3.main_report.error.init":"Application (blank) initialization error - пожалуйста свяжитесь с техподдержкой ({0})","ic3.main_report.error.import":"Неправильный формат отчета: {0}","ic3.main_report.warning.ids":"Обнаружены дубликаты идентификаторов #{0}","ic3.widget_options.category.general":"Основные","ic3.widget_options.category.data_render":"Отображение","ic3.widget_options.category.user_menu":"Меню пользователя","ic3.widget_options.category.data":"Данные","ic3.widget_options.category.events":"События","ic3.widget_options.category.navigation":"Навигация","ic3.widget_options.advanced":"Тонкая настройка","ic3.widget_options.save":"Сохранить","ic3.widget_options.run":"Выполнить","ic3.widget_options.try":"Применить","ic3.widget_options.stopLoading":"Прервать загрузку","ic3.widget_adapter.error.olap_select_max_cell_count":"Ошибка запроса. Максимально количество ячеек ({0}) достигнуто.","ic3.widget_adapter.error.render_failed":"Ошибка отрисовки виджета: {0}","ic3.widget.user_menu.options.enabled":"Пользовательское меню","ic3.widget.user_menu.export":"Показывать кнопку Экспорт","ic3.widget.user_menu.options.back_forward":"Показывать кнопку Назад","ic3.widget.user_menu.options.reset":"Показывать кнопку Сброс","ic3.widget.user_menu.chart_type":"Показывать кнопку Тип графика","ic3.widget.user_menu.reset":"Показывать кнопку Сброс настроек","ic3.widget.user_menu.palette":"Палитра","ic3.fixed_layout.name":"Фиксированный макет","ic3.fixed_layout.render_failed":"Ошибка отрисовки виджета: {0} ({1})","ic3.fixed_layout.options.theme":"Тема","ic3.fixed_layout.options.locale":"Локализация","ic3.fixed_layout.options.css":"CSS","ic3.fixed_layout.options.snap_to_grid":"Привязать к сетке","ic3.fixed_layout.options.background":"Фон","ic3.fixed_layout.options.size":"Размер","ic3.fixed_layout.options.width":"Ширина (px)","ic3.fixed_layout.options.height":"Высота (px)","ic3.fixed_layout.options.ratio":"Коеффициент","ic3.fixed_layout.options.ratio.description":"Позволяет определить соотношение высоты и ширины. Игнорируется если оба параметра заданы.","ic3.fixed_layout.options.margin":"Поля","ic3.fixed_layout.options.margin.description":"Поля для автоматического рассчета размеров отчета","ic3.fixed_layout.options.margin_left":"Левое поле","ic3.fixed_layout.options.margin_right":"Правое поле","ic3.fixed_layout.options.margin_top":"Верхнее поле","ic3.fixed_layout.options.margin_bottom":"Нижнее поле","ic3.fixed_layout.options.resize_mode":"Модель изменения размера","ic3.fixed_layout.options.resize_mode.description":"Применятеся при изменении размеров области отображения","ic3.fixed_layout.options.fit_to_width":"Расширить в ширину","ic3.fixed_layout.options.min_width":"Минимальная ширина (px)","ic3.fixed_layout.options.max_width":"Максимальная ширина (px)","ic3.fixed_layout.options.fit_to_height":"Расширить в высоту","ic3.fixed_layout.options.min_height":"Минимальная высота (px)","ic3.fixed_layout.options.max_height":"Максимальная высота (px)","ic3.fixed_layout.options.font_zoom":"Шрифт (увеличение)","ic3.fixed_layout.options.horizontal_zoom":"Применить горизонтальное увеличение","ic3.fixed_layout.options.vertical_zoom":"Применить вертикальное увеличение","ic3.fixed_layout.options.auto_refresh":"Период автоматического обновления","ic3.fixed_layout.options.auto_refresh.description":"Автоматически обновляет данные в виджетах если они изменились на сервере.","ic3.fixed_layout.options.cell_max_count":"Предел ячеек MDX","ic3.fixed_layout.options.backup_enabled":"Резервные копии","ic3.fixed_layout.options.backup_enabled.description":"","ic3.fixed_layout.options.backup_interval":"Период резервного копирования","ic3.fixed_layout.options.backup_interval.description":"","ic3.fixed_layout_box.stop_loading":"Прервать загрузку","ic3.fixed_layout_box.options.header":"Заголовок","ic3.fixed_layout_box.options.header_height":"Высота заголовка","ic3.fixed_layout_box.options.theme":"Тема","ic3.fixed_layout_box.options.zoom":"Увеличение","ic3.fixed_layout_box.options.box_style":"Стиль","ic3.fixed_layout_box.options.waiting_event_placeholder":'Сообщение "Ожидение события"',"ic3.fixed_layout_box.options.behavior":"Поведение","ic3.fixed_layout_box.options.embedded_div":"Встраиваемый DIV","ic3.fixed_layout_box.options.resize_behavior":"Поведение изменения размеров","ic3.fixed_layout_box.options.exclude_from_print":"Не печатать","ic3.fixed_layout_box.options.position":"Расположение","ic3.fixed_layout_box.options.position.top":"Верх","ic3.fixed_layout_box.options.position.left":"Лево","ic3.fixed_layout_box.options.position.width":"Ширина","ic3.fixed_layout_box.options.position.height":"высота","ic3.fixed_layout_box.options.z_index":"Z-позиция","ic3.fixed_layout_box.placeholder.not_configured":"Не настроен","ic3.fixed_layout_box.placeholder.no_data":"Нет данных","ic3.fixed_layout_box.placeholder.error":"Ошибка","ic3.fixed_layout_box.placeholder.waiting_event":"Ожидание события","ic3.fixed_layout_box.placeholder.unavailable":"Недоступен","ic3.widget_group.tools":"Инструменты","ic3.widget_group.mdx":"MDX","ic3.widget_group.filters":"Фильтры","ic3.widget_group.templates":"Шаблоны","ic3.widget_group.charts":"Диаграммы","ic3.widget_group.google_charts":"Google диаграммы","ic3.widget_group.google_maps":"Google карты","ic3.filters_widgets.top_menu":"Фильтры","ic3.widget.date_picker.name":"Календарь","ic3.widget.date_picker.options.is_range":"Диапазон","ic3.widget.date_picker.options.separator":"Разделитель","ic3.widget.date_picker.options.placeholder":"Заполнитель","ic3.widget.date_picker.options.from_placeholder":'Заполнитель "От"',"ic3.widget.date_picker.options.to_placeholder":'Заполнитель "До"',"ic3.widget.date_picker.options.renderer":"Движок","ic3.widget.date_picker.options.date_format":"Формат даты","ic3.widget.date_picker.options.fire_on_blur":"Событие при фокусе","ic3.widget.select_control.name":"MDX Фильтр","ic3.widget.select_control.type.multi_select":"Множественный выбор","ic3.widget.select_control.type.buttons_list":"Список кнопок","ic3.widget.select_control.type.horizontal_buttons_list":"Горизонтальный спосок кнопок","ic3.widget.select_control.type.drop_down":"Выпадающий список","ic3.widget.select_control.type.tree":"Дерево","ic3.widget.select_control.type.autocomplete":"Автодоплнение","ic3.widget.select_control.type.slider":"Слайдер","ic3.widget.select_control.type.context_menu":"Контекстное меню","ic3.widget.select_control.options.text_color":"Цвет текста","ic3.widget.select_control.options.text_background":"Цвет фона","ic3.widget.select_control.options.selected_text_color":"Цвет текста выбранного элемента","ic3.widget.select_control.options.selected_text_background_color":"Цвет фона выбранного элемента","ic3.widget.select_control.options.empty_member_text_color":"Цвет текста элемента без содержимого","ic3.widget.select_control.options.type":"Тип","ic3.widget.select_control.options.mode":"Режим","ic3.widget.select_control.options.inverse_selection":"Инверсный выбор","ic3.widget.select_control.options.range":"Диапазон","ic3.widget.select_control.options.show_labels":"Показывать надписи","ic3.widget.select_control.options.orientation":"Ориентация","ic3.widget.select_control.options.apply_instantly":"Применять сразу","ic3.widget.select_control.options.collapsible":"Сворачиваемый","ic3.widget.select_control.options.empty_selection_allowed":"Пустой выбор","ic3.widget.select_control.options.fit_to_container":"Выровнять по контейнеру","ic3.widget.select_control.options.empty_message":"Сообщение об отсутствии данных","ic3.widget.select_control.options.more_message":"Сообщение о подгрузке данных","ic3.widget.select_control.options.suggestion_length":"Количество предположений","ic3.widget.select_control.options.add_hierarchy_default":"Добавить иерархию по умолчанию","ic3.widget.select_control.options.use_default_if_no_selection":"Использовать иерархию по умолчанию если не выбрано","ic3.widget.select_control.options.use_all_if_all_selected":"Использовать родительскую иерархию если выбрано все","ic3.widget.select_control.options.advanced_styling":"Расширенная настройка стилей","ic3.widget.hierarchy_select.name":"Мультифильтр","ic3.action_widgets.top_menu":"Элементы","ic3.widget.action_select_control.name":"Управляющие элементы","ic3.widget.action_select_control.type.buttons_list":"Список кнопок","ic3.widget.action_select_control.type.horizontal_buttons_list":"Горизонтальный спосок кнопок","ic3.widget.action_select_control.type.drop_down":"Выпадающий список","ic3.widget.action_select_control.type.context_menu":"Контекстное меню","ic3.widget.action_select_control.options.type":"Тип","ic3.widget.action_select_control.options.behavior":"Поведение","ic3.widget.action_select_control.options.fit_to_container":"Выровнять по контейнеру","ic3.widget.action_select_control.options.empty_message":"Сообщение об отсутствии данных","ic3.widget.action_select_control.options.trigger":"Триггер","ic3.widget.input.name":"Элемент ввода","ic3.text_widgets.top_menu":"Текст","ic3.widget.text_html.name":"Текст/HTML","ic3.report_integration_widgets.top_menu":"Интеграция отчетов","ic3.widget.report_launcher.name":"Модуль открытия отчета","ic3.widget.embedded_report.name":"Встроенный отчет","ic3.mdx_support_widgets.top_menu":"MDX","ic3.widget.mdx_query_editor.name":"MDX редактор","ic3.widget.mdx_query_builder.name":"MDX конфигуратор","ic3.table_widgets.top_menu":"Таблицы","ic3.table_widgets.sub_menu.widget_templates":"Пользов. шаблоны","ic3.widget.generic_table.name":"Таблица","ic3.widget.widget_template.top_menu":"Шаблоны виджетов","ic3.widget.widget_template.sub_menu":"icCube Шаблоны","ic3.widget.widget_template.name":"Шаблон виджета","ic3.widget.widget_template.options.preset":"Шаблоны","ic3.widget.widget_template.options.preset.basic":"Базовые","ic3.widget.widget_template.options.preset.shared":"Серверные","ic3.widget.widget_template.options.preset.default":"Пустой","ic3.widget.widget_template.options.preset.progress_bar":"Столбчатая диаграмма","ic3.widget.widget_template.options.preset.d3_bubble_chart":"Пузырьковая D3 диаграмма","ic3.widget.widget_template.options.preset.d3_sunburst_chart":"Лучевая D3 диаграмма","ic3.widget.widget_template.options.preset.d3_cloud_chart":"Облачная D3 диаграмма","ic3.widget.widget_template.options.preset.svg_map":"Пример SVG Карты","ic3.widget.widget_template.options.reference_category":"Настройки","ic3.widget.widget_template.options.on_data_received":"При получении данных","ic3.widget.widget_template.options.after_render":"После отображения","ic3.widget.widget_template.options.initial_html":"HTML перед получением данных","ic3.widget.widget_template.options.html":"HTML после получения данных","ic3.widget.widget_template.options.property":"Настройка","ic3.widget.widget_template.options.properties":"Настройки","ic3.widget.widget_template.options.properties.name":"Имя","ic3.widget.widget_template.options.properties.type":"Тип","ic3.widget.widget_template.options.properties.value_ref":"Ссылка на занчение в шаблоне","ic3.widget.widget_template.options.properties.default_value":"Значение по умолчанию","ic3.widget.widget_template.options.properties.detailed_info":"Расширенная информация","ic3.widget.widget_template.options.options":"Опции","ic3.widget.widget_template.options.delete_template.title":"Удалить шаблон","ic3.widget.widget_template.options.delete_template.message":"Это действие удалит шаблон с сервера. Вы уверены?","ic3.widget.widget_template.options.save_template.title":"Сохранить шаблон","ic3.widget.widget_template.options.save_template.prompt":"Имя шаблона","ic3.widget.widget_template.options.overwrite.title":"Перезаписать шаблон","ic3.widget.widget_template.options.overwrite.message":"Вы хотите перезаписать существующий шаблон?","ic3.charts_widgets.top_menu":"Диаграммы","ic3.charts_widgets.sub_menu":"Другое","ic3.widget.chart.type.serial":"Линейная","ic3.widget.chart.type.pie":"Круговая","ic3.widget.chart.type.xy":"XY","ic3.widget.chart.type.ohlc":"OHLC","ic3.widget.chart.type.funnel":"Вороночная","ic3.widget.chart.type.radar":"Радар","ic3.widget.chart.type.gantt":"Гантта","ic3.widget.chart.type.waterfall":"Водопада","ic3.widget.chart.type.gauge":"Измерительная","ic3.widget.chart.type.combo":"Смешаный","ic3.widget.chart.selection.type.none":"Отключено","ic3.widget.chart.selection.type.cell":"Ячейка","ic3.widget.chart.selection.type.row":"Строка","ic3.widget.chart.selection.type.column":"Столбец","ic3.widget.chart.selection.mode.single":"Одиночное выделение","ic3.widget.chart.selection.mode.multi":"Множественное выделение","ic3.google_maps.top_menu":"Google карты","ic3.google_maps.sub_menu":"География","ic3.widget.google_map.name":"Google карта","ic3.widget.google_regions_map.name":"Google регионы","ic3.google_viz.top_menu":"Google Viz","ic3.google_viz.sub_menu":"Google Viz","ic3.widget.google_viz.type.generic":"Общая","ic3.widget.google_viz.type.table":"Таблшица","ic3.widget.google_viz.type.combo":"Комбинированная","ic3.widget.google_viz.type.sankey":"Sankey","ic3.widget.google_viz.type.calendar":"Календарь","ic3.widget.google_viz.type.geo":"Google Geo Chart","ic3.widget.google_viz.options.title":"Настройки Google Chart"}}
})(ic3||(ic3={}));var ic3;(function(a){a.ReportLocalizationRu={locale:["ru","ru_RU","ru_UA","ru-RU","ru-UA"],messages:{"ic3.widget.box_menu.back":"Назад","ic3.widget.box_menu.drilldown_stategy":"Стратегия разворачивания","ic3.widget.box_menu.drilldown_stategy.mdx":"Выражение MDX","ic3.widget.box_menu.drilldown_stategy.filter_by":"Фильтровать по","ic3.widget.box_menu.drilldown_stategy.user_select_mdx":"Выражение MDX","ic3.widget.box_menu.export":"Экспорт","ic3.widget.box_menu.filter_info":"Рендерер информации о фильтре","ic3.widget.box_menu.max_axis_member_count":"Максимальное количество элементов оси","ic3.widget.box_menu.measures":"Измерения","ic3.widget.box_menu.none":"Отсутствует","ic3.widget.box_menu.other":"Другое","ic3.widget.box_menu.show_data":"Показать данные","ic3.widget.box_menu.show_widget":"Показать виджет","ic3.widget.box_menu.reset_drilldown_stategy":"Сброс стратегии разворачивания","ic3.widget.box_menu.reset_query":"Сброс осей/фильтров","ic3.widget.box_menu.search_suffix.hierarchy":"иерарх.","ic3.widget.box_menu.search_suffix.level":"уров.","ic3.widget.box_menu.export.png":"В PNG","ic3.widget.box_menu.export.jpg":"В JPEG","ic3.widget.box_menu.export.svg":"В SVG","ic3.widget.box_menu.export.xlsx":"В Excel","ic3.widget.hierarchy_menu.head":"Заголовок","ic3.widget.hierarchy_menu.top":"Верх","ic3.widget.hierarchy_menu.bottom":"Низ","ic3.widget.hierarchy_menu.members":"Элементы","ic3.widget.hierarchy_selector.filter":"Фильтр...","ic3.gizmo.cell_calculator.column_percentage":"Столбец процентов","ic3.gizmo.cell_calculator.default":"По-умолчанию","ic3.gizmo.cell_calculator.first_col_percentage":"Проценты сначала","ic3.gizmo.cell_calculator.javascript":"Javascript","ic3.gizmo.cell_calculator.rank_largest":"Высший ранг","ic3.gizmo.cell_calculator.rank_smallest":"Низший ранг","ic3.gizmo.cell_calculator.row_array":"Строки как массив","ic3.gizmo.cell_calculator.row_percentage":"Строка процентов","ic3.gizmo.cell_calculator.total_percentage":"Общий процент","ic3.gizmo.cell_renderer.arrow":"Стрелка","ic3.gizmo.cell_renderer.simple_bar_data":"Столбец %","ic3.gizmo.cell_renderer.bar_data":"Столбец","ic3.gizmo.cell_renderer.default":"По-умолчанию","ic3.gizmo.cell_renderer.format":"Формат","ic3.gizmo.cell_renderer.javascript":"Javascript","ic3.gizmo.cell_renderer.micro_chart":"Микро-график","ic3.gizmo.cell_renderer.percent":"Процент","ic3.gizmo.cell_renderer.yes_no":"Да/Нет","ic3.gizmo.validator.javascript":"Javascript","ic3.gizmo.validator.number":"Валидатор чисел","ic3.gizmo.drill_down_strategy.children":"Потомки","ic3.gizmo.drill_down_strategy.custom":"Вручную","ic3.gizmo.drill_down_strategy.javascript":"Javascript","ic3.gizmo.drill_down_strategy.top_count":"TopCount","ic3.gizmo.drill_down_strategy.mdx_expression":"MDX","ic3.gizmo.drill_down_strategy.user_select":"Пользовательский","ic3.gizmo.table_target_column.adhoc":"Специальное выражение","ic3.gizmo.table_target_column.adhoc_tooltip":"Пользовательское JS-выражение, основанное на индексе столбца. Первый столбец с данными по индексу 1, последний заголовок оканчивается 0.","ic3.gizmo.table_target_column.default":"По-умолчанию","ic3.gizmo.table_target_column.header":"Заголовок","ic3.gizmo.table_target_column.even":"Четные столбцы","ic3.gizmo.table_target_column.items":"Индексы","ic3.gizmo.table_target_column.items_tooltip":"Один или несколько индексов столбцов, разделенные запятыми. Первый столбец с данными по индексу 1, последний заголовок оканчивается 0.","ic3.gizmo.table_target_column.list":"Список столбцов","ic3.gizmo.table_target_column.odd":"Нечетные столбцы","ic3.gizmo.table_target_column.predicate":"Утверждение","ic3.gizmo.table_target_column.predicate_tooltip":"Булевое выражение, возвращающее true, если опции столбца применяются к индексу столбца, переданного параметром. Первый столбец с данными по индексу 1, последний заголовок оканчивается 0.","ic3.gizmo.table_target_column.target":"Столбцы назначения","ic3.gizmo.table_target_column.target_tooltip":"Столбцы, к которым применяются эти опции.","ic3.gizmo.filter_info_renderer.custom":"Вручную","ic3.gizmo.filter_info_renderer.default":"По-умолчанию","ic3.gizmo.filter_info_renderer.separator":"Разделитель","widget.no_data_message":"Нет данных","widget.html.default_text":"Отредактируйте текст в настройках виджета","widget.html_template.error.column_label_not_found":"Колонка'{0}' не найдена в ответе от сервера","widget.pivot_table.reload_children":"Перезагрузить","widget.multi_select.apply_selection":"Применить"}}
})(ic3||(ic3={}));var ic3;(function(a){var b;(function(g){var d=Object.prototype.propertyIsEnumerable;function h(i){if(i==null){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(i)}function f(j){var i=Object.getOwnPropertyNames(j);
if(Object.getOwnPropertySymbols){i=i.concat(Object.getOwnPropertySymbols(j))}return i.filter(function(k){return d.call(j,k)})}var c=Object.assign||function(n,m){var p;var l;var o=h(n);for(var k=1;k<arguments.length;k++){p=arguments[k];l=f(Object(p));for(var j=0;
j<l.length;j++){o[l[j]]=p[l[j]]}}return o};var e=function(i){return i};g.themeable=function(i){return function(j){var m=[];for(var l=1;l<arguments.length;l++){m[l-1]=arguments[l]}var k=m.map(function(n){return i[n]}).filter(e);return typeof k[0]==="string"?{key:j,className:k.join(" ")}:{key:j,className:"",style:c.apply(void 0,[{}].concat(k))}
}}})(b=a.react||(a.react={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(d){var c=(function(){function e(){}e.prototype.setData=function(f){this.data=f;this.multipleSections=(typeof this.data==="object")};e.prototype.nextNonEmptySectionIndex=function(f){f=f===null?0:f+1;
while(f<this.data.length&&this.data[f]===0){f++}return f===this.data.length?null:f};e.prototype.prevNonEmptySectionIndex=function(f){f=f===null?this.data.length-1:f-1;while(f>=0&&this.data[f]===0){f--}return f===-1?null:f};e.prototype.next=function(f){var h=f[0],g=f[1];
if(this.multipleSections){if(g===null||g===this.data[h]-1){h=this.nextNonEmptySectionIndex(h);if(h===null){return[null,null]}return[h,0]}return[h,g+1]}if(this.data===0||g===this.data-1){return[null,null]}if(g===null){return[null,0]}return[null,g+1]};e.prototype.prev=function(f){var h=f[0],g=f[1];
if(this.multipleSections){if(g===null||g===0){h=this.prevNonEmptySectionIndex(h);if(h===null){return[null,null]}return[h,this.data[h]-1]}return[h,g-1]}if(this.data===0||g===0){return[null,null]}if(g===null){return[null,this.data-1]}return[null,g-1]};e.prototype.isLast=function(f){return this.next(f)[1]===null
};return e}());d.SectionIterator=c})(b=a.react||(a.react={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var ic3;(function(a){var b;(function(e){(function(f){f[f.EVENT=0]="EVENT"
})(e.AutosuggestType||(e.AutosuggestType={}));var c=e.AutosuggestType;var d=(function(g){__extends(f,g);function f(h){g.call(this);this.lastSuggestionsInputValue=null;this.justUnfocused=false;this.justClickedOnSuggestion=false;this.justPressedUpDown=false;this.justPressedEsc=false;
this.sectionIterator=new e.SectionIterator();this.cache={};this.state={value:h.value||h.defaultValue||"",suggestions:null,focusedSectionIndex:null,focusedSuggestionIndex:null,valueBeforeUpDown:null};this.isControlledComponent=(typeof h.value!=="undefined");
this.suggestionsFn=_.debounce(h.suggestions,100);this.onChange=h.inputAttributes.onChange||(function(){});this.onFocus=h.inputAttributes.onFocus||(function(){});this.onBlur=h.inputAttributes.onBlur||(function(){});this.lastSuggestionsInputValue=null;this.justUnfocused=false;
this.justClickedOnSuggestion=false;this.justPressedUpDown=false;this.justPressedEsc=false;this.onInputClick=this.onInputClick.bind(this);this.onInputChange=this.onInputChange.bind(this);this.onInputKeyDown=this.onInputKeyDown.bind(this);this.onInputKeyUp=this.onInputKeyUp.bind(this);
this.onInputFocus=this.onInputFocus.bind(this);this.onInputBlur=this.onInputBlur.bind(this)}f.prototype.componentWillReceiveProps=function(i){if(this.isControlledComponent){var h=this.refs.input?this.refs.input.value:this.props.value;if(i.value!==h&&!this.justClickedOnSuggestion&&!this.justPressedUpDown&&!this.justPressedEsc){this.handleValueChange(i.value)
}}};f.prototype.getSuggestionId=function(h,i){if(i===null){return null}return"react-autosuggest-"+this.props.id+"-"+this.getSuggestionRef(h,i)};f.prototype.getSuggestionRef=function(h,i){return"suggestion-"+(h===null?"":h)+"-"+i};f.prototype.resetSectionIterator=function(h){if(this.isMultipleSections(h)){this.sectionIterator.setData(h.map(function(i){return i.suggestions.length
}))}else{this.sectionIterator.setData(h===null?[]:h.length)}};f.prototype.isMultipleSections=function(h){return h!==null&&h.length>0&&typeof h[0].suggestions!=="undefined"};f.prototype.setSuggestionsState=function(h){this.resetSectionIterator(h);this.setState({suggestions:h,focusedSectionIndex:null,focusedSuggestionIndex:null,valueBeforeUpDown:null})
};f.prototype.suggestionsExist=function(h){if(this.isMultipleSections(h)){return h.some(function(i){return i.suggestions.length>0})}return h!==null&&h.length>0};f.prototype.showSuggestions=function(h){var j=this;if(h===void 0){h=""}var i=h.toString().toLowerCase();
this.lastSuggestionsInputValue=h;if(!this.props.showWhen(h)){this.setSuggestionsState(null)}else{if(this.props.cache&&this.cache[i]){this.setSuggestionsState(this.cache[i])}else{this.suggestionsFn(h,function(l,k){if(j.lastSuggestionsInputValue!==h){return}if(l){throw l
}else{if(!j.suggestionsExist(k)){k=null}if(j.props.cache){j.cache[i]=k}j.setSuggestionsState(k)}})}}};f.prototype.suggestionIsFocused=function(){return this.state.focusedSuggestionIndex!==null};f.prototype.getSection=function(i){var h=this.state.suggestions;
return this.isMultipleSections(this.state.suggestions)&&h[i]};f.prototype.getSuggestion=function(i,j){var h=this.state;if(this.isMultipleSections(this.state.suggestions)){h=h.suggestions[i]}return h&&h.suggestions[j]};f.prototype.getFocusedSuggestion=function(){if(this.suggestionIsFocused()){return this.getSuggestion(this.state.focusedSectionIndex,this.state.focusedSuggestionIndex)
}return null};f.prototype.getSuggestionValue=function(n,m){var o=this,s=o.props.suggestionValue,l=o.state,i=l.valueBeforeUpDown,q=l.value,r=l.selection;var j=this.getSuggestion(n,m);var p=this.getSection(n);var k=_.includes([c.EVENT],p.type);var h=k?r.start:0;
if(i===null){i=q}if(_.isObject(j)){if(s){q=s(j)}else{throw new Error("When <suggestion> is an object, you must implement the suggestionValue() function to specify how to set input's value when suggestion selected.")}}else{if(j){q=j.toString()}}return{start:h,end:j?h+q.length:h,value:k?i.substring(0,r.start)+q+i.substring(r.end):q,respectSelection:k}
};f.prototype.onSuggestionUnfocused=function(){var h=this.getFocusedSuggestion();if(h!==null&&!this.justUnfocused){this.props.onSuggestionUnfocused(h);this.justUnfocused=true}};f.prototype.onSuggestionFocused=function(i,j){this.onSuggestionUnfocused();var h=this.getSuggestion(i,j);
this.props.onSuggestionFocused(h);this.justUnfocused=false};f.prototype.scrollToElement=function(h,i,j){if(j==="bottom"){var k=i.offsetTop+i.offsetHeight-h.scrollTop-h.offsetHeight;if(k>0){h.scrollTop+=k}}else{var k=h.scrollTop-i.offsetTop;if(k>0){h.scrollTop-=k
}}};f.prototype.scrollToSuggestion=function(m,l,n){var k=(m==="down"?"bottom":"top");if(n===null){if(m==="down"){k="top";j=this.sectionIterator.next([null,null]),l=j[0],n=j[1]}return}else{if(this.sectionIterator.isLast([l,n])&&m==="up"){k="bottom"}}var h=this.refs.suggestions;
var o=this.getSuggestionRef(l,n);var i=this.refs[o];this.scrollToElement(h,i,k);var j};f.prototype.focusOnSuggestionUsingKeyboard=function(k,n){var m=this;var j=n[0],l=n[1];var h=this.getSuggestionValue(j,l);var i={focusedSectionIndex:j,focusedSuggestionIndex:l,value:l===null?this.state.valueBeforeUpDown:h.value};
this.justPressedUpDown=true;if(this.state.valueBeforeUpDown===null){i.valueBeforeUpDown=this.state.value}l===null?this.onSuggestionUnfocused():this.onSuggestionFocused(j,l);if(this.props.scrollBar){this.scrollToSuggestion(k,j,l)}if(i.value!==this.state.value){this.onChange(i.value)
}this.setState(i,_.debounce(function(){if(h.respectSelection){m.setSelection(h.start,h.end)}}));setTimeout(function(){return m.justPressedUpDown=false})};f.prototype.onSuggestionSelected=function(h){var i=this.getFocusedSuggestion();this.props.onSuggestionUnfocused(i);
this.props.onSuggestionSelected(i,h)};f.prototype.onInputChange=function(h){var i=h.target.value;this.onSuggestionUnfocused();this.handleValueChange(i);this.showSuggestions(i)};f.prototype.handleValueChange=function(h){if(h!==this.state.value){this.onChange(h);
this.setState({value:h})}};f.prototype.getSelection=function(){var o=0,j=0;var l=ReactDOM.findDOMNode(this.refs.input);if(l.selectionStart&&l.selectionEnd){o=l.selectionStart;j=l.selectionEnd}else{if(document.selection){var k=document.selection.createRange();
if(k&&k.parentElement()===l){var i=void 0,m=void 0,h=l.value.length;var n=l.value.replace(/\r\n/g,"\n");i=l.createTextRange();i.moveToBookmark(k.getBookmark());m=l.createTextRange();m.collapse(false);if(i.compareEndPoints("StartToEnd",m)>-1){o=j=h}else{o=-i.moveStart("character",-h);
o+=n.slice(0,o).split("\n").length-1;if(i.compareEndPoints("EndToEnd",m)>-1){j=h}else{j=-i.moveEnd("character",-h);j+=n.slice(0,j).split("\n").length-1}}}}}return{start:o,end:j}};f.prototype.setSelection=function(l,h){var j=ReactDOM.findDOMNode(this.refs.input);
j.focus();if(j.setSelectionRange){j.setSelectionRange(l,h)}else{if(j.createTextRange){var i=j.createTextRange();var k=j.value.replace(/\r\n/g,"\n");l-=k.slice(0,l).split("\n").length-1;h-=k.slice(0,h).split("\n").length-1;i.collapse(true);i.moveStart("character",l);
i.moveEnd("character",h);i.select()}}this.setState({selection:{start:l,end:h}})};f.prototype.storeCaretPos=function(h){var i=h.target.selectionStart;if(!_.includes([38,40],h.keyCode)){this.setState({selection:this.getSelection()})}};f.prototype.onInputKeyUp=function(h){this.storeCaretPos(h)
};f.prototype.onInputKeyDown=function(h){var j=this;var i;switch(h.keyCode){case 13:if(this.state.valueBeforeUpDown!==null&&this.suggestionIsFocused()){this.onSuggestionSelected(h)}this.setSuggestionsState(null);break;case 27:i={suggestions:null,focusedSectionIndex:null,focusedSuggestionIndex:null,valueBeforeUpDown:null};
if(this.state.valueBeforeUpDown!==null){i.value=this.state.valueBeforeUpDown}else{if(this.state.suggestions===null){i.value=""}}this.onSuggestionUnfocused();this.justPressedEsc=true;if(typeof i.value==="string"&&i.value!==this.state.value){this.onChange(i.value)
}this.setState(i);setTimeout(function(){return j.justPressedEsc=false});break;case 38:if(this.state.suggestions===null){this.showSuggestions(this.state.value)}else{this.focusOnSuggestionUsingKeyboard("up",this.sectionIterator.prev([this.state.focusedSectionIndex,this.state.focusedSuggestionIndex]))
}h.preventDefault();break;case 40:if(this.state.suggestions===null){this.showSuggestions(this.state.value)}else{this.focusOnSuggestionUsingKeyboard("down",this.sectionIterator.next([this.state.focusedSectionIndex,this.state.focusedSuggestionIndex]))}break}};
f.prototype.onInputClick=function(h){this.storeCaretPos(h)};f.prototype.onInputFocus=function(h){this.storeCaretPos(h);this.showSuggestions();this.onFocus(h)};f.prototype.onInputBlur=function(h){this.onSuggestionUnfocused();if(!this.justClickedOnSuggestion){this.onBlur(h)
}this.setSuggestionsState(null)};f.prototype.isSuggestionFocused=function(h,i){return h===this.state.focusedSectionIndex&&i===this.state.focusedSuggestionIndex};f.prototype.onSuggestionMouseEnter=function(h,i){if(!this.isSuggestionFocused(h,i)){this.onSuggestionFocused(h,i)
}this.setState({focusedSectionIndex:h,focusedSuggestionIndex:i})};f.prototype.onSuggestionMouseLeave=function(h,i){if(this.isSuggestionFocused(h,i)){this.onSuggestionUnfocused()}this.setState({focusedSectionIndex:null,focusedSuggestionIndex:null})};f.prototype.onSuggestionMouseDown=function(j,k,i){var l=this;
var h=this.getSuggestionValue(j,k);this.justClickedOnSuggestion=true;this.onSuggestionSelected(i);if(h.value!==this.state.value){this.onChange(h.value)}this.setState({value:h.value,suggestions:null,focusedSectionIndex:null,focusedSuggestionIndex:null,valueBeforeUpDown:null},_.debounce(function(){if(h.respectSelection){l.setSelection(h.start,h.end)
}l.justClickedOnSuggestion=false}))};f.prototype.renderSuggestionContent=function(h){if(this.props.suggestionRenderer){return this.props.suggestionRenderer(h,this.state.valueBeforeUpDown||this.state.value)}if(typeof h==="object"){throw new Error("When <suggestion> is an object, you must implement the suggestionRenderer() function to specify how to render it.")
}else{return h.toString()}};f.prototype.renderSuggestionsList=function(j,h,i){var k=this;return h.map(function(l,n){var m=j(n,"suggestion",i===k.state.focusedSectionIndex&&n===k.state.focusedSuggestionIndex&&"suggestionIsFocused");var o=k.getSuggestionRef(i,n);
return(React.createElement("li",__assign({id:k.getSuggestionId(i,n)},m,{role:"option",ref:o,key:o,onMouseEnter:function(){return k.onSuggestionMouseEnter(i,n)},onMouseLeave:function(){return k.onSuggestionMouseLeave(i,n)},onMouseDown:function(p){return k.onSuggestionMouseDown(i,n,p)
}}),k.renderSuggestionContent(l)))})};f.prototype.renderSuggestions=function(h){var i=this;if(this.state.suggestions===null){return null}if(this.isMultipleSections(this.state.suggestions)){return(React.createElement("div",__assign({id:"react-autosuggest-"+this.props.id},h("suggestions","suggestions"),{ref:"suggestions",role:"listbox"}),this.state.suggestions.map(function(l,k){var j=l.sectionName?(React.createElement("div",__assign({},h("sectionName-"+k,"sectionName")),l.sectionName)):null;
return l.suggestions.length===0?null:(React.createElement("div",__assign({},h("section-"+k,"section"),{key:"section-"+k}),j,React.createElement("ul",__assign({},h("sectionSuggestions-"+k,"sectionSuggestions")),i.renderSuggestionsList(h,l.suggestions,k))))})))
}return(React.createElement("ul",__assign({id:"react-autosuggest-"+this.props.id},h("suggestions","suggestions"),{ref:"suggestions",role:"listbox"}),this.renderSuggestionsList(h,this.state.suggestions,null)))};f.prototype.render=function(){var p=this.props,h=p.id,q=p.inputAttributes,l=p.attributes;
var o=this.state,s=o.value,n=o.suggestions,i=o.focusedSectionIndex,j=o.focusedSuggestionIndex;var m=e.themeable(this.props.theme);var r=this.getSuggestionId(i,j);var k=m("root","root");k.className+=n!==null?" expanded":" collapsed";return(React.createElement("div",__assign({},k,l),React.createElement("input",__assign({},q,{type:q.type||"text",value:s,autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-owns":"react-autosuggest-"+h,"aria-expanded":n!==null,"aria-activedescendant":r,ref:"input",onChange:this.onInputChange,onKeyDown:this.onInputKeyDown,onKeyUp:this.onInputKeyUp,onClick:this.onInputClick,onFocus:this.onInputFocus,onBlur:this.onInputBlur})),this.renderSuggestions(m)))
};f.propTypes={value:React.PropTypes.string,defaultValue:React.PropTypes.string,suggestions:React.PropTypes.func.isRequired,suggestionRenderer:React.PropTypes.func,suggestionValue:React.PropTypes.func,showWhen:React.PropTypes.func,onSuggestionSelected:React.PropTypes.func,onSuggestionFocused:React.PropTypes.func,onSuggestionUnfocused:React.PropTypes.func,inputAttributes:React.PropTypes.object,cache:React.PropTypes.bool,id:React.PropTypes.string,scrollBar:React.PropTypes.bool,theme:React.PropTypes.object};
f.defaultProps={showWhen:function(h){return h.trim().length>0},onSuggestionSelected:function(){},onSuggestionFocused:function(){},onSuggestionUnfocused:function(){},inputAttributes:{},cache:true,id:"1",scrollBar:false,theme:{root:"react-autosuggest",suggestions:"react-autosuggest__suggestions",suggestion:"react-autosuggest__suggestion",suggestionIsFocused:"react-autosuggest__suggestion--focused",section:"react-autosuggest__suggestions-section",sectionName:"react-autosuggest__suggestions-section-name",sectionSuggestions:"react-autosuggest__suggestions-section-suggestions"}};
return f}(React.Component));e.Autosuggest=d})(b=a.react||(a.react={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(d){var c;(function(e){function j(k){if(k&&k.length>35){return k.substr(0,20)+"..."+k.substr(k.length-10,k.length)}return k}var g={beginDrag:function(k){return{id:k.tag.uniqueName}
}};var h={hover:function(l,k){var m=k.getItem().id;if(m!==l.tag.uniqueName){l.moveTag(m,l.tag.uniqueName)}}};function i(l,k){return{connectDragSource:l.dragSource(),isDragging:k.isDragging()}}function f(l,k){return{connectDropTarget:l.dropTarget()}}e.DnDTag=React.createClass({propTypes:{labelField:React.PropTypes.string,onDelete:React.PropTypes.func.isRequired,tag:React.PropTypes.object.isRequired,moveTag:React.PropTypes.func.isRequired,toggleDropdown:React.PropTypes.func},getDefaultProps:function(){return{labelField:"name",descriptionField:"parentName",moveTag:null,tag:null,onDelete:null}
},getInitialState:function(){return{showMenu:false}},componentWillUnmount:function(){document.removeEventListener("mousedown",this.mouseDownEventListener)},toggleDropdown:function(){if(_.isFunction(this.props.toggleDropdown)){this.state.showMenu=!this.state.showMenu;
if(this.state.showMenu){document.addEventListener("mousedown",this.mouseDownEventListener)}else{document.removeEventListener("mousedown",this.mouseDownEventListener)}this.forceUpdate()}},mouseDownEventListener:function(k){if($(k.target).parents(".dropdown-menu").length===0){this.toggleDropdown()
}},renderDropdown:function(){if(!this.state.showMenu){return null}var k=this.props.toggleDropdown();if(_.isEmpty(k)){this.state.showMenu=false;document.removeEventListener("mousedown",this.mouseDownEventListener)}return k},render:function(){var q=j(this.props.tag[this.props.labelField]),t=j(this.props.tag[this.props.descriptionField]);
var p=this.props,k=p.connectDragSource,o=p.isDragging,u=p.connectDropTarget,s=p.backgroundColor;var r={opacity:o?0:1,backgroundColor:s},m=classNames("btn btn-default btn-sm",this.props.className),l=classNames("caret",_.isFunction(this.props.toggleDropdown)?"":"hidden"),n=_.isEmpty(t)?{}:{borderBottom:"1px solid"};
return k(u(React.createElement("div",{style:r,className:m},React.createElement("div",null,React.createElement("span",{className:l,onClick:this.toggleDropdown}),React.createElement("div",{onClick:this.toggleDropdown,style:{display:"inline-block",verticalAlign:"middle",padding:"0 5px",lineHeight:"1"}},React.createElement("div",{style:n},q),React.createElement("small",null,t)),React.createElement("span",{className:"close",style:{"float":"none"},onClick:this.props.onDelete},React.createElement("span",{"aria-hidden":"true"},"×"))),this.renderDropdown())))
}});e.Tag=_.flow(ReactDnD.DragSource("tag",g,i),ReactDnD.DropTarget("tag",h,f))(e.DnDTag)})(c=d.tags||(d.tags={}))})(b=a.react||(a.react={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(d){var c;(function(f){var e={ENTER:13,TAB:9,ESCAPE:27,BACKSPACE:9};
f.TagsInput=React.createClass({propTypes:{tags:React.PropTypes.array,placeholder:React.PropTypes.string,labelField:React.PropTypes.string,suggestions:React.PropTypes.func,activeTag:React.PropTypes.object,showInput:React.PropTypes.bool,autofocus:React.PropTypes.bool,handleDelete:React.PropTypes.func.isRequired,handleAddition:React.PropTypes.func.isRequired,handleModification:React.PropTypes.func.isRequired,handleDrag:React.PropTypes.func.isRequired,handleInputChange:React.PropTypes.func,handleDropdown:React.PropTypes.func.isRequired},getDefaultProps:function(){return{placeholder:"Add new tag",tags:[],suggestions:null,autofocus:true,activeTag:null,showInput:false}
},getInitialState:function(){return{autosuggestKey:a.uniqueId("autosuggest"),inputValue:"",selectedItem:null,selection:new Map()}},componentDidUpdate:function(){var g=this.refs.autosuggest;if(g&&g.refs.input){g.refs.input.focus()}},componentWillReceiveProps:function(g){if(!_.isEmpty(g.activeTag)){if(g.activeTag.synthetic===true){this.state.selection.clear();
this.state.selection.set(g.activeTag);this.setState({autosuggestKey:a.uniqueId("autosuggest"),activeTag:g.activeTag,inputValue:g.activeTag.name})}else{this.resolveActiveTag(g.activeTag)}}},resolveActiveTag:function(l){var m=this;this.state.selection.clear();
var i=this.state.activeTag,k=true;if(!this.state.activeTag||this.state.activeTag.uniqueName!==l.uniqueName){var g=_.words(_.trim(l.uniqueName,"{ }"),/[^,]+/g);var h=_.forEach(g,function(p){var n=_.trim(p),o=n.split(".");m.state.selection.set(n,{name:_.trim(_.last(o),"[]"),uniqueName:n,parentName:l.parentName})
});i=this.state.selection.values().next().value;k=this.state.selection.size>1}if(k){var j=i.uniqueName.split(".");i={name:i.parentName,uniqueName:_.take(j,j.length-1).join("."),parentName:_.trim(j[j.length-2],"[]")}}this.setState({autosuggestKey:a.uniqueId("autosuggest"),activeTag:i,inputValue:""})
},handleDelete:function(g){this.props.handleDelete(g);this.setState({inputValue:""})},handleDropdown:function(g){this.props.handleDropdown(g)},handleKeyDown:function(g){if(g.keyCode===e.ESCAPE){this.state.inputValue="";this.state.activeTag=null;this.state.selection.clear();
this.props.handleAddition()}if(g.keyCode===e.BACKSPACE){}},handleDone:function(){var g={name:[],uniqueName:[],parentName:""};this.state.selection.forEach(function(i){g.name.push(i.name);g.uniqueName.push(i.uniqueName);g.parentName=i.parentName});var h={name:g.name.join(", "),uniqueName:"{ "+g.uniqueName.join(", ")+" }",parentName:g.parentName,uniqueNames:g.uniqueName};
if(_.isEmpty(g.uniqueName)){h=null}if(_.isEmpty(this.props.activeTag)){this.props.handleAddition(h)}else{this.props.handleModification(h,this.props.activeTag)}this.state.selection.clear();this.setState({inputValue:"",activeTag:null})},addTag:function(g){if(_.isEmpty(this.state.activeTag)){this.props.handleAddition(g)
}else{if(this.state.activeTag.synthetic===true){this.props.handleModification(g,this.state.activeTag);this.state.selection.clear();this.setState({inputValue:"",activeTag:null})}else{if(this.state.selection.has(g.uniqueName)){this.state.selection["delete"](g.uniqueName)
}else{if(this.state.activeTag===g){this.state.selection.clear()}else{this.state.selection["delete"](this.state.activeTag.uniqueName)}this.state.selection.set(g.uniqueName,g)}}}},addPrependTag:function(g,h){if(h){h.cancelBubble=true;h.stopPropagation&&h.stopPropagation()
}this.resolveActiveTag(g)},moveTag:function(m,i){var j=this.props.tags;var g=j.filter(function(n){return n.uniqueName===m})[0];var h=j.filter(function(n){return n.uniqueName===i})[0];var k=j.indexOf(g);var l=j.indexOf(h);this.props.handleDrag(g,k,l)},getSuggestionValue:function(g){return g.name
},getSuggestions:function(g,i){var h="";if(this.state.activeTag&&this.state.activeTag.synthetic!==true){h=_.isEmpty(this.state.activeTag.parentName)?"":this.state.activeTag.uniqueName+".["+g}this.props.suggestions(h,_.partialRight(this.reduceSuggestions,g,i))
},reduceSuggestions:function(h,j,l){var k=j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");var i=new RegExp("\\b"+k,"i");var g=_.reduce(h,function(n,p){var o=p.sectionName&&p.sectionName.search(i)>=0;var m=_.reduce(p.suggestions,function(r,s,q){if((o&&q===0)||s.name.search(i)>=0){r.push(s)
}return r},[]);if(!_.isEmpty(m)){n.push({sectionName:p.sectionName||"Members",suggestions:m})}return n},[]);if(this.state.activeTag){g.unshift({sectionName:"",suggestions:[this.state.activeTag]})}l(null,g)},renderTag:function(g,j){var h=_.isFunction(this.props.handleDropdown)?_.partial(this.props.handleDropdown,j):null;
return(React.createElement(f.Tag,{key:g.uniqueName,tag:g,labelField:this.props.labelField,onDelete:this.handleDelete.bind(this,j),toggleDropdown:h,moveTag:this.moveTag}))},renderSuggestion:function(i,p){var q=p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");var l=new RegExp("\\b"+q,"i");
var k=i.name;var n=k.search(l);if(n===-1){return k}var h=k.slice(0,n);var m=k.slice(n,n+p.length);var g=k.slice(n+p.length);var j;if(this.state.selection.has(i.uniqueName)){j=(React.createElement("span",{className:"fa fa-check",style:{marginLeft:"-15px"}}))
}var o;if(i.synthetic!==true){o=(React.createElement("span",{style:{"float":"right",padding:"0 5px"},onMouseDown:_.partial(this.addPrependTag,i)},"..."))}return(React.createElement("div",null,j,React.createElement("span",null,h,React.createElement("strong",null,m),g),o))
},renderPrependTag:function(){var g;if(this.state.activeTag&&this.state.activeTag.synthetic!==true){g=(React.createElement("span",{className:"input-group-addon"},this.state.activeTag.name+"."))}return g},renderDoneButton:function(){var g;if(this.props.showInput){g=(React.createElement("span",{className:"input-group-addon btn btn-default btn-sm",onClick:this.handleDone},"Done"))
}return g},renderAutosuggest:function(){if(!this.props.showInput){return null}var g={placeholder:this.props.placeholder,onKeyUp:this.handleKeyDown,className:"form-control"};return(React.createElement("div",{className:"input-group"},this.renderPrependTag(),React.createElement(f.TagAutosuggest,{key:this.state.autosuggestKey,ref:"autosuggest",isMultiselect:!_.isEmpty(this.state.activeTag)&&this.state.activeTag.synthetic!==true,suggestions:this.getSuggestions,suggestionRenderer:this.renderSuggestion,suggestionValue:this.getSuggestionValue,showWhen:function(h){return true
},scrollBar:true,cache:false,onSuggestionSelected:this.addTag,value:this.state.inputValue,inputAttributes:g}),this.renderDoneButton()))},render:function(){var g=this.props.tags.map(this.renderTag,this);return(React.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},g,this.renderAutosuggest(),this.props.children))
}})})(c=d.tags||(d.tags={}))})(b=a.react||(a.react={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b;(function(d){var c;(function(e){var f=(function(h){__extends(g,h);function g(){h.apply(this,arguments)}g.prototype.onSuggestionMouseDown=function(j,k,i){var l=this;if(this.props.isMultiselect!==true){return h.prototype.onSuggestionMouseDown.call(this,j,k,i)
}this.justClickedOnSuggestion=true;this.onSuggestionSelected(i);this.forceUpdate(function(){setTimeout(function(){l.refs.input.focus();l.justClickedOnSuggestion=false})})};g.prototype.onInputBlur=function(i){if(this.props.isMultiselect===true&&this.justClickedOnSuggestion){return null
}return h.prototype.onInputBlur.call(this,i)};return g}(d.Autosuggest));e.TagAutosuggest=f})(c=d.tags||(d.tags={}))})(b=a.react||(a.react={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(f){var d=a.react.tags.TagsInput;(function(g){g[g.DEFAULT=0]="DEFAULT";g[g.SHOW_OPTIONS=1]="SHOW_OPTIONS";g[g.ADD_MEMBER=2]="ADD_MEMBER";
g[g.ADD_MDX_MEMBER=3]="ADD_MDX_MEMBER"})(f.ChooserMode||(f.ChooserMode={}));var e=f.ChooserMode;var c=(function(h){__extends(g,h);function g(i){h.call(this,i);this.state=this.initialState()}g.prototype.initialState=function(i){if(_.isEmpty(i)){i=this.props}return{tags:i.selection,mode:e.DEFAULT}
};g.prototype.componentDidUpdate=function(i,j){if(j.tags!=this.state.tags){this.applySelection()}};g.prototype.handleDelete=function(k){var j=_.clone(this.state.tags);j.splice(k,1);this.setState({tags:j,mode:e.DEFAULT,activeTag:null})};g.prototype.handleAddition=function(i){if(_.isEmpty(i)){return this.setState({mode:e.DEFAULT,activeTag:null})
}var j=_.clone(this.state.tags);_.remove(j,function(k){return k.uniqueName===i.uniqueName});j.push(i);this.setState({mode:e.DEFAULT,tags:j,activeTag:null})};g.prototype.handleModification=function(i,j){if(_.isEmpty(i)){return this.setState({mode:e.DEFAULT,activeTag:null})
}var k=_.isEmpty(j)?i.uniqueName:j.uniqueName;var l=_.map(this.state.tags,function(m){return(m.uniqueName===k)?i:m});this.setState({mode:e.DEFAULT,tags:l,activeTag:null})};g.prototype.handleDrag=function(i,l,k){if(l<0||k<0){return}var j=_.clone(this.state.tags);
j[l]=this.state.tags[k];j[k]=this.state.tags[l];this.setState({tags:j})};g.prototype.applySelection=function(){this.props.handleChange(this.state.tags)};g.prototype.handleNewTag=function(i){if(!i){i=e.ADD_MEMBER}this.setState({mode:i,activeTag:null})};g.prototype.handleDropdown=function(k){var m=this;
if(this.state.mode!==e.DEFAULT){return null}var j=this.props.menuPages;if(this.state.tags[k].parentName==="MDX"||this.state.tags[k].parentName==="EVENT"){j=[a.react.ChooserConfigurationMenuPage.MODIFY]}var l=function(i){m.state.tags[k]=i;m.applySelection()};
return(React.createElement(f.ChooserConfigurationMenu,{tagProperties:this.state.tags[k],action:this.actionHandler.bind(this),pages:j,measures:this.props.measures,onChange:l}))};g.prototype.getSuggestions=function(i,j){if(!_.isEmpty(i)){this.props.refineItems(i,j)
}else{j(this.props.items)}};g.prototype.actionHandler=function(i){switch(i.parentName){case"MDX":this.state.mode=e.ADD_MDX_MEMBER;break;default:this.state.mode=e.ADD_MEMBER}this.state.activeTag=i;this.forceUpdate()};g.prototype.renderMdxEditor=function(){var p=this;
if(!this.props.mdxEditor){return}var o,k,l;if(this.state.mode===e.ADD_MDX_MEMBER){k=(this.state.activeTag&&this.state.activeTag.uniqueName)||"";o=this.props.mdxEditor(k,(function(q){k=q.guts_.statement}).bind(this));l=function(){p.handleAddition({uniqueName:k,name:k,parentName:"MDX"})
}}var i=classNames("btn btn-default",this.props.addButtonClass,this.state.mode===e.DEFAULT?"":"hidden"),n={padding:"7.5px 12px"},m=classNames("btn btn-default",this.props.addButtonClass,this.state.mode===e.ADD_MDX_MEMBER?"":"hidden"),j={padding:"7.5px 12px"};
return(React.createElement("div",null,React.createElement("a",{className:i,style:n,onClick:this.handleNewTag.bind(this,e.ADD_MDX_MEMBER)},"+ MDX"),o,React.createElement("a",{className:m,style:j,onClick:l},"Done")))};g.prototype.render=function(){var i=classNames("btn btn-default",this.props.addButtonClass,this.state.mode===e.DEFAULT?"":"hidden"),j={padding:"7.5px 12px"};
return(React.createElement(d,{tags:this.state.tags,suggestions:this.getSuggestions.bind(this),handleDelete:this.handleDelete.bind(this),handleAddition:this.handleAddition.bind(this),handleDrag:this.handleDrag.bind(this),handleDropdown:this.props.menuAllowed?this.handleDropdown.bind(this):null,handleModification:this.handleModification.bind(this),activeTag:this.state.activeTag,showInput:this.state.mode===e.ADD_MEMBER},React.createElement("a",{className:i,style:j,onClick:this.handleNewTag.bind(this,e.ADD_MEMBER)},"+ Add"),this.renderMdxEditor()))
};g.defaultProps={items:[],selection:[],autofocus:true,menuAllowed:true};return g}(React.Component));f.Chooser=c})(b=a.react||(a.react={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(e){(function(h){h[h.MAIN=0]="MAIN";h[h.LIMIT=1]="LIMIT";h[h.ORDERING=2]="ORDERING";h[h.NOT_EMPTY=3]="NOT_EMPTY";h[h.WHERE_CLAUSE=4]="WHERE_CLAUSE";
h[h.MEMBERS=5]="MEMBERS";h[h.MODIFY=6]="MODIFY"})(e.ChooserConfigurationMenuPage||(e.ChooserConfigurationMenuPage={}));var g=e.ChooserConfigurationMenuPage;var c=(function(i){__extends(h,i);function h(k,j){var l=this;i.call(this,k,j);this.switchToPage=function(m){l.state.page=m;
l.forceUpdate()};this.setLimit=function(m){l.changeProperty("top-bottom-value",m)};this.setLimitOrdering=function(m){l.changeProperty("top-bottom-type",m)};this.setLimitMeasure=function(m){l.changeProperty("top-bottom-measure",m)};this.setOrdering=function(m){l.changeProperty("order-option",m)
};this.setOrderingMeasure=function(m){l.changeProperty("order-measure",m)};this.setNotEmptyMeasure=function(m){l.changeProperty("nonempty-measure",m)};this.setAsWhereClause=function(m){l.changeProperty("whereClause",m)};this.state={page:g.MAIN}}h.prototype.changeProperty=function(j,l){var k=_.cloneDeep(this.props.tagProperties);
if(_.isEqual(k[j],l)){delete k[j]}else{k[j]=l}if(k["top-bottom-value"]&&k["top-bottom-type"]&&k["top-bottom-measure"]){k["top-bottom"]="top-bottom"}else{delete k["top-bottom"]}if(k["order-measure"]&&k["order-option"]){k.order="order"}else{delete k.order}if(k["nonempty-measure"]){k.nonempty="nonempty"
}else{delete k.nonempty}this.props.onChange(k)};h.prototype.renderMainMenu=function(){var k,j,l,m;if(this.props.pages.indexOf(g.LIMIT)!==-1){k=(React.createElement(d,{label:"Limit...",onClick:this.switchToPage,value:g.LIMIT,selected:null}))}if(this.props.pages.indexOf(g.ORDERING)!==-1){j=(React.createElement(d,{label:"Ordering...",onClick:this.switchToPage,value:g.ORDERING,selected:null}))
}if(this.props.pages.indexOf(g.NOT_EMPTY)!==-1){l=(React.createElement(d,{label:"Not empty...",onClick:this.switchToPage,value:g.NOT_EMPTY,selected:null}))}if(this.props.pages.indexOf(g.WHERE_CLAUSE)!==-1){l=(React.createElement(d,{label:"As Where Clause",onClick:this.setAsWhereClause,value:"whereClause",selected:this.props.tagProperties.whereClause}))
}if(this.props.pages.indexOf(g.MEMBERS)!==-1){m=(React.createElement(d,{label:"Members...",onClick:_.partial(this.props.action,this.props.tagProperties),selected:false}))}if(this.props.pages.indexOf(g.MODIFY)!==-1){m=(React.createElement(d,{label:"Modify...",onClick:_.partial(this.props.action,this.props.tagProperties),selected:false}))
}return(React.createElement("ul",{className:"dropdown-menu"},k,j,l,m))};h.prototype.renderLimitMenu=function(){var k=this;var j=_.map(this.props.measures,function(l){return React.createElement(d,{label:l.name,onClick:k.setLimitMeasure,value:l.uniqueName,selected:k.props.tagProperties["top-bottom-measure"]})
});return(React.createElement("ul",{className:"dropdown-menu"},React.createElement("li",{className:"dropdown-header"},"Output limit"),React.createElement(d,{label:"Back...",onClick:this.switchToPage,value:g.MAIN,selected:null}),React.createElement("li",{className:"divider"}),React.createElement(f,{label:"Input value...",onChange:this.setLimit,value:this.props.tagProperties["top-bottom-value"]}),React.createElement("li",{className:"divider"}),React.createElement(d,{label:"10",onClick:this.setLimit,value:10,selected:this.props.tagProperties["top-bottom-value"]}),React.createElement(d,{label:"25",onClick:this.setLimit,value:25,selected:this.props.tagProperties["top-bottom-value"]}),React.createElement(d,{label:"50",onClick:this.setLimit,value:50,selected:this.props.tagProperties["top-bottom-value"]}),React.createElement(d,{label:"100",onClick:this.setLimit,value:100,selected:this.props.tagProperties["top-bottom-value"]}),React.createElement("li",{className:"divider"}),React.createElement(d,{label:"Top",onClick:this.setLimitOrdering,value:"Top",selected:this.props.tagProperties["top-bottom-type"]}),React.createElement(d,{label:"Bottom",onClick:this.setLimitOrdering,value:"Bottom",selected:this.props.tagProperties["top-bottom-type"]}),React.createElement("li",{className:"divider"}),j))
};h.prototype.renderOrderingMenu=function(){var k=this;var j=_.map(this.props.measures,function(l){return React.createElement(d,{label:l.name,onClick:k.setOrderingMeasure,value:l.uniqueName,selected:k.props.tagProperties["order-measure"]})});return(React.createElement("ul",{className:"dropdown-menu"},React.createElement("li",{className:"dropdown-header"},"Ordering"),React.createElement(d,{label:"Back...",onClick:this.switchToPage,value:g.MAIN,selected:null}),React.createElement("li",{className:"divider"}),React.createElement(d,{label:"Ascendant",onClick:this.setOrdering,value:"BASC",selected:this.props.tagProperties["order-option"]}),React.createElement(d,{label:"Descendant",onClick:this.setOrdering,value:"BDESC",selected:this.props.tagProperties["order-option"]}),React.createElement(d,{label:"Asc keeping hier.",onClick:this.setOrdering,value:"ASC",selected:this.props.tagProperties["order-option"]}),React.createElement(d,{label:"Desc keeping hier.",onClick:this.setOrdering,value:"DESC",selected:this.props.tagProperties["order-option"]}),React.createElement("li",{className:"divider"}),React.createElement(d,{label:"By name",onClick:this.setOrderingMeasure,value:"{{current}}.name",selected:this.props.tagProperties["order-measure"]}),React.createElement(d,{label:"By key",onClick:this.setOrderingMeasure,value:"{{current}}.key",selected:this.props.tagProperties["order-measure"]}),j))
};h.prototype.renderNotEmptyMenu=function(){var k=this;var j=_.map(this.props.measures,function(l){return React.createElement(d,{label:l.name,onClick:k.setNotEmptyMeasure,value:l.uniqueName,selected:k.props.tagProperties["nonempty-measure"]})});return(React.createElement("ul",{className:"dropdown-menu"},React.createElement("li",{className:"dropdown-header"},"Not empty filter"),React.createElement(d,{label:"Back...",onClick:this.switchToPage,value:g.MAIN,selected:null}),React.createElement("li",{className:"divider"}),j))
};h.prototype.render=function(){switch(this.state.page){case g.LIMIT:return this.renderLimitMenu();case g.ORDERING:return this.renderOrderingMenu();case g.NOT_EMPTY:return this.renderNotEmptyMenu();case g.MAIN:default:return this.renderMainMenu()}};h.defaultProps={pages:[g.LIMIT,g.ORDERING,g.NOT_EMPTY,g.MEMBERS]};
return h}(React.Component));e.ChooserConfigurationMenu=c;var d=(function(h){__extends(i,h);function i(k,j){var l=this;h.call(this,k,j);this.clickHandler=function(){l.props.onClick(l.props.value)}}i.prototype.render=function(){return(React.createElement("li",{onClick:this.clickHandler},React.createElement("a",{href:"#"},_.isEqual(this.props.value,this.props.selected)?React.createElement("i",{className:"fa fa-check fa-fw"}):React.createElement("i",{className:"fa fa-fw"}),this.props.label)))
};return i}(React.Component));e.ChooserConfigurationMenuItem=d;var f=(function(h){__extends(i,h);function i(k,j){var l=this;h.call(this,k,j);this.handleInputChange=function(n){var m=n.target.value;l.props.onChange(parseInt(m))}}i.prototype.render=function(){return(React.createElement("li",null,React.createElement("a",{href:"#"},React.createElement("input",{onChange:this.handleInputChange,type:"number",placeholder:this.props.label,value:this.props.value}))))
};return i}(React.Component))})(b=a.react||(a.react={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var ic3;(function(a){var b;(function(d){var c=(function(f){__extends(e,f);
function e(h,g){f.call(this,h,g);this.state={container:document.createElement("div")};this.componentWillReceiveProps(h)}e.prototype.componentWillReceiveProps=function(g){_.assign(this.state,{target:g.targetElement||document.body})};e.prototype.componentDidUpdate=function(){this.renderChildren()
};e.prototype.componentDidMount=function(){var h=this.state,i=h.target,g=h.container;this.renderChildren();i.appendChild(g)};e.prototype.componentWillUnmount=function(){var h=this.state,i=h.target,g=h.container;ReactDOM.unmountComponentAtNode(g);i.removeChild(g)
};e.prototype.renderChildren=function(){var h=this.state.container;var q=this.props,o=q.className,g=q.style,p=q.top,l=q.left,i=q.width,r=q.height,k=q.visible,n=q.containerClassName,j=q.children,m=q.containerProps;_.merge(h,{className:o,style:{position:"absolute",overflow:"hidden",zIndex:"9999",top:p+"px",left:l+"px",display:k?"block":"none",width:_.isNumber(i)?i+"px":"",height:_.isNumber(r)?r+"px":""}},{style:g});
ReactDOM.render((React.createElement("div",__assign({className:n},m),j)),h)};e.prototype.render=function(){return null};return e}(React.Component));d.RenderInBody=c})(b=a.react||(a.react={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f=(function(g){__extends(h,g);function h(j,i){var k=this;g.call(this,j,i);this.onDraggableMouseDown=function(l){if(l.button!==0||k.state.dragging||l.target.tagName.toUpperCase()=="INPUT"){return
}k.startDrag(l.clientX,l.clientY);document.addEventListener("mousemove",k.onGlobalMouseMove);document.addEventListener("mouseup",k.onGlobalMouseUp)};this.onDraggableTouchStart=function(l){if(k.state.dragging){return}k.state.touchIdentifier=l.targetTouches[0].identifier;
k.startDrag(l.targetTouches[0].clientX,l.targetTouches[0].clientY);document.addEventListener("touchmove",k.onGlobalTouchMove);document.addEventListener("touchend",k.onGlobalTouchEnd)};this.onGlobalMouseUp=function(l){if(l.button!==0){return}document.removeEventListener("mousemove",k.onGlobalMouseMove);
document.removeEventListener("mouseup",k.onGlobalMouseUp);k.stopDrag();k.stopResize()};this.onGlobalTouchEnd=function(l){if(l.changedTouches[0].identifier==k.state.touchIdentifier){k.stopDrag();document.removeEventListener("touchmove",k.onGlobalTouchMove);document.removeEventListener("touchend",k.onGlobalTouchEnd)
}};this.onGlobalMouseMove=function(l){if(k.state.dragging){k.drag(l.clientX,l.clientY)}else{if(k.state.resizing){k.resize(l.clientX,l.clientY)}}};this.onGlobalTouchMove=function(l){if(l.targetTouches&&l.targetTouches[0]){if(k.state.dragging){k.drag(l.targetTouches[0].clientX,l.targetTouches[0].clientY)
}else{if(k.state.resizing){k.resize(l.targetTouches[0].clientX,l.targetTouches[0].clientY)}}}};this.state={top:j.initialTop,left:j.initialLeft,width:j.initialWidth,height:j.initialHeight,dragging:false,resizing:false,touchIdentifier:null,lastX:null,lastY:null,resizeXHandler:function(){},resizeYHandler:function(){}}
}h.prototype.startDrag=function(j,i){this.state.dragging=true;this.updateLastPosition(j,i)};h.prototype.stopDrag=function(){this.state.dragging=false};h.prototype.drag=function(j,i){this.state.top+=i-this.state.lastY;this.state.left+=j-this.state.lastX;this.updateLastPosition(j,i);
this.forceUpdate()};h.prototype.startResize=function(m,l,o,k,j,i){var n=this;this.state.resizing=true;this.updateLastPosition(m,l);if(o){this.state.resizeXHandler=function(p){n.state.left+=p;n.state.width-=p}}else{if(j){this.state.resizeXHandler=function(p){n.state.width+=p
}}else{this.state.resizeXHandler=function(){}}}if(k){this.state.resizeYHandler=function(p){n.state.top+=p;n.state.height-=p}}else{if(i){this.state.resizeYHandler=function(p){n.state.height+=p}}else{this.state.resizeYHandler=function(){}}}};h.prototype.stopResize=function(){this.state.resizing=false
};h.prototype.resize=function(j,i){this.state.resizeXHandler(j-this.state.lastX);this.state.resizeYHandler(i-this.state.lastY);this.updateLastPosition(j,i);this.forceUpdate()};h.prototype.updateLastPosition=function(j,i){this.state.lastX=j;this.state.lastY=i
};h.prototype.onResizeControlMouseDown=function(m,k,j,i,l){l.stopPropagation();this.startResize(l.clientX,l.clientY,m,k,j,i);document.addEventListener("mousemove",this.onGlobalMouseMove);document.addEventListener("mouseup",this.onGlobalMouseUp)};h.prototype.render=function(){var j={top:this.state.top,left:this.state.left,width:this.state.width,height:this.state.height};
var i=React.Children.map(this.props.children,function(k){return React.cloneElement(k,{})});return(React.createElement("div",{className:"ic3-react-dialog",style:j,onMouseDown:this.onDraggableMouseDown,onTouchStart:this.onDraggableTouchStart},React.createElement("div",{className:"ic3-resize-control vertical w",onMouseDown:this.onResizeControlMouseDown.bind(this,true,false,false,false)}),React.createElement("div",{className:"ic3-resize-control vertical e",onMouseDown:this.onResizeControlMouseDown.bind(this,false,false,true,false)}),React.createElement("div",{className:"ic3-resize-control horizontal n",onMouseDown:this.onResizeControlMouseDown.bind(this,false,true,false,false)}),React.createElement("div",{className:"ic3-resize-control horizontal s",onMouseDown:this.onResizeControlMouseDown.bind(this,false,false,false,true)}),React.createElement("div",{className:"ic3-resize-control point nw",onMouseDown:this.onResizeControlMouseDown.bind(this,true,true,false,false)}),React.createElement("div",{className:"ic3-resize-control point ne",onMouseDown:this.onResizeControlMouseDown.bind(this,false,true,true,false)}),React.createElement("div",{className:"ic3-resize-control point sw",onMouseDown:this.onResizeControlMouseDown.bind(this,true,false,true,false)}),React.createElement("div",{className:"ic3-resize-control point se",onMouseDown:this.onResizeControlMouseDown.bind(this,false,false,true,true)}),React.createElement("div",{className:classNames("ic3-content",this.props.className)},i)))
};return h}(React.Component));e.ReactDialog=f})(d=c.react||(c.react={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(g){(function(h){h[h.TABS=0]="TABS";h[h.ACCORDION=1]="ACCORDION"})(g.ReactAccordionTabsLayout||(g.ReactAccordionTabsLayout={}));
var e=g.ReactAccordionTabsLayout;var f=(function(i){__extends(h,i);function h(k,j){i.call(this,k,j);this.state={openedIndex:k.openedTabIndex,openedTabContent:null,layout:e.TABS}}h.prototype.componentDidMount=function(){this.checkLayout()};h.prototype.componentDidUpdate=function(k,l,j){this.checkLayout()
};h.prototype.renderTabsControls=function(){var k=this;var j=[];React.Children.forEach(this.props.children,function(n,l){if(n.props.title){var m=classNames("btn btn-primary btn-lg btn-block",l==k.state.openedIndex?"active":null);j.push(React.createElement("div",{key:"title-"+l,className:m,onClick:k.handleTabClick.bind(k,l)},React.createElement("span",null,n.props.title)));
if(l==k.state.openedIndex){k.state.openedTabContent=n.props.children;if(k.isAccordionLayout()){j.push(React.createElement("div",{key:"content"+l,className:"ic3-react-accordion-content"},React.createElement("form",null,k.state.openedTabContent)))}}}});return j
};h.prototype.handleTabClick=function(j){this.state.openedIndex=this.state.openedIndex==j?null:j;this.forceUpdate()};h.prototype.checkLayout=function(){var j=e.TABS;if(this.props.switchToAccordionWidth){var k=ReactDOM.findDOMNode(this);if(k.offsetWidth<this.props.switchToAccordionWidth){j=e.ACCORDION
}}if(this.state.layout!=j){this.state.layout=j;this.forceUpdate()}};h.prototype.isAccordionLayout=function(){return this.state.layout===e.ACCORDION};h.prototype.render=function(){var j=this.renderTabsControls();var k=classNames("ic3-react-accordion-tabs",this.props.className,this.isAccordionLayout()?null:"tabs-layout");
return(React.createElement("div",{className:k},React.createElement("div",{className:"ic3-react-accordion-tabs-holder"},j),this.isAccordionLayout()?null:React.createElement("div",{className:"ic3-react-accordion-content"},React.createElement("form",null,this.state.openedTabContent))))
};return h}(React.Component));g.ReactAccordionTabs=f})(d=c.react||(c.react={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(d){var c;(function(w){w.ColorKeywords={"null":"auto",transparent:"transparent",auto:null};
var H={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};
function C(K){K=Math.round(K);return K<0?0:K>255?255:K}w.clamp_css_byte=C;function u(K){return K<0?0:K>1?1:K}w.clamp_css_float=u;function J(K){if(K[K.length-1]==="%"){return C(parseFloat(K)/100*255)}return C(parseInt(K))}w.parse_css_int=J;function m(K){if(K[K.length-1]==="%"){return u(parseFloat(K)/100)
}return u(parseFloat(K))}w.parse_css_float=m;function p(L,K,M){if(M<0){M+=1}else{if(M>1){M-=1}}if(M*6<1){return L+(K-L)*M*6}if(M*2<1){return K}if(M*3<2){return L+(K-L)*(2/3-M)*6}return L}w.css_hue_to_rgb=p;function F(T){if(!_.isString(T)&&!_.isNumber(T)||T=="inherit"){return T
}var R=T.replace(/ /g,"").toLowerCase();if(R in H){return H[R].slice()}if(R[0]==="#"){if(R.length===4){var O=parseInt(R.substr(1),16);if(!(O>=0&&O<=4095)){return null}return[((O&3840)>>4)|((O&3840)>>8),(O&240)|((O&240)>>4),(O&15)|((O&15)<<4),1]}else{if(R.length===7){var O=parseInt(R.substr(1),16);
if(!(O>=0&&O<=16777215)){return null}return[(O&16711680)>>16,(O&65280)>>8,O&255,1]}}return null}var Q=R.indexOf("("),W=R.indexOf(")");if(Q!==-1&&W+1===R.length){var K=R.substr(0,Q);var M=R.substr(Q+1,W-(Q+1)).split(",");var N=1;switch(K){case"rgba":if(M.length!==4){return null
}N=m(M.pop());case"rgb":if(M.length!==3){return null}return[J(M[0]),J(M[1]),J(M[2]),N];case"hsla":if(M.length!==4){return null}N=m(M.pop());case"hsl":if(M.length!==3){return null}var P=(((parseFloat(M[0])%360)+360)%360)/360;var V=m(M[1]);var L=m(M[2]);var S=L<=0.5?L*(V+1):L+V-L*V;
var U=L*2-S;return[C(p(U,S,P+1/3)*255),C(p(U,S,P)*255),C(p(U,S,P-1/3)*255),N];default:return null}}return null}w.parseCSSColor=F;function j(K){var L=K[3]||1;return(K[0]*0.299+K[1]*0.587+K[2]*0.114)*L/255<0.5}w.isDark=j;function l(N){var L=F(N);if(L){var K=s(L);
var M=v(L).slice(1);if(M[0]===M[1]&&M[2]===M[3]&&M[4]===M[5]){M=[M[0],M[2],M[4]].join("")}return{h:Math.round(K[0]),s:Math.round(K[1]),v:Math.round(K[2]),r:Math.round(L[0]),g:Math.round(L[1]),b:Math.round(L[2]),a:L[3],hex:L[3]===0?"transparent":M}}else{return null
}}w.getColor=l;function r(N,M,K,L){return"rgba("+[N,M,K,L/100].join(",")+")"}w.rgbaColor=r;function z(N,M,K){var L=D([N,M,K]);return v([Math.round(L[0]),Math.round(L[1]),Math.round(L[2])]).slice(1)}w.hsv2hex=z;function q(N,M,K){var L=D([N,M,K]);return{r:Math.round(L[0]),g:Math.round(L[1]),b:Math.round(L[2])}
}w.hsv2rgb=q;function e(M,L,K){return v([M,L,K]).slice(1)}w.rgb2hex=e;function I(N,M,K){var L=s([N,M,K]);return{h:Math.round(L[0]),s:Math.round(L[1]),v:Math.round(L[2])}}w.rgb2hsv=I;function G(L,K){switch(L){case"r":return{x:K.b,y:(255-K.g),xmax:255,ymax:255};
case"g":return{x:K.b,y:(255-K.r),xmax:255,ymax:255};case"b":return{x:K.r,y:(255-K.g),xmax:255,ymax:255};case"h":return{x:K.s,y:(100-K.v),xmax:100,ymax:100};case"s":return{x:K.h,y:(100-K.v),xmax:359,ymax:100};case"v":return{x:K.h,y:(100-K.s),xmax:359,ymax:100};
default:return{x:null,y:null,xmax:null,ymax:null}}}w.colorCoords=G;function i(K,L){L.x=Math.round(L.x);L.y=Math.round(L.y);switch(K){case"r":return{b:L.x,g:255-L.y};case"g":return{b:L.x,r:255-L.y};case"b":return{r:L.x,g:255-L.y};case"h":return{s:L.x,v:100-L.y};
case"s":return{h:L.x,v:100-L.y};case"v":return{h:L.x,s:100-L.y};default:return{}}}w.colorCoordValue=i;function o(K){return(K<58?K-48:K<71?K-55:K-87)}w.hexVal=o;function E(L){var M=L[0]==="#"?1:0;var O=L.length;if(O-M<3){throw new Error("hex input must be at least three chars long")
}var K,N,S;var R=o(L.charCodeAt(0+M));var Q=o(L.charCodeAt(1+M));var P=o(L.charCodeAt(2+M));if(O-M>=6){K=(R<<4)+Q;N=(P<<4)+o(L.charCodeAt(3+M));S=(o(L.charCodeAt(4+M))<<4)+o(L.charCodeAt(5+M))}else{K=(R<<4)+R;N=(Q<<4)+Q;S=(P<<4)+P}if(K<0||K>255||N<0||N>255||S<0||S>255){throw new Error("hex input is invalid")
}return[K,N,S]}w.hex2rgb=E;function v(K){return"#"+("000000"+((K[0]<<16)+(K[1]<<8)+K[2]).toString(16)).slice(-6)}w._rgb2hex=v;function y(K){if(K.length>3||K[3]==1){K[3]=K[3]<=1?K[3]*100:K[3];return r.apply(this,K)}return v(K)}w.rgba2css=y;function g(P){var K=P[0]/255;
var O=P[1]/255;var Q=P[2]/255;var M=Math.min(K,O,Q);var R=Math.max(K,O,Q);var S=R-M;var N,T,L;if(R===M){N=0}else{if(K===R){N=(O-Q)/S}else{if(O===R){N=2+(Q-K)/S}else{if(Q===R){N=4+(K-O)/S}}}}N=Math.min(N*60,360);if(N<0){N+=360}L=(M+R)/2;if(R===M){T=0}else{if(L<=0.5){T=S/(R+M)
}else{T=S/(2-R-M)}}return[N,T*100,L*100]}w.rgb2hsl=g;function s(O){var K=O[0];var N=O[1];var P=O[2];var L=Math.min(K,N,P);var Q=Math.max(K,N,P);var S=Q-L;var M,T,R;if(Q===0){T=0}else{T=S/Q*100}if(Q===L){M=0}else{if(K===Q){M=(N-P)/S}else{if(N===Q){M=2+(P-K)/S
}else{if(P===Q){M=4+(K-N)/S}}}}M=Math.min(M*60,360);if(M<0){M+=360}R=(Q/255)*100;return[M,T,R]}w._rgb2hsv=s;function f(R){var O=R[0]/360;var T=R[1]/100;var N=R[2]/100;var K,P,Q;if(T===0){K=P=Q=N}else{var L=N<0.5?N*(T+1):N+T-N*T;var M=2*N-L;var S;S=O+1/3;if(S<0){S+=1
}else{if(S>1){S-=1}}if(S<1/6){K=M+(L-M)*S*6}else{if(S<1/2){K=L}else{if(S<2/3){K=M+(L-M)*(2/3-S)*6}else{K=M}}}S=O;if(S<0){S+=1}else{if(S>1){S-=1}}if(S<1/6){P=M+(L-M)*S*6}else{if(S<1/2){P=L}else{if(S<2/3){P=M+(L-M)*(2/3-S)*6}else{P=M}}}S=O-1/3;if(S<0){S+=1}else{if(S>1){S-=1
}}if(S<1/6){Q=M+(L-M)*S*6}else{if(S<1/2){Q=L}else{if(S<2/3){Q=M+(L-M)*(2/3-S)*6}else{Q=M}}}}return[K*255,P*255,Q*255]}w.hsl2rgb=f;function k(N){var P=N[0];var O=N[1]/100;var L=N[2]/100;var K,M;if(O===0){return[P,0,L*100]}if(L===0){return[P,0,0]}L*=2;O*=(L<=1)?L:2-L;
M=(L+O)/2;K=(2*O)/(L+O);return[P,K*100,M*100]}w.hsl2hsv=k;function D(O){var N=O[0]/60;var S=O[1]/100;var Q=O[2]/100;var M=Math.floor(N)%6;var P=N-Math.floor(N);var L=255*Q*(1-S);var K=255*Q*(1-(S*P));var R=255*Q*(1-(S*(1-P)));Q=255*Q;switch(M){case 0:return[Q,R,L];
case 1:return[K,Q,L];case 2:return[L,Q,R];case 3:return[L,K,Q];case 4:return[R,L,Q];case 5:return[Q,L,K]}}w._hsv2rgb=D;function A(N){var P=N[0];var O=N[1]/100;var M=N[2]/100;var K,L;if(O===0){return[P,0,M*100]}if(M===0){return[P,0,0]}L=(2-O)*M;K=O*M;K/=(L<=1)?L:2-L;
L/=2;return[P,K*100,L*100]}w.hsv2hsl=A;function B(K){return[K,K,K]}w.grayscale2rgb=B;function t(K){return(K[0]*299+K[1]*587+K[2]*114)/1000}w.rgb2grayscale=t;function x(L,M,Q){var K=M>=1?L.length-2:M/(1/(L.length-1))|0;var P=M>=1?1:M/(1/((L.length-1)||1))%1;
var O=L[K],N=L[K+1];if(!O||!N){N=O||N;O=[255,255,255,N[3]]}if(_.isFunction(Q)){return"#"+Q(O,N,P)}else{return v(P<0.5?O:N)}}w.gradientColor=x;function h(P,M,L){var O=((M[0]-P[0])*L+P[0])|0;var N=((M[1]-P[1])*L+P[1])|0;var K=((M[2]-P[2])*L+P[2])|0;return e(O,N,K)
}w.interpolateRGB=h;function n(N,L,P){var Q=I(N[0],N[1],N[2]),O=I(L[0],L[1],L[2]),K=function(V,U){return V*(1-P)+U*P},T=function(V,U){if(Math.abs(V-U)>180){if(V<U){V+=360}else{U+=360}}return K(V,U)%360};var M=T(Q.h,O.h),S=K(Q.s,O.s),R=K(Q.v,O.v);return z(M,S,R)
}w.interpolateHSV=n})(c=d.colorpicker||(d.colorpicker={}))})(b=a.react||(a.react={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b;(function(d){var c;(function(f){function g(j,i,h){return i<h?(j<i?i:j>h?h:j):(j<h?h:j>i?i:j)}f.clamp=g;var e=(function(i){__extends(h,i);function h(k,j){var l=this;i.call(this,k,j);this._drag=function(m){l.setState({dragging:true});
var o=m.clientX+l.state.start.x-l.state.offset.x;var n=m.clientY+l.state.start.y-l.state.offset.y;l.change({left:o,top:n})};this._dragEnd=function(){l.setState({dragging:false});window.removeEventListener("mousemove",l._drag);window.removeEventListener("mouseup",l._dragEnd)
};this.state={dragging:false}}h.prototype.change=function(k){var j=this.getOwnBoundingRect();this.props.onChange({x:g(k.left,0,j.width)/j.width*this.props.xmax,y:g(k.top,0,j.height)/j.height*this.props.ymax})};h.prototype.getOwnBoundingRect=function(){return ReactDOM.findDOMNode(this).getBoundingClientRect()
};h.prototype._onMouseDown=function(l){var k=this.getOwnBoundingRect();var j=l.clientX,n=l.clientY;var m={left:j-k.left,top:n-k.top};this.change(m);this.setState({start:{x:m.left,y:m.top},offset:{x:j,y:n}});window.addEventListener("mousemove",this._drag);window.addEventListener("mouseup",this._dragEnd)
};h.prototype.render=function(){return(React.createElement("div",{onMouseDown:this._onMouseDown.bind(this),className:"slider-xy "+(this.state.dragging?"dragging-xy":"")},React.createElement("div",{className:"handle-xy "+this.props.handleClass,style:{top:g(this.props.y/this.props.ymax*100,0,100)+"%",left:g(this.props.x/this.props.xmax*100,0,100)+"%"}})))
};return h}(React.Component));f.XYControl=e})(c=d.colorpicker||(d.colorpicker={}))})(b=a.react||(a.react={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]
}}}return b};var ic3;(function(a){var b;(function(d){var c;(function(f){var h=function(i){return(i==="r"||i==="g"||i==="b")};var e=function(i){return(i==="h"||i==="s"||i==="v")};var g=(function(j){__extends(i,j);function i(l,k){j.call(this,l,k);this.state={originalValue:l.value,reset:l.reset,mode:l.mode,colorAttribute:l.colorAttribute,color:f.getColor(l.value||i.defaultProps.value),input:{focused:false,value:null}}
}i.prototype.componentWillReceiveProps=function(k,l){if(k.value){this.setState({color:f.getColor(k.value)})}};i.prototype.emitOnChange=function(k){this.props.onChange(_.merge({},this.state.color,{mode:this.state.mode},{colorAttribute:this.state.colorAttribute},k))
};i.prototype.changeHSV=function(k,l){var r=this;var n=this.state.color;var o=k;if(typeof o==="string"){o={};o[k]=Math.floor(parseInt(l.target.value||0,10))}var q="h" in o?o.h:n.h,w="s" in o?o.s:n.s,u="v" in o?o.v:n.v;var t=f.hsv2rgb(q,w,u);var m=f.rgb2hex(t.r,t.g,t.b);
n=_.merge({},n,o,t,{hex:m});this.setState({color:n},function(){r.emitOnChange(n)})};i.prototype.changeRGB=function(l,m){var t=this;var n=this.state.color;var o=l;if(typeof o==="string"){o={};o[l]=Math.floor(parseInt(m.target.value||0,10))}var k="r" in o?o.r:n.r,s="g" in o?o.g:n.g,u="b" in o?o.b:n.b;
var q=f.rgb2hsv(k,s,u);n=_.merge({},n,o,q,{hex:f.rgb2hex(k,s,u)});this.setState({color:n},function(){t.emitOnChange(n)})};i.prototype.changeAlpha=function(n){var o=this;var m=n.target.value||"0";if(m&&typeof m==="string"){var k=Math.floor(parseFloat(m));var l=_.merge({},this.state.color,{a:k/100});
this.setState({color:l},function(){o.emitOnChange(l)})}};i.prototype.changeHEX=function(n){var o=this;var m="#"+n.target.value.trim();var l=f.parseCSSColor(m);var k=f.getColor(m)||this.state.color;this.setState({color:l?k:_.merge({},k,{hex:n.target.value.trim()})},function(){if(l){o.emitOnChange({input:"hex"})
}})};i.prototype.reset=function(){this.setState({color:f.getColor(this.state.originalValue||i.defaultProps.value)},this.emitOnChange)};i.prototype.setMode=function(l){var m=this;var k={mode:l.target.value};this.setState(k,function(){m.emitOnChange(k)})};i.prototype.setColorAttribute=function(k){var m=this;
var l={colorAttribute:k};this.setState(l,function(){m.emitOnChange(l)})};i.prototype._onInputFocus=function(m,k){var l=k.target.value;this.setState({input:{value:l,focused:m}})};i.prototype._onInputChange=function(n){var q=this;var p=this.state.input.focused;
var m=n.target.value.replace(/[^0-9A-F]/gi,"").substr(0,6);var o="#"+m;var l=f.parseCSSColor(o);var k=f.getColor(o)||this.state.color;this.setState({color:l?k:_.merge({},k,{hex:m}),input:{focused:p,value:o}},function(){if(l){q.emitOnChange({input:"hex"})}})
};i.prototype._onXYChange=function(l,m){var k=f.colorCoordValue(l,m);if(h(l)){this.changeRGB(k)}if(e(l)){this.changeHSV(k)}};i.prototype._onColorSliderChange=function(m,l){var k={};k[m]=parseFloat(l.target.value);if(h(m)){this.changeRGB(k)}if(e(m)){this.changeHSV(k)
}};i.prototype._onAlphaSliderChange=function(k){this.changeHSV({a:Math.floor(parseFloat(k.target.value))/100})};i.prototype.renderPalette=function(){var k=this;return(React.createElement("div",{className:"cp-floor"},_.map(this.props.palette,function(l){return React.createElement("div",{className:"palette-color",style:{backgroundColor:l},onClick:function(){k.props.onChange(f.getColor(l))
}})})))};i.prototype.render=function(){var B=this;var o=this.state,x=o.colorAttribute,C=o.color,m=o.input,t=m.focused,A=m.value;var z=C.r,G=C.g,I=C.b,F=C.h,y=C.s,w=C.v,p=C.hex;var J=Math.round(C.a*100);var q=C[x];var D;if(h(x)){D=255}else{if(x==="h"){D=359}else{D=100
}}var n=f.rgbaColor(z,G,I,J);var H="linear-gradient(to right, "+f.rgbaColor(z,G,I,0)+", "+f.rgbaColor(z,G,I,100)+")";var l="#"+f.hsv2hex(F,100,100);var E=f.colorCoords(x,C);var u={};if(x==="v"){u.background="linear-gradient(to left, "+l+" 0%, #000 100%)"}else{if(x==="s"){u.background="linear-gradient(to left, "+l+" 0%, #bbb 100%)"
}}var K={},k={};if(["r","g","b"].indexOf(x)>=0){K.opacity=Math.round((C[x]/255)*100)/100;k.opacity=Math.round(100-((C[x]/255)*100))/100}else{if(["s","v"].indexOf(x)>=0){K.opacity=Math.round((C[x]/100)*100)/100;k.opacity=Math.round(100-((C[x]/100)*100))/100}}return(React.createElement("div",{className:"colorpickr"},React.createElement("div",{className:"cp-body"},React.createElement("div",{className:"cp-col"},React.createElement("div",{className:"cp-selector"},x==="r"&&React.createElement("div",null,React.createElement("div",{className:"cp-gradient cp-rgb cp-r-high",style:K}),React.createElement("div",{className:"cp-gradient cp-rgb cp-r-low",style:k})),x==="g"&&React.createElement("div",null,React.createElement("div",{className:"cp-gradient cp-rgb cp-g-high",style:K}),React.createElement("div",{className:"cp-gradient cp-rgb cp-g-low",style:k})),x==="b"&&React.createElement("div",null,React.createElement("div",{className:"cp-gradient cp-rgb cp-b-high",style:K}),React.createElement("div",{className:"cp-gradient cp-rgb cp-b-low",style:k})),x==="h"&&React.createElement("div",null,React.createElement("div",{className:"cp-gradient",style:{backgroundColor:l}}),React.createElement("div",{className:"cp-gradient cp-light-left"}),React.createElement("div",{className:"cp-gradient cp-dark-bottom"})),x==="s"&&React.createElement("div",null,React.createElement("div",{className:"cp-gradient cp-s-high",style:K}),React.createElement("div",{className:"cp-gradient cp-s-low",style:k}),React.createElement("div",{className:"cp-gradient cp-dark-bottom"})),x==="v"&&React.createElement("div",null,React.createElement("div",{className:"cp-gradient cp-v-high",style:K}),React.createElement("div",{className:"cp-gradient cp-light-bottom",style:K}),React.createElement("div",{className:"cp-gradient cp-v-low",style:k})),React.createElement(f.XYControl,__assign({className:"cp-slider-xy"},E,{handleClass:f.isDark([z,G,I,J])?"":"dark",onChange:this._onXYChange.bind(this,x)}))),React.createElement("div",{className:"cp-colormode-slider cp-colormode-attribute-slider "+x},React.createElement("input",{type:"range",value:q,style:u,onChange:this._onColorSliderChange.bind(this,x),className:"cp-colormode-slider-input",min:0,max:D})))),React.createElement("div",{className:"cp-floor"},React.createElement("div",{className:"palette-color auto",style:{border:"1px solid darkgrey"},onClick:function(){B.props.onChange(f.getColor(null),null)
}}),React.createElement("div",{className:"palette-color transparent",style:{border:"1px solid darkgrey"},onClick:function(){B.props.onChange(f.getColor("transparent"),"transparent")}}),React.createElement("div",{className:"palette-color",style:{backgroundColor:"black"},onClick:function(){B.props.onChange(f.getColor("black"))
}}),React.createElement("div",{className:"palette-color",style:{backgroundColor:"white"},onClick:function(){B.props.onChange(f.getColor("white"))}})),_.isEmpty(this.props.palette)?null:this.renderPalette()))};i.defaultProps={value:"#3887be",reset:true,mode:"rgb",colorAttribute:"h"};
return i}(React.Component));f.ColorPicker=g})(c=d.colorpicker||(d.colorpicker={}))})(b=a.react||(a.react={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){a.CodeMirrorMode={JAVASCRIPT:{mode:"javascript"},JSON:{mode:{name:"javascript",json:true}},CSS:{mode:"css"},HTML:{mode:"xml"},EXPRESSION:{mode:"ic3-expression"},MDX:{mode:"mdx"}};
var b=(function(d){__extends(c,d);function c(f,e){var g=this;d.call(this,f,e);this.codeMirror=null;this.replaceSelection=function(h){g.codeMirror.getDoc().replaceSelection(h)}}c.prototype.componentDidMount=function(){this.setupCodeMirror()};c.prototype.componentDidUpdate=function(f,g,e){if(this.codeMirror.getDoc().getValue()!=this.props.value){this.codeMirror.getDoc().setValue(this.props.value)
}if(this.codeMirror.getOption("mode")!=this.props.mode.mode){this.codeMirror.setOption("mode",this.props.mode.mode)}};c.prototype.handleMouseDown=function(e,f){var g=this.props.onMouseDown;g&&g(f)};c.prototype.handleChange=function(e){var f=this.props.onChange;
f&&f(e.getValue())};c.prototype.handleKeyUp=function(e,f){if(!e.state.completionActive&&(/[\w\.\[\]]/i.test(String.fromCharCode(f.keyCode))||f.keyCode===190)){CodeMirror.commands.autocomplete(e,null,{completeSingle:false})}};c.prototype.setupCodeMirror=function(){var f=this;
var e={indentUnit:4,tabMode:"shift",matchBrackets:true,extraKeys:_.assign({"Shift-Space":"autocomplete"},this.props.extraKeys),value:this.props.value};_.extend(e,this.props.mode);e.extraKeys.F11=function(g){g.setOption("fullScreen",!g.getOption("fullScreen"))
};e.extraKeys.Esc=function(g){if(g.getOption("fullScreen")){g.setOption("fullScreen",false)}};this.codeMirror=new CodeMirror(ReactDOM.findDOMNode(this.refs.codeMirrorContainer),e);this.codeMirror.on("changes",this.handleChange.bind(this));this.codeMirror.on("mousedown",this.handleMouseDown.bind(this));
this.codeMirror.on("keyup",_.debounce(this.handleKeyUp.bind(this),500));if(this.props.readOnlyHeader){this.codeMirror.on("beforeChange",function(g,h){if(h.from.line<f.props.readOnlyHeader||h.from.line>=g.lastLine()){h.cancel()}else{if(h.to.line<f.props.readOnlyHeader||h.to.line>=g.lastLine()){h.cancel()
}}})}if(this.props.stretch){this.codeMirror.setSize("100%","100%")}if(_.isFunction(this.props.autocomplete)){this.codeMirror.getOption("extraKeys")["Ctrl-Space"]="autocomplete";this.codeMirror.ic3autocompleteRequest=this.props.autocomplete}};c.prototype.render=function(){var e=this.props.stretch;
var f={width:e?"100%":null,height:e?"100%":null};return React.createElement("div",{ref:"codeMirrorContainer",style:f})};return c}(React.Component));a.ReactCodeMirror=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(a){var b;(function(d){var c=(function(){function f(){}f.TEXT_ONLY="text-only";f.ICONS_ONLY="icons-only";f.ICONS_WITH_TEXT="icons-text";
return f}());d.WidgetMenuItemsMode=c;var e=(function(f){__extends(g,f);function g(i,h){var j=this;f.call(this,i,h);this.mouseDownEventListener=function(k){if($(k.target).closest(".ic3-widget-menu").length<=0){j.setState({opened:[]})}};this.state={opened:[]}
}g.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.mouseDownEventListener)};g.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.mouseDownEventListener)};g.prototype.val=function(i,h){return _.isUndefined(i)?h:_.isFunction(i)?i():i
};g.prototype.getMenuSize=function(j){var i=_.merge(document.createElement("div"),{style:{position:"absolute",left:0,top:0,visibility:"hidden"}});document.body.appendChild(i);ReactDOM.render(this.renderMenu({item:j,left:0,top:0,container:i}),i);var k=i.querySelector(".ic3-widget-menu");
var h={width:k.offsetWidth,height:k.offsetHeight};ReactDOM.unmountComponentAtNode(i);i.parentNode.removeChild(i);return h};g.prototype.toggleMenu=function(j,q,m){var n=this,k=n.state.opened,o=n.props.rootItem;var i=q===o;var s=this.getMenuSize(q);var l=(i?ReactDOM.findDOMNode(this):m.currentTarget).getBoundingClientRect();
var r=l.right+s.width>window.innerWidth;var p=l.top+s.height>window.innerHeight;var h={item:q,flipX:r,flipY:p,left:i||r?l.left:l.right,top:i||p?l.bottom:l.top};this.setState({opened:k.slice(0,j+1).concat(h)})};g.prototype.handleMenuItemClick=function(j,i,h){if(_.isFunction(i.onClick)){i.onClick(h)
}if(_.size(i.items)>0){this.toggleMenu(j,i,h)}else{this.setState({opened:[]})}};g.prototype.renderMenuItem=function(o,j,p){var l=o===c.ICONS_ONLY;var i=o===c.ICONS_ONLY||o===c.ICONS_WITH_TEXT;var k=o===c.TEXT_ONLY||o===c.ICONS_WITH_TEXT;var m=this.val(p.enabled,true);
var h=this.val(p.visible,true);var n=classNames("item",this.val(p.itemClass),{empty:p.items&&p.items.length<=0,opened:_.includes(this.state.opened,{item:p}),disabled:!m});return h?(React.createElement("div",{key:p.id,className:n,title:l?p.title:null,onClick:m?this.handleMenuItemClick.bind(this,j,p):null,"data-ic3-theme-component":"item"},i?React.createElement("div",{"data-ic3-theme-component":"icon",className:classNames("icon",p.icon)}):null,k?React.createElement("div",{"data-ic3-theme-component":"text",className:"text"},p.title):null)):null
};g.prototype.renderMenu=function(k,n){var h=ic3.react.RenderInBody;var s=k.item,l=k.left,q=k.top,u=k.flipX,t=k.flipY,i=k.container;var o=s===this.props.rootItem;var r=s.itemsMode||(o?c.ICONS_ONLY:c.TEXT_ONLY);var p=classNames("ic3-widget-menu",r,this.val(s.itemsListClass),{root:o});
var j=classNames({"ic3-flip-x":u&&!t,"ic3-flip-y":!u&&t,"ic3-flip-xy":u&&t});return(React.createElement(h,{key:"menu"+s.id,top:q,left:l,visible:true,className:j,targetElement:i,containerProps:{className:p,"data-ic3-theme-component":"widgetMenu"}},_.map(s.items,this.renderMenuItem.bind(this,r,n))))
};g.prototype.render=function(){var l=this,j=l.props,n=j.visible,k=j.children,i=j.rootItem,m=l.state.opened;var h=this.context.reportingContext;return n?(React.createElement("span",{className:"glyphicons glyphicons-show-lines",onClick:this.toggleMenu.bind(this,-1,i),style:{visibility:this.state.opened.length>0?"visible":null}},_.map(this.state.opened,this.renderMenu.bind(this)),k)):null
};g.contextTypes={reportingContext:React.PropTypes.object};return g}(React.Component));d.WidgetMenu=e})(b=a.widget||(a.widget={}))})(viz||(viz={}));var viz;(function(a){function c(d){return _.last(React.renderToString(React.createElement("div",{style:d})).match(/(style=")(.*?)"/))
}a.reactCSSObjectToString=c;function b(e){var g=/^-(ms-|moz-|webkit-)/;var f=/-(.)/g;function d(i){i.replace(g,"$1");i=i.replace(f,function(k,j){return j.toUpperCase()});return i}if(typeof e!=="string"||e.trim().length==0){return null}var h={};_.each(e.split(";"),function(j){var k=j.split(":");
if(k.length<2){return false}var i=d(k[0]);h[i]=k[1]});return h}a.reactCSSObject=b})(viz||(viz={}));var ic3;(function(ic3){ic3.ic3version={kit:"6.0.2",rev:"3961"};function isUndefined(obj){return typeof obj==="undefined"}ic3.isUndefined=isUndefined;function parseArray(array){if(!$.isArray(array)){try{array=JSON.parse(array);
if(!$.isArray(array)){return null}}catch(ex){return null}}return array}ic3.parseArray=parseArray;function assert(message){throw message}ic3.assert=assert;function assertAbstract(method,object){throw method+" is abstract in class "+object.classID}ic3.assertAbstract=assertAbstract;
ic3.logMsgActive=/[?&]ic3log=/.test(window.location.href);function logMsg(message){if(ic3.logMsgActive&&window.console){window.console.info.apply(window.console,[message])}}ic3.logMsg=logMsg;(function(){if(ic3.logMsgActive){logMsg("[ic3] log is active")}})();
function exist(item){return item!==null&&item!==undefined}ic3.exist=exist;function isNumber(n){return !isNaN(parseFloat(n))&&isFinite(n)}ic3.isNumber=isNumber;function isInt(n){return !isNaN(parseInt(n))&&isFinite(n)}ic3.isInt=isInt;function isString(arg){return typeof arg=="string"
}ic3.isString=isString;function isBoolean(arg){return typeof arg=="boolean"}ic3.isBoolean=isBoolean;function toCssWidth(value){if(value==undefined||value<0.0001){return"0"}return value.toString()}ic3.toCssWidth=toCssWidth;function min(v1,v2){if(v1==null){return v2
}if(v2==null){return v1}return Math.min(v1,v2)}ic3.min=min;function max(v1,v2){if(v1==null){return v2}if(v2==null){return v1}return Math.max(v1,v2)}ic3.max=max;function fixNaN(n){if(typeof n=="number"){if(isNaN(n)){return{NaN_:0}}else{if(!isFinite(n)){return{NaN_:1}
}}}return n}ic3.fixNaN=fixNaN;function asCssSize(size,zoom){var isNum=isNumber(size);if(!isNum){return size}var zSize=isUndefined(zoom)?size:size*zoom;return zSize+"px"}ic3.asCssSize=asCssSize;function uniqueArray(array){var result=[];$.each(array,function(i,v){if($.inArray(v,result)==-1){result.push(v)
}});return result}ic3.uniqueArray=uniqueArray;function arrayCopy(array){var result=[];result.push.apply(result,array);return result}ic3.arrayCopy=arrayCopy;function arrayJoin(array,separator){if(!$.isArray(array)){return array}separator=separator?separator:",";
var result="";each(array,function(idx,item){if(item){result+=(result===""?"":separator)+item.toString()}});return result}ic3.arrayJoin=arrayJoin;function arrayJoinQuick(array,separator){if(!$.isArray(array)){return array}separator=separator?separator:",";return array.join(separator)
}ic3.arrayJoinQuick=arrayJoinQuick;function arrayConcat(dest){var src=[];for(var _i=1;_i<arguments.length;_i++){src[_i-1]=arguments[_i]}if(src){for(var i=0;i<src.length;i++){dest.push.apply(dest,src[i])}}return dest}ic3.arrayConcat=arrayConcat;function arrayEquals(arr1,arr2){if(arr1.length!==arr2.length){return false
}for(var i=0;i<arr1.length;i++){if(arr1[i]!==arr2[i]){return false}}return true}ic3.arrayEquals=arrayEquals;function addToCssSize(cssSize,number){if(isNumber(cssSize)){return parseInt(cssSize)+number}var cssLength=cssSize.length;var lastTwo=cssSize.substring(cssLength-2,cssLength);
if(lastTwo==="px"){var cssNumber=cssSize.substring(0,cssLength-2);if(isNumber(cssNumber)){return(parseInt(cssNumber)+number)+lastTwo}}return cssSize}ic3.addToCssSize=addToCssSize;function asBoolean(booleanObject){if(typeof booleanObject==="boolean"){return booleanObject
}if(booleanObject==null){return false}var num=parseInt(booleanObject);if(isNaN(num)){if(typeof booleanObject==="string"){var toLowerCase=booleanObject.toLowerCase();return toLowerCase==="true"||toLowerCase==="yes"}else{return false}}return num!=0}ic3.asBoolean=asBoolean;
function replaceAll(string,from,to,ignoreCase){return string.replace(new RegExp(from.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),(ignoreCase?"gi":"g")),(typeof(to)=="string")?to.replace(/\$/g,"$$$$"):to)}ic3.replaceAll=replaceAll;function startsWith(string,prefix){return string.indexOf(prefix)===0
}ic3.startsWith=startsWith;function arrayRemove(array,item){for(var i=0;i<array.length;i++){if(item===array[i]){array.splice(i,1)}}}ic3.arrayRemove=arrayRemove;function arrayRemoveFirst(array,item){array.splice(array.indexOf(item),1)}ic3.arrayRemoveFirst=arrayRemoveFirst;
function arrayRemoveByProperty(array,property,value){for(var i=0;i<array.length;i++){if(value===array[i][property]){array.splice(i,1)}}}ic3.arrayRemoveByProperty=arrayRemoveByProperty;function arrayRemoveNulls(array){if(array){for(var i=0;i<array.length;i++){if(array[i]==null){array.splice(i,1);
i--}}}}ic3.arrayRemoveNulls=arrayRemoveNulls;function arrayContains(array,item){for(var i=0;i<array.length;i++){if(item===array[i]){return true}}return false}ic3.arrayContains=arrayContains;function arrayIndexOf(array,property,propertyValue){if(array==null){return null
}for(var i=0;i<array.length;i++){var item=array[i];if(prop(item,property)===propertyValue){return i}}return null}ic3.arrayIndexOf=arrayIndexOf;function arrayLookup(array,property,propertyValue){if(array==null){return null}for(var i=0;i<array.length;i++){var item=array[i];
if(prop(item,property)===propertyValue){return item}}return null}ic3.arrayLookup=arrayLookup;function arrayLookupMulti(array,property,values){var matches=[];if($.isArray(array)){for(var i=0;i<array.length;i++){var item=array[i];if($.inArray(prop(item,property),values)>=0){matches.push(item)
}}}return matches}ic3.arrayLookupMulti=arrayLookupMulti;function arrayLookupCaseInsensitive(array,property,propertyValue){for(var i=0;i<array.length;i++){var item=array[i];var val=prop(item,property);if(val&&val.toLowerCase()===propertyValue.toLowerCase()){return item
}}return null}ic3.arrayLookupCaseInsensitive=arrayLookupCaseInsensitive;function arrayMinus(from,array){var newArray=[];for(var i=0;i<from.length;i++){var item=from[i];if(!arrayContains(array,item)){newArray.push(item)}}return newArray}ic3.arrayMinus=arrayMinus;
function arrayGetBound(array,pos){var boundPos=Math.max(0,Math.min(pos,array.length-1));return array[boundPos]}ic3.arrayGetBound=arrayGetBound;function arrayInsert(a1,pos,a2){a1.splice.apply(a1,[pos,0].concat(a2));return a1}ic3.arrayInsert=arrayInsert;function arraySafeIndex(array,pos,cycle){if(!$.isArray(array)||pos==null){return null
}var arrayLength=array.length;if(pos<0){return cycle?arrayLength-1:null}if(pos>arrayLength-1){return cycle?0:null}return pos}ic3.arraySafeIndex=arraySafeIndex;function arrayProps(array,property){var arr=[];if($.isArray(array)){for(var ii=0;ii<array.length;ii++){arr.push(prop(array[ii],property))
}}else{arr.push(prop(array,property))}return arr}ic3.arrayProps=arrayProps;function arrayReplace(array,item){var replacement=[];for(var _i=2;_i<arguments.length;_i++){replacement[_i-2]=arguments[_i]}replacement.unshift(array.indexOf(item),1);array.splice.apply(array,replacement)
}ic3.arrayReplace=arrayReplace;function objectIsEmpty(object){if(object==null){return true}if(Object.keys){return Object.keys(object).length==0}for(var k in object){if(object.hasOwnProperty(k)){return false}}return true}ic3.objectIsEmpty=objectIsEmpty;function uniques(strings){var uniques=[];
var holder={};each(strings,function(idx,item){holder[item]=1});each(holder,function(key,value){uniques.push(key)});return uniques}ic3.uniques=uniques;function escapeHTMLNotNullString(value){return value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")
}ic3.escapeHTMLNotNullString=escapeHTMLNotNullString;function escapeHTML(value){if(value==null){return""}if(typeof value==="string"){return escapeHTMLNotNullString(value)}if(typeof value.toString==="function"){return escapeHTMLNotNullString(value.toString())
}return escapeHTMLNotNullString("<object>")}ic3.escapeHTML=escapeHTML;function escapeAttributeNotNullString(value){return value.replace(/'/g,"&quot;").replace(/'/g,"&apos;")}ic3.escapeAttributeNotNullString=escapeAttributeNotNullString;function escapeAttribute(value){if(value==null){return""
}if(typeof value==="string"){return escapeAttributeNotNullString(value)}if(typeof value.toString==="function"){return escapeAttributeNotNullString(value.toString())}return escapeAttributeNotNullString("<object>")}ic3.escapeAttribute=escapeAttribute;function isFalse(property){return property===false||(typeof property=="string"&&property.toLowerCase()=="false")
}ic3.isFalse=isFalse;function isTrue(property){return property===true||(typeof property=="string"&&property.toLowerCase()=="true")}ic3.isTrue=isTrue;function isEmptyString(str){return str==null||(str.length===0&&typeof str==="string")}ic3.isEmptyString=isEmptyString;
function endsWith(str,suffix){return str.indexOf(suffix,str.length-suffix.length)!==-1}ic3.endsWith=endsWith;function isFalseValue(value){return value===false||value===0||_.isString(value)&&/^(no|off|0|n)$/gi.test(value)}ic3.isFalseValue=isFalseValue;function firstLine(str){if(str!=null){str=str.split("\n")[0];
return str}return str}ic3.firstLine=firstLine;function getKeys(obj){var keys=[];for(var key in obj){keys.push(key)}return keys}ic3.getKeys=getKeys;ic3.uniqueId=function(){var uniqueId=0;return function(pref){return(pref?(pref+"-"):"ic3-")+(++uniqueId)}}();ic3.oUId=function(){var uniqueId=0;
return function(){return(++uniqueId)}}();function each(iterable,callback){if(iterable&&!ic3.isString(iterable)){$.each(iterable,callback)}}ic3.each=each;function decorateDiv($div,css){if($div&&css){if(css.cssClass){$div.addClass(css.cssClass)}if(css.cssStyle){var fs=$div.attr("style");
$div.attr("style",appendIfNotPresent(fs,";")+css.cssStyle+";")}}return $div}ic3.decorateDiv=decorateDiv;function prop(obj,property,value){if(obj==null||property==="this"){return obj}var prop=obj[property];if(typeof prop==="function"){return(value==null)?prop.call(obj):prop.call(obj,value)
}else{return(value==null)?prop:obj[property]=value}}ic3.prop=prop;function asMdxSet(array,property,addBracketsToItems,removeInitialBrackets){var openBracket=removeInitialBrackets?"":"{";var closeBracket=removeInitialBrackets?"":"}";if(ic3.isArray(array)){var ret=openBracket;
for(var i=0;i<array.length;i++){ret+=i==0?"":", ";if(addBracketsToItems){ret+="["+prop(array[i],property)+"]"}else{ret+=prop(array[i],property)}}return ret+closeBracket}else{if(addBracketsToItems){return openBracket+"["+prop(array,property)+"] "+closeBracket
}else{return openBracket+prop(array,property)+closeBracket}}}ic3.asMdxSet=asMdxSet;function appendIfNotPresent(str,last){if(str==null){return""}if(str.charAt(str.length-1)===last){return str}return str+last}ic3.appendIfNotPresent=appendIfNotPresent;function escapeMdxName(name){return name.replace(/\]/g,"]]")
}ic3.escapeMdxName=escapeMdxName;function escapeRegex(str){return str.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\\\$&")}ic3.escapeRegex=escapeRegex;function queryString(url){return(function(str){if(str==""){return{}}var params=str.split("&");var decoded={};for(var i=0;
i<params.length;++i){var p=params[i].split("=");if(p.length==2){decoded[p[0]]=decodeURIComponent(p[1].replace(/\+/g," "))}}return decoded})(url?url:window.location.search.substr(1))}ic3.queryString=queryString;function callMethod(options,callback){var args=[];
for(var _i=2;_i<arguments.length;_i++){args[_i-2]=arguments[_i]}var fn=options?options[callback]:null;if(typeof fn==="function"){return fn.apply(options,args)}}ic3.callMethod=callMethod;function iPad(){var ua=navigator.userAgent;return/iPad/i.test(ua)||/iPhone/i.test(ua)
}ic3.iPad=iPad;function iPhone(){var ua=navigator.userAgent;return/iPhone/i.test(ua)}ic3.iPhone=iPhone;function fireFox(){var ua=navigator.userAgent;return/firefox/i.test(ua)}ic3.fireFox=fireFox;function containsEventAccessor(str){if(str==null){return false
}return str.indexOf("@")!==-1}ic3.containsEventAccessor=containsEventAccessor;function eventAccessorDefinitions(str,gutsPath){if(str==null){return[]}var pattern=/@\{([^!:\}]+)(:([^!\}]+))?(!([^\}]+)?)?\}/g;var match;var maccessors={};while(match=pattern.exec(str)){var lexeme=match[0];
var name=match[1];var getter=match[3];var hasDefaultValue=match[4];var defaultValue=match[5];maccessors[lexeme]={gutsPath:gutsPath?gutsPath:null,lexeme:lexeme,name:name,getter:getter?getter:null,defaultValue:defaultValue?defaultValue:(hasDefaultValue?"":null)}
}var accessors=[];each(maccessors,function(idx,item){accessors.push(item)});return accessors}ic3.eventAccessorDefinitions=eventAccessorDefinitions;function eventAccessors(str,gutsPath){var accessors=eventAccessorDefinitions(str,gutsPath);each(accessors,function(idx,item){if(item.getter){var property=item.getter;
item.getter=function(x){return prop(x,property)}}});return accessors}ic3.eventAccessors=eventAccessors;function caption(entity){var caption;if(ic3.isString(entity)){caption=entity}else{if(entity){caption=entity.caption?entity.caption:entity.name}else{caption=null
}}if(typeof caption==="function"){caption=caption.call(entity)}return caption}ic3.caption=caption;function isTouchDevice(){return(("ontouchstart" in window)||(navigator.msMaxTouchPoints>0))}ic3.isTouchDevice=isTouchDevice;function isMacOsX(){return navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Mac OS X")!=-1
}ic3.isMacOsX=isMacOsX;function clearObject(object){for(var key in object){if(object.hasOwnProperty(key)){delete object[key]}}}ic3.clearObject=clearObject;function isFunction(fn){return $.isFunction(fn)}ic3.isFunction=isFunction;function isArray(ar){return $.isArray(ar)
}ic3.isArray=isArray;function isObject(item){return item!==null&&typeof item==="object"}ic3.isObject=isObject;function evalExpression(expression,ic3reporting){if(!ic3.isString(expression)||expression.charAt(0)!==":"){return expression}var expr=expression.substr(1);
if(expr.charAt(0)===":"){return expr}var temp;eval("temp = "+expr);return temp}ic3.evalExpression=evalExpression;function calcExtraHeight(el,position){var h=0;if(!position||position==="top"){h+=cssInt(el,"padding-top")+cssInt(el,"margin-top")+cssInt(el,"border-top-width")
}if(!position||position==="bottom"){h+=cssInt(el,"padding-bottom")+cssInt(el,"margin-bottom")+cssInt(el,"border-bottom-width")}return h}ic3.calcExtraHeight=calcExtraHeight;function calcExtraWidth(el,position){var w=0;if(!position||position==="left"){w+=cssInt(el,"padding-left")+cssInt(el,"margin-left")+cssInt(el,"border-left-width")
}if(!position||position==="right"){w+=cssInt(el,"padding-right")+cssInt(el,"margin-right")+cssInt(el,"border-right-width")}return w}ic3.calcExtraWidth=calcExtraWidth;function cssInt(cell,css){return parseFloat(cell.css(css))||0}function stringToArray(string){if(string&&!_.isEmpty(string)){return _.map(string.split(","),function(w){var value=parseInt(w);
return !_.isNaN(value)&&value})}return[]}ic3.stringToArray=stringToArray;ic3.IE_VERSION=(function(){var undef,v=3,div=document.createElement("div"),all=div.getElementsByTagName("i");while(div.innerHTML="<!--[if gt IE "+(++v)+"]><i></i><![endif]-->",all[0]){}return v>4?v:undef
}());ic3.keyCodes={SHIFT:16,CTRL:17,ALT:18,COMMAND:224};function isValidDate(date){return date.getTime()===date.getTime()}ic3.isValidDate=isValidDate;ic3.browserPageVisibility=(function(){var stateKey,eventKey,keys={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};
for(stateKey in keys){if(stateKey in document){eventKey=keys[stateKey];break}}return function(c){if(c){document.addEventListener(eventKey,c)}return !document[stateKey]}})();ic3.removeListenerBrowserPageVisibility=(function(){var stateKey,eventKey,keys={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};
for(stateKey in keys){if(stateKey in document){eventKey=keys[stateKey];break}}return function(c){if(c){document.removeEventListener(eventKey,c)}}})()})(ic3||(ic3={}));var viz;(function(n){function j(p){if(window.console){window.console.log(p)}}n.error=j;function h(p){if(typeof p==="string"){n.asDiv(p);
return p}else{var q=n.asDiv(p).attr("id");if(q==null){n.error("missing id for container")}return q}}n.asDivId=h;function d(q,s,p){var r="";var t="";if(s){r=s.cssClass?" class='"+s.cssClass+"'":"";t=s.cssStyle?" style='"+s.cssStyle+"'":""}return"<"+q+r+t+(p?" "+p:"")+">"
}n.printElem=d;function k(q,r){if(!q){if(r){return null}n.error("divId cannot be null")}if(typeof q==="string"){var p=$("#"+q)}else{p=q}if(p.length!==1){n.error(ic3.format("internal : matching [{0}] div(s) for id [{1}] in the HTML document (expecting:1)",p.length,q))
}return p}n.asDiv=k;function i(p,q){if(!p){if(q){return null}n.error("divId cannot be null")}if(typeof p==="string"){return p}else{return p.attr("id")}}n.asDivName=i;n.isCaptureMousePositionActive=false;function a(p){var q=$(p);var r=q.offset();var s=p.contentDocument||p.contentWindow.document;
n.registerMousePositionListenerForDocument(s,r)}n.registerMousePositionListenerForIFrame=a;function l(q,r){var p=function(s){if(s.pageX||s.pageY){n.mouseX=s.pageX+(r?r.left:0);n.mouseY=s.pageY+(r?r.top:0)}else{if(s.clientX||s.clientY){n.mouseX=s.clientX+q.body.scrollLeft+q.documentElement.scrollLeft+(r?r.left:0);
n.mouseY=s.clientY+q.body.scrollTop+q.documentElement.scrollTop+(r?r.top:0)}}};if(q.addEventListener){q.addEventListener("mousemove",p,false);n.isCaptureMousePositionActive=true}else{if(q.attachEvent){q.attachEvent("onmousemove",p);n.isCaptureMousePositionActive=true
}}}n.registerMousePositionListenerForDocument=l;function g(p){return(!p||p.length===0)}n.isEmpty=g;function f(p){return(!p||/^\s*$/.test(p))}n.isBlank=f;function m(p){var q=0;ic3.each(p,function(r,s){if(s!=null){++q}});return q}n.countNonNullProperties=m;function e(s,r){if(s instanceof Array){var p="( ";
for(var q=0;q<s.length;q++){p+=q==0?"":", ";if(r){p+="["+s[q]+"]"}else{p+=s[q]}}return p+" )"}else{if(r){return"( ["+s+"] )"}else{return"( "+s+")"}}}n.asMdxTuple=e;var o=(function(){function p(q){this.strings=[];this.append(q)}p.prototype.append=function(q){if(q){this.strings.push(q)
}return this};p.prototype.clear=function(){this.strings.length=0;return this};p.prototype.asString=function(){return this.strings.join("")};p.prototype.toString=function(){return this.asString()};p.prototype.prepend=function(q){if(q){this.strings.unshift(q)
}return this};return p}());n.StringBuilder=o;n.GviConstants={ic3_uncompressed_mdx_query:"_ic3_uncompressed_mdx_query",mdxNameTag:"<name>",Param:{action:"action",addDefaultMemberToMembers:"addDefaultMemberToMembers",asTree:"asTree",autocompleteContextType:"autocompleteContextType",autocompleteContextValue:"autocompleteContextValue",autocompleteEmptyToken:"autocompleteEmptyToken",autocompleteLength:"autocompleteLength",autocompletePos:"autocompletePos",cellCountMax:"cellCountMax",content:"content",cube:"cube",data:"data",dataName:"dataName",defaultMemberHierarchyUniqueName:"defaultMemberHierarchyUniqueName",defaultMemberName:"defaultMemberName",defaultsMdx:"defaultsMdx",dpi:"dpi",ds:"ds",embeddedReports:"embeddedReports",emptyFilters:"emptyFilters",emptyMeasure:"emptyMeasure",fileContent:"fileContent",fileName:"fileName",fileUuid:"fileUuid",filter:"filter",folderOnly:"folderOnly",fromNameError:"fromNameError",fromUuid:"fromUuid",hierarchyUniqueName:"hierarchyUniqueName",hierarchyOnly:"hierarchyOnly",inputFormat:"inputFormat",levelOnly:"levelOnly",locale:"locale",maxMemberCount:"maxMemberCount",mdx:"mdx",memberCaptionFormatter:"memberCaptionFormatter",memberIdFormatter:"memberIdFormatter",membersMdx:"membersMdx",membersMdxFilter:"membersMdxFilter",name:"name",noSelectionMdx:"noSelectionMdx",optionsJS:"optionsJS",outputFormat:"outputFormat",overwrite:"overwrite",path:"path",pathFrom:"pathFrom",pathTo:"pathTo",pageSize:"pageSize",pageOrientation:"pageOrientation",report:"report",printTimeout:"printTimeout",reportDateTime:"reportDateTime",reportFolderName:"reportFolderName",reportFolderUuid:"reportFolderUuid",reportLayers:"reportLayers",reportName:"reportName",reportNewName:"reportNewName",reportPath:"reportPath",reportSnapshot:"reportSnapshot",reportUuid:"reportUuid",revisionNumber:"revisionNumber",schema:"schema",schedule:"schedule",scheduleUuid:"scheduleUuid",sql:"sql",userName:"userName",userNameCheck:"userNameCheck",userPassword:"userPassword",uuid:"uuid",tableFormat:"tableFormat",timeout:"timeout",toNameError:"toNameError",toUuid:"toUuid",type:"type",version:"version",widgetTemplates:"widgetTemplates",withWidgetTemplates:"withWidgetTemplates",zoom:"zoom",requests:"requests"},Action:{alertScheduleCreate:"alertScheduleCreate",alertScheduleDrop:"alertScheduleDrop",alertScheduleList:"alertScheduleList",copyAppLocalEntity:"copyAppLocalEntity",createReportFolder:"createReportFolder",deleteAppLocalEntity:"deleteAppLocalEntity",deleteReport:"deleteReport",deleteReportFolder:"deleteReportFolder",echo:"echo",executeMdx:"executeMdx",executeSql:"executeSql",exportReport:"exportReport",exportReportToHtml:"exportReportToHtml",formatData:"formatData",getAppLocalEntity:"getAppLocalEntity",getAutocomplete:"getAutocomplete",getCubes:"getCubes",getDimensions:"getDimensions",getFilterInfo:"getFilterInfo",getHierarchies:"getHierarchies",getHierarchyLevels:"getHierarchyLevels",getLevels:"getLevels",getMeasures:"getMeasures",getMembers:"getMembers",getReportingMetaInfo:"getReportingMetaInfo",getReportNames:"getReportNames",getSchemas:"getSchemas",getWidgetTemplates:"getWidgetTemplates",listAppLocalEntityNames:"listAppLocalEntityNames",listReportNames:"listReportNames",login:"login",logout:"logout",moveAppLocalEntity:"moveAppLocalEntity",moveReportFolder:"moveReportFolder",openFile:"openFile",openReport:"openReport",printReport:"printReport",printReportBatch:"printReportBatch",printReportInBrowser:"printReportInBrowser",printReportInBrowserDone:"printReportInBrowserDone",printTestPage:"printTestPage",renameReport:"renameReport",renameReportFolder:"renameReportFolder",saveAppLocalEntity:"saveAppLocalEntity",saveAsReport:"saveAsReport",saveAsReportSnapshot:"saveAsReportSnapshot",saveFile:"saveFile",saveReport:"saveReport",saveReportLayers:"saveReportLayers",saveWidgetTemplates:"saveWidgetTemplates",schemaLastUpdate:"schemaLastUpdate",requestBatch:"requestBatch"},DataFormat:{table:"table",pivotTable:"pivotTable",excel:"excel"},TableFormat:{google:"google",ic3:"ic3"},AppLocalEntityType:{localization:"LOCALIZATION",widgetTemplate:"WIDGET_TEMPLATE",theme:"THEME"}};
n.GlobalConnectionSettings={timeout:30000};n.ConnectionJsonContainer=null;function c(p){n.ConnectionJsonContainer=[p]}n.ConnectionJsonCallback=c;n.RequestUid=0;n.DefaultErrorWidget={defaultErrorWidget:null,onError:function(p,q){var r=n.DefaultErrorWidget._assertDefaultErrorManager();
return r.onError(p,q)},onFailure:function(p,q){var r=n.DefaultErrorWidget._assertDefaultErrorManager();return r.onFailure(p,q)},_assertDefaultErrorManager:function(){var p=n.DefaultErrorWidget.defaultErrorWidget;if(!p){return{onError:function(q){var r=ic3.format("Request Error : Message : {0}",q.getMessage());
if(q.getAdditionalInformation()&&q.getAdditionalInformation().length>0){r+=ic3.format("divId cannot be null : Message : {0}",q.getAdditionalInformation())}alert(r)},onFailure:function(q){alert(ic3.format("Request Failure : Message : {0}",q.getMessage()))}}}return p
}};var b=(function(){function p(r,s,u,q,t){this.connection=r;this.inputFormat=s;this.outputFormat=u;this.dataName=q;this.dataProvider=t;this.formatDataContext={}}p.prototype.exportData=function(){var r=this.dataProvider();if(r){var q=new n.FormatDataRequest(this.formatDataContext,this.inputFormat,this.outputFormat,this.dataName,r);
this.connection.sendRequest(q)}};return p}());n.DataExporter=b})(viz||(viz={}));var vizParamConstants=viz.GviConstants.Param;var vizActionConstants=viz.GviConstants.Action;var vizDataFormatConstants=viz.GviConstants.DataFormat;var vizTableFormatConstants=viz.GviConstants.TableFormat;
var vizAppLocalEntityTypeConstants=viz.GviConstants.AppLocalEntityType;$.ajaxSetup({converters:{"text json-x":function(a){jQuery.globalEval("viz.ConnectionJsonCallback("+a+")");if(!viz.ConnectionJsonContainer){jQuery.error("internal error : viz.ConnectionJsonCallback was not called")
}var b=viz.ConnectionJsonContainer[0];viz.ConnectionJsonContainer=null;return b}}});var viz;(function(a){var b=(function(){function d(){}d.onSelection="ic3selection";d.onVizChange="onVizChange";d.onVizBeforeRequestSend="onVizBeforeRequestSend";d.onVizRequestExecuted="onVizRequestExecuted";
d.onVizRequestExecutedInError="onVizRequestExecutedInError";d.onQueryBack="ic3onQueryBack";d.doQueryBack="ic3queryBack";d.doQueryRefresh="ic3queryRefresh";d.onQueryHistorySizeChange="ic3queryHistorySizeChange";d.onCellClick="ic3cellClick";d.onRowClick="ic3rowClick";
d.onColumnClick="ic3columnClick";d.onLegendClick="ic3legendClick";d.onNewLabel="ic3newLabel";d.onGutsChange="ic3gutsChange";d.onButtonClick="ic3buttonClick";d.onInputChange="ic3inputChange";d.doSwitchColumnRows="ic3switchColumnsRows";d.doExportToExcel="ic3exportToExcel";
d.doExportAmChart="ic3exportAmChart";d.doSetChartType="ic3setChartType";d.doFilterToDefault="ic3filterToDefault";d.doSetSelection="ic3doSetSelection";d.doToggleSelection="ic3toggleSelection";d.doAddSelection="ic3doAddSelection";d.onMdxQueryGeneration="ic3mdxQueryGeneration";
d.onMdxQueryChange="ic3mdxQueryChange";d.doFireMdxQueryGeneration="ic3fireMdxQueryGeneration";d.onMdxQueryExecution="ic3mdxQueryExecution";d.doFireMdxQueryExecution="ic3fireMdxQueryExecution";d.doSetMdxContent="ic3doSetMdxContent";d.doToggleMdxQueryGenerationMode="ic3toggleMdxQueryGenerationMode";
d.doRowClick="ic3doRowClick";d.doOpenReport="ic3doOpenReport";d.onWidgetRendered="ic3widgetRendered";d.onReportRendered="ic3reportRendered";d.doResizeWidget="ic3doResizeWidget";d.doSelectAll="ic3doSelectAll";d.doSelectNone="ic3doSelectNone";return d}());a.EventType=b;
var c=(function(){function d(){}d.filter=[b.onSelection];d.chart=[b.onRowClick];return d}());a.EventHandlerDefault=c})(viz||(viz={}));var vizEventType=viz.EventType;var viz;(function(a){var b=(function(){function c(d){this.settings=$.extend({},a.GlobalConnectionSettings,d);
this.url=d.url;this.userName=d.userName;this.userPassword=d.userPassword;if(d.userNameCheck===null||(typeof d.userNameCheck==="undefined")){this.userNameCheck=true}else{this.userNameCheck=d.userNameCheck}this.loggedIn=false;this.pendingRequests=[];this.logSettings()
}c.prototype.actualSettings=function(){return this.settings};c.prototype.logSettings=function(){ic3.logMsg("---------------------------------------------------------------------------------------------");ic3.logMsg("[ic3-gvi] Data Source Settings : ");ic3.logMsg("                         - URL : "+this.url);
ic3.logMsg("                   - User Name : "+this.userName);ic3.logMsg("             - User Name Check : "+this.userNameCheck)};c.prototype.getUrl=function(){return this.url};c.prototype.getUrlForError=function(){return this.url};c.prototype.isCrossDomain=function(){var d=document.createElement("a");
d.href=document.location.href;var i=d.protocol;var f=d.host;var h=document.createElement("a");h.href=this.getUrl();var g=h.protocol;var e=h.host;return(i!=g)||(f!=e)};c.prototype.isLoginRequired=function(){return this.userName};c.prototype.isLoggedIn=function(){return this.loggedIn
};c.prototype.login=function(h,e){var d=this;var g=$.extend({},d.settings,e);d.ongoingLogin=true;var f=new a.Connection(this);f._sendRequest(new a.LoginGviRequest(d.userName,d.userPassword,d.userNameCheck),{onSuccess:function(l){d.ongoingLogin=false;d.loggedIn=true;
if(h&&h.onSuccess){var n=l.getValue(0,0);var j=l.getValue(0,1);h.onSuccess(n,j)}for(var k=0;k<d.pendingRequests.length;k++){var m=d.pendingRequests[k];m.connection.sendRequest(m.gviRequest,m.callback,m.settings)}},onError:function(i){d.ongoingLogin=false;if(h&&h.onError){h.onError(i)
}else{a.DefaultErrorWidget.onError(i)}},onFailure:function(i){d.ongoingLogin=false;if(h&&h.onFailure){h.onFailure(i)}else{a.DefaultErrorWidget.onFailure(i)}}},g)};c.prototype.logout=function(){var d=new a.Connection(this);if(!this.isLoginRequired()||this.isLoggedIn()){d._sendRequest(new a.LogoutGviRequest())
}else{this.addPendingRequest({connection:d,gviRequest:new a.LogoutGviRequest()})}};c.prototype.addPendingRequest=function(d){if(!this.ongoingLogin){a.error("Inconsistent request processing : missing a call to the viz.DataSource.login() function.")}this.pendingRequests.push(d)
};return c}());a.DataSource=b})(viz||(viz={}));var viz;(function(a){var c=require("buffer").Buffer;var d=require("lz4");var b=(function(){function e(g,f){this.connection=g;this.storedTypes=f;this.cacheMap={};this.pendingRequests={};this.cacheSize=0}e.prototype.isStorableType=function(f){return this.storedTypes.indexOf(f)>=0
};e.prototype.isCacheValid=function(h){var g=this;if(Date.now()-this.lastCheck<ic3globals.request.cache.schemaChangeCheckFrequency||60000){return h()}var f=new a.GviSchemaLastUpdate();return this.connection.sendRequest(f,{onSuccess:function(j){var i=f.extractResult(j);
g.lastRefreshTimestamp=i.timestamp;g.lastCheck=Date.now();if(g.lastRefreshTimestamp!=null&&i.timestamp!=g.lastRefreshTimestamp){g.clearCache()}setTimeout(h)}})};e.prototype.checkCacheSize=function(g){if(this.cacheSize+g<ic3globals.request.cache.maxSize*1048576){this.cacheSize+=g;
return}var f={key:"",hits:Number.MAX_VALUE};_.forEach(this.cacheMap,function(h,i){if(h.hits<f.hits){f={key:i,hits:h.hits}}});if(_.isEmpty(f.key)){this.clearCache()}else{delete this.cacheMap[f.key];this.checkCacheSize(g)}};e.prototype.processBeforeCache=function(h){h=JSON.stringify(h);
var g=new c(h);var f=new c(d.encodeBound(g.length));var i=d.encodeBlock(g,f);this.checkCacheSize(i||g.length);if(i==0){return{dataLength:g.length,data:h,compressed:false,hits:0}}else{f=f.slice(0,i);return{dataLength:g.length,data:f,compressed:true,hits:0}}};
e.prototype.processFromCache=function(h){if(!h.compressed){return JSON.parse(h.data)}else{var g=new c(h.data);var f=new c(h.dataLength);d.decodeBlock(g,f);return JSON.parse(f.toString())}};e.prototype.clearCache=function(){this.cacheMap={};this.cacheSize=0};
e.prototype.getKeyByType=function(f){switch(f.parameters.action){case a.GviConstants.Action.executeMdx:return JSON.stringify({mdx:f.parameters.mdx||f.parameters._ic3_gz_mdx,locale:f.parameters.locale});case a.GviConstants.Action.getFilterInfo:return JSON.stringify(_.omit(f.parameters,"action","openingReportId","timestamp","tqx","widgetUId","windowUId"))
}};e.prototype.storeRequest=function(h,f){if(this.isStorableType(h.parameters.action)&&f.status=="ok"){var g=this.getKeyByType(h);if(!_.isEmpty(g)){this.cacheMap[g]=this.processBeforeCache(f)}}};e.prototype.getStoredResponse=function(h){if(this.isStorableType(h.parameters.action)){var g=this.getKeyByType(h);
if(this.cacheMap.hasOwnProperty(g)){var f=this.cacheMap[g];f.hits++;return _.cloneDeep(this.processFromCache(f))}}};e.prototype.isPendingRequest=function(g){if(this.isStorableType(g.parameters.action)){var f=this.getKeyByType(g);return !!this.pendingRequests[f]
}};e.prototype.addPendingRequest=function(g,h){if(this.isStorableType(g.parameters.action)){var f=this.getKeyByType(g);if(!this.pendingRequests[f]){this.pendingRequests[f]=[];return true}else{this.pendingRequests[f].push(h);return false}}};e.prototype.setupPendingQueue=function(g){if(this.isStorableType(g.parameters.action)){var f=this.getKeyByType(g);
if(this.pendingRequests[f]){throw new Error("ic3 : Request pending queue already present. Incorrect behaviour.")}this.pendingRequests[f]=[]}};e.prototype.handlePendingRequests=function(h,i,f){if(this.isStorableType(h.parameters.action)){var g=this.getKeyByType(h);
if(this.pendingRequests[g]){_.each(this.pendingRequests[g],function(j){if(i){j.resolve(f)}else{j.reject(f)}})}delete this.pendingRequests[g]}};return e}());a.RequestCache=b})(viz||(viz={}));var viz;(function(a){var d=(function(){function e(g,h,f){this.dataSource=g;
this.schemaName=h;this.requestCache=ic3globals.request.cache.enabled&&new a.RequestCache(this,[a.GviConstants.Action.executeMdx,a.GviConstants.Action.getFilterInfo]);this.settings=$.extend({},g.settings,f)}e.prototype.getSchemaName=function(){return this.schemaName
};e.prototype.setSchemaName=function(f){this.schemaName=f};e.prototype.setMdxRequestManager=function(f){this.mdxRequestManager_=f};e.prototype.setRequestLocale=function(f){this.locale=f};e.prototype.sendRequest=function(f,i,g){var h=this;if(this.locale){f.addParameter(vizParamConstants.locale,this.locale)
}if(!this.dataSource.isLoginRequired()||this.dataSource.isLoggedIn()){if(this.requestCache&&this.requestCache.isStorableType(f.parameters.action)){this.requestCache.isCacheValid(function(){h._sendRequest(f,i,g)})}else{this._sendRequest(f,i,g)}}else{this.dataSource.addPendingRequest({connection:this,gviRequest:f,callback:i,settings:g})
}};e.prototype._sendRequest=function(q,l,v){var s=this;if(q.isWithAttachment()){this.sendAttachmentRequest_(q,l);return}var p=this;var t=$.extend({},p.settings,v);var w=q.getParameters();w[vizParamConstants.schema]=p.schemaName;var g;if(typeof ic3globals!=="undefined"&&typeof ic3globals.server!=="undefined"&&ic3globals.server.crossOriginAllowed){g=false
}else{g=p.dataSource.isCrossDomain()}var h;var i;var x;var o;if(g){var m=$.ajaxSettings;if(!$.isFunction(m.jsonpCallback)){alert("internal error: JQuery jsonCallback not setup")}var j=m.jsonpCallback();w.tqx="responseHandler:"+j;h="GET";i="jsonp";x=j;o={}}else{w.tqx="out:json";
h="POST";i="json-x";x=null;o={"X-DataSource-Auth":"a"}}if(this.mdxRequestManager_){this.mdxRequestManager_.onMdxRequestBeforeSend(q)}var u;if(this.mdxRequestManager_){u=this.mdxRequestManager_.getOpeningReportId()}var n=w[a.GviConstants.ic3_uncompressed_mdx_query];
delete w[a.GviConstants.ic3_uncompressed_mdx_query];if(this.requestCache){var k=function(y){setTimeout(r.bind(s,y))};var f=this.requestCache.getStoredResponse(q);if(f){f.cachedResponse=true;k(f);return}if(this.requestCache.isPendingRequest(q)){this.requestCache.addPendingRequest(q,{resolve:k,reject:function(y){return setTimeout(function(){return l.onError(y)
})}});return}else{this.requestCache.setupPendingQueue(q)}}function r(C){if(p.requestCache){!C.cachedResponse&&p.requestCache.storeRequest(q,C);p.requestCache.handlePendingRequests(q,true,C)}w[a.GviConstants.ic3_uncompressed_mdx_query]=n;if(p.ignoreResponse_(q,u)){ic3.logMsg("[request] response (success) ignored");
return}if(p.mdxRequestManager_){p.mdxRequestManager_.onMdxRequestResponseReceived(q)}var y=C.status;if(y==="ok"){var B=C.responses;if(B){p.onRequestBatchSuccess_(l,B)}else{var A;if(C.table&&C.table.ic3){A=new a.MdxResultTable(p,C)}else{if(!C.table){A=null}else{A=new a.GviTable(C,p)
}}p.onSuccess(l,A)}}else{var z=new a.GviError(C);p.onError(l,z);p.requestCache&&p.requestCache.handlePendingRequests(q,false,z)}}return $.ajax({type:h,url:p.dataSource.getUrl(),data:p.fixNullParams(w),xhrFields:{withCredentials:true},dataType:i,headers:o,timeout:t.timeout,jsonpCallback:x,success:r,error:function(y,B,A){w[a.GviConstants.ic3_uncompressed_mdx_query]=n;
if(p.ignoreResponse_(q,u)){ic3.logMsg("[request] response (error) ignored");return}if(p.mdxRequestManager_){p.mdxRequestManager_.onMdxRequestResponseReceived(q)}if(B=="timeout"){A=ic3.format("request timeout (current setting: {0}ms) - ensure the server is up and running (URL : {1}).",t.timeout,p.dataSource.getUrlForError())
}else{if(ic3.isFunction(A.indexOf)&&A.indexOf("Not Found")==0){A=ic3.format("request failed - ensure the server is up and running (URL : {0}).",p.dataSource.getUrlForError())}else{A=ic3.format("{0} request failed ({1}) {2} (URL : {3}).",h,B,A,p.dataSource.getUrlForError())
}}var z=new a.GviFailure(A);p.onFailure(l,z)}})};e.prototype.onRequestBatchSuccess_=function(i,h){var f=this;var g=[];ic3.each(h,function(j,l){if(l.status==="ok"){if(l.table&&l.table.ic3){g.push(new a.MdxResultTable(f,l))}else{g.push(new a.GviTable(l,f))}}else{var k=new a.GviError(l);
f.onError(i,k)}});if(g.length===h.length){f.onSuccess(i,g)}};e.prototype.ignoreResponse_=function(f,g){if(g==null||g==-1){return false}if(!this.mdxRequestManager_){return false}var h=this.mdxRequestManager_.getOpeningReportId();return g!=h};e.prototype.sendAttachmentRequest_=function(l,o){var q=this;
var i=q.fixNullParams(l.getParameters());i[vizParamConstants.schema]=q.schemaName;i.tqx="out:json";i["X-DataSource-Auth"]="a";var f=q.dataSource.getUrl();var m="";for(var n in i){if(i.hasOwnProperty(n)){var r=""+i[n];var h=r.replace(/"/g,"&quot;");m+='<input type="hidden" name="'+n+'" value="'+h+'" />'
}}var g=l.withAttachmentContext;var k=g.iframeName;if(!k){k="iframeDataExporter_"+a.RequestUid++;g.iframeName=k}var p=g.$iframe;if(!p){p=$('<iframe  src="javascript:\'\'" name="'+k+'"style="position:absolute;width:0;height:0;border:0" ></iframe>');p.appendTo("body");
var j=p.get(0);p.load(function(){if(!j.formSubmitted_){return}if(!j.contentWindow||!j.contentWindow.document){return}var t=j.contentWindow.document.body.innerHTML;q.onSendFormatDataRequestResult_(o,t)});g.$iframe=p}m+='<input name="iehack" type="hidden" value="&#9760;" />';
var s=$('<form accept-charset="UTF-8" action="'+f+'" target="'+k+'" method="post">'+m+"</form>");s.appendTo("body");s.submit(function(){if(j){j.formSubmitted_=f}});s.submit().remove()};e.prototype.onSendFormatDataRequestResult_=function(m,f){if(f){var i=f.replace(/(<([^>]+)>)/ig,"");
if(i.indexOf("{version")==0){try{jQuery.globalEval("viz.ConnectionJsonCallback("+i+")");if(a.ConnectionJsonContainer){var l=a.ConnectionJsonContainer[0];a.ConnectionJsonContainer=null;var h=new a.GviError(l);this.onError(m,h);return}}catch(g){}}var j,k;try{j=i.match(/^.*$/m)[0];
k=i}catch(g){j="Unexpected Export Error";k=i}var h=new a.GviError({errors:[{message:j,detailed_message:k}]});this.onError(m,h)}};e.prototype.fixNullParams=function(g){if(g){for(var f in g){if(g.hasOwnProperty(f)&&g[f]===null){delete g[f]}}}return g};e.prototype.onSuccess=function(g,f){if(g&&g.onSuccess){g.onSuccess(f)
}};e.prototype.onError=function(g,f){if(g&&g.onError){g.onError(f)}else{a.DefaultErrorWidget.onError(f)}};e.prototype.onFailure=function(g,f){if(g&&g.onFailure){g.onFailure(f)}else{a.DefaultErrorWidget.onFailure(f)}};return e}());a.Connection=d;var b=(function(){function e(g){var h=g.errors;
var f=h?h[0]:null;this.message=f?(f.message||""):"";this.detailedMessage=f?(f.detailed_message||""):"";this.errorCode=f?(f.error_code||""):""}e.prototype.getMessage=function(){return this.message};e.prototype.getAdditionalInformation=function(){return this.detailedMessage
};e.prototype.getErrorCode=function(){return this.errorCode};e.prototype.toString=function(){return this.getMessage()};return e}());a.GviError=b;var c=(function(){function e(f){this.cause=f}e.prototype.getMessage=function(){return this.cause};e.prototype.toString=function(){return this.getMessage()
};return e}());a.GviFailure=c})(viz||(viz={}));var viz;(function(a){var b=(function(){function c(){this.eventHandlers={};this.bigBrotherHandlers=[]}c.prototype.ouid=function(){if(this._ouid==null){this._ouid=ic3.oUId()}return this._ouid};c.prototype.unbind=function(){this.bigBrotherHandlers=[];
this.eventHandlers={}};c.prototype.bind=function(f,e,h){var d=this.eventHandlers[f];if(!d){d=[];this.eventHandlers[f]=d}var g=this._createEventHandler(f,e);if(h){d.unshift(g)}else{d.push(g)}};c.prototype.bindAll=function(d){this.bigBrotherHandlers.push(this._createEventHandler(null,d))
};c.prototype.fireOnChangeEvent=function(d){this.fireEvent(a.EventType.onVizChange,d)};c.prototype.fireEvent=function(d){var g=[];for(var h=1;h<arguments.length;h++){g[h-1]=arguments[h]}var f=[];for(var l=1;l<arguments.length;l++){f.push(arguments[l])}var i=this.eventHandlers[d];
if(i){var k=i.length;for(l=0;l<k;l++){var m=i[l];this._fireEvent(m,f)}}var e=this.bigBrotherHandlers;var j=e.length;for(l=0;l<j;l++){m=e[l];this._fireEvent(m,f)}};c.prototype._fireEvent=function(d,e){d.callback.apply(d.scope,e)};c.prototype._createEventHandler=function(e,d){var g;
if(typeof d==="function"){g={scope:null,callback:d}}else{var f=e&&d[e];if(typeof f==="function"){g={scope:d,callback:f}}else{f=d.onEvent;if(typeof f==="function"){g={scope:d,callback:function(h){f.onEvent(e,h)}}}}}if(!g){a.error("unexpected event handler for event type ("+e+")")
}return g};return c}());a.Object=b})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(T){var p=(function(ad){__extends(ae,ad);function ae(af){ad.call(this);this.disableCompression=false;this.parameters={};this.parameters[vizParamConstants.action]=af}ae.prototype.isWithAttachment=function(){return false};ae.prototype.getMdxParameter=function(){return this.parameters[vizParamConstants.mdx]||this.parameters[T.GviConstants.ic3_uncompressed_mdx_query]
};ae.prototype.getParameters=function(){return this.parameters};ae.prototype.addNullableParameter=function(af,ag){if(ag!=null){return this.storeParameter(af,ag)}return -1};ae.prototype.addParameter=function(af,ag){if(ag==null){throw new Error(ic3.format("Trying to set an empty parameter for key: {0}",af))
}return this.storeParameter(af,ag)};ae.prototype.storeParameter=function(ag,ah){var af=this.storeParameter_(ag,ah);if(ag==T.GviConstants.Param.mdx){this.parameters[T.GviConstants.ic3_uncompressed_mdx_query]=ah}return af};ae.prototype.storeParameter_=function(al,ak){if(!ae.compress_||this.disableCompression||typeof ak!=="string"||ak.length<=ae.compressMinLength_){this.parameters[al]=ak;
return -1}var ah=require("buffer").Buffer;var an=require("lz4");var aj=new ah(ak);var am=an.encodeBound(aj.length);var ag=new ah(am);var ai=an.encodeBlock(aj,ag);if(ai==0||(ai*1.333>=aj.length)){this.parameters[al]=ak;return -1}ag=ag.slice(0,ai);var af=ag.toString("base64");
this.parameters["_ic3_gz_"+al]=af;this.parameters["_ic3_gz_len_"+al]=aj.length;return af.length};ae.prototype.doExtractResult=function(ag){try{var ah=ag.getValue(0,0);return JSON.parse(ah)}catch(af){throw af}};ae.compress_=(function(){if(ic3.IE_VERSION<=9){return false
}if(typeof ic3globals!=="undefined"&&typeof ic3globals.request!=="undefined"&&typeof ic3globals.request.compress!=="undefined"){return ic3globals.request.compress}return true})();ae.compressMinLength_=(function(){if(typeof ic3globals!=="undefined"&&typeof ic3globals.request!=="undefined"&&typeof ic3globals.request.compressMinLength!=="undefined"){return ic3globals.request.compressMinLength
}return 4096})();return ae}(T.Object));T.GviRequest=p;var H=(function(ad){__extends(ae,ad);function ae(ah,ag,af){ad.call(this,vizActionConstants.login);this.addParameter(vizParamConstants.userName,ah);this.addParameter(vizParamConstants.userPassword,ag);this.addNullableParameter(vizParamConstants.userNameCheck,af)
}return ae}(p));T.LoginGviRequest=H;var U=(function(ad){__extends(ae,ad);function ae(){ad.call(this,vizActionConstants.logout)}return ae}(p));T.LogoutGviRequest=U;var e=(function(ae){__extends(ad,ae);function ad(af,ag){ae.call(this,vizActionConstants.listAppLocalEntityNames);
this.addParameter(vizParamConstants.type,af);if(ag!=null){this.addParameter(vizParamConstants.path,ag)}}ad.prototype.extractResult=function(af){return ae.prototype.doExtractResult.call(this,af)};return ad}(p));T.ListAppLocalEntityNamesGviRequest=e;var r=(function(ae){__extends(ad,ae);
function ad(af,ag){ae.call(this,vizActionConstants.getAppLocalEntity);this.addParameter(vizParamConstants.type,af);this.addParameter(vizParamConstants.path,ag)}ad.prototype.extractResult=function(af){return ae.prototype.doExtractResult.call(this,af)};return ad
}(p));T.GetAppLocalEntityGviRequest=r;var I=(function(ae){__extends(ad,ae);function ad(ag,ai,af,ah){ae.call(this,vizActionConstants.saveAppLocalEntity);this.addParameter(vizParamConstants.type,ag);this.addParameter(vizParamConstants.path,ai);this.addParameter(vizParamConstants.name,af);
this.addParameter(vizParamConstants.content,ah)}ad.prototype.extractResult=function(af){return ae.prototype.doExtractResult.call(this,af)};return ad}(p));T.SaveAppLocalEntityGviRequest=I;var f=(function(ad){__extends(ae,ad);function ae(af,ag){ad.call(this,vizActionConstants.deleteAppLocalEntity);
this.addParameter(vizParamConstants.type,af);this.addParameter(vizParamConstants.path,ag)}ae.prototype.extractResult=function(af){return ad.prototype.doExtractResult.call(this,af)};return ae}(p));T.DeleteAppLocalEntityGviRequest=f;var G=(function(ae){__extends(ad,ae);
function ad(ag,af,ah){ae.call(this,vizActionConstants.moveAppLocalEntity);this.addParameter(vizParamConstants.type,ag);this.addParameter(vizParamConstants.pathFrom,af);this.addParameter(vizParamConstants.pathTo,ah)}ad.prototype.extractResult=function(af){return ae.prototype.doExtractResult.call(this,af)
};return ad}(p));T.MoveAppLocalEntityGviRequest=G;var M=(function(ae){__extends(ad,ae);function ad(ah,af,ai,ag){ae.call(this,vizActionConstants.copyAppLocalEntity);this.addParameter(vizParamConstants.type,ah);this.addParameter(vizParamConstants.pathFrom,af);
this.addParameter(vizParamConstants.pathTo,ai);this.addNullableParameter(vizParamConstants.name,ag)}ad.prototype.extractResult=function(af){return ae.prototype.doExtractResult.call(this,af)};return ad}(p));T.CopyAppLocalEntityGviRequest=M;var S=(function(ad){__extends(ae,ad);
function ae(){ad.call(this,vizActionConstants.getReportingMetaInfo);this.addParameter(vizParamConstants.withWidgetTemplates,false);this.addParameter(vizParamConstants.version,6)}ae.prototype.extractResult=function(af){return ad.prototype.doExtractResult.call(this,af)
};return ae}(p));T.GetReportingMetaInfoGviRequest=S;var N=(function(ae){__extends(ad,ae);function ad(ah,af,ag){ae.call(this,vizActionConstants.createReportFolder);this.addParameter(vizParamConstants.toUuid,ah);this.addParameter(vizParamConstants.toNameError,af);
this.addParameter(vizParamConstants.name,ag)}ad.prototype.extractResult=function(af){return ae.prototype.doExtractResult.call(this,af)};return ad}(p));T.CreateReportFolderGviRequest=N;var x=(function(ad){__extends(ae,ad);function ae(ah,ag,af){ad.call(this,vizActionConstants.renameReportFolder);
this.addParameter(vizParamConstants.fromUuid,ah);this.addParameter(vizParamConstants.fromNameError,ag);this.addParameter(vizParamConstants.name,af)}ae.prototype.extractResult=function(af){return ad.prototype.doExtractResult.call(this,af)};return ae}(p));T.RenameReportFolderGviRequest=x;
var z=(function(ae){__extends(ad,ae);function ad(ah,af,ai,ag){ae.call(this,vizActionConstants.moveReportFolder);this.addParameter(vizParamConstants.toUuid,ah);this.addParameter(vizParamConstants.toNameError,af);this.addParameter(vizParamConstants.fromUuid,ai);
this.addParameter(vizParamConstants.fromNameError,ag)}ad.prototype.extractResult=function(af){return ae.prototype.doExtractResult.call(this,af)};return ad}(p));T.MoveReportFolderGviRequest=z;var ac=(function(ae){__extends(ad,ae);function ad(af){ae.call(this,vizActionConstants.listReportNames);
this.addNullableParameter(vizParamConstants.folderOnly,af)}return ad}(p));T.ListReportNamesGviRequest=ac;var O=(function(ae){__extends(ad,ae);function ad(ag,af){ae.call(this,vizActionConstants.getReportNames);this.addNullableParameter(vizParamConstants.asTree,ag);
this.addNullableParameter(vizParamConstants.folderOnly,af)}return ad}(p));T.GetReportNamesGviRequest=O;var w=(function(ae){__extends(ad,ae);function ad(af){ae.call(this,vizActionConstants.openFile);this.addParameter(vizParamConstants.fileName,af)}ad.prototype.extractResult=function(af){return ae.prototype.doExtractResult.call(this,af)
};return ad}(p));T.OpenFileGviRequest=w;var m=(function(ad){__extends(ae,ad);function ae(af,ah,ag){ad.call(this,vizActionConstants.saveFile);this.addParameter(vizParamConstants.fileUuid,af);this.addParameter(vizParamConstants.fileName,ah);this.addParameter(vizParamConstants.fileContent,ag)
}return ae}(p));T.SaveFileGviRequest=m;var k=(function(ad){__extends(ae,ad);function ae(af,ag){ad.call(this,vizActionConstants.openReport);this.addParameter(vizParamConstants.reportUuid,af);this.addParameter(vizParamConstants.reportName,ag)}ae.prototype.extractResultEx=function(ah,ag){try{var ai=ah.getValue(0,0);
if(ag&&ag.jsonMigrator){ai=ag.jsonMigrator(ai)}return JSON.parse(ai)}catch(af){throw af}};return ae}(p));T.OpenReportGviRequest=k;var Y=(function(ae){__extends(ad,ae);function ad(af,ah,ag){ae.call(this,vizActionConstants.saveReportLayers);this.addParameter(vizParamConstants.reportUuid,af);
this.addParameter(vizParamConstants.reportName,ah);this.addParameter(vizParamConstants.reportLayers,ag)}return ad}(p));T.SaveReportLayersGviRequest=Y;var B=(function(ad){__extends(ae,ad);function ae(ag,ai,af,ah){ad.call(this,vizActionConstants.saveReport);this.addParameter(vizParamConstants.reportUuid,ag);
this.addParameter(vizParamConstants.reportName,ai);this.addParameter(vizParamConstants.report,af);this.addNullableParameter(vizParamConstants.reportLayers,ah)}return ae}(p));T.SaveReportGviRequest=B;var C=(function(ae){__extends(ad,ae);function ad(aj,ak,ai,af,ag,ah){ae.call(this,vizActionConstants.saveAsReport);
this.addParameter(vizParamConstants.overwrite,aj);this.addParameter(vizParamConstants.reportName,ak);this.addNullableParameter(vizParamConstants.reportFolderUuid,ai);this.addNullableParameter(vizParamConstants.reportFolderName,af);this.addParameter(vizParamConstants.report,ag);
this.addNullableParameter(vizParamConstants.reportLayers,ah)}ad.prototype.extractResult=function(af){return ae.prototype.doExtractResult.call(this,af)};return ad}(p));T.SaveAsReportGviRequest=C;var V=(function(ae){__extends(ad,ae);function ad(al,ai,ak,ag,ah,aj,af){ae.call(this,vizActionConstants.saveAsReportSnapshot);
this.addParameter(vizParamConstants.reportFolderUuid,al);this.addParameter(vizParamConstants.reportFolderName,ai);this.addParameter(vizParamConstants.reportName,ak);this.addParameter(vizParamConstants.report,ag);this.addNullableParameter(vizParamConstants.reportLayers,ah);
this.addParameter(vizParamConstants.reportSnapshot,aj);if(af!=null){this.addParameter(vizParamConstants.embeddedReports,JSON.stringify(af))}}ad.prototype.extractResult=function(af){return ae.prototype.doExtractResult.call(this,af)};return ad}(p));T.SaveAsReportSnapshotGviRequest=V;
var P=(function(ad){__extends(ae,ad);function ae(ag,ah,af){ad.call(this,vizActionConstants.exportReportToHtml);this.addParameter(vizParamConstants.reportUuid,ag);this.addParameter(vizParamConstants.reportName,ah);this.addParameter(vizParamConstants.report,af)
}ae.prototype.extractResult=function(af){return ad.prototype.doExtractResult.call(this,af)};return ae}(p));T.ExportReportToHtmlGviRequest=P;var v=(function(ae){__extends(ad,ae);function ad(ai,ag,ak,aj,ah,af){ae.call(this,vizActionConstants.renameReport);this.addParameter(vizParamConstants.overwrite,ai);
this.addParameter(vizParamConstants.reportUuid,ag);this.addParameter(vizParamConstants.reportName,ak);this.addParameter(vizParamConstants.reportNewName,aj);this.addNullableParameter(vizParamConstants.reportFolderUuid,ah);this.addNullableParameter(vizParamConstants.reportFolderName,af)
}return ad}(p));T.RenameReportGviRequest=v;var d=(function(ae){__extends(ad,ae);function ad(ag,ah,af){ae.call(this,vizActionConstants.deleteReport);this.addParameter(vizParamConstants.reportUuid,ag);this.addParameter(vizParamConstants.reportName,ah)}return ad
}(p));T.DeleteReportGviRequest=d;var j=(function(ae){__extends(ad,ae);function ad(ah,af,ag){ae.call(this,vizActionConstants.deleteReportFolder);this.addParameter(vizParamConstants.reportFolderUuid,ah);this.addParameter(vizParamConstants.reportFolderName,af)
}return ad}(p));T.DeleteReportFolderGviRequest=j;var q=(function(ae){__extends(ad,ae);function ad(ai,ak,ah,aj,af,ag){ae.call(this,vizActionConstants.getAutocomplete);this.addNullableParameter(vizParamConstants.mdx,ai);this.addParameter(vizParamConstants.autocompletePos,ak);
this.addNullableParameter(vizParamConstants.autocompleteLength,ah);this.addNullableParameter(vizParamConstants.autocompleteContextType,aj);this.addNullableParameter(vizParamConstants.autocompleteContextValue,af);this.addNullableParameter(vizParamConstants.autocompleteEmptyToken,ag)
}return ad}(p));T.GetAutocompleteGviRequest=q;var b=(function(ad){__extends(ae,ad);function ae(){ad.call(this,vizActionConstants.getCubes)}return ae}(p));T.GetCubesGviRequest=b;var F=(function(ae){__extends(ad,ae);function ad(af){ae.call(this,vizActionConstants.getDimensions);
this.addNullableParameter(vizParamConstants.cube,af)}return ad}(p));T.GetDimensionsGviRequest=F;var D=(function(ae){__extends(ad,ae);function ad(af,ag){ae.call(this,vizActionConstants.getHierarchies);this.addNullableParameter(vizParamConstants.cube,af);this.addNullableParameter(vizParamConstants.hierarchyOnly,ag)
}return ad}(p));T.GetHierarchiesGviRequest=D;var aa=(function(ae){__extends(ad,ae);function ad(ag,af){ae.call(this,vizActionConstants.getLevels);this.addNullableParameter(vizParamConstants.cube,ag);this.addNullableParameter(vizParamConstants.levelOnly,af)}return ad
}(p));T.GetLevelsGviRequest=aa;var K=(function(ad){__extends(ae,ad);function ae(ag,af){ad.call(this,vizActionConstants.getHierarchyLevels);this.addParameter(vizParamConstants.cube,ag);this.addParameter(vizParamConstants.hierarchyUniqueName,af)}return ae}(p));
T.GetHierarchyLevelsGviRequest=K;var W=(function(ae){__extends(ad,ae);function ad(af){ae.call(this,vizActionConstants.getMeasures);this.addParameter(vizParamConstants.cube,af)}return ad}(p));T.GetMeasuresGviRequest=W;var g=(function(ad){__extends(ae,ad);function ae(){ad.call(this,vizActionConstants.getSchemas)
}return ae}(p));T.GetSchemasGviRequest=g;var i=(function(ad){__extends(ae,ad);function ae(af){ad.call(this,af)}ae.prototype.isQueryWidget=function(){return this.queryWidget!=null};ae.prototype.getQuery=function(){return this};ae.prototype.setEventObject=function(ah,ag,af){if(this.queryWidget){this.queryWidget.setEventObject(ah,ag,af)
}else{throw"Should not be here"}};ae.prototype.setParam=function(af,ag){if(this.queryWidget){this.queryWidget.setParam(af,ag)}else{throw"Should not be here"}};ae.prototype.canFireEvent=function(){if(this.queryWidget){var af=this.queryWidget.canFireEvent();if(af){var ag=this.queryWidget.asMdxExpression();
this.addParameter(vizParamConstants.mdx,ag)}return af}else{return true}};ae.prototype.fireOnChangeEvent=function(af){if(af===true){ad.prototype.fireOnChangeEvent.call(this)}else{if(this.queryWidget){this.queryWidget.fireOnChangeEvent()}else{throw"Should not be here"
}}};ae.prototype.setMdxParameter=function(ah){var ag=ic3.eventAccessorDefinitions(ah);if(ag.length>0){var af=this;this.queryWidget=new T.MdxSimpleQueryWidget(ah);this.queryWidget.bind(T.EventType.onVizChange,function(aj,ai){var ak=af.queryWidget.asMdxExpression();
af.addParameter(vizParamConstants.mdx,ak);af.fireOnChangeEvent(true)})}else{this.addParameter(vizParamConstants.mdx,ah)}};return ae}(p));T.WidgetBasedGviRequest=i;var R=(function(ae){__extends(ad,ae);function ad(ag,aj,af,ai,ah){ae.call(this,vizActionConstants.getMembers);
this.addParameter(vizParamConstants.mdx,aj);this.addNullableParameter(vizParamConstants.cube,ag);this.addNullableParameter(vizParamConstants.maxMemberCount,af);this.addNullableParameter(vizParamConstants.filter,ai);this.addNullableParameter(vizParamConstants.defaultMemberHierarchyUniqueName,ah)
}return ad}(p));T.GetMembersGviRequest=R;var s=(function(ae){__extends(ad,ae);function ad(am,an,ag,ao,aq,ai,aj,al,af,ah,ak,ap){ae.call(this,vizActionConstants.getFilterInfo);this.addNullableParameter(vizParamConstants.cube,am);this.addNullableParameter(vizParamConstants.maxMemberCount,an);
this.addNullableParameter(vizParamConstants.addDefaultMemberToMembers,ag);this.addNullableParameter(vizParamConstants.defaultMemberName,ao);this.addParameter(vizParamConstants.membersMdx,aq);this.addNullableParameter(vizParamConstants.membersMdxFilter,ai);this.addNullableParameter(vizParamConstants.defaultsMdx,aj);
this.addNullableParameter(vizParamConstants.noSelectionMdx,al);this.addNullableParameter(vizParamConstants.emptyMeasure,af);if(ah!=null){this.addNullableParameter(vizParamConstants.emptyFilters,JSON.stringify(ah))}this.addNullableParameter(vizParamConstants.memberIdFormatter,ak);
this.addNullableParameter(vizParamConstants.memberCaptionFormatter,ap)}ad.prototype.extractResult=function(ag){var ap=ag.getTableProperty("membersGroup");var ah=new T.MdxEntityData(ag,ap);var an=ag.getTableProperty("defaultsGroup");var af=new T.MdxEntityData(ag,an);
var ai=ag.getTableProperty("noSelectionGroup");var ak=new T.MdxEntityData(ag,ai);var ao=ag.getTableProperty("defaultMemberGroup");var aj=new T.MdxEntityData(ag,ao);var am=ag.getTableProperty("allMemberGroup");var al=new T.MdxEntityData(ag,am);return{members:ah,defaults:af,noSelection:ak,defaultMember:aj,allMember:al}
};return ad}(p));T.GetFilterInfoGviRequest=s;var n=(function(ae){__extends(ad,ae);function ad(af,ag){ae.call(this,vizActionConstants.executeMdx);this.addNullableParameter(vizParamConstants.cube,af);this.addParameter(vizParamConstants.mdx,ag)}ad.prototype.resultAdapter=function(af){return af.removeColumn(0)
};return ad}(p));T.GetMembersFromMDXSelectGviRequest=n;var E=(function(ae){__extends(ad,ae);function ad(ag,af){ae.call(this,vizActionConstants.executeMdx);this.disableCompression=af===true;this.addParameter(vizParamConstants.mdx,ag);this.addParameter(vizParamConstants.tableFormat,vizTableFormatConstants.google)
}return ad}(p));T.MdxGviRequest=E;var a=(function(ae){__extends(ad,ae);function ad(ag,af){ae.call(this,vizActionConstants.executeMdx);this.disableCompression=af===true;this.addParameter(vizParamConstants.mdx,ag);this.addParameter(vizParamConstants.tableFormat,vizTableFormatConstants.ic3)
}return ad}(p));T.MdxTableRequest=a;var y=(function(ae){__extends(ad,ae);function ad(ai,ag,aj,af,ah){ae.call(this,vizActionConstants.formatData);this.withAttachmentContext=ai;this.addParameter(vizParamConstants.inputFormat,ag);this.addParameter(vizParamConstants.outputFormat,aj);
this.addParameter(vizParamConstants.dataName,af);this.addParameter(vizParamConstants.data,JSON.stringify(ah))}ad.prototype.isWithAttachment=function(){return true};return ad}(p));T.FormatDataRequest=y;var o=(function(ae){__extends(ad,ae);function ad(ao,an,ai,aj,am,ah,ak,ag,af,al){ae.call(this,vizActionConstants.printReport);
this.withAttachmentContext=ao;this.addParameter(vizParamConstants.reportName,an);this.addParameter(vizParamConstants.report,ai);this.addNullableParameter(vizParamConstants.reportLayers,aj);this.addParameter(vizParamConstants.reportSnapshot,am);this.addParameter(vizParamConstants.pageSize,ak);
this.addParameter(vizParamConstants.pageOrientation,ag);this.addParameter(vizParamConstants.optionsJS,af);if(ah!=null){this.addParameter(vizParamConstants.embeddedReports,JSON.stringify(ah))}this.addParameter(vizParamConstants.printTimeout,al)}ad.prototype.isWithAttachment=function(){return true
};return ad}(p));T.PrintReportRequest=o;var t=(function(ad){__extends(ae,ad);function ae(ak,ah,af,ai,ag,aj){ad.call(this,vizActionConstants.printReportBatch);this.withAttachmentContext=ak;this.addParameter(vizParamConstants.reportPath,ah);this.addParameter(vizParamConstants.pageSize,af);
this.addParameter(vizParamConstants.pageOrientation,ai);this.addParameter(vizParamConstants.optionsJS,ag);this.addParameter(vizParamConstants.printTimeout,aj)}ae.prototype.isWithAttachment=function(){return true};return ae}(p));T.PrintReportBatchRequest=t;var c=(function(ae){__extends(ad,ae);
function ad(ak,af,ah,ai,ag,aj){ae.call(this,vizActionConstants.printTestPage);this.withAttachmentContext=ak;this.addParameter(vizParamConstants.pageSize,af);this.addParameter(vizParamConstants.pageOrientation,ah);this.addNullableParameter(vizParamConstants.zoom,ai);
this.addNullableParameter(vizParamConstants.dpi,ag);this.addParameter(vizParamConstants.printTimeout,aj)}ad.prototype.isWithAttachment=function(){return true};return ad}(p));T.PrintTestPageRequest=c;var l=(function(ad){__extends(ae,ad);function ae(an,ai,aj,am,ah,ak,ag,af,al){ad.call(this,vizActionConstants.printReportInBrowser);
this.addParameter(vizParamConstants.reportName,an);this.addParameter(vizParamConstants.report,ai);this.addNullableParameter(vizParamConstants.reportLayers,aj);this.addParameter(vizParamConstants.reportSnapshot,am);this.addParameter(vizParamConstants.pageSize,ak);
this.addParameter(vizParamConstants.pageOrientation,ag);this.addParameter(vizParamConstants.optionsJS,af);if(ah!=null){this.addParameter(vizParamConstants.embeddedReports,JSON.stringify(ah))}this.addParameter(vizParamConstants.printTimeout,al)}ae.prototype.extractResult=function(af){var ag=af.getValue(0,0);
return ag};return ae}(p));T.PrintReportInBrowserRequest=l;var u=(function(ad){__extends(ae,ad);function ae(){ad.call(this,vizActionConstants.printReportInBrowserDone)}return ae}(p));T.PrintReportInBrowserDoneRequest=u;var h=(function(ae){__extends(ad,ae);function ad(ag,ah,af){ae.call(this,vizActionConstants.exportReport);
this.withAttachmentContext=ag;this.addNullableParameter(vizParamConstants.reportName,ah);this.addParameter(vizParamConstants.report,af)}ad.prototype.isWithAttachment=function(){return true};return ad}(p));T.ExportReportRequest=h;var Q=(function(ae){__extends(ad,ae);
function ad(){ae.call(this,vizActionConstants.echo)}ad.prototype.setParameter=function(af,ag){return this.addParameter(af,ag)};return ad}(p));T.EchoRequest=Q;var A=(function(ae){__extends(ad,ae);function ad(ah){ae.call(this,vizActionConstants.requestBatch);
var ag=[];for(var af=0;af<ah.length;af++){ag.push(ah[af].getParameters())}this.addParameter(vizParamConstants.requests,JSON.stringify(ag))}return ad}(p));T.GviBatchRequest=A;var Z=(function(ae){__extends(ad,ae);function ad(ah){ae.call(this,vizActionConstants.requestBatch);
var ag=[];for(var af=0;af<ah.length;af++){ag.push(ah[af].getParameters())}this.addParameter(vizParamConstants.requests,JSON.stringify(ag))}return ad}(p));T.MdxTableBatchRequest=Z;var X=(function(ae){__extends(ad,ae);function ad(af,ag){ae.call(this,vizActionConstants.alertScheduleCreate);
this.addParameter(vizParamConstants.revisionNumber,af);this.addParameter(vizParamConstants.schedule,JSON.stringify(ag))}ad.prototype.extractResult=function(af){return ae.prototype.doExtractResult.call(this,af)};return ad}(p));T.GviAlertScheduleCreate=X;var L=(function(ae){__extends(ad,ae);
function ad(ag,af){ae.call(this,vizActionConstants.alertScheduleDrop);this.addParameter(vizParamConstants.revisionNumber,ag);this.addParameter(vizParamConstants.scheduleUuid,af)}ad.prototype.extractResult=function(af){return ae.prototype.doExtractResult.call(this,af)
};return ad}(p));T.GviAlertScheduleDrop=L;var J=(function(ae){__extends(ad,ae);function ad(){ae.call(this,vizActionConstants.alertScheduleList)}ad.prototype.extractResult=function(af){return ae.prototype.doExtractResult.call(this,af)};return ad}(p));T.GviAlertScheduleList=J;
var ab=(function(ae){__extends(ad,ae);function ad(){ae.call(this,vizActionConstants.schemaLastUpdate)}ad.prototype.extractResult=function(af){return ae.prototype.doExtractResult.call(this,af)};return ad}(p));T.GviSchemaLastUpdate=ab})(viz||(viz={}));var viz;
(function(a){var b=(function(){function c(f,d){var e=this.getAsObject(f,"table");this.init(e);this.connection=d;this.cache={}}c.prototype.gviConnection=function(){return this.connection};c.fromSnapshot=function(d){return new c({table:d},undefined)};c.prototype.init=function(f){this.underlyingGviTable=f;
this.properties=this.getAsObject(f,"p");this.cols=this.getAsArray(f,"cols");this.rows=this.getAsArray(f,"rows");this.colsDefiningMembers=[];for(var d=0;d<this.cols.length;d++){var e=this.getHeaderColumnUniqueName(d);if(!e){break}this.colsDefiningMembers.push(e)
}};c.prototype.getDataVisitor=function(){var d=this;return{getColumnCount:function(){return d.getColumnCount()},getColumnHeaderCount:function(){return d.getNumberOfHeaderColumns()},getRowCount:function(){return d.getRowCount()},getFormattedValue:function(f,e){return d.getFormattedValue(f,e)
},getValue:function(f,e){return d.getValue(f,e)},getSumRow:function(j){var h=d.getNumberOfHeaderColumns();var g=d.getColumnCount();var f=0;for(var e=h;e<g;e++){f+=d.getValue(j,e)}return f},getSumColumn:function(f){var e=d.getRowCount();var h=0;for(var g=0;g<e;
g++){h+=d.getValue(g,f)}return h},getMinMax:function(n,h){var i=n==null?0:n;var o=n==null?d.getRowCount():n+1;var f=h==null?d.getNumberOfHeaderColumns():h;var l=h==null?d.getColumnCount():h+1;var j=null;var m=null;for(var e=i;e<o;e++){for(var k=f;k<l;k++){var g=d.getValue(e,k);
j=ic3.min(j,g);m=ic3.max(m,g)}}return{min:j,max:m}},getDataCache:function(e){if(ic3.isUndefined(d.cache[e])){d.cache[e]={}}return d.cache[e]}}};c.prototype.applyEmptyCellAs=function(f){if(ic3.isEmptyString(f)){return}var i=ic3.isNumber(f)?parseFloat(f):null;
var k=this.getColumnCount();var h=this.getRowCount();for(var e=1;e<k;e++){for(var m=0;m<h;m++){var l=this.getCell(m,e);if(l==null){var d=this.rows[m];var g=this.getAsArray(d,"c");l=g[e]={}}var j=this.getAsValue(l,"v");if(j==null){l.f=f;l.v=i}}}};c.prototype.isNonEmptyAxis=function(){return[this.getTableProperty("nonEmptyAxis0")==="true",this.getTableProperty("nonEmptyAxis1")==="true"]
};c.prototype.ignoreTable=function(){return !(this.getTableProperty("drilldownStop")==null)};c.prototype.getTableProperty=function(e){var d=null;if(this.properties){d=this.getAsValue(this.properties,e)}return d};c.prototype.getNumberOfHeaderColumns=function(){return this.colsDefiningMembers.length
};c.prototype.getColsDefiningMember=function(){return this.colsDefiningMembers};c.prototype.getNumberRowsInHeader=function(){if((this.cols.length-this.colsDefiningMembers.length)===0){return 0}var d=this.getPropertiesForColumnHeader(this.cols.length-1);var e=this.parseJSON(this.getAsObject(d,"a_hun"));
if(jQuery.isArray(e)){return e.length}else{return 0}};c.prototype.getPropertyForColumnHeader=function(f,e,d){var g=this.parseJSON(this.getAsObject(this.getPropertiesForColumnHeader(f),d));return e>=0?g[e]:g};c.prototype.parseJSON=function(e){var d=e;if(ic3.isString(e)){d=JSON.parse(e.replace(/'/g,'"'))
}return d};c.prototype.getPropertiesForColumnHeader=function(d){var e=this.cols;return this.getAsObject(e[d],"p")};c.prototype.getSpecifiedAxisCount=function(){var d=this.getAsValue(this.properties,"specifiedAxisCount");return d?this.parseJSON(d):-1};c.prototype.getHeaderColumnUniqueName=function(f){var h=this.cols;
if(f<h.length){var d=h[f];var g=this.getAsObject(d,"p");var e=this.getAsValue(g,"hun");return e}return null};c.prototype.getUnderlyingGviTable=function(){return this.underlyingGviTable};c.prototype.getAsObject=function(d,e){return(typeof d[e]==="undefined")?{}:d[e]
};c.prototype.getAsArray=function(d,e){return(typeof d[e]==="undefined")?[]:d[e]};c.prototype.getAsValue=function(d,e){return(typeof d[e]==="undefined")?null:d[e]};c.prototype.getColumnCount=function(){return this.cols.length};c.prototype.getRowCount=function(){return this.rows.length
};c.prototype.getColumnLabel=function(f){var e=this.cols[f];var d=this.getAsValue(e,"label");return d};c.prototype.getColumnUniqueName=function(e){var d=this.cols[e];var g=this.getAsObject(d,"p");var f=this.getAsValue(g,"a_mun");return f?this.parseJSON(f)[0]:null
};c.prototype.getHierarchyName=function(g,e){var d=this.getProperty(g,e,"mun");var f=d.indexOf("[Measures]")>=0?1:2;return d.split(".").slice(0,f).join(".")};c.prototype.getColumnHierarchyName=function(d,e){return this.getPropertyForColumnHeader(d,e,"a_hun")
};c.prototype.getColumnIndex=function(d){var e=this.cols;for(var f=0;f<e.length;f++){if(this.getColumnLabel(f)===d){return f}}if(ic3.isInt(d)){return parseInt(d)}return -1};c.prototype.getCell=function(g,d){var e=this.rows[g];if(e==null){return null}var f=this.getAsArray(e,"c");
if(f.length<=d){return null}return f[d]};c.prototype.getProperty=function(h,f,e){var d=this.getCell(h,f);if(d==null){return null}var g=this.getAsObject(d,"p");return g?this.getAsValue(g,e):null};c.prototype.getValue=function(g,f){var d=this.getCell(g,f);if(d==null){return null
}var e=this.getAsValue(d,"v");return e};c.prototype.getFormattedValue=function(h,e){var d=this.getCell(h,e);if(d==null){return null}var g=this.getAsValue(d,"f");return g||this.getAsValue(d,"v")};c.prototype.findRowIdxByValue=function(g,f){if(f){if(typeof g==="string"){g=this.getColumnIndex(g)
}if(g<0||g>=this.getColumnCount()){return -1}var d=this.getRowCount();for(var e=0;e<d;e++){if(f==this.getValue(e,g)){return e}}}return -1};c.prototype.removeColumn=function(e){if(e>=this.getColumnCount()){return}var d=this.getHeaderColumnUniqueName(e);if(d){ic3.arrayRemove(this.colsDefiningMembers,d)
}this.cols.splice(e,1);var g=this.rows;for(var f=0;f<g.length;f++){var h=g[f].c;h.splice(e,1)}return this};c.prototype.insertAsRows=function(f,e){var g=e.getUnderlyingGviTable().rows;for(var d=0;d<g.length;d++){var h=g[d];g.splice(f+d+1,0,h)}this.init(this.underlyingGviTable);
return this};c.prototype.addAsColumns=function(f){var g=this.getUnderlyingGviTable();var j=g.cols;var d=f.getNumberOfHeaderColumns();j.push.apply(j,f.cols.slice(d));var h=g.rows;for(var e=0;e<h.length;e++){var k=h[e].c;k.push.apply(k,f.rows[e].c.slice(d))}this.init(g);
return this};c.prototype.addAsRows=function(d){var e=this.getUnderlyingGviTable();var f=e.rows;f.push.apply(f,d.rows);this.init(e);return this};c.prototype.mergeColumns=function(h){var o=this.getUnderlyingGviTable();var n=o.cols;var t=o.rows;var f=function(w,r){var v="";
for(var u=0;u<w.getNumberRowsInHeader()-1;u++){v+=w.getPropertyForColumnHeader(r,u,"a_mun")}return v};var q=function(w,v,u){var y=v.rows;for(var x=0;x<y.length;x++){var i=w[x]||(w[x]=[]);i.push(y[x].c[u])}};var p;var e=h.getNumberOfHeaderColumns();var g=[];
var l=[];for(var j=this.getNumberOfHeaderColumns();j<n.length;j++){var k=f(this,j);if(p&&p!=k){for(;e<h.getColumnCount();e++){var m=f(h,e);if(m===p){g.push(h.cols[e]);q(l,h,e)}else{break}}g.push(n[j]);q(l,this,j)}else{g.push(n[j]);q(l,this,j)}p=k}for(;e<h.getColumnCount();
e++){g.push(h.cols[e]);q(l,h,e)}n.splice.apply(n,ic3.arrayConcat([this.getNumberOfHeaderColumns(),this.getColumnCount()],g));for(var d=0;d<t.length;d++){var s=t[d].c;s.splice.apply(s,ic3.arrayConcat([this.getNumberOfHeaderColumns(),this.getColumnCount()],l[d]))
}this.init(o);return this};c.prototype.mergeRows=function(e){var k=this.getUnderlyingGviTable();var n=k.rows;var h=[];var m=0;var d=function(q,r){var p="";for(var o=0;o<q.getNumberOfHeaderColumns()-1;o++){p+=q.getProperty(r,o,"mun")}return p};var l;for(var f=0;
f<n.length;f++){var g=d(this,f);if(l&&l!=g){for(;m<e.getRowCount();m++){var j=d(e,m);if(j===l){h.push(e.rows[m])}else{break}}h.push(n[f])}else{h.push(n[f])}l=g}for(;m<e.getRowCount();m++){h.push(e.rows[m])}k.rows=h;this.init(k);return this};c.prototype.getError=function(g,f){var e=this.getErrorCode(g,f);
if(e){var d=this.getErrorDescription(g,f);return{ec:e,ed:d}}return null};c.prototype.getErrorCode=function(e,d){return this.getProperty(e,d,"ec")};c.prototype.getErrorDescription=function(e,d){return this.getProperty(e,d,"ed")};c.prototype.getMemberUniqueName=function(e,d){return this.getProperty(e,d,"mun")
};c.prototype.getMemberAsEntity=function(g,f){var d=this.getProperty(g,f,"mun");var e=this.getValue(g,f);return{name:e,uniqueName:d}};c.prototype.getSchemaName=function(){return this.getAsValue(this.properties,"schemaName")};c.prototype.getCubeName=function(){return this.getAsValue(this.properties,"cubeName")
};c.prototype.hasHierarchy=function(d){return this.axis0hierarchies().indexOf(d)>=0||this.axis1hierarchies().indexOf(d)>=0||this.slicerHierarchies().indexOf(d)>=0};c.prototype.filterBy=function(){var d=this._parseArray("filterBy");return d};c.prototype.axis0hierarchies=function(){return this._parseArray("axis0hierarchies")
};c.prototype.axis1hierarchies=function(){return this._parseArray("axis1hierarchies")};c.prototype.slicerHierarchies=function(){return this._parseArray("slicerHierarchies")};c.prototype._parseArray=function(e){var d=this.getAsValue(this.properties,e);return d?this.parseJSON(d):[]
};c.prototype.fireOnHeaderClick=function(d,e,f){if(!this.isHeaderColumn(d)){var g=new a.event.GviColumnClickEvent(this,d,f);e.fireEvent(g.type(),g)}};c.prototype.fireOnClick=function(h,d,f,e){var g=this.clickEvent(h,d);if(g){f.fireEvent(g.type(),g,e)}};c.prototype.isHeaderColumn=function(d){return d<this.getNumberOfHeaderColumns()
};c.prototype.clickEvent=function(i,e){var f;if(this.isHeaderColumn(e)){f=new a.event.GviRowClickEvent(this,null,i,e)}else{var h=this.tupleInfo(i,e);var g=this.getValue(i,e);var d=this.getFormattedValue(i,e);f=new a.event.GviCellClickEvent(h.name,h.uniqueName,g,d)
}return f};c.prototype.simulateRowClick=function(g){if(g){var e=0;var d=this.getRowCount();var j=g.caption();var h=-1;if(g.row()<d&&this.getValue(g.row(),e)===j){h=g.row()}else{for(var f=0;f<d;f++){if(this.getValue(f,e)===j){h=f;break}}}if(h>=0){return new a.event.GviRowClickEvent(this,null,h,e)
}}return null};c.prototype.tupleInfo=function(l,e){var d;var k;if(e<this.getNumberOfHeaderColumns()){if(l>=0){k=this.getMemberUniqueName(l,e);d=this.getValue(l,e)}}else{var i=[];var j=[];var g=this.getNumberRowsInHeader();for(h=0;h<g;h++){j.push(this.getPropertyForColumnHeader(e,h,"a_mun"));
i.push(this.getPropertyForColumnHeader(e,h,"a_mn"))}if(l>=0){var f=this.getNumberOfHeaderColumns();for(var h=0;h<f;h++){j.push(this.getMemberUniqueName(l,h));i.push(this.getValue(l,h))}}if(i.length===1){k=j[0];d=i[0]}else{k=a.asMdxTuple(j,false);d=i.join()}}return d?{name:d,uniqueName:k}:null
};c.prototype.getParsedMdxBody=function(){return{preSelect:this.getAsValue(this.properties,"preSelect"),preAxis0:this.getAsValue(this.properties,"preAxis0"),preAxis1:this.getAsValue(this.properties,"preAxis1"),from:this.getAsValue(this.properties,"from"),slicer:this.getAsValue(this.properties,"slicer"),cellProperties:this.getAsValue(this.properties,"cellProperties")}
};c.prototype.getParsedMdx=function(){var d=this.getParsedMdxBody();d.axis0=this.getAsValue(this.properties,"axis0");d.axis1=this.getAsValue(this.properties,"axis1");return d};c.prototype.getColumnMembers=function(e){var d=[];for(var f=0;f<this.colsDefiningMembers.length;
f++){d.push({name:this.getValue(e,f),uniqueName:this.getMemberUniqueName(e,f)})}return d};c.prototype._createLevelDrilldownRequest=function(e,f){var h=new a.StringBuilder();var g=this.getAsValue(this.properties,"preAxis0");var l=this.getAsValue(this.properties,"axis0");
var d=this.getAsValue(this.properties,"preAxis1");var i=this.getAsValue(this.properties,"from");var j=this.getAsValue(this.properties,"slicer");var k=this.getAsValue(this.properties,"cellProperties");if(a.isEmpty(j)){j=" where "+f+" "}else{j+=" * { "+f+" } "
}h.append(g).append(" ").append(l).append(" ").append(", ").append(" ").append(d).append(" ").append(e).append(" on 1 ").append(" ").append(i).append(" ").append(j).append(" ").append(k);return h.asString()};return c}());a.GviTable=b})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(j){var p=(function(){function q(u){this.Uk=[];this.Ei=[];this.size=1;var t=u.getAxisCount();for(var s=0;s<t;s++){var r=u.getAxis(s);
this.Uk[s]=r.getTupleCount();this.Ei[s]=(s==0)?1:this.Uk[s-1]*this.Ei[s-1];this.size*=this.Uk[s]}}q.prototype.count=function(){return this.size};q.prototype.maxOrdinal=function(){return this.size-1};q.prototype.computeOrdinal=function(t){var r=0;for(var s=0;
s<t.length;s++){r+=(t[s]*this.Ei[s])}return r};return q}());j.MdxResultCellOrdinals=p;var l=(function(){function q(){}q.getAsObject=function(r,s){return(typeof r[s]==="undefined")?{}:r[s]};q.getAsArray=function(r,s){return(typeof r[s]==="undefined")?[]:r[s]
};return q}());j.MdxResultEntity=l;var i=(function(q){__extends(r,q);function r(u){q.call(this);this.underlying=f.getAsObject(u,"meta");var v=f.getAsArray(this.underlying,"axes");this.axes=[];for(var t=0;t<v.length;t++){this.axes[t]=new j.MdxResultAxisMeta(v[t])
}var s=f.getAsObject(this.underlying,"slicer");this.slicer=new j.MdxResultSlicerMeta(s)}r.prototype.getAxisCount=function(){return this.axes.length};r.prototype.getAxis=function(s){return this.axes[s]};r.prototype.getSlicer=function(){return this.slicer};return r
}(l));j.MdxResultMeta=i;var h=(function(r){__extends(q,r);function q(s){r.call(this);this.underlying=s;this.name=s.name;this.tupleLen=s.tlen;this.hCaptions=f.getAsArray(this.underlying,"h_caption");this.hTypes=f.getAsArray(this.underlying,"h_type");this.hUNs=f.getAsArray(this.underlying,"h_un")
}q.prototype.getAxisName=function(){return this.name};q.prototype.getTupleLength=function(){return this.tupleLen?this.tupleLen:0};q.prototype.getHierarchyCaption=function(s){return this.hCaptions[s]};q.prototype.getHierarchyTypes=function(s){return this.hTypes[s]
};q.prototype.getHierarchyUniqueName=function(s){return this.hUNs[s]};return q}(l));j.MdxResultAxisMeta=h;var e=(function(r){__extends(q,r);function q(s){r.call(this,s)}return q}(h));j.MdxResultSlicerMeta=e;var o=(function(r){__extends(q,r);function q(t,s){r.call(this);
this.underlying=s;this.meta=t;this.name=this.underlying.name;this.tLen=this.underlying.tlen==undefined?0:this.underlying.tlen;this.tCount=this.underlying.len;this.mValues=this.underlying.value;this.mCaptions=this.underlying.caption;this.mUNs=this.underlying.un;
this.pUNs=this.underlying.pun;this.lCaptions=this.underlying.lcaption;this.lDepths=this.underlying.ld;this.color=this.underlying.color||[];this.mCCs=this.underlying.cc;if(this.meta.getAxisName()!=this.name){throw"internal error: inconsistent axis name ["+this.meta.getAxisName()+"]["+this.name+"]"
}if(this.meta.getTupleLength()!=this.tLen){throw"internal error: inconsistent tuple length ["+this.meta.getTupleLength()+"]["+this.tLen+"]"}}q.prototype.getMeta=function(){return this.meta};q.prototype.getAxisName=function(){return this.name};q.prototype.getTupleLength=function(){return this.tLen?this.tLen:0
};q.prototype.getTupleCount=function(){return this.tCount?this.tCount:0};q.prototype.getMemberValue=function(t,v){if(!this.mValues){return null}var s=this.getMemberIndex(t,v);var u=this.mValues[s];return u};q.prototype.getMemberCaption=function(t,v){var s=this.getMemberIndex(t,v);
var u=this.mCaptions[s];return u};q.prototype.getMemberUniqueName=function(t,v){var s=this.getMemberIndex(t,v);var u=this.mUNs[s];return u};q.prototype.getMemberParentUniqueName=function(t,v){var s=this.getMemberIndex(t,v);var u=this.pUNs[s];return u};q.prototype.getMemberLevelCaption=function(t,v){var s=this.getMemberIndex(t,v);
var u=this.lCaptions[s];return u};q.prototype.getMemberColor=function(t,v){var s=this.getMemberIndex(t,v);var u=this.color?this.color[s]:null;return u};q.prototype.getMemberLevelDepth=function(t,v){var s=this.getMemberIndex(t,v);var u=this.lDepths[s];return u
};q.prototype.getMemberChildrenCount=function(t,v){var s=this.getMemberIndex(t,v);var u=this.mCCs?this.mCCs[s]:0;return u};q.prototype.getMemberIndex=function(t,u){var s=t*this.getTupleLength()+u;return s};return q}(l));j.MdxResultAxis=o;var d=(function(r){__extends(q,r);
function q(s,t){r.call(this,s,t)}return q}(o));j.MdxResultSlicer=d;var c=(function(q){__extends(r,q);function r(v,u){q.call(this);this.underlying=f.getAsArray(u,"axes");this.axes=[];for(var t=0;t<this.underlying.length;t++){var s=v.getAxis(t);this.axes[t]=new j.MdxResultAxis(s,this.underlying[t])
}}r.prototype.getAxisCount=function(){return this.axes.length};r.prototype.getAxis=function(s){return this.axes[s]};return r}(l));j.MdxResultAxes=c;var g=(function(r){__extends(q,r);function q(s,t){r.call(this);this.underlying=f.getAsObject(s,"cells");this.cellOrdinals=new j.MdxResultCellOrdinals(t)
}q.prototype.getCellCount=function(){return this.cellOrdinals.count()};q.prototype.getCellMaxOrdinal=function(){return this.cellOrdinals.maxOrdinal()};q.prototype.getPropertyNames=function(){var t=[];for(var s in this.underlying){if(this.underlying.hasOwnProperty(s)){t.push(s)
}}return t};q.prototype.getCellProperty=function(w,u){var t=this.underlying[w];if(!t){return null}var s=this.cellOrdinals.computeOrdinal(u);if(s>=0&&s<t.length){var v=t[s];return v}return null};return q}(l));j.MdxResultCells=g;var b=(function(r){__extends(q,r);
function q(s){r.call(this);this.underlying=f.getAsObject(s,"query")}q.prototype.getProperty=function(s){var t=this.underlying[s];return t};return q}(l));j.MdxResultQuery=b;var f=(function(r){__extends(q,r);function q(s,t){r.call(this);t=q.specificCase(t);this.connection=s;
this.underlying=q.getAsObject(t,"table");this.meta=new j.MdxResultMeta(this.underlying);this.axes=new j.MdxResultAxes(this.meta,this.underlying);this.cells=new j.MdxResultCells(this.underlying,this.axes);this.slicer=new j.MdxResultSlicer(this.meta.getSlicer(),q.getAsObject(this.underlying,"slicer"));
this.query=new j.MdxResultQuery(this.underlying)}q.fromSnapshot=function(s){return new q(undefined,{table:s})};q.specificCase=function(t){var s=q.getAsObject(t,"table");if(s.axes.length<1){t.table=a(t.table)}else{if(_.get(t,"table.meta.kind")==="drillthrough"){t.table=n(t.table)
}}t.table=s;return t};q.prototype.getConnection=function(){return this.connection};q.prototype.getUnderlyingMdxTable=function(){return this.underlying};q.prototype.getMeta=function(){return this.meta};q.prototype.getAxes=function(){return this.axes};q.prototype.getSlicer=function(){return this.slicer
};q.prototype.getCells=function(){return this.cells};q.prototype.getQuery=function(){return this.query};q.VALUE="VALUE";q.FORMATTED_VALUE="FORMATTED_VALUE";return q}(l));j.MdxResultTable=f;function a(q){if(q.axes.length>0){throw new TypeError("Trying to coerce mdx table with axes to slicer view.")
}q.slicer.cc=_.fill(new Array(12),0);q.meta.slicer.cc=_.fill(new Array(12),0);q.axes.push(q.slicer);q.meta.axes.push(q.meta.slicer);return q}j.stubSlicerTable=a;function n(r){r.slicer={name:"slicer",len:1,tlen:1,caption:["slicer"],un:["slicer"],pun:[null],lcaption:["slicer"],ld:[0],cc:[0]};
r.meta.slicer={name:"slicer",tlen:1,h_type:[null],h_caption:["dt-slicer"],h_un:["dt-slicer"]};r.meta.axes=[{name:0,tlen:1,h_type:[null],h_caption:["dt-column"],h_un:["dt-column"]},{name:1,tlen:1,h_type:[null],h_caption:["dt-row"],h_un:["dt-row"]}];r.axes[0].un=[];
r.axes[0].pun=[];r.axes[0].lcaption=[];r.axes[0].ld=[];r.axes[0].cc=[];r.axes[1].un=[];r.axes[1].pun=[];r.axes[1].caption=[];r.axes[1].lcaption=[];r.axes[1].ld=[];r.axes[1].cc=[];for(var q=0;q<r.axes[0].len;q++){r.axes[0].un[q]=r.axes[0].lcaption[q]=r.axes[0].caption[q];
r.axes[0].pun[q]=null;r.axes[0].ld[q]=0;r.axes[0].cc[q]=0}for(var q=0;q<r.axes[1].len;q++){r.axes[1].un[q]=r.axes[1].lcaption[q]=r.axes[1].caption[q]=q;r.axes[1].pun[q]=null;r.axes[1].ld[q]=0;r.axes[1].cc[q]=0}return r}j.stubDrillthrough=n;function m(u,J,s,x,C){var G=_.cloneDeep(u.getUnderlyingMdxTable()),D=J.getUnderlyingMdxTable(),y=ic3.IcCubeMdxBuilder.getMdxAxisIndices(u,s),v=x==="lh",t=y.columnsAxis>-1,B=u.getAxes().getAxis(y.rowsAxis).getTupleCount(),w=u.getAxes().getAxis(y.rowsAxis).getTupleLength();
var A=1,r=1,z=1,I=1;if(t){r=J.getAxes().getAxis(y.columnsAxis).getTupleCount();A=u.getAxes().getAxis(y.columnsAxis).getTupleCount();z=u.getAxes().getAxis(y.columnsAxis).getTupleLength()}if(_.isNumber(y.measuresAxis)){I=u.getAxes().getAxis(y.measuresAxis).getTupleCount()
}var F=v?y.rowsAxis:y.columnsAxis,q=v?C*w:C*z;_.map(D.axes[F].ld,function(K){return K+1});_.forEach(G.axes[F],function(K,L){if(_.isArray(K)){ic3.arrayInsert(G.axes[F][L],q,D.axes[F][L])}});G.axes[F]["len"]+=D.axes[F]["len"];var H=function(K,L){return ic3.arrayInsert(G.cells[L],C*I*A,D.cells[L])
};var E=function(K,N){var M=_.chunk(D.cells[N],r*I),L=B;while(L-->0){ic3.arrayInsert(K,(L*A*I)+C*I,M[L])}G.cells[N]=K};_.forEach(G.cells,v?H:E);return new f(u.getConnection(),{query:u.getQuery(),table:G})}j.mdxResultTablesMerge=m;function k(D,y,B,t,u){var C=B==="lh",r=_.cloneDeep(D.getUnderlyingMdxTable()),E=ic3.IcCubeMdxBuilder.getMdxAxisIndices(D,y),x=E.columnsAxis>-1,q=D.getAxes().getAxis(E.rowsAxis).getTupleCount(),z=x?D.getAxes().getAxis(E.columnsAxis).getTupleCount():1,s=C?E.rowsAxis:E.columnsAxis,w=D.getAxes().getAxis(s).getTupleLength(),F=_.isNumber(E.measuresAxis)?D.getAxes().getAxis(E.measuresAxis).getTupleCount():1;
_.forEach(r.axes[s],function(G,H){if(_.isArray(G)){r.axes[s][H].splice(t*w,u*w)}});r.axes[s]["len"]-=u;var v=function(G,H){return r.cells[H].splice(t*z*F,u*z*F)};var A=function(G,I){var H=q;while(H-->0){G.splice((H*z+t)*F,u*F)}r.cells[I]=G};_.forEach(r.cells,C?v:A);
return new f(D.getConnection(),{query:D.getQuery(),table:r})}j.mdxResultTableCollapseNode=k})(viz||(viz={}));var viz;(function(a){var b=(function(){function c(d,e){this.uniqueNameField="uniqueName";this.items=d;if(e){this.uniqueNameField=e}}c.prototype.forEach=function(l,k,f){var i=ic3.isNumber(k)?k:0;
var h=this.size();var j=ic3.isNumber(f)?Math.min(f,h):h;for(var d=i;d<j;d++){var g=this.items[d];if(l(g,d)===false){break}}};c.prototype.getEntityAt=function(d){return this.items[d]};c.prototype.getEntitiesAt=function(f){var e=[];var g=0;for(var d=0;d<f.length;
d++){e[g++]=this.items[f[d]]}return e};c.prototype.getEntities=function(){return this.items};c.prototype.getEntityByUniqueName=function(e){for(var d=0;d<this.size();d++){var f=this.items[d];if(f[this.uniqueNameField]==e){return f}}return null};c.prototype.getEntityByName=function(f){for(var d=0;
d<this.size();d++){var e=this.items[d];if(e.name==f){return e}}return null};c.prototype.lookupEntitesByNameOrUniqueName=function(h,f){var g=[];for(var d=0;d<this.size();d++){var e=this.items[d];if(h.indexOf(e.name)>-1||h.indexOf(e[this.uniqueNameField])>-1){if(f==true){g.push(e)
}else{g.push(d)}if(g.length==h.length){break}}}return g};c.prototype.lookupByUniqueName=function(j){var g=this.items;if($.isArray(j)){var f=this;var h=[];$.each(j,function(k,l){if(f){var k=f.lookupByUniqueName(l);if(k==null){f=null}else{h.push(k)}}});return f==null?null:h
}else{var i=j?j.uniqueName||j:undefined;for(var d=0;d<this.size();d++){var e=this.items[d];if(e[this.uniqueNameField]==i){return d}}return null}};c.prototype.size=function(){return this.items.length};c.prototype.add=function(d){this.items[this.size()]=d;return this.size()-1
};c.prototype.insert=function(e,d){this.items.splice(d,0,e)};c.prototype.indexOf=function(d){return this.items.indexOf(d)};c.prototype.remove=function(d){return this.items.splice(this.indexOf(d),1)};c.prototype.removeAt=function(d){this.items.splice(d,1)};c.prototype.removeAll=function(){this.items.length=0
};return c}());a.EntityData=b})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;
(function(a){a.MdxEntityDataType={SCHEMA:"SA",CUBE:"CE",DIMENSION:"DN",HIERARCHY:"HY",HIERARCHY_MEASURE:"HYME",LEVEL:"LL",MEMBER:"MR",TUPLE:"TE",MEASURE_GROUP:"MP",MEASURE:"ME",REPORT_CALC_MEASURE:"RCME",REPORT_FOLDER:"RPF",REPORT:"RP",REPORT_SNAPSHOT:"RPS",OTHER:"OT",EVENT:"EVT"};
a.MdxEntityDataSubType={CALCULATED:"CA"};var b=(function(){function d(e){$.extend(this,e)}return d}());a.MdxEntityItem=b;var c=(function(e){__extends(d,e);function d(g,f){e.call(this,[]);this.items=this.buildItems(g,f)}d.prototype.buildItems=function(i,h){var g=[];
if($.isArray(i)){$.each(i,function(l,n){var m=new b({caption:n.caption,name:n.name,uniqueName:n.uniqueName,parentRowId:-1,type:a.MdxEntityDataType.OTHER,empty:n.empty});g.push(m)})}else{if(i){var f=i.getRowCount();for(var k=0;k<f;k++){if(h){var j=i.getValue(k,0);
if(j==h){g.push(new b({name:i.getValue(k,1),uniqueName:i.getValue(k,2),parentRowId:i.getValue(k,3),type:i.getValue(k,4),path:i.getValue(k,5)}))}}else{g.push(new b({name:i.getValue(k,0),uniqueName:i.getValue(k,1),parentRowId:i.getValue(k,2),type:i.getValue(k,3),empty:i.getValue(k,4)}))
}}}}return g};d.prototype.getEntityNamePathAsString=function(f){var g=this.getEntityPath(f,"name");return g&&g.length>0?g.join("/"):null};d.prototype.getEntityPath=function(f,g){var h=this.lookupByUniqueName(f);if(h!==null&&!$.isArray(h)){return this._getEntityPath(h,g)
}else{return null}};d.prototype._getEntityPath=function(i,g){var h=[];var f=this.items[i];h.push(ic3.isEmptyString(g)?f:f[g]);while(f.parentRowId!=-1){f=this.items[f.parentRowId];h.unshift(ic3.isEmptyString(g)?f:f[g])}return h};d.prototype.getEntityByNameOrUniqueName=function(f){var g=this.lookupByNameOrUniqueName(f);
if(g!==null&&!$.isArray(g)){return this.items[g]}else{return null}};d.prototype.getEntityRowIdByNameOrUniqueName=function(f){var g=this.lookupByNameOrUniqueName(f);if(g!==null&&!$.isArray(g)){return g}else{return null}};d.prototype.lookupByNameOrUniqueName=function(k){var i=this.items;
if($.isArray(k)){var h=this;var j=[];$.each(k,function(l,m){if(h){var l=h.lookupByNameOrUniqueName(m);if(l==null){h=null}else{j.push(l)}}});return h==null?null:j}else{for(var f=0;f<this.size();f++){var g=this.items[f];if(g.name==k||g.uniqueName==k){return f
}}return null}};d.prototype.updateEntityName=function(f,g){if(f<this.items.length){var h=this.items[f];if(ic3.isEmptyString(g)){h.name=""}else{if(a.GviConstants.mdxNameTag!=g){h.name=g}}}};return d}(a.EntityData));a.MdxEntityData=c})(viz||(viz={}));var vizMdxEntityDataType=viz.MdxEntityDataType;
var vizMdxEntityDataSubType=viz.MdxEntityDataSubType;var viz;(function(a){var b=(function(){function c(){this.events={};this.accepts={};this.classID="viz.EventHandler"}c.prototype.guid=function(d){return this.guid_?this.guid_:(this.guid_=ic3.uniqueId(d))};c.prototype.clearGuid=function(){delete this.guid_
};c.prototype.bindingEvent=function(d){var e=this.events[d];return e!=null&&e.length>0};c.prototype.producedEvents=function(d){return[]};c.prototype.consumedEvents=function(){return[]};c.prototype.consumeEvent=function(d,e){};c.prototype.consumesEvent=function(d){return ic3.arrayContains(this.consumedEvents(),d)
};c.prototype.onEventSendHook=function(d,e){return e};c.prototype.producesEvent=function(d){return ic3.arrayContains(this.producedEvents(),d)};c.prototype.bind=function(f,h,g){if(!this.events[f]){this.events[f]=[]}var d;if(typeof h==="function"){d=h}else{if(typeof h[f]==="function"){d=function(){h[f].apply(h,arguments)
}}else{throw"callback is not a function"}var e=f+"Accepts";if(typeof h[e]==="function"){if(!this.accepts[f]){this.accepts[f]=[]}this.accepts[f].push(function(){return h[e].apply(h,arguments)})}}if(g===true){this.events[f].slice(d)}else{this.events[f].push(d)
}};c.prototype.unbind=function(e,f){var d=function(g){return g!==f};if(e==null){this.events=f?_.mapValues(this.events,function(g){return _.filter(g,d)}):{};this.accepts=f?_.mapValues(this.accepts,function(g){return _.filter(g,d)}):{}}else{this.events[e]=f?_.filter(this.events[e],d):[];
this.accepts[e]=f?_.filter(this.accepts[e],d):[]}};c.prototype.acceptsEvent=function(f){var e=[];for(var g=1;g<arguments.length;g++){e[g-1]=arguments[g]}var d;ic3.each(this.accepts[f],function(h,i){if(i.apply(this,e)===false){d=!!d}else{d=true}});return d};
c.prototype.fireEvent=function(h){var e=[];for(var k=1;k<arguments.length;k++){e[k-1]=arguments[k]}var g=this.events[h];var j=g?g.length:0;var e=Array.prototype.slice.call(arguments,1);var d=this.onEventSendHook(h,e);if(d!==false){if(!d){d=e}for(var f=0;f<j;
f++){var l=g[f];l.apply(this,d)}}};c.prototype.hasEvents=function(){return !ic3.objectIsEmpty(this.events)};c.prototype.popEvents=function(){var d=this.events;this.events={};return d};c.prototype.pushEvents=function(d){this.events=d};return c}());a.EventHandler=b
})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(a){var b=(function(f){__extends(e,f);
function e(g,h){f.call(this);this.connection=g;this.errorWidget=h;this.resultWidgets=[];this.mdxQueryWidgets=[]}e.prototype.clear=function(){this.unbind();this.resultWidgets=[]};e.prototype.addResultWidget=function(g){if(g.onVizBeforeRequestSend){this.bind(a.EventType.onVizBeforeRequestSend,g)
}this.bind(a.EventType.onVizRequestExecuted,g);if(g.onVizRequestExecutedInError){this.bind(a.EventType.onVizRequestExecutedInError,g)}this.resultWidgets.push(g)};e.prototype.forEachMdxQueryWidget=function(g){ic3.each(this.mdxQueryWidgets,function(h,i){g(i)})
};e.prototype.addQueryBuilderWidget=function(g){var h=this;this.mdxQueryWidgets.push(g);g.bind(a.EventType.onVizChange,function(){h.executeRequest(g.getQuery())})};e.prototype.executeRequest=function(i,h,j){var g=this;g.fireEvent(a.EventType.onVizBeforeRequestSend,i);
return g.connection.sendRequest(i,{onSuccess:function(k){g.onRequestSuccess(k,i,j)},onError:function(k){g.onRequestError(k,i)},onFailure:function(k){g.onRequestFailure(k,i)}},h)};e.prototype.onRequestSuccess=function(g,h,i){if(i){i(g)}else{g=this.adaptResult_(g,h);
this.fireEvent(a.EventType.onVizRequestExecuted,g,h)}};e.prototype.onRequestError=function(g,h){this._fireError(g,h);this.fireEvent(a.EventType.onVizRequestExecutedInError,g,h)};e.prototype.onRequestFailure=function(g,h){this._fireFailure(g,h);this.fireEvent(a.EventType.onVizRequestExecutedInError,g,h)
};e.prototype.adaptResult_=function(g,i){var h=g;if(i instanceof a.GetMembersFromMDXSelectGviRequest){h=i.resultAdapter(g)}return h};e.prototype._fireError=function(i,j){var k=false;for(var g=0;g<this.resultWidgets.length;g++){var h=this.resultWidgets[g];if(typeof h.onError!=="undefined"){k=true;
if(h.onError(i,j)){return}}}if(this.errorWidget){k=true;if(this.errorWidget.onError(i,j)){return}}if(!k){a.DefaultErrorWidget.onError(i,j)}};e.prototype._fireFailure=function(i,j){var k=false;for(var g=0;g<this.resultWidgets.length;g++){var h=this.resultWidgets[g];
if(typeof h.onFailure!=="undefined"){k=true;if(h.onFailure(i,j)){return}}}if(this.errorWidget){k=true;if(this.errorWidget.onFailure(i,j)){return}}if(!k){a.DefaultErrorWidget.onFailure(i,j)}};e.prototype.executeBatchRequest=function(o,k){var g=[];var j=[];for(var m=0;
m<o.length;m++){var n=o[m];var l=n.request;g.push(l);var p=n.resultWidget;j.push(p);if(p){if(p[a.EventType.onVizBeforeRequestSend]){p[a.EventType.onVizBeforeRequestSend](l)}}}var h=new a.GviBatchRequest(g);var q=this;q.executeRequest(h,k,function(r){var w;for(var t=0;
t<g.length;t++){var v=g[t];var u=q.adaptResult_(r[t],v);var s=j[t];if(s){if(s[a.EventType.onVizRequestExecuted]){w=s[a.EventType.onVizRequestExecuted](u,w)}else{w=s(u,w)}}}q.fireEvent(a.EventType.onVizRequestExecuted,w||r,v)})};return e}(a.Object));a.QueryManager=b;
var c=(function(e){__extends(f,e);function f(){e.call(this);this.classID="viz.QueryManagerHistory";this.sendQueries=[];this.queryHistory=[];this.id=0}f.prototype.unbind=function(g){e.prototype.unbind.call(this,g);this.sendQueries=[];this.queryHistory=[];this.id=0
};f.prototype.setFields=function(i,g){var h=this;if(this._queryManager){this._queryManager.unbind()}this._queryManager=i;this._ajaxCollector=g;if(i){i.bind(a.EventType.onVizBeforeRequestSend,function(j){h._beforeSend(j)});i.bind(a.EventType.onVizRequestExecuted,function(j,k){h._executed(j,k)
})}};f.prototype.producedEvents=function(g){return[vizEventType.onQueryHistorySizeChange]};f.prototype.consumedEvents=function(){return[vizEventType.doQueryBack,vizEventType.doQueryRefresh]};f.prototype.consumeEvent=function(g){switch(g){case vizEventType.doQueryBack:this.doBack();
break;case vizEventType.doQueryRefresh:this.doRefresh();break}};f.prototype.doBack=function(){if(this.queryHistory.length>1){this.queryHistory.pop();var g=this.queryHistory.pop();this._ajaxCollector.addRequest(g.mdxQuery,this._queryManager);this.fireEvent(vizEventType.onQueryBack)
}};f.prototype.doRefresh=function(){this.queryHistory=[];this.sendQueries=[];this.id=0;var g=this;this._queryManager.forEachMdxQueryWidget(function(h){g._ajaxCollector.addRequest(h)})};f.prototype._beforeSend=function(g){this.sendQueries.push({id:this.id,timestamp:new Date().getTime()});
g._qmListenerId=this.id;this.id++};f.prototype._executed=function(g,h){var i=ic3.arrayLookup(this.sendQueries,"id",h._qmListenerId);this.queryHistory.push({id:i.id,startTime:i.timestamp,endTime:new Date().getTime(),mdxQuery:h});this.fireEvent(vizEventType.onQueryHistorySizeChange,new a.event.ValueEvent(this.queryHistory.length))
};return f}(a.EventHandler));a.QueryManagerHistory=c;var d=(function(){function e(f){this.context_=f;this.clear()}e.prototype.getOpeningReportId=function(){return this.context_.getOpeningReportId()};e.prototype.clear=function(){this.allRequests_={};this.ongoingRequests_={};
this.requestsCompletedSequence_=null;this.done_=false};e.prototype.onMdxRequestAdded=function(k,j,i){if(j&&j.isIgnoredForReportRendered()){return}if(!i.getUniqueParamNames){return}var f=i.ouid();var g=i.getUniqueParamNames();var h="[ouid:"+f+"]"+(j?"[widget:"+j.getCaptionForDockMenu()+"]":"[no widget]")+"[params:"+g.toString()+"]";
this.allRequests_[f]=h;ic3.logMsg("[ic3-request] added"+(k?(" (on-param.:"+k+")"):"")+" : "+h)};e.prototype.onMdxRequestBeforeSend=function(h){if(!h.widgetOuid_){return}var f=h.widgetOuid_;var g=this.allRequests_[f];this.ongoingRequests_[f]=1;ic3.logMsg("[ic3-request] before-send : "+g)
};e.prototype.onMdxRequestResponseReceived=function(j){if(!j.widgetOuid_){return}var h=this;var g=j.widgetOuid_;var i=this.allRequests_[g];delete this.ongoingRequests_[g];ic3.logMsg("[ic3-request] response-received : "+i);var f=this.context_.eventMgr();f.executeAfterAjaxCollectorCallback(function(){h.done_=h.ongoingRequestsCount_()<=0;
ic3.logMsg("[ic3-request] response-received check [ done : "+h.done_+" ]")})};e.prototype.waitForAllRequestsCompleted=function(i,h){var g=this;g.requestsCompletedSequence_=i;ic3.logMsg("[ic3-request] wait-for-all-requests-completed (seq:"+i+")");var f=function(){if(g.allRequestsCount_()==0||g.done_){if(g.requestsCompletedSequence_){h&&h()
}return}setTimeout(f,10)};f()};e.prototype.ongoingRequestsCount_=function(){return this.count_(this.ongoingRequests_)};e.prototype.allRequestsCount_=function(){return this.count_(this.allRequests_)};e.prototype.count_=function(g){var f=0;ic3.each(g,function(h,i){++f
});return f};return e}());a.MdxRequestManager=d})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(b){var d=(function(){function f(){}return f}());b.Action=d;var e=(function(){function f(g,h){this.entity=g;this.children=h}return f}());var c=(function(g){__extends(f,g);function f(j,h,i){g.call(this);this.queryManager=j;this.levelChooserWidget=h;
this.slicerListenerWidget=i;this.schemaName=null;this.cubeName=null;this.allLevels=null}f.prototype.ic3rowClick=function(l){var k=l.gviTable();var m=l.row();var j=l.col();var i=k.getSchemaName();var h=k.getCubeName();if(!this.allLevels||i!=this.schemaName||h!=this.cubeName){this._setupAllLevels(k,m,j)
}else{this._onAllLevels(k,m,j)}};f.prototype._setupAllLevels=function(j,m,i){var k=new b.GetLevelsGviRequest(j.getCubeName(),false);var l=new b.QueryManager(this.queryManager.connection);var h=this;l.addResultWidget(function(p){var s=new b.MdxEntityData(p);
var r=[];var t=-1;var q=null;for(var n=0;n<s.size();n++){var o=s.getEntityAt(n);if(o.type==b.MdxEntityDataType.HIERARCHY){if(q){r.push(q)}q={entity:o,children:[]};t=n}else{if(o.parentRowId!=t){alert("internal error : unexpected hierarchies/levels response")
}else{q.children.push(new e(o,[]))}}}if(q){r.push(q)}h.schemaName=j.getSchemaName();h.cubeName=j.getCubeName();h.allLevels=r;h._onAllLevels(j,m,i)});l.executeRequest(k)};f.prototype._onAllLevels=function(l,n,k){var i=this;var m=[];for(var h=0;h<this.allLevels.length;
h++){var j=this.allLevels[h];if(!l.hasHierarchy(j.entity.uniqueName)){m.push(j)}}i.levelChooserWidget.populate("Hierarchies / Levels",m,{onSelectedEntity:function(o){if(o.type!=b.MdxEntityDataType.LEVEL){return}var q=l.getMemberUniqueName(n,k);var p=l.getValue(n,k);
var r=i._createDrilldownRequest(l,o.uniqueName,q);if(i.slicerListenerWidget){i.slicerListenerWidget.push({name:p,uniqueName:q})}i.queryManager.executeRequest(new b.MdxGviRequest(r))}})};f.prototype._createDrilldownRequest=function(k,l,j){var i=l+".members";
return k._createLevelDrilldownRequest(i,j)};return f}(d));b.ActionLevelDrilldown=c;var a=(function(g){__extends(f,g);function f(i,k,h,j){g.call(this,i,k,h);this.topCountWidget=j}f.prototype._createDrilldownRequest=function(k,l,j){var m=this.topCountWidget.getN();
var i="TopCount( "+l+".members, "+m+", [Measures].defaultMember )";return k._createLevelDrilldownRequest(i,j)};return f}(c));b.ActionLevelTopCountDrilldown=a})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(o){var g=(function(p){__extends(q,p);function q(){p.call(this)}return q}(o.Object));o.AbstractWidget=g;var a=(function(){function p(q){}return p
}());o.MdxCubes=a;var c=(function(q){__extends(p,q);function p(){q.call(this)}p.prototype.populate=function(r){this.doPopulate(new a(r))};p.prototype.doPopulate=function(r){ic3.assertAbstract("doPopulate",{classID:"QueryCubeWidget"})};return p}(g));o.QueryCubeWidget=c;
var j=(function(q){__extends(p,q);function p(r){q.call(this);this.cube=null;this.measures=null;this.hierarchies=null;this.errorWidget=r}p.prototype.getCube=function(){return this.cube};p.prototype.setCube=function(r){this.cube=r};p.prototype.setMeasures=function(r){this.measures=r
};p.prototype.setHierarchies=function(r){this.hierarchies=r};p.prototype.initialize=function(v){var t=new o.QueryManager(v,this.errorWidget);var s=new o.QueryManager(v,this.errorWidget);var u=new o.QueryManager(v,this.errorWidget);s.addResultWidget(this.measures);
u.addResultWidget(this.hierarchies);var r=this.cube;r.bind(o.EventType.onVizChange,function(x,w){s.executeRequest(new o.GetMeasuresGviRequest(r.getCubeName()));u.executeRequest(new o.GetHierarchiesGviRequest(r.getCubeName()))});t.addResultWidget(r);t.executeRequest(new o.GetCubesGviRequest())
};return p}(g));o.MdxSchemaBrowserWidget=j;var b=(function(p){__extends(q,p);function q(){p.call(this)}q.prototype.isEmpty=function(){return this.getEntities().length==0};q.prototype.asMdxSetExpression=function(u){var s=true;var v=this.getEntities();for(var r=0;
r<v.length;r++){if(!s){u.append(" * ")}var t=v[r];t.asMdxSetExpression(u);s=false}return u};q.prototype.getEntities=function(){ic3.assertAbstract("getEntities",{classID:"QueryBuilderMdxEntityContainerWidget"});return[]};return q}(g));o.QueryBuilderMdxEntityContainerWidget=b;
var f=(function(p){__extends(q,p);function q(r){p.call(this);this.resetParameters(r)}q.prototype.isQueryWidget=function(){return true};q.prototype.getQuery=function(r){var s=this.doGetQuery(r);s.widgetOuid_=this.ouid();return s};q.prototype.doGetQuery=function(r){throw"doGetQuery() : abstract method"
};q.prototype.fireEvent=function(){var r=[];for(var s=0;s<arguments.length;s++){r[s-0]=arguments[s]}if(this.canFireEvent()){p.prototype.fireEvent.apply(this,arguments)}};q.prototype.canFireEvent=function(){var r=o.countNonNullProperties(this.params);return this.paramNames.length==r
};q.prototype.onEvent=function(s,r){this.fireEvent(s,r)};q.prototype.registerWidgetListener=function(r,s){if(s){r.bindAll(this)}};q.prototype.bindSelection=function(t,u,s){if(!u.producesEvent(vizEventType.onSelection)){throw'entity widget should implement "ic3selection" function'
}if(s!="name"&&s!="uniqueName"){throw ic3.format('"{0}" is not a valid field, valid ones : name,uniqueName',s)}var r=this;u.bind(vizEventType.onSelection,function(v){r.setParam(t,v.asMdx());r.fireOnChangeEvent()})};q.prototype.getUniqueParamNames=function(){return ic3.uniqueArray(this.paramNames)
};q.prototype.forEachParam=function(r){ic3.each(this.paramNames,function(s,t){r(t)})};q.prototype.setParam=function(r,s,t){this.params[r]=s;this.registerWidgetListener(s,t)};q.prototype.setEventObject=function(u,t,s){if(o.event.isNull(t)){this.clearParam(u);
return}var v=this.accessorsWithGetters[u];if(v){for(var w=0;w<v.length;w++){var r=v[w];this.lexemesValues[r.lexeme]=t[r.getter](t)}}if(s&&t[s]!=null){if(typeof t[s]==="function"){this.params[u]=t[s]()}else{this.params[u]=t[s]}}else{this.params[u]=t}};q.prototype.clearParam=function(t){var s=this.defaultValues[t];
if(s){this.params[t]=s}else{delete this.params[t]}var u=this.accessorsWithGetters[t];if(u){for(var v=0;v<u.length;v++){var r=u[v];delete this.lexemesValues[r.lexeme]}}};q.prototype._lexeme=function(r){if(this.lexemes[r]){return this.lexemes[r]}else{return["@{"+r+"}"]
}};q.prototype._getTextFromWidget=function(r){return typeof r.getText=="function"?r.getText():r};q.prototype.resetParameters=function(u,t,s,r){this.defaultValues=t||{};this.params=$.extend({},this.defaultValues);this.paramNames=u||[];this.lexemes=s||{};this.lexemesValues={};
this.accessorsWithGetters=r||{}};q.prototype.buildParametersFromString=function(t){var r=ic3.eventAccessorDefinitions(t);var w={};var v=[];var u={};var s={};ic3.each(r,function(y,x){var B=x.name;var z=x.defaultValue;v.push(B);if(w[B]==null){w[B]=[]}w[B].push(x.lexeme);
if(x.getter){if(s[B]==null){s[B]=[]}var A=s[B];if(!ic3.arrayLookup(A,"lexeme",x.lexeme)){A.push(x)}}if(z){u[B]=z}});v=ic3.uniques(v);this.resetParameters(v,u,w,s)};q.prototype.getTranslatedEvents=function(t,r){var s=this.doGetTranslatedEvents(t==null?t:""+t,r);
return ic3.evalExpression(s,null)};q.prototype.doGetTranslatedEvents=function(x,r){if(!ic3.containsEventAccessor(x)){return x}for(var z in this.params){if(this.params.hasOwnProperty(z)){if(r&&!ic3.arrayContains(r,z)){continue}var t=this.params[z];var y=this._getTextFromWidget(t);
var v=this._lexeme(z);for(var u=0;u<v.length;u++){var w=v[u];var s=this.lexemesValues[w];if(s){y=s}x=ic3.replaceAll(x,w,y)}}}return x};return q}(g));o.AbstractWidgetWithParameters=f;var i=(function(q){__extends(p,q);function p(){q.apply(this,arguments)}p.prototype.doGetQuery=function(r){var s=this.asMdxExpression(r);
return new o.MdxGviRequest(s)};p.prototype.getMdxExpression=function(){ic3.assertAbstract("getMdxExpression",{classID:"MdxQueryWidget"});return""};p.prototype.asMdxExpression=function(r,s){var t=r||this.getMdxExpression();if(s&&s.length==0){return t}return this.getTranslatedEvents(t,s)
};return p}(f));o.MdxQueryWidget=i;var l=(function(q){__extends(p,q);function p(){q.call(this);this.cube=null;this.axis0=null;this.axis1=null}p.prototype.setCube=function(r,s){this.cube=r;this.registerWidgetListener(r,s)};p.prototype.setAxis0=function(r,s){this.axis0=r;
this.registerWidgetListener(r,s)};p.prototype.setAxis1=function(r,s){this.axis1=r;this.registerWidgetListener(r,s)};p.prototype.getMdxExpression=function(){var r=new o.StringBuilder();r.append("select \n");this.axis0.asMdxSetExpression(r).append(" on 0");if(!o.isEmpty(this.axis1)){r.append(",\n");
this.axis1.asMdxSetExpression(r).append(" on 1 \n")}else{r.append("\n")}r.append(this.cube.asMdxExpression());return r.asString()};return p}(i));o.MdxQueryPivotWidget=l;var d=(function(p){__extends(q,p);function q(r){p.call(this);this.initEventParameters(r)
}q.prototype.initEventParameters=function(r,s){this.buildParametersFromString(r);this.mdxStatement=r;if(s){this.fireOnChangeEvent()}};q.prototype.getMdxExpression=function(){return this.mdxStatement};return q}(i));o.MdxSimpleQueryWidget=d;var k=(function(q){__extends(p,q);
function p(r){q.call(this,r)}p.prototype.doGetQuery=function(r){var s=this.asMdxExpression(r);return new o.MdxTableRequest(s)};return p}(d));o.MdxTableQueryWidget=k;var m=(function(q){__extends(p,q);function p(r,s){q.call(this,r);this.navigationStrategy=s}p.prototype.asMdxExpression=function(r,s){var t=q.prototype.asMdxExpression.call(this,r,s);
return this.navigationStrategy.applyNavigationState(t)};return p}(k));o.MdxTableQueryWidgetWithNavigation=m;var h=(function(q){__extends(p,q);function p(r){q.call(this);this.textWidget=r}p.prototype.setTextWidget=function(r,s){this.textWidget=r;this.registerWidgetListener(r,s)
};p.prototype.getMdxExpression=function(){return this.textWidget.getText()};return p}(i));o.MdxQueryTextWidget=h;var n=(function(q){__extends(p,q);function p(s,t,r,u,v){q.call(this);this.cubeName=s;this.membersMdx=t;this.preselection=u;this.defaultMember=v;
this.maxMemberCount=r;this.initEventParameters()}p.prototype.initEventParameters=function(){this.buildParametersFromString(this.membersMdx)};p.prototype.doGetQuery=function(){var r=this.getTranslatedEvents(this.membersMdx);return new o.GetMembersGviRequest(this.cubeName,r,this.maxMemberCount,this.preselection,this.defaultMember)
};p.prototype.setMaxMemberCount=function(r){this.maxMemberCount=r};p.prototype.setFilter=function(r){this.preselection=r};return p}(f));o.MdxOldFilterWidget=n;var e=(function(q){__extends(p,q);function p(v,z,s,u,r,x,w,t,y){q.call(this);this.cubeName=v;this.membersMdx=z;
this.defaultsMdx=s;this.noSelectionMdx=u;this.addDefaultMemberToMembers=r;this.defaultMemberName=x;this.maxMemberCount=w;this.membersMdxFilter=null;this.memberIdFormatter=t;this.memberCaptionFormatter=y;this.initEventParameters()}p.prototype.initEventParameters=function(){var r=this.membersMdx+(this.defaultsMdx?" "+this.defaultsMdx:"")+(this.noSelectionMdx?" "+this.noSelectionMdx:"")+(this.maxMemberCount?" "+this.maxMemberCount:"")+(this.memberIdFormatter?" "+this.memberIdFormatter:"")+(this.memberCaptionFormatter?" "+this.memberCaptionFormatter:"");
this.buildParametersFromString(r)};p.prototype.doGetQuery=function(){var u=this.getTranslatedEvents(this.membersMdx);var x=this.getTranslatedEvents(this.defaultsMdx);var v=this.getTranslatedEvents(this.noSelectionMdx);var w=this.addDefaultMemberToMembers;var t=this.getTranslatedEvents(this.defaultMemberName);
var s=this.getTranslatedEvents(this.maxMemberCount);var y=this.getTranslatedEvents(this.memberIdFormatter);var r=this.getTranslatedEvents(this.memberCaptionFormatter);return new o.GetFilterInfoGviRequest(this.cubeName,s,w,t,u,this.membersMdxFilter,x,v,undefined,undefined,y,r)
};p.prototype.setMaxMemberCount=function(r){this.maxMemberCount=r};p.prototype.setFilter=function(r){this.membersMdxFilter=r};return p}(f));o.MdxFilterWidget=e})(viz||(viz={}));var vizHelper;(function(c){function b(e,f){viz.GlobalConnectionSettings={timeout:5000000};
var d=new viz.DataSource(e);d.login();return new viz.Connection(d,f)}c.setupConnection=b;function a(f,e,d){var g=new viz.QueryManager(f);g.addResultWidget(d);g.executeRequest(e)}c.executeRequest=a})(vizHelper||(vizHelper={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(c){var e=(function(){function g(h){this.value_=h}g.prototype.isCreated=function(){return g.CREATED.value_==this.value_};g.prototype.isRestoringSnapshot=function(){return g.SNAPSHOT_ONGOING.value_==this.value_
};g.prototype.isRendered=function(){return g.RENDERED.value_==this.value_};g.CREATED=new g("CREATED");g.REQUEST_ONGOING=new g("REQUEST-ONGOING");g.SNAPSHOT_ONGOING=new g("SNAPSHOT-ONGOING");g.RENDERED=new g("RENDERED");return g}());c.WidgetRenderingStatus=e;
(function(g){g[g.SELECTION=0]="SELECTION";g[g.SNAPSHOT=1]="SNAPSHOT";g[g.SIMPLE=2]="SIMPLE"})(c.StateSaveMode||(c.StateSaveMode={}));var b=c.StateSaveMode;var f=(function(h){__extends(g,h);function g(i,j){h.call(this);this.container=c.asDiv(i);this.options=j;
this.renderingStatus_=e.CREATED}g.prototype.renderingStatus=function(){return this.renderingStatus_};g.prototype.asynchronousRendering=function(){return false};g.prototype.onRendered=function(){this.renderingStatus_=e.RENDERED};g.prototype.isRendered=function(){if(this.renderingStatus_.isRendered()){return true
}return true};g.prototype.getState=function(i){return{}};g.prototype.initWithState=function(i){try{this.renderingStatus_=e.SNAPSHOT_ONGOING;if(i){this.doSetState(i)}}finally{if(!this.asynchronousRendering()){this.onRendered()}}};g.prototype.doSetState=function(i){};
g.prototype.getWidgetEl=function(){return $([])};g.prototype.getStyle=function(){return this.options.widgetStyle};g.prototype.setStyle=function(){var i=this.getWidgetEl();var j=this.getStyle();if(j&&i){i.addClass(j)}this.afterSetStyle()};g.prototype.afterSetStyle=function(){this.setZoom()
};g.prototype.setZoom=function(){var i=this.getWidgetEl();var j=this.getZoom();if(i&&ic3.isNumber(j)){i.css("font-size",j+"em")}};g.prototype.getZoom=function(){return this.options.zoom};g.prototype.destroy=function(){};return g}(c.EventHandler));c.BaseWidget=f;
var a=(function(h){__extends(g,h);function g(i,j){h.call(this,i,j);this.classID="viz.GviWidget"}g.prototype.beforeBuildInHtml=function(i){};g.prototype.buildInHtml=function(i){};g.prototype.isRendered=function(){if(this.renderingStatus_.isRendered()){return true
}if(!this.renderingStatus_.isRestoringSnapshot()){if(this.renderingStatus_.isCreated()){return true}}return false};g.prototype.onVizBeforeRequestSend=function(){this.renderingStatus_=e.REQUEST_ONGOING};g.prototype.onVizRequestExecuted=function(j,k){this.gviTable_=j;
this.gviRequest_=k;var i=this;this.render(function(){i.doOnVizRequestExecuted(j)})};g.prototype.render=function(i){try{i();this.setZoom();this.setStyle()}finally{if(!this.asynchronousRendering()&&!this.renderingStatus_.isRestoringSnapshot()){this.onRendered()
}}};g.prototype.gviTable=function(i){return i?(this.gviTable_=i):this.gviTable_};g.prototype.gviRequest=function(i){return i?(this.gviRequest_=i):this.gviRequest_};g.prototype.doOnVizRequestExecuted=function(i){ic3.assertAbstract("doOnVizRequestExecuted",this)
};g.prototype.getState=function(j){var i=h.prototype.getState.call(this,j);if(this.gviTable()){if(j==b.SNAPSHOT){i.gviTable=this.gviTable().getUnderlyingGviTable()}i.mdxQuery=this.mdxQuery()}return i};g.prototype.doSetState=function(k){h.prototype.doSetState.call(this,k);
if(k.gviTable){var j=c.GviTable.fromSnapshot(k.gviTable);var i=new c.MdxGviRequest(k.mdxQuery);this.onVizRequestExecuted(j,i)}};g.prototype.mdxQuery=function(){return this.gviRequest_.getMdxParameter()};return g}(f));c.GviWidgetBase=a;var d=(function(){function g(){}g.toInt=function(j){var h;
var i=j.toLowerCase();switch(i){case g.DISABLED:h=0;break;case g.SINGLE:h=1;break;case g.MULTI:h=2;break;case g.HIERARCHICAL_MULTI:h=3;break;case g.IPAD_STYLE_MULTI.toLowerCase():h=4;break;default:h=-1}return h};g.DISABLED="disabled";g.SINGLE="single";g.MULTI="multi";
g.HIERARCHICAL_MULTI="@d{ic3.widget.select_control.options.mode.hierarchical_multi}";g.IPAD_STYLE_MULTI="iPad_multi";return g}());c.SelectionMode=d})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(a){var b=(function(c){__extends(d,c);function d(e,f){c.call(this,e,f)}d.prototype.doOnVizRequestExecuted=function(e){this.beforeBuildInHtml(e);
this.buildInHtml(e)};d.prototype.producedEvents=function(e){return a.EventHandlerDefault.chart};d.prototype.consumedEvents=function(){return[vizEventType.doRowClick,vizEventType.doExportToExcel]};d.prototype.consumeEvent=function(e,f){switch(e){case vizEventType.doRowClick:this.doFireRowClickEvent(f);
break;case vizEventType.doExportToExcel:this.doExportToExcel(a.event.asMdx(f),this.gviConnection());break}};d.prototype.doFireRowClickEvent=function(e){if(this.shouldFireRowClickEvent(e)&&!e.refired){var f=this.gviTable().simulateRowClick(e);if(f){f.refired=true;
this.fireEvent(vizEventType.onRowClick,f)}}};d.prototype.shouldFireRowClickEvent=function(e){return e instanceof a.event.GviRowClickEvent&&e.gviTable!==this.gviTable()};d.prototype.doExportToExcel=function(k,e){if(e){var h=this.dataToExport();if(h){var i=ic3.isEmptyString(k)?"pivot-table":k;
var f=this.dataToExportInputFormat();var j=this.dataToExportOutputFormat();var g=new a.FormatDataRequest({},f,j,i,h);e.sendRequest(g)}}};d.prototype.gviConnection=function(){var e=this.gviTable();return e?e.gviConnection():null};d.prototype.dataToExportInputFormat=function(){return vizDataFormatConstants.table
};d.prototype.dataToExportOutputFormat=function(){return vizDataFormatConstants.excel};d.prototype.dataToExport=function(){var h=this.gviTable();if(h){var k=[];var l=h.getColumnCount();var j=h.getRowCount();var e=[];var f=h.getNumberOfHeaderColumns();for(var g=0;
g<l;g++){if(g<f){e.push("")}else{e.push(h.getColumnLabel(g))}}k.push(e);for(var n=0;n<j;n++){e=[];for(g=0;g<l;g++){var i=h.getProperty(n,g,"FORMAT_STRING");var m=ic3.fixNaN(h.getValue(n,g));if(!i){e.push(m)}else{e.push({v:m,fs:i})}}k.push(e)}return k}return null
};return d}(a.GviWidgetBase));a.GviChartBase=b})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var b;(function(g){var x=(function(){function z(){}z.isNull=function(A){return A==null||(A.isEmptyEvent&&A.isEmptyEvent())};z.prototype.isEmptyEvent=function(){return false};z.prototype.caption=function(){return""};z.prototype.value=function(){return this.asMdx()
};z.prototype.asMdx=function(){return""};z.prototype.asSet=function(){return this.asMdx().replace(/^\(/,"{").replace(/\)$/,"}")};z.prototype.asDefaultValue=function(){return this.asFilterInitialSelection()};z.prototype.asFilterInitialSelection=function(){return null
};z.prototype.isSelectionEvent=function(){return false};z.prototype.getSelectedItems=function(){return null};z.toEvent=function(A){if(A==null||A.nil){return new a.event.EmptySelectionEvent()}return new a.event.GenericEvent(A.dft,A.val,A.mdx,A.fis,A.sel)};z.prototype.asReportParam=function(){var F={};
F.rpe=1;if(this.isEmptyEvent()){F.nil=true}else{var C=this.caption();if(C!==null){F.dft=C}var E=this.value();if(E!==null){F.val=E}var B=this.asMdx();if(B!==null){F.mdx=B}var A=this.asFilterInitialSelection();if(A!==null){F.fis=A}if(this.isSelectionEvent()){var D=this.getSelectedItems();
if(D!==null){F.sel=D}}}return F};z.asMdx=function(B){var A=B;if(B&&ic3.isFunction(B.asMdx)){A=B.asMdx()}return A};return z}());g.Event=x;var q=(function(A){__extends(z,A);function z(C,B){A.call(this);this.fireMdxByDefault=C;this.isGlobalFilter_=B}z.prototype.isSelectionEvent=function(){return true
};z.getItemsFromSelectionEvent=function(D){var C;if(D instanceof x){var B=D;if(B.isSelectionEvent()){C=B.getSelectedItems()}else{var E=B.asMdx();if(E){C=E.split(/\s*,\s*/)}}}else{if($.isArray(D)){C=D}else{C=[D]}}return C||[]};z.prototype.getSelectedItems=function(){ic3.assertAbstract("getGetSelectedItems",this);
return null};z.prototype.isGlobalFilter=function(){return this.isGlobalFilter_};return z}(x));g.SelectionEvent=q;var w=(function(z){__extends(A,z);function A(){z.call(this,false);this.classID="viz.event.EmptySelectionEvent"}A.prototype.isEmptyEvent=function(){return true
};A.prototype.caption=function(){return""};A.prototype.asMdx=function(){return"{}"};A.prototype.asFilterInitialSelection=function(){return""};A.prototype.getSelectedItems=function(){return[]};return A}(q));g.EmptySelectionEvent=w;var j=(function(A){__extends(z,A);
function z(C,D,B){A.call(this,D,B);this.classID="viz.event.SingleSelectionEvent";this.selection=C}z.prototype.caption=function(){return this.selection?this.selection.name:""};z.prototype.asMdx=function(){return this.selection?this.selection.uniqueName:null};
z.prototype.asFilterInitialSelection=function(){return this.selection?this.selection.uniqueName:""};z.prototype.getSelectedItems=function(){return this.selection?[this.selection]:[]};return z}(q));g.SingleSelectionEvent=j;var t=(function(A){__extends(z,A);function z(C,D,B){A.call(this,D,B);
this.classID="viz.event.SetSelectionEvent";this.selection=C}z.prototype.caption=function(){if(this.selection&&this.selection.length>0){return ic3.asMdxSet(this.selection,"name",false,true)}else{return""}};z.prototype.asMdx=function(){if(this.selection&&this.selection.length>0){return ic3.asMdxSet(this.selection,"uniqueName")
}else{return null}};z.prototype.asFilterInitialSelection=function(){if(this.selection&&this.selection.length>0){return ic3.arrayProps(this.selection,"uniqueName")}else{return""}};z.prototype.getSelectedItems=function(){return this.selection};return z}(q));g.SetSelectionEvent=t;
var v=(function(A){__extends(z,A);function z(B,C){A.call(this,C);this.classID="viz.event.RangeSelectionEvent";this.range=B}z.prototype.caption=function(){return this.range[0].name+":"+this.range[1].name};z.prototype.firstCaption=function(){return this.range[0].name
};z.prototype.secondCaption=function(){return this.range[1].name};z.prototype.asMdx=function(){return"{"+this.range[0].uniqueName+":"+this.range[1].uniqueName+"}"};z.prototype.asFilterInitialSelection=function(){return[this.range[0].uniqueName,this.range[1].uniqueName]
};z.prototype.getSelectedItems=function(){return this.range};return z}(q));g.RangeSelectionEvent=v;var k=(function(z){__extends(A,z);function A(C,F,E,D,B){z.call(this);this.classID="viz.event.event.MdxResultTableClickEvent";if(F.length!=C.getAxes().getAxisCount()){throw new Error("A coordinates count not equals to a dimensionality of mdx result table")
}this.mdxResultTable=C;this.coordinates=F;this.hierarchyIndexes=_.isArray(E)?E:_.times(F.length,function(){return 0});this.name=D;this.uniqueName=B}A.prototype.getMdxResultTable=function(){return this.mdxResultTable};A.prototype.getCoordinates=function(){return this.coordinates
};A.prototype.getHierarchyIndexes=function(){return this.hierarchyIndexes};A.prototype.caption=function(){return this.name};A.prototype.asMdx=function(){return this.uniqueName};A.prototype.asFilterInitialSelection=function(){return this.uniqueName};A.prototype.type=function(){return vizEventType.onCellClick
};A.prototype.isSelectionEvent=function(){return true};A.prototype.getSelectedItems=function(){return[this.uniqueName]};return A}(x));g.MdxResultTableClickEvent=k;var o=(function(A){__extends(z,A);function z(D,H,G){A.call(this,D,H,G);this.classID="viz.event.MdxResultTableRowClickEvent";
var C=D.getAxes().getAxis(D.getAxes().getAxisCount()-1);var B=H[H.length-1];var E=_.times(C.getTupleLength(),function(I){return C.getMemberCaption(B,I)});var F=_.times(C.getTupleLength(),function(I){return C.getMemberUniqueName(B,I)});this.name=E.join(",");
this.uniqueName=a.asMdxTuple(F,false)}z.prototype.type=function(){return vizEventType.onRowClick};return z}(k));g.MdxResultTableRowClickEvent=o;var u=(function(A){__extends(z,A);function z(C,H,G){A.call(this,C,H,G);this.classID="viz.event.MdxResultTableColumnClickEvent";
var F=C.getAxes().getAxis(C.getAxes().getAxisCount()-(H.length<2?1:2));var B=H[H.length-(H.length<2?1:2)];var D=_.times(F.getTupleLength(),function(I){return F.getMemberCaption(B,I)});var E=_.times(F.getTupleLength(),function(I){return F.getMemberUniqueName(B,I)
});this.name=D.join(",");this.uniqueName=a.asMdxTuple(E,false)}z.prototype.type=function(){return vizEventType.onColumnClick};return z}(k));g.MdxResultTableColumnClickEvent=u;var m=(function(z){__extends(A,z);function A(B,E,D,C){z.call(this,B,E);this.classID="viz.event.MdxResultTableColumnClickEvent";
this.val=this.uniqueName=D;this.formattedVal=this.name=C}A.prototype.type=function(){return vizEventType.onCellClick};return A}(k));g.MdxResultTableCellClickEvent=m;var n=(function(A){__extends(z,A);function z(C,B){A.call(this);this.classID="viz.event.event.GviClickEvent";
this.name=C;this.uniqueName=B}z.prototype.caption=function(){return this.name};z.prototype.asMdx=function(){return this.uniqueName};z.prototype.asFilterInitialSelection=function(){return this.uniqueName};z.prototype.type=function(){return vizEventType.onCellClick
};z.prototype.isSelectionEvent=function(){return true};z.prototype.getSelectedItems=function(){return[this.uniqueName]};return z}(x));g.GviClickEvent=n;var y=(function(z){__extends(A,z);function A(F,E,H,D){var C,B;if(F instanceof a.GviTable){B=F.getMemberUniqueName(H,D);
C=F.getValue(H,D)}else{if(F instanceof a.MdxResultTable){var G=a.charts.data.tupleInfo(F,E,H);B=G.uniqueName;C=G.name}}z.call(this,C,B);this.classID="viz.event.GviRowClickEvent";this.gviTable_=F instanceof a.GviTable?F:null;this.row_=H;this.col_=D}A.prototype.type=function(){return vizEventType.onRowClick
};A.prototype.gviTable=function(){return this.gviTable_};A.prototype.row=function(){return this.row_};A.prototype.col=function(){return this.col_};return A}(n));g.GviRowClickEvent=y;var i=(function(z){__extends(A,z);function A(F,E,D){var G=F.tupleInfo(-1,E);
var C=G.name;var B=G.uniqueName;z.call(this,C,B);this.classID="viz.event.GviColumnClickEvent";this.gviTable=F;this.eventType=D||vizEventType.onColumnClick}A.prototype.type=function(){return this.eventType};return A}(n));g.GviColumnClickEvent=i;var d=(function(A){__extends(z,A);
function z(C,B,E,D){A.call(this,C,B);this.classID="viz.event.GviCellClickEvent";this.value_=E;this.fvalue_=D}z.prototype.type=function(){return vizEventType.onCellClick};z.prototype.cellValue=function(){return this.value_};z.prototype.cellFValue=function(){return this.fvalue_
};return z}(n));g.GviCellClickEvent=d;var l=(function(A){__extends(z,A);function z(C,B,E,D){A.call(this,C,B);this.classID="viz.GviPivotHeaderClickEvent";this.lineTuple_=E;this.eventType_=D}z.prototype.type=function(){return this.eventType_};z.prototype.tuple=function(){return this.lineTuple_
};return z}(n));g.GviPivotHeaderClickEvent=l;var s=(function(z){__extends(A,z);function A(C,B){z.call(this);this.classID="viz.event.MdxQueryEvent";this.mdx=C;this.error_=B||""}A.prototype.caption=function(){return this.mdx};A.prototype.asMdx=function(){return this.mdx
};A.prototype.asFilterInitialSelection=function(){return this.mdx};A.prototype.error=function(){return this.error_};return A}(x));g.MdxQueryEvent=s;var e=(function(z){__extends(A,z);function A(C,B){z.call(this);this.classID="viz.event.ValueEvent";if(B){this.fireMdxByDefault=true;
this.caption_=B}else{this.caption_=C?C.toString():""}this.value_=C}A.prototype.caption=function(){return this.caption_};A.prototype.value=function(){return this.value_};A.prototype.asMdx=function(){return this.value_};return A}(x));g.ValueEvent=e;function p(z){return z==null||(z.isEmptyEvent&&z.isEmptyEvent())
}g.isNull=p;function c(z){var A=z;if(z&&ic3.isFunction(z.asMdx)){A=z.asMdx()}return A}g.asMdx=c;function r(z){var B;if(z instanceof x){var A=z;if(A.isSelectionEvent()){B=A.getSelectedItems()}else{var C=A.asMdx();if(C){B=C.split(/\s*,\s*/)}}}else{if($.isArray(z)){B=z
}else{B=[z]}}return B||[]}g.getItemsFromSelectionEvent=r;function f(z){if(z==null||z.nil){return new w()}return new h(z.dft,z.val,z.mdx,z.fis,z.sel)}g.toEvent=f;var h=(function(A){__extends(z,A);function z(B,F,E,D,C){A.call(this);this.classID="viz.event.GenericEvent";
this.caption_=B;this.val_=F;this.mdx_=E;this.is_=D;this.selection_=C}z.prototype.caption=function(){return this.caption_};z.prototype.value=function(){return this.val_};z.prototype.asMdx=function(){return this.mdx_};z.prototype.isSelectionEvent=function(){return this.selection_!=null
};z.prototype.getSelectedItems=function(){return this.selection_};z.prototype.asFilterInitialSelection=function(){return this.is_};return z}(x));g.GenericEvent=h})(b=a.event||(a.event={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(viz){var CellCalculator=(function(){function CellCalculator(){}CellCalculator.prototype.gizmoName=function(){return"CellCalculator"};
CellCalculator.prototype.getValue=function(dataVisitor,row,col){throw"abstract method"};CellCalculator.prototype.getFormattedValue=function(dataVisitor,row,col){return this.getValue(dataVisitor,row,col)};return CellCalculator}());viz.CellCalculator=CellCalculator;
var DefaultCellCalculator=(function(_super){__extends(DefaultCellCalculator,_super);function DefaultCellCalculator(){_super.apply(this,arguments)}DefaultCellCalculator.prototype.getValue=function(dataVisitor,row,col){return dataVisitor.getValue(row,col)};DefaultCellCalculator.prototype.getFormattedValue=function(dataVisitor,row,col){return dataVisitor.getFormattedValue(row,col)
};return DefaultCellCalculator}(CellCalculator));viz.DefaultCellCalculator=DefaultCellCalculator;var RowAsArrayCellCalculator=(function(_super){__extends(RowAsArrayCellCalculator,_super);function RowAsArrayCellCalculator(){_super.apply(this,arguments)}RowAsArrayCellCalculator.prototype.getValue=function(dataVisitor,row,col){var values=[];
for(var i=dataVisitor.getColumnHeaderCount();i<dataVisitor.getColumnCount();i++){values.push(dataVisitor.getValue(row,i))}return values};return RowAsArrayCellCalculator}(CellCalculator));viz.RowAsArrayCellCalculator=RowAsArrayCellCalculator;var ColumnPercentageCellCalculator=(function(_super){__extends(ColumnPercentageCellCalculator,_super);
function ColumnPercentageCellCalculator(){_super.apply(this,arguments)}ColumnPercentageCellCalculator.prototype.getValue=function(dataVisitor,row,col){var value=dataVisitor.getValue(row,col);if(value==null){return null}var sum=dataVisitor.getSumColumn(col);
return value/sum};return ColumnPercentageCellCalculator}(CellCalculator));viz.ColumnPercentageCellCalculator=ColumnPercentageCellCalculator;var FirstColPercentageCellCalculator=(function(_super){__extends(FirstColPercentageCellCalculator,_super);function FirstColPercentageCellCalculator(){_super.apply(this,arguments)
}FirstColPercentageCellCalculator.prototype.getValue=function(dataVisitor,row,col){var value=dataVisitor.getValue(row,col);if(value==null){return null}var sum=dataVisitor.getValue(0,col);return value/sum};return FirstColPercentageCellCalculator}(CellCalculator));
viz.FirstColPercentageCellCalculator=FirstColPercentageCellCalculator;var RowPercentageCellCalculator=(function(_super){__extends(RowPercentageCellCalculator,_super);function RowPercentageCellCalculator(){_super.apply(this,arguments)}RowPercentageCellCalculator.prototype.getValue=function(dataVisitor,row,col){var value=dataVisitor.getValue(row,col);
if(value==null){return null}var sum=dataVisitor.getSumRow(col);return value/sum};return RowPercentageCellCalculator}(CellCalculator));viz.RowPercentageCellCalculator=RowPercentageCellCalculator;var TotalPercentageCellCalculator=(function(_super){__extends(TotalPercentageCellCalculator,_super);
function TotalPercentageCellCalculator(){_super.apply(this,arguments)}TotalPercentageCellCalculator.prototype.getValue=function(dataVisitor,row,col){var value=dataVisitor.getValue(row,col);if(value==null){return null}var rowCount=dataVisitor.getRowCount();var sum=0;
for(var i=0;i<rowCount;i++){sum+=dataVisitor.getSumRow(i)}return value/sum};return TotalPercentageCellCalculator}(CellCalculator));viz.TotalPercentageCellCalculator=TotalPercentageCellCalculator;var TotalMinMaxPercentageCellCalculator=(function(_super){__extends(TotalMinMaxPercentageCellCalculator,_super);
function TotalMinMaxPercentageCellCalculator(){_super.apply(this,arguments)}TotalMinMaxPercentageCellCalculator.prototype.getValue=function(dataVisitor,row,col){var value=dataVisitor.getValue(row,col);if(value==null){return null}var cache=dataVisitor.getDataCache("minMax");
var minMax=cache.minMax;if(ic3.isUndefined(minMax)){minMax=dataVisitor.getMinMax();cache.minMax=minMax}return(value-minMax.min)/(minMax.max-minMax.min)};return TotalMinMaxPercentageCellCalculator}(CellCalculator));viz.TotalMinMaxPercentageCellCalculator=TotalMinMaxPercentageCellCalculator;
var BaseRankColCellCalculator=(function(_super){__extends(BaseRankColCellCalculator,_super);function BaseRankColCellCalculator(){_super.apply(this,arguments)}BaseRankColCellCalculator.prototype.BaseRankColCellCalculator=function(){this.id=ic3.uniqueId()};BaseRankColCellCalculator.prototype.getValue=function(dataVisitor,row,col){var cache=dataVisitor.getDataCache(this.id);
var ranking=cache[row*dataVisitor.getColumnCount()+col];if(ic3.isUndefined(ranking)){this.calculateRanking(cache,dataVisitor,col,this.direction());ranking=cache[row*dataVisitor.getColumnCount()+col]}return ranking};BaseRankColCellCalculator.prototype.direction=function(){return 1
};BaseRankColCellCalculator.prototype.calculateRanking=function(cache,dataVisitor,col,direction){var columnCount=dataVisitor.getColumnCount();var rowCount=dataVisitor.getRowCount();var values=[];for(var i=0;i<rowCount;i++){values.push({val:dataVisitor.getValue(i,col),row:i})
}values.sort(function(a,b){return direction*(a.val-b.val)});var ranking;var formerItem=null;var formerRanking=null;for(var i=0;i<rowCount;i++){var item=values[i];if(formerItem&&item.val===formerItem.val){ranking=formerRanking}else{ranking=i+1}cache[item.row*columnCount+col]=ranking;
formerItem=item;formerRanking=ranking}};return BaseRankColCellCalculator}(CellCalculator));viz.BaseRankColCellCalculator=BaseRankColCellCalculator;var RankLargestColCellCalculator=(function(_super){__extends(RankLargestColCellCalculator,_super);function RankLargestColCellCalculator(){_super.apply(this,arguments)
}RankLargestColCellCalculator.prototype.direction=function(){return -1};return RankLargestColCellCalculator}(BaseRankColCellCalculator));viz.RankLargestColCellCalculator=RankLargestColCellCalculator;var RankSmallestColCellCalculator=(function(_super){__extends(RankSmallestColCellCalculator,_super);
function RankSmallestColCellCalculator(){_super.apply(this,arguments)}RankSmallestColCellCalculator.prototype.direction=function(){return 1};return RankSmallestColCellCalculator}(BaseRankColCellCalculator));viz.RankSmallestColCellCalculator=RankSmallestColCellCalculator;
var JavascriptCellCalculator=(function(_super){__extends(JavascriptCellCalculator,_super);function JavascriptCellCalculator(options){_super.call(this);this.methodBody=options?options.methodBody:""}JavascriptCellCalculator.prototype.getValue=function(dataVisitor,row,col){var ret;
if(this.methodBody){if(!this.evaluatedMethod){var fn;try{eval("function fn(dataVisitor, row, col){"+this.methodBody+"}")}catch(e){fn=this.defaultValue}finally{this.evaluatedMethod=fn}}try{ret=this.evaluatedMethod.call(this,dataVisitor,row,col)}catch(e){alert(e.message);
this.evaluatedMethod=function(){return""}}}else{ret=this.defaultValue(dataVisitor,row,col)}return ret};JavascriptCellCalculator.prototype.defaultValue=function(dataVisitor,row,col){return dataVisitor.getFormattedValue(row,col)};return JavascriptCellCalculator
}(CellCalculator));viz.JavascriptCellCalculator=JavascriptCellCalculator})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(viz){var CellRenderer=(function(){function CellRenderer(){}CellRenderer.prototype.gizmoName=function(){return"CellRenderer"};CellRenderer.prototype.applyToSlickGridOptions=function(slickOptions,rendererDecorator){if(this.isSynchronous()){slickOptions.formatter=rendererDecorator(this)
}else{slickOptions.formatter=function(){return"wait..."};slickOptions.rerenderOnResize=true;slickOptions.asyncPostRender=rendererDecorator(this)}};CellRenderer.prototype.isSynchronous=function(){return true};CellRenderer.prototype.render=function(callback){var value=callback.getCellValue();
if(value==null){return null}return this.doRender(callback,value)};CellRenderer.prototype.doRender=function(callback,value){return undefined};return CellRenderer}());viz.CellRenderer=CellRenderer;var DefaultCellRenderer=(function(_super){__extends(DefaultCellRenderer,_super);
function DefaultCellRenderer(){_super.apply(this,arguments)}DefaultCellRenderer.prototype.render=function(callback){return callback.getCellFormattedValue()};return DefaultCellRenderer}(CellRenderer));viz.DefaultCellRenderer=DefaultCellRenderer;var MicroChartCellRenderer=(function(_super){__extends(MicroChartCellRenderer,_super);
function MicroChartCellRenderer(options){_super.call(this);this.categoryFieldName="category";this.valueFieldName="value";this.bulletFieldName="bullet";this.colorFieldName="color";this.lineColorFieldName="lineColor";if(options){this.chartType=options.chartType?options.chartType:MicroChartCellRenderer.chartType.line;
this.color=options.color?options.color:"#a9ec49";this.negativeColor=options.negativeColor?options.negativeColor:"#ff0000";this.maximumColor=options.maximumColor?options.maximumColor:"#a9ec49";this.minimumColor=options.minimumColor?options.minimumColor:"#ff0000"
}}MicroChartCellRenderer.prototype.isSynchronous=function(){return false};MicroChartCellRenderer.prototype.doRender=function(callback,values){var $cellNode=$(callback.getCellNode());values=ic3.parseArray(values);if(!$.isArray(values)){if(ic3.isNumber(values)){values=[values]
}else{values=false}}if(!values){$cellNode.empty()}else{this.chart=new AmCharts.AmSerialChart();this._configureChart(values);this.chart.addGraph(this._getGraph());this.chart.addValueAxis(this._getValueAxis());this._configureCategoryAxis();$cellNode.html('<div class="ic3-cellRenderer-microChart"/>');
this.chart.write($cellNode.find("div:first-of-type").get(0))}return undefined};MicroChartCellRenderer.prototype._getGraph=function(){var graph=new AmCharts.AmGraph();switch(this.chartType){case MicroChartCellRenderer.chartType.line:graph.type=MicroChartCellRenderer.chartType.line;
graph.bulletField=this.bulletFieldName;graph.lineColor=this.color;graph.negativeLineColor=this.negativeColor;break;case MicroChartCellRenderer.chartType.column:var graph=new AmCharts.AmGraph();graph.type=MicroChartCellRenderer.chartType.column;graph.fillAlphas=1;
graph.colorField=this.colorFieldName;graph.lineColorField=this.lineColorFieldName;break;case MicroChartCellRenderer.chartType.thermometer:graph.type=MicroChartCellRenderer.chartType.column;graph.fillAlphas=1;graph.fillColors=[this.negativeColor,this.color];
graph.gradientOrientation="horizontal";graph.lineColor="#FFFFFF";break;default:}graph.valueField=this.valueFieldName;return graph};MicroChartCellRenderer.prototype._getValueAxis=function(){var valueAxis=new AmCharts.ValueAxis();valueAxis.gridAlpha=0;valueAxis.axisAlpha=0;
if(this.chartType===MicroChartCellRenderer.chartType.thermometer){valueAxis.stackType="100%";var guide=new AmCharts.Guide();guide.value=this.chart.dataProvider[0][this.valueFieldName];guide.lineAlpha=1;guide.above=true;valueAxis.addGuide(guide)}return valueAxis
};MicroChartCellRenderer.prototype._configureCategoryAxis=function(){var categoryAxis=this.chart.categoryAxis;categoryAxis.gridAlpha=0;categoryAxis.axisAlpha=0;if(this.chartType==MicroChartCellRenderer.chartType.line){categoryAxis.startOnAxis=true}};MicroChartCellRenderer.prototype._configureChart=function(values){var chart=this.chart;
chart.dataProvider=this._buildDataProvider(values);chart.categoryField=this.categoryFieldName;chart.autoMargins=false;chart.marginLeft=0;chart.marginRight=this._calculateRightMargin();chart.marginTop=0;chart.marginBottom=0;if(this.chartType===MicroChartCellRenderer.chartType.thermometer){chart.rotate=true
}var balloon=new AmCharts.AmBalloon();balloon.pointerWidth=0;chart.balloon=balloon};MicroChartCellRenderer.prototype._buildDataProvider=function(values){var dataProvider=[],max=Math.max.apply(null,values),min=Math.min.apply(null,values);for(var i=0;i<values.length;
i++){var dataItem={};dataItem[this.categoryFieldName]=i;dataItem[this.valueFieldName]=values[i];if(i==(values.length-1)){dataItem[this.bulletFieldName]="round"}if(this.chartType===MicroChartCellRenderer.chartType.column){var color;values[i]>0&&(color=this.color);
values[i]<=0&&(color=this.negativeColor);values[i]===max&&(color=this.maximumColor);values[i]===min&&(color=this.minimumColor);dataItem[this.colorFieldName]=color;dataItem[this.lineColorFieldName]=color}dataProvider.push(dataItem)}return dataProvider};MicroChartCellRenderer.prototype._calculateRightMargin=function(){return this.chartType==MicroChartCellRenderer.chartType.column?0:5
};MicroChartCellRenderer.chartType={line:"line",column:"column",thermometer:"thermometer"};return MicroChartCellRenderer}(CellRenderer));viz.MicroChartCellRenderer=MicroChartCellRenderer;var FormattingCellRenderer=(function(_super){__extends(FormattingCellRenderer,_super);
function FormattingCellRenderer(options){_super.call(this);this.format=options?options.gizmoFormat:undefined;this.locale=options?options.locale:"us"}FormattingCellRenderer.prototype.doRender=function(callback,value){if(this.format===undefined||!ic3.isNumber(value)){return value
}return $.formatNumber(value,{format:this.format,locale:this.locale})};FormattingCellRenderer.exists=function(){return $.formatNumber!==undefined};return FormattingCellRenderer}(CellRenderer));viz.FormattingCellRenderer=FormattingCellRenderer;var PercentageCellRenderer=(function(_super){__extends(PercentageCellRenderer,_super);
function PercentageCellRenderer(options){_super.call(this);var decimalPlaces=options?options.decimalPlaces:undefined;this.decimalPlaces=ic3.isUndefined(decimalPlaces)?2:decimalPlaces}PercentageCellRenderer.prototype.doRender=function(callback,value){return(100*value).toFixed(this.decimalPlaces)+"%"
};return PercentageCellRenderer}(CellRenderer));viz.PercentageCellRenderer=PercentageCellRenderer;var SimpleBarDataCellRenderer=(function(_super){__extends(SimpleBarDataCellRenderer,_super);function SimpleBarDataCellRenderer(options){_super.call(this);this.color=options?options.color:undefined
}SimpleBarDataCellRenderer.prototype.doRender=function(callback,value){var fvalue=callback.getOriginalCellFValue();var width=ic3.isNumber(value)?this.barWidth(value):"0";var colorStyle=this.color?" background-color:"+this.color+";":"";return'<div style="position:relative"><div class="ic3-gizmo-simplebardata" style="width:'+width+";"+colorStyle+'">&nbsp;</div><div style="position:relative;">'+fvalue+"</div></div>"
};SimpleBarDataCellRenderer.prototype.barWidth=function(value){return(100*Math.max(0,Math.min(1,value))).toFixed(1)+"%"};return SimpleBarDataCellRenderer}(CellRenderer));viz.SimpleBarDataCellRenderer=SimpleBarDataCellRenderer;var BarDataCellRenderer=(function(_super){__extends(BarDataCellRenderer,_super);
function BarDataCellRenderer(options){_super.call(this);this.posColor=options&&options.posColor?"background-color:"+options.posColor+";":"";this.negColor=options&&options.negColor?"background-color:"+options.negColor+";":"";this.onWholeTable=options&&options.onWholeTable?true:false
}BarDataCellRenderer.prototype.doRender=function(callback,value){var cellValue=callback.getCellValue();var minMax=callback.getDataVisitor().getMinMax(null,this.onWholeTable?null:callback.getCellColumnIdx());var max=minMax.max;var min=minMax.min;var minMaxW=(max-min)/100;
var html='<div class="ic3-gizmo-bardata-div">';if(minMaxW==0){if(cellValue<0){html+='<div class="ic3-gizmo-bardata-neg" style="width:100%;'+this.negColor+'">&nbsp;</div>'}else{html+='<div class="ic3-gizmo-bardata-pos" style="width:100%;'+this.posColor+'">&nbsp;</div>'
}}else{if(min<0){var width=(cellValue>=0?-min:cellValue-min)/minMaxW;var widthString=ic3.toCssWidth(width);html+='<div class="ic3-gizmo-bardata-blank" style="width:'+widthString+'%">&nbsp;</div>';if(cellValue<0){width=-cellValue/minMaxW;widthString=ic3.toCssWidth(width);
html+='<div class="ic3-gizmo-bardata-neg" style="width:'+widthString+"%;"+this.negColor+'">&nbsp;</div>'}else{width=cellValue/minMaxW;widthString=ic3.toCssWidth(width);html+='<div class="ic3-gizmo-bardata-pos" style="width:'+widthString+"%;"+this.posColor+'">&nbsp;</div>'
}}else{width=(cellValue-min)/minMaxW;widthString=ic3.toCssWidth(width);html+='<div class="ic3-gizmo-bardata-pos" style="width:'+widthString+"%;"+this.posColor+'">&nbsp;</div>'}}html+='<div class="ic3-gizmo-bardata">'+callback.getCellFormattedValue()+"</div></div>";
return html};return BarDataCellRenderer}(CellRenderer));viz.BarDataCellRenderer=BarDataCellRenderer;var HtmlTemplateFactory=(function(){function HtmlTemplateFactory(){}HtmlTemplateFactory.add=function(iconName,svg,defaultOptions){this.svgIcons[iconName]=svg;
this.defaultOptions[iconName]=defaultOptions};HtmlTemplateFactory.replace=function(iconName,options){var options=$.extend({},this.defaultOptions[iconName],options);var svg=this.svgIcons[iconName];if(svg){$.each(options,function(key,value){if(value!=null){svg=svg.replace("{{"+key+"}}",value)
}})}return svg};HtmlTemplateFactory.svgIcons={};HtmlTemplateFactory.defaultOptions={};return HtmlTemplateFactory}());viz.HtmlTemplateFactory=HtmlTemplateFactory;var defaultOptions={title:"",width:"100%",height:"100%",angle:"0",color:"black","svg-zoom":"translate(3.2 3.2) scale(0.8)"};
HtmlTemplateFactory.add("arrow",'<div class="ic3-gizmo-svg-icon ic3-svg-arrow"><svg version="1.1" width="{{width}}" height="{{height}}" viewBox="0 0 32 32"><g transform="rotate({{angle}} 16 16) {{svg-zoom}}"><title>{{title}}</title><path style="fill:{{color}};" d="M16.016,0l-5.668,5.672c0,0,3.18,3.18,6.312,6.312H0v8.027h16.66l-6.316,6.316L16.016,32L32,16L16.016,0z"/></g></svg></div>',defaultOptions);
HtmlTemplateFactory.add("arrow-circle",'<div class="ic3-gizmo-svg-icon ic3-svg-arrow-circle"><svg version="1.1" width="{{width}}" height="{{height}}" viewBox="0 0 32 32"><g transform="rotate({{angle}} 16 16) {{svg-zoom}}"><title>{{title}}</title><path style="fill:{{color}};" d="M16,0C7.164,0,0,7.164,0,16s7.164,16,16,16s16-7.164,16-16S24.836,0,16,0z M16.031,24v-6H8v-4h8.031V8.031L24,16L16.031,24z"/></g></svg></div>',defaultOptions);
HtmlTemplateFactory.add("ok",'<div class="ic3-gizmo-svg-icon ic3-svg-ok"><svg version="1.1" width="{{width}}" height="{{height}}" viewBox="0 0 32 32"><g transform="rotate({{angle}} 14 14) {{svg-zoom}}"><title>{{title}}</title><polygon style="fill:{{color}};" points="11.941,25.754 0,13.812 5.695,8.117 11.941,14.363 26.305,0 32,5.695 11.941,25.754"/></g></svg></div>',defaultOptions);
HtmlTemplateFactory.add("ok-circle",'<div class="ic3-gizmo-svg-icon ic3-svg-ok-circle"><svg version="1.1" width="{{width}}" height="{{height}}" viewBox="0 0 32 32"><g transform="rotate({{angle}} 16 16) {{svg-zoom}}"><title>{{title}}</title><path style="fill:{{color}};" d="M16,0C7.164,0,0,7.164,0,16s7.164,16,16,16s16-7.164,16-16S24.836,0,16,0z M13.52,23.383L6.158,16.02l2.828-2.828l4.533,4.535l9.617-9.617l2.828,2.828L13.52,23.383z"/></g></svg></div>',defaultOptions);
HtmlTemplateFactory.add("cancel",'<div class="ic3-gizmo-svg-icon ic3-svg-cancel"><svg version="1.1" width="{{width}}" height="{{height}}" viewBox="0 0 32 32"><g transform="rotate({{angle}} 14 14) {{svg-zoom}}"><title>{{title}}</title><polygon style="fill:{{color}};" points="28,22.398 19.594,14 28,5.602 22.398,0 14,8.402 5.598,0 0,5.602 8.398,14 0,22.398 5.598,28 14,19.598 22.398,28"/></g></svg></div>',defaultOptions);
HtmlTemplateFactory.add("cancel-circle",'<div class="ic3-gizmo-svg-icon ic3-svg-cancel-circle"><svg version="1.1" width="{{width}}" height="{{height}}" viewBox="0 0 32 32"><g transform="rotate({{angle}} 16 16) {{svg-zoom}}"><title>{{title}}</title><path style="fill:{{color}};" d="M16,0C7.164,0,0,7.164,0,16s7.164,16,16,16s16-7.164,16-16S24.836,0,16,0z M23.914,21.086l-2.828,2.828L16,18.828l-5.086,5.086l-2.828-2.828L13.172,16l-5.086-5.086l2.828-2.828L16,13.172l5.086-5.086l2.828,2.828L18.828,16L23.914,21.086z"/></g></svg></div>',defaultOptions);
var HtmlTemplateCellRenderer=(function(_super){__extends(HtmlTemplateCellRenderer,_super);function HtmlTemplateCellRenderer(options,rOptions){_super.call(this);this.options=options;if(ic3.isNumber(rOptions.zoom)){var scale=parseFloat(rOptions.zoom);var transl=(1-scale)*16;
this.zoom=" translate("+transl+" "+transl+") scale("+scale+") "}}HtmlTemplateCellRenderer.prototype.doRender=function(callback,value){var points=this.options.points;var pointOptions;for(var i=0;points.length;i++){pointOptions=points[i](value,callback);if(pointOptions!=null){break
}}if(this.zoom){pointOptions["svg-zoom"]=this.zoom}var template=HtmlTemplateFactory.replace(this.options.htmlTemplateName,pointOptions||{});return template};return HtmlTemplateCellRenderer}(CellRenderer));viz.HtmlTemplateCellRenderer=HtmlTemplateCellRenderer;
var Svg2PointCellRenderer=(function(_super){__extends(Svg2PointCellRenderer,_super);function Svg2PointCellRenderer(rOptions){rOptions=rOptions||{};var htmlTemplate=rOptions.arrowType?rOptions.arrowType:"arrow";var options={htmlTemplateName:htmlTemplate,points:[function(value,callback){return value>=rOptions.endFirst?null:{color:rOptions.firstColor||"red",angle:rOptions.firstAngle||"45",title:callback.getCellFormattedValue()}
},function(value,callback){return value>=rOptions.endSecond?null:{color:rOptions.secondColor||"green",angle:rOptions.secondAngle||"0",title:callback.getCellFormattedValue()}},function(value,callback){return{color:rOptions.thirdColor||"blue",angle:rOptions.thirdAngle||"-45",title:callback.getCellFormattedValue()}
}]};_super.call(this,options,rOptions)}return Svg2PointCellRenderer}(HtmlTemplateCellRenderer));viz.Svg2PointCellRenderer=Svg2PointCellRenderer;var ArrowCellRenderer=(function(_super){__extends(ArrowCellRenderer,_super);function ArrowCellRenderer(options){options=options||{};
_super.call(this,options)}return ArrowCellRenderer}(Svg2PointCellRenderer));viz.ArrowCellRenderer=ArrowCellRenderer;var YesNoCellRenderer=(function(_super){__extends(YesNoCellRenderer,_super);function YesNoCellRenderer(options){_super.call(this);this.circle=options?options.circle||false:false;
this.zoom=options?options.zoom:null}YesNoCellRenderer.prototype.doRender=function(callback,value){var ok;if(typeof value==="string"){var lvalue=value.toLowerCase();ok=lvalue==="true"||lvalue==="yes"||lvalue==="ok"}else{ok=value==true}var template;if(ok){template=HtmlTemplateFactory.replace(this.circle?"ok-circle":"ok",{color:"green",zoom:this.zoom})
}else{template=HtmlTemplateFactory.replace(this.circle?"cancel-circle":"cancel",{color:"red",zoom:this.zoom})}return template};return YesNoCellRenderer}(CellRenderer));viz.YesNoCellRenderer=YesNoCellRenderer;var JavascriptCellRenderer=(function(_super){__extends(JavascriptCellRenderer,_super);
function JavascriptCellRenderer(options){_super.call(this);this.methodBody=options?options.methodBody:""}JavascriptCellRenderer.prototype.doRender=function(callback,value){var ret;if(this.methodBody){if(!this.evaluatedMethod){var fn;try{eval("function fn(callback, value){"+this.methodBody+"}")
}catch(e){fn=function(){return e.message}}finally{this.evaluatedMethod=fn}}try{ret=this.evaluatedMethod.call(this,callback,value)}catch(e){ret=e.message}}else{ret=""}return ret};return JavascriptCellRenderer}(CellRenderer));viz.JavascriptCellRenderer=JavascriptCellRenderer
})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(viz){var Validator=(function(){function Validator(){}Validator.prototype.gizmoName=function(){return"Validator"
};return Validator}());viz.Validator=Validator;var NumberValidator=(function(_super){__extends(NumberValidator,_super);function NumberValidator(options){_super.call(this);this.options=options}NumberValidator.prototype.validate=function(value){var options=this.options;
if(ic3.isNumber(value)){if(ic3.isNumber(options.minValue)&&(value<options.minValue)){return{name:"validator.lessThanMin",args:[value,options.minValue]}}if(ic3.isNumber(options.maxValue)&&(value>options.maxValue)){return{name:"validator.greaterThanMax",args:[value,options.maxValue]}
}return null}else{return{name:"validator.notNumber",args:[value]}}};return NumberValidator}(Validator));viz.NumberValidator=NumberValidator;var JavascriptValidator=(function(_super){__extends(JavascriptValidator,_super);function JavascriptValidator(options){_super.call(this);
this.methodBody=options?options.methodBody:""}JavascriptValidator.prototype.validate=function(value){var message="";if(this.methodBody){if(!this.evaluatedMethod){var fn;try{eval("var fn = "+this.methodBody)}catch(e){fn=function(){return e.message}}finally{this.evaluatedMethod=fn
}}try{message=this.evaluatedMethod.call(this,value)}catch(e){message=e.message}}return{name:message}};return JavascriptValidator}(Validator));viz.JavascriptValidator=JavascriptValidator})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(viz){function columnsWithTarget(options){for(var ii=0;ii<options.length;ii++){var option=options[ii];if(option&&typeof option.target!=="undefined"){return true
}}return false}viz.columnsWithTarget=columnsWithTarget;function columnsOptions(options,colIdx){for(var col=0;col<options.length;col++){var option=options[col];var target=option&&option.target;if(target&&!target.isDefault()&&target.isForColumn(colIdx+1)){return option
}}for(var col=0;col<options.length;col++){var option=options[col];var target=option&&option.target;if(target&&target.isDefault()){return option}}return null}viz.columnsOptions=columnsOptions;var TableTargetColumn=(function(){function TableTargetColumn(){}TableTargetColumn.prototype.gizmoName=function(){return"TableTargetColumn"
};TableTargetColumn.prototype.isDefault=function(){return false};TableTargetColumn.prototype.isForColumn=function(colIdx){throw"abstract method"};return TableTargetColumn}());viz.TableTargetColumn=TableTargetColumn;var DefaultTableTargetColumn=(function(_super){__extends(DefaultTableTargetColumn,_super);
function DefaultTableTargetColumn(){_super.call(this)}DefaultTableTargetColumn.prototype.isDefault=function(){return true};DefaultTableTargetColumn.prototype.isForColumn=function(colIdx){return colIdx>0};return DefaultTableTargetColumn}(TableTargetColumn));
viz.DefaultTableTargetColumn=DefaultTableTargetColumn;var HeaderTableTargetColumn=(function(_super){__extends(HeaderTableTargetColumn,_super);function HeaderTableTargetColumn(){_super.call(this)}HeaderTableTargetColumn.prototype.isForColumn=function(colIdx){return colIdx<=0
};return HeaderTableTargetColumn}(TableTargetColumn));viz.HeaderTableTargetColumn=HeaderTableTargetColumn;var EvenTableTargetColumn=(function(_super){__extends(EvenTableTargetColumn,_super);function EvenTableTargetColumn(){_super.call(this)}EvenTableTargetColumn.prototype.isForColumn=function(colIdx){return colIdx>0&&colIdx%2==0
};return EvenTableTargetColumn}(TableTargetColumn));viz.EvenTableTargetColumn=EvenTableTargetColumn;var OddTableTargetColumn=(function(_super){__extends(OddTableTargetColumn,_super);function OddTableTargetColumn(){_super.call(this)}OddTableTargetColumn.prototype.isForColumn=function(colIdx){return colIdx>0&&colIdx%2!=0
};return OddTableTargetColumn}(TableTargetColumn));viz.OddTableTargetColumn=OddTableTargetColumn;function ListTableTargetColumnMetaOptions(){return[{name:"items",path:"TableTargetColumn",type:juiForm_FieldRendererType.TEXT,mandatory:true}]}viz.ListTableTargetColumnMetaOptions=ListTableTargetColumnMetaOptions;
var ListTableTargetColumn=(function(_super){__extends(ListTableTargetColumn,_super);function ListTableTargetColumn(options){_super.call(this);this.options_=options}ListTableTargetColumn.prototype.isForColumn=function(colIdx){if(!this.items_){this.items_=this.createItems_()
}var res=typeof this.items_[colIdx]!=="undefined";return res};ListTableTargetColumn.prototype.createItems_=function(){var items={};if(!this.options_||!this.options_.items){return items}try{var values=this.options_.items.split(",");if(values!=null){for(var ii=0;
ii<values.length;ii++){items[values[ii]]=1}}}catch(error){}return items};return ListTableTargetColumn}(TableTargetColumn));viz.ListTableTargetColumn=ListTableTargetColumn;function AdHocTableTargetColumnMetaOptions(){return[{name:"predicate",path:"TableTargetColumn",type:juiForm_FieldRendererType.JAVASCRIPT_FUNCTION,signature:"function(columnIndex) : boolean",textareaRows:2,mandatory:true}]
}viz.AdHocTableTargetColumnMetaOptions=AdHocTableTargetColumnMetaOptions;var AdHocTableTargetColumn=(function(_super){__extends(AdHocTableTargetColumn,_super);function AdHocTableTargetColumn(options){_super.call(this);this.options_=options}AdHocTableTargetColumn.prototype.isForColumn=function(colIdx){if(!this.predicate_){this.predicate_=this.createPredicate_()
}var res=this.predicate_(colIdx);return res};AdHocTableTargetColumn.prototype.createPredicate_=function(){function ignored(){return false}if(!this.options_||!this.options_.predicate){return ignored}try{var predicate;eval("predicate = function(columnIndex){"+this.options_.predicate+"}");
return predicate}catch(error){return ignored}};return AdHocTableTargetColumn}(TableTargetColumn));viz.AdHocTableTargetColumn=AdHocTableTargetColumn})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]
}}}return b};var viz;(function(viz){var core;(function(core){(function(WidgetRenderingStatus){WidgetRenderingStatus[WidgetRenderingStatus.CREATED=0]="CREATED";WidgetRenderingStatus[WidgetRenderingStatus.REQUEST_ONGOING=1]="REQUEST_ONGOING";WidgetRenderingStatus[WidgetRenderingStatus.STATE_RESTORING_ONGOING=2]="STATE_RESTORING_ONGOING";
WidgetRenderingStatus[WidgetRenderingStatus.RENDERED=3]="RENDERED"})(core.WidgetRenderingStatus||(core.WidgetRenderingStatus={}));var WidgetRenderingStatus=core.WidgetRenderingStatus;var AbstractWidget=(function(_super){__extends(AbstractWidget,_super);function AbstractWidget(props,context){var _this=this;
_super.call(this,props,context);this.eventHandler=new viz.EventHandler();this.eventHandler.producedEvents=function(){return _this.producedEvents()};this.eventHandler.consumedEvents=function(){return _this.consumedEvents()};this.eventHandler.consumeEvent=function(type,event){return _this.consumeEvent(type,event)
};this.eventHandler.onEventSendHook=function(type,event){return _this.onEventSendHook(type,event)};this.renderingStatus=WidgetRenderingStatus.CREATED}AbstractWidget.prototype.onEventSendHook=function(type,args){if(_.isString(_.get(this.props,"hooks.sendEvent"))){try{args=eval("("+this.props.hooks.sendEvent+")").call(this,this.props.widgetContext(),$(ReactDOM.findDOMNode(this)),type,args)
}catch(e){this.context.reportingContext.LoggerFactory.getLogger({instance:this}).error(e)}}return args};AbstractWidget.prototype.doSetTheme=function(theme){this.setState({tempTheme:theme})};AbstractWidget.prototype.getOverriddenStyling=function(callback,theme){var result=theme||_.get(this.state,"tempTheme",_.get(this.props,"dataRenderOptions.theming",{}));
if(_.isString(result)){new ic3.WidgetStylingManager(this.context.reportingContext,this.props.widgetStylingName,this.props.widgetStylingPresets).getPreset(result,callback)}else{callback(result)}};AbstractWidget.prototype.producedEvents=function(){return[]};AbstractWidget.prototype.consumedEvents=function(){return[]
};AbstractWidget.prototype.fireEvent=function(type){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}(_a=this.eventHandler).fireEvent.apply(_a,[type].concat(args));var _a};AbstractWidget.prototype.consumeEvent=function(type,event){};
AbstractWidget.prototype.isAsynchronousRendering=function(){return false};AbstractWidget.prototype.doSetState=function(state){};AbstractWidget.prototype.onRendered=function(){this.renderingStatus=WidgetRenderingStatus.RENDERED};AbstractWidget.prototype.getEventHandler=function(){return this.eventHandler
};AbstractWidget.prototype.componentDidMount=function(){if(!this.isAsynchronousRendering()){this.onRendered()}};AbstractWidget.prototype.destroy=function(){};AbstractWidget.prototype.clearCachedWidgetData=function(){};AbstractWidget.prototype.initWithState=function(state){if(_.isObject(state)){try{this.renderingStatus=WidgetRenderingStatus.STATE_RESTORING_ONGOING;
this.doSetState(state)}finally{if(!this.isAsynchronousRendering()){this.onRendered()}}}};AbstractWidget.prototype.getState=function(mode){return{}};AbstractWidget.prototype.isRendered=function(){return this.renderingStatus===WidgetRenderingStatus.RENDERED};
AbstractWidget.contextTypes={reportingContext:React.PropTypes.object};return AbstractWidget}(React.Component));core.AbstractWidget=AbstractWidget;var WidgetContextProvider=(function(_super){__extends(WidgetContextProvider,_super);function WidgetContextProvider(props,context){_super.call(this,props,context)
}WidgetContextProvider.prototype.getChildContext=function(){return{reportingContext:this.props.context}};WidgetContextProvider.prototype.render=function(){var Widget=this.props.widgetComponent;return React.createElement(Widget,__assign({ref:"widget"},this.props.widgetProps))
};WidgetContextProvider.prototype.getWidget=function(){return this.refs.widget};WidgetContextProvider.childContextTypes={reportingContext:React.PropTypes.object};return WidgetContextProvider}(React.Component));core.WidgetContextProvider=WidgetContextProvider;
function createWidget(context,divId,constructor,props){if(props.zoom&&ic3.isNumber(props.zoom)){divId.css("font-size",props.zoom+"em")}var reactElement=React.createElement(WidgetContextProvider,{context:context,widgetProps:props,widgetComponent:constructor});
return ReactDOM.render(reactElement,divId[0]).getWidget()}core.createWidget=createWidget})(core=viz.core||(viz.core={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(viz){var core;(function(core){var AbstractMdxResultTableWidget=(function(_super){__extends(AbstractMdxResultTableWidget,_super);function AbstractMdxResultTableWidget(props,context){_super.call(this,props,context)
}AbstractMdxResultTableWidget.prototype.componentDidUpdate=function(prevProps,prevState,prevContext){if(!this.isAsynchronousRendering()){this.onRendered()}};AbstractMdxResultTableWidget.prototype.onBeforeRequestSend=function(){this.renderingStatus=core.WidgetRenderingStatus.REQUEST_ONGOING
};AbstractMdxResultTableWidget.prototype.onRequestExecuted=function(mdxResultTable,request){mdxResultTable=this.beforeDataHook(mdxResultTable);if(!_.isEmpty(mdxResultTable)){var tableContext=new ic3.TableContext(this.props.widgetContext(),mdxResultTable,request);
this.setState({mdxResultTable:mdxResultTable,request:request,tableContext:tableContext})}};AbstractMdxResultTableWidget.prototype.getState=function(mode){var state=_super.prototype.getState.call(this,mode);if(_.isObject(this.state.mdxResultTable)&&mode===viz.StateSaveMode.SNAPSHOT){state.mdxResultTable=this.state.mdxResultTable.getUnderlyingMdxTable();
state.mdxQuery=this.state.request.getMdxParameter()}return state};AbstractMdxResultTableWidget.prototype.doSetState=function(state){_super.prototype.doSetState.call(this,state);if(_.isObject(state.mdxResultTable)){var mdxResultTable=viz.MdxResultTable.fromSnapshot(state.mdxResultTable);
var request=new viz.MdxTableRequest(state.mdxQuery);this.onRequestExecuted(mdxResultTable,request)}};AbstractMdxResultTableWidget.prototype.onRendered=function(){_super.prototype.onRendered.call(this);this.afterRenderHook()};AbstractMdxResultTableWidget.prototype.beforeDataHook=function(mdxResultTable){if(_.get(this.props,"hooks.beforeData")){try{return eval("("+this.props.hooks.beforeData+")").call(this,this.context.reportingContext,mdxResultTable,$(ReactDOM.findDOMNode(this)))
}catch(e){this.context.reportingContext.LoggerFactory.getLogger({instance:this["name"],uid:this.props.ic3_uid}).error(e)}}return mdxResultTable};AbstractMdxResultTableWidget.prototype.afterRenderHook=function(){if(_.get(this.props,"hooks.afterRender")){try{eval("("+this.props.hooks.afterRender+")").call(this,this.context.reportingContext,this.state.mdxResultTable,$(ReactDOM.findDOMNode(this)))
}catch(e){this.context.reportingContext.LoggerFactory.getLogger({instance:"This",uid:this.props.ic3_uid}).error(e)}}};return AbstractMdxResultTableWidget}(core.AbstractWidget));core.AbstractMdxResultTableWidget=AbstractMdxResultTableWidget})(core=viz.core||(viz.core={}))
})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(a){var b;(function(c){var d=(function(e){__extends(f,e);
function f(h,g){e.call(this,h,g)}f.prototype.producedEvents=function(){return e.prototype.producedEvents.call(this).concat([a.EventType.onRowClick,a.EventType.onCellClick,a.EventType.onColumnClick,a.EventType.onSelection])};f.prototype.consumedEvents=function(){return e.prototype.consumedEvents.call(this).concat([a.EventType.doRowClick,a.EventType.doExportToExcel,a.EventType.doSetSelection])
};f.prototype.consumeEvent=function(g,h){switch(g){case a.EventType.doRowClick:this.doFireRowClickEvent(h);break;case a.EventType.doExportToExcel:this.doExportToExcel(a.event.asMdx(h));break;case a.EventType.doSetSelection:this.doSetSelection(h);this.fireEvent(a.EventType.onSelection,h);
break;default:e.prototype.consumeEvent.call(this,g,h)}};f.prototype.doExportToExcel=function(k){if(_.isObject(this.state.mdxResultTable)){var g=this.state.mdxResultTable.getConnection();if(_.isObject(g)){var i=this.dataToExport();if(i){var j=ic3.isEmptyString(k)?"data":k;
var h=new a.FormatDataRequest({},vizDataFormatConstants.table,vizDataFormatConstants.excel,j,i);g.sendRequest(h)}}else{this.context.reportingContext.errorMgr().addWarning("Cannot export data from the not alive report")}}else{this.context.reportingContext.errorMgr().addWarning("Cannot export data for an empty widget, check the widget data configuration")
}};f.prototype.dataToExport=function(){var k=this.state,m=k.mdxResultTable,g=k.request;if(_.isObject(m)){var o=[];var i=new ic3.reporting.data.MdxResultTableSource();i.setColumnBuilders(new ic3.reporting.data.ValueColumnBuilder(function(q){return q[ic3.IcCubeMdxBuilder.DEFAULT_MEASURE]["VALUE"]
}),new ic3.reporting.data.ValueColumnBuilder(function(q){return q[ic3.IcCubeMdxBuilder.DEFAULT_MEASURE]["FORMAT_STRING"]}));i.setResultTable(m,g);for(var j=-1;j<i.getRowCount();++j){var p=[];for(var l=-2;l<i.getColumnCount();l+=2){if(l<0&&j<0){p.push("")}else{if(l<0){p.push(i.getRowTitle(j))
}else{if(j<0){p.push(i.getColumnTitle(l))}else{var n=i.getValue(j,l)||"";var h=i.getValue(j,l+1);p.push(h?{v:n,fs:h}:n)}}}}o.push(p)}return o}else{this.context.reportingContext.errorMgr().addWarning("Cannot collect data for an empty widget, check the widget data configuration")
}};f.prototype.doSetSelection=function(i){var k=this;var h=this.props.navigationGuts.guts().selection||{};if(this.state.tableContext){var g=(h.type==ic3.SelectionType.COLUMN)?this.state.tableContext.axisIndices.columnsAxis:this.state.tableContext.axisIndices.rowsAxis;
var j=[];_.forEach(i.getSelectedItems(),function(m){var l=k.state.tableContext.getAxisMemberIndex(g,m.name);j=k.transformSelectionArray(j,l,l,h.type)});this.handleVisualSelectionChange(j)}else{this.setState({pendingSelectionEvent:i})}};f.prototype.onRequestExecuted=function(g,h){e.prototype.onRequestExecuted.call(this,g,h);
this.handlePendingSelectionEvent()};f.prototype.handlePendingSelectionEvent=function(){var g=this;if(this.state.pendingSelectionEvent){setTimeout(function(){var h=_.cloneDeep(g.state.pendingSelectionEvent);g.setState({pendingSelectionEvent:null},function(){return g.doSetSelection(h)
})})}};f.prototype.shouldFireRowClickEvent=function(g){return _.isObject(this.state.mdxResultTable)&&g instanceof a.event.MdxResultTableRowClickEvent&&g.getMdxResultTable()!==this.state.mdxResultTable};f.prototype.shouldSetRefiredEvent=function(i){var h=this.props.ic3_eventMapper.guts(),g=_.clone(h);
delete g[i];return _.values(g).indexOf(h[i])>-1};f.prototype.doFireRowClickEvent=function(k){if(this.shouldFireRowClickEvent(k)&&!k.refired){var m=_.times(this.state.mdxResultTable.getAxes().getAxisCount(),function(){return null});var i=this.state.mdxResultTable.getAxes().getAxis(this.state.mdxResultTable.getAxes().getAxisCount()-1);
var h=function(n){var o=_.times(i.getTupleLength(),function(p){return i.getMemberUniqueName(n,p)});if(a.asMdxTuple(o,false)==k.asMdx()){m[m.length-1]=n;l.fireRowClick(m,l.shouldSetRefiredEvent(k.type()));return"break"}};var l=this;for(var g=0;g<i.getTupleCount();
g++){var j=h(g);if(j==="break"){break}}}};f.prototype.fireRowClick=function(i,g){if(_.isObject(this.state.mdxResultTable)&&this.eventHandler.bindingEvent(a.EventType.onRowClick)){var h=new a.event.MdxResultTableRowClickEvent(this.state.mdxResultTable,i);g&&(h.refired=true);
this.fireEvent(a.EventType.onRowClick,h)}};f.prototype.fireColumnClick=function(i,h){if(_.isObject(this.state.mdxResultTable)&&this.eventHandler.bindingEvent(a.EventType.onColumnClick)){var g=new a.event.MdxResultTableColumnClickEvent(this.state.mdxResultTable,i);
h&&(g.refired=true);this.fireEvent(a.EventType.onColumnClick,g)}};f.prototype.fireCellClick=function(k,g){if(_.isObject(this.state.mdxResultTable)&&this.eventHandler.bindingEvent(a.EventType.onCellClick)){var h=_.cloneDeep(k);if(h[0]==null){h[0]=0}var j=this.state.mdxResultTable.getCells().getCellProperty("VALUE",h),i=this.state.mdxResultTable.getCells().getCellProperty("FORMATTED_VALUE",h),l=new a.event.MdxResultTableCellClickEvent(this.state.mdxResultTable,h,j,i);
g&&(l.refired=true);this.fireEvent(a.EventType.onCellClick,l)}};f.prototype.getCoordinates=function(k,i,h){var j=(h||this.state.mdxResultTable).getAxes().getAxisCount();k=k>-1?k:0;i=i>-1?i:0;var g=[];switch(j){case 3:g.push(null);case 2:g.push(i);case 1:g.push(k);
case 0:default:}return g};f.prototype.handleClick=function(k,j){var g=this.props.navigationGuts.guts().selection||{},i=g.type;if(i&&i!=ic3.SelectionType.NONE){var h=[];if(g.mode==ic3.ChartSelectionMode.MULTI){h=_.cloneDeep(this.state.selection)}h=this.transformSelectionArray(h,k,j,i);
this.handleVisualSelectionChange(h);this.fireSelectionEvent(this.getSelectedItems())}if(_.isNumber(k)&&_.isNumber(j)){this.fireCellClick(this.getCoordinates(k,j))}this.fireRowClick(this.getCoordinates(k,j))};f.prototype.fireSelectionEvent=function(g){var i,h=g||this.getSelectedItems();
switch(_.size(g)){case 0:i=new a.event.EmptySelectionEvent();break;case 1:i=new a.event.SingleSelectionEvent(h[0],false,true);break;default:i=new a.event.SetSelectionEvent(h,false,true)}this.fireEvent(a.EventType.onSelection,i)};f.prototype.transformSelectionArray=function(g,n,j,i){var h=g||[];
var l=function(p){var o=_.findIndex(h,function(q){return _.isEqual(q,p)});o>-1?h.splice(o,1):h.push(p)};var k=_.isNull(n),m=_.isNull(j);switch(i){case"@d{ic3.widget.chart.selection.type.column}":!m&&l(["any",j]);break;case"@d{ic3.widget.chart.selection.type.cell}":!k&&!m&&l([n,j]);
break;case"@d{ic3.widget.chart.selection.type.row}":default:!k&&l([n,"any"]);break}return h};f.prototype.getSelectedItems=function(){ic3.assertAbstract("getSelectedItems",this);return[]};f.prototype.handleVisualSelectionChange=function(g){ic3.assertAbstract("handleVisualSelectionChange",this)
};return f}(c.AbstractMdxResultTableWidget));c.AbstractChartWidget=d})(b=a.core||(a.core={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(viz){var core;(function(core){var HtmlRenderer=(function(_super){__extends(HtmlRenderer,_super);function HtmlRenderer(props,context){_super.call(this,props,context)}HtmlRenderer.prototype.componentDidMount=function(){_super.prototype.componentDidMount.call(this);
this.evalScripts()};HtmlRenderer.prototype.componentDidUpdate=function(prevProps,prevState,prevContext){this.evalScripts()};HtmlRenderer.prototype.evalScripts=function(){var scripts=ReactDOM.findDOMNode(this).getElementsByTagName("script");_.each(scripts,function(script){eval(script.innerHTML)
})};HtmlRenderer.prototype.render=function(){var themeContainer=this.props.themeContainer;return themeContainer.wrapReactStyle(this.props.isHtml?React.createElement("div",{className:"ic3t-html-box","data-ic3-theme-component":"ic3HTMLTextWidget",dangerouslySetInnerHTML:{__html:this.props.html}}):React.createElement("div",{className:"ic3t-html-box","data-ic3-theme-component":"ic3HTMLTextWidget"},React.createElement("pre",{style:{fontFamily:"Arial",whiteSpace:"pre-wrap"}},this.props.html)))
};return HtmlRenderer}(core.AbstractWidget));core.HtmlRenderer=HtmlRenderer})(core=viz.core||(viz.core={}))})(viz||(viz={}));var ic3;(function(a){var b;(function(d){var c;(function(e){var f=(function(){function g(h){this.axes=[];this.expressions=[];this.cellProperties=[];
this.fromSlicer={levels:[],levelsMap:{}};this.whereSlicer={levels:[],levelsMap:{}};this.customLevelUidGenerator=0;this.cubeName=h}g.prototype.pushToAxis=function(h,i){g.getOrCreateLevel(this.getOrCreateAxis(h),this.getLevel(i)).push(a.IcCubeMdxBuilder.createMdxMemberStatement(i))
};g.prototype.pushExpressionToAxis=function(h,i){var k=i.memberBase;var j=k.expression;if(_.isString(k.formatString)&&!_.isEmpty(k.formatString)){j+=',FORMAT_STRING="'+k.formatString+'"'}if(_.isString(k.solveOrder)&&!_.isEmpty(k.solveOrder)){j+=",SOLVE_ORDER="+k.solveOrder
}this.expressions.push({name:k.expressionName,expression:j});g.getOrCreateLevel(this.getOrCreateAxis(h),"[Measures].[MeasuresLevel]").push(a.IcCubeMdxBuilder.createMdxMemberStatement(i))};g.prototype.setNonEmpty=function(h){this.getOrCreateAxis(h).nonEmpty=true
};g.prototype.setQueryCellProperties=function(){var i=[];for(var h=0;h<arguments.length;h++){i[h-0]=arguments[h]}this.cellProperties=i};g.prototype.pushToFromSlicer=function(h){g.getOrCreateLevel(this.fromSlicer,this.getLevel(h)).push(a.IcCubeMdxBuilder.createMdxMemberStatement(h))
};g.prototype.pushToWhereSlicer=function(h){g.getOrCreateLevel(this.whereSlicer,this.getLevel(h)).push(a.IcCubeMdxBuilder.createMdxMemberStatement(h))};g.prototype.setAxisComment=function(h,i){this.getOrCreateAxis(h).comment=i};g.prototype.getAxisCount=function(){return this.axes.length
};g.prototype.toMdxStatement=function(){var h="";if(this.expressions.length>0){h+="WITH\n"+_.map(this.expressions,g.memberMapper).join("\n")+"\n"}h+="SELECT\n";h+=_.map(this.axes,g.axisMapper).join(",\n")+"\n";h+="FROM ";if(this.fromSlicer.levels.length>0){h+="(SELECT "+_.map(this.fromSlicer.levels,g.slicerLevelMapper).join(",\n")+" FROM ["+this.cubeName+"])\n"
}else{h+="["+this.cubeName+"]\n"}if(this.whereSlicer.levels.length>0){h+="WHERE "+_.map(this.whereSlicer.levels,function(i){return"{"+g.levelMapper(i)+"}"}).join(" * ")+"\n"}if(this.cellProperties.length>0){h+="CELL PROPERTIES "+this.cellProperties.join(", ")+"\n"
}return h};g.prototype.getOrCreateAxis=function(h){return this.axes[h]||(this.axes[h]={levels:[],levelsMap:{}})};g.getOrCreateLevel=function(h,j){var i=h.levelsMap[j];if(_.isFinite(i)){return h.levels[i]}return g.createLevel(h,j)};g.createLevel=function(i,j){var h=[];
i.levelsMap[j]=i.levels.length;i.levels.push(h);return h};g.memberMapper=function(h){return"MEMBER [Measures].["+h.name+"] AS "+h.expression};g.axisMapper=function(j,i){if(!j){throw new Error("Axis of index "+i+" undefined")}var h=_.map(j.levels,g.levelMapper).join(" * ");
return(_.isEmpty(j.comment)?"":"// "+j.comment+"\n")+(j.nonEmpty?"NON EMPTY ":"")+h+" ON "+i};g.levelMapper=function(h){if(h.length==1){return h[0]}else{if(h.length>1){return"{"+h.join(",")+"}"}}throw new Error("Trying to map empty level to mdx statement. Should not happen")
};g.slicerLevelMapper=function(i,h){return g.levelMapper(i)+" ON "+h};g.prototype.getLevel=function(j){var i=_.get(j,"memberBase.level");if(_.isString(i)&&!_.isEmpty(i)){return i}else{var h=this.customLevelUidGenerator;this.customLevelUidGenerator++;return"ic3CustomLevel_"+h
}};return g}());e.MdxQuery=f})(c=d.core||(d.core={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(ic3){var Serializable=(function(_super){__extends(Serializable,_super);function Serializable(context,options){_super.call(this);this.classID="ic3.Serializable";this.context=context;if(_.isObject(context)&&context.isRestoringGuts){this.guts_=_.assign({},options)
}else{this.guts_=_.assign({},this.createDefaultGuts(context),options)}}Serializable.prototype.createDefaultGuts=function(context){return{}};Serializable.prototype.name=function(name){return name?this.guts().ic3_name=name:this.guts_.ic3_name};Serializable.prototype.uid=function(uid){return uid?this.guts().ic3_uid=uid:this.guts_.ic3_uid
};Serializable.prototype.guts=function(){return this.guts_};Serializable.prototype.beforeSaveGuts=function(){};Serializable.prototype.afterRestoreGuts=function(object){};Serializable.prototype.gutsMeta=function(){return[]};Serializable.prototype.evalGuts=function(optionFieldName){if(this.guts_==null){return null
}var guts=this.context.getEvaluator().evaluate(this.guts_);guts=ic3.ContextEvaluator.evaluate(guts,{context:this.context},"REPORTING");if(optionFieldName){var gutOption=guts[optionFieldName];if(gutOption){$.extend(true,guts,gutOption);delete guts[optionFieldName]
}}return guts};Serializable.prototype.evalGutsField=function(fieldName){var meta=ic3.arrayLookup(this.gutsMeta(),"name",fieldName);return this.context.evalObject(this.guts_[fieldName],meta)};Serializable.prototype.eval=function(value){return this.context.eval(value)
};Serializable.prototype.evalEsc=function(value){return this.context.evalEsc(value)};return Serializable}(viz.EventHandler));ic3.Serializable=Serializable;function copyGuts(object,context){return restoreGuts(saveGuts(object),context)}ic3.copyGuts=copyGuts;function restoreGuts(object,context){try{context.isRestoringGuts=true;
return _restoreGuts(object,context)}finally{context.isRestoringGuts=false}}ic3.restoreGuts=restoreGuts;function _restoreGuts(object,context){if(object==null||ic3.isEmptyString(object)){return null}if(object.classID!=null){if(object.guts_==null){alert("Guts structure not found from the object "+object.classID)
}if(ic3.ExcludeFromRestore[object.classID]===true){return null}if(object.classID=="ic3.Serializable"){alert("Cannot instantiate abstract class")}var toObject;try{var toObject=eval("new "+serializerVersionHandler(object.classID)+"(context)");var toGuts=toObject.guts_;
$.each(object.guts_,function(key,value){toGuts[key]=_restoreGuts(value,context)});toObject.afterRestoreGuts&&toObject.afterRestoreGuts(object)}catch(error){context.errorMgr().addError("serializable.alert.restore",[object.classID,error.toString()],undefined,error)
}return toObject}else{if(object instanceof Array){var toArray=[];$.each(object,function(idx,item){toArray.push(_restoreGuts(item,context))});return toArray}if(object instanceof Object){var newObject={};$.each(object,function(key,value){newObject[key]=_restoreGuts(value,context)
});return newObject}return object}}function saveGuts(object){if(object==null){return null}if(object.classID!=null){if(object.guts_==null){return null}var toObject={classID:object.classID,guts_:{}};var toGuts=toObject.guts_;object.beforeSaveGuts&&object.beforeSaveGuts();
$.each(object.guts_,function(key,value){if(value!=null&&value!==""){toGuts[key]=saveGuts(value)}});return toObject}else{if(object instanceof Array){var toArray=[];$.each(object,function(idx,item){toArray.push(saveGuts(item))});return toArray}if(object instanceof Object){var newObject={};
$.each(object,function(key,value){newObject[key]=saveGuts(value)});return newObject}return object}}ic3.saveGuts=saveGuts;ic3.SerializerVersions={ic3ReportConstant:"ic3.ConstantsMgr",ic3WidgetAdapterOrFilterMgr:"ic3.ConstantsMgr",ic3ComboActionsAdapter:"ic3.ActionsComboAdapter",ic3ReportGuts:"ic3.ReportGuts",ic3FixedLayout:"ic3.FixedLayout",ic3FixedLayoutBox:"ic3.FixedLayoutBox",ic3WidgetAdapterContainerMgr:"ic3.WidgetAdapterContainerMgr",ic3EventWidgetMapper:"ic3.EventWidgetMapper",ic3GoogleChartsAdapter:"ic3.GoogleChartsAdapter",ic3ConstantsMgr:"ic3.ConstantsMgr",ic3CssMgr:"ic3.CssMgr",ic3CalcMeasureMgr:"ic3.CalcMeasureMgr",ic3MdxQueriesContainerMgr:"ic3.MdxQueriesContainerMgr",ic3BaseContainerMgr:"ic3.BaseContainerMgr",ic3QueryBuilderWidget:"ic3.QueryBuilderWidget",ic3QueryBuilderWizardForm:"ic3.QueryBuilderWizardForm",ic3ActionsMenuAdapter:"ic3.ActionsMenuAdapter",ic3ReportWidgetAdapter:"ic3.ReportWidgetAdapter",ic3ReportLauncherWidgetAdapter:"ic3.ReportLauncherWidgetAdapter",ic3MdxFilterTreeAdapter:"ic3.MdxFilterTreeAdapter",ic3TinyMCEAdapter:"ic3.TinyMCEAdapter",ic3FilterQueryBuilderForm:"ic3.FilterQueryBuilderForm",ic3MdxFilterComboAdapter:"ic3.MdxFilterComboAdapter",ic3MdxFilterButtonListAdapter:"ic3.MdxFilterButtonListAdapter",ic3PivotTableAdapter:"ic3.PivotTableAdapter",ic3ReportQuery:"ic3.ReportQuery",ic3ActionsJquiButtonListAdapter:"ic3.ActionsJquiButtonListAdapter",ic3ActionsButtonListAdapter:"ic3.ActionsButtonListAdapter",ic3MdxQueryBuilderAdapter:"ic3.MdxQueryBuilderAdapter",ic3MdxQueryBuilderLayout:"ic3.MdxQueryBuilderLayout",ic3MdxQuery:"ic3.MdxQuery",ic3MdxColumns:"ic3.MdxColumns",ic3MdxRegularHierarchy:"ic3.MdxRegularHierarchy",FixedLayout:"ic3.FixedLayout",ic3MdxRows:"ic3.MdxRows",ic3MdxSubQuery:"ic3.MdxSubQuery",ic3MdxSlicer:"ic3.MdxSlicer",ic3ActionsComboAdapter:"ic3.ActionsComboAdapter",ic3AmchartsPieAdapter:" ic3.AmchartsPieAdapter",ic3D3BulletChartAdapter:"ic3.D3BulletChartAdapter",ic3SimpleTableAdapter:"ic3.SimpleTableAdapter",ic3HtmlTemplateAdapter:"ic3.HtmlTemplateAdapter",ic3MdxFilterJquiAutocompleteAdapter:"ic3.MdxFilterJquiAutocompleteAdapter",ic3MdxFilterJquiButtonAdapter:"ic3.MdxFilterJquiButtonAdapter",ic3MdxFilterJquiSliderAdapter:"ic3.MdxFilterJquiSliderAdapter",ic3DateFilterQueryBuilderForm:"ic3.DateFilterQueryBuilderForm",ic3MdxMeasuresHierarchy:"ic3.MdxMeasuresHierarchy","ic3.MdxFilterComboAdapter":"ic3.QueryFilterComboAdapter","ic3.MdxFilterButtonListAdapter":"ic3.QueryFilterButtonListAdapter","ic3.MdxFilterTreeAdapter":"ic3.QueryFilterTreeAdapter","ic3.MdxFilterJquiButtonAdapter":"ic3.QueryFilterJQueryButtonListAdapter","ic3.MdxFilterJquiSliderAdapter":"ic3.QueryFilterSliderAdapter","ic3.MdxFilterJquiAutocompleteAdapter":"ic3.QueryFilterAutoCompleteAdapter","ic3.FilterQueryBuilderForm":"ic3.NewFilterQueryBuilderForm","ic3.ActionsButtonListAdapter":"ic3.NewActionsButtonListAdapter","ic3.ActionsComboAdapter":"ic3.NewActionsComboAdapter","ic3.ActionsMenuAdapter":"ic3.NewActionsMenuAdapter","ic3.ActionsContextualMenuAdapter":"ic3.NewActionsContextualMenuAdapter","ic3.TableAdapter":"ic3.BigTableAdapter"};
function serializerVersionHandler(classId){var newClassId=classId;while(ic3.SerializerVersions[newClassId]){newClassId=ic3.SerializerVersions[newClassId]}return newClassId}ic3.serializerVersionHandler=serializerVersionHandler;ic3.ExcludeFromRestore={}})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(a){var b=(function(d){__extends(c,d);
function c(f,e){d.call(this,f,e);this.state={selection:[]}}c.prototype.handleVisualSelectionChange=function(e){this.setState({selection:e})};c.prototype.componentWillUpdate=function(e,f){if(!_.isEqual(_.get(this.state,"tableContext.mdxResultTable"),_.get(f,"tableContext.mdxResultTable"))){f.selection=null
}};c.prototype.getSelectedItems=function(){var e=this.props.navigationGuts.guts().selection||{},f=e.type===ic3.SelectionType.COLUMN,h;if(f){h=this.state.tableContext.axisIndices.columnsAxis}else{h=this.state.tableContext.axisIndices.rowsAxis}var g=this.state.mdxResultTable.getAxes().getAxis(h);
return _.map(this.state.selection,function(j){var i=parseInt(j[f?1:0]);if(!_.isNaN(i)){return{name:g.getMemberCaption(g.getTupleLength(),i),uniqueName:g.getMemberUniqueName(g.getTupleLength()-1,i)}}})};return c}(a.core.AbstractChartWidget));a.TableWidget=b})(viz||(viz={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(a){var b=(function(){function f(g,i,j){var h=this;
h.queries=[];h.$elem=$("#"+g);h.$elem.click(function(){if(h.queries.length>1){var k=h.queries.pop();k=h.queries.pop();i.executeRequest(k);if(j){j()}}});h.$elem.attr("disabled","disabled");h.$elem.text("No History");i.bind(a.EventType.onVizRequestExecuted,h)
}f.prototype.clear=function(){this.queries.length=0};f.prototype.onVizRequestExecuted=function(h,g){this.queries.push(g);if(this.queries.length>1){this.$elem.removeAttr("disabled");this.$elem.text("History ("+(this.queries.length-1)+")")}else{this.$elem.attr("disabled","disabled");
this.$elem.text("No History")}};return f}());a.HistoryButton=b;var d=(function(){function f(){}return f}());a.CssConfig=d;var c=(function(g){__extends(f,g);function f(i,h){g.call(this);this.backButton=h;this.$elem=$(i)}f.prototype.getMdxExpression=function(){return this.$elem.val()
};f.prototype.setMdxExpression=function(h){this.$elem.val(h)};f.prototype.fireOnChangeEvent=function(){g.prototype.fireOnChangeEvent.call(this);if(this.backButton){this.backButton.clear()}};return f}(a.MdxQueryWidget));a.TextAdapter=c;var e=(function(){function f(g){this.$elem=a.asDiv(g);
this.items=[]}f.prototype.push=function(g){this.items.push(g);this._buildEventSkeleton()};f.prototype.pop=function(){this.items.pop();this._buildEventSkeleton()};f.prototype.clear=function(){this.items.length=0;this._buildEventSkeleton()};f.prototype._buildEventSkeleton=function(){if(this.items.length==0){this.$elem.html("")
}else{var h=new a.StringBuilder();for(var g=0;g<this.items.length;g++){if(g>0){h.append(", ")}var i=this.items[g];h.append("<span title='").append(ic3.escapeAttribute(i.uniqueName)).append("'>").append(ic3.escapeHTML(i.name)).append("</span>")}this.$elem.html(h.asString())
}};return f}());a.Slicer=e})(viz||(viz={}));var viz;(function(d){var c;(function(b){var a=(function(){function f(){}return f}());b.PivotTableOptions=a;b.HeaderType={LEFT:"lh",TOP:"th"}})(c=d.pivot||(d.pivot={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(d,b){for(var g in b){if(b.hasOwnProperty(g)){d[g]=b[g]
}}function h(){this.constructor=d}d.prototype=b===null?Object.create(b):(h.prototype=b.prototype,new h())};var viz;(function(d){var c;(function(b){var a=(function(h){__extends(g,h);function g(f,e){h.call(this);this.classID="vizPivot.PivotTable";this.options=e||new b.PivotTableOptions();
this.container=_.isString(f)?$("#"+f):f;this.renderingStatus_=d.WidgetRenderingStatus.CREATED;this.options.rowsColumns=this.options.rowsColumns||true;if(this.options.drillDownStrategy&&this.options.drillDownStrategy.allowClearDrillDown()){this.options.allowClearDrillDown=true
}if(this.options.disableNavigation!==!0&&!this.options.drillDownStrategy){this.options.drillDownStrategy=new b.DefaultDrillDownStrategy(null,null)}this.view_=new b.PivotTablePagingView_(this.container,this.options)}g.prototype.updateState=function(f){var e=this;
this.options.state=f;this.view_.measureIndex=0;if(this.options.state.mdxResultTable&&this.options.state.request){if(!f.axisIndices){f.axisIndices=ic3.IcCubeMdxBuilder.getMdxAxisIndices(f.mdxResultTable,f.request)}if(!f.tableContext){f.tableContext=ic3.TableContext.Orphan(f.mdxResultTable,f.request)
}this.render(function(){return e.doOnVizRequestExecuted(e.options.state.mdxResultTable,e.options.state.request)})}};g.prototype.destroy=function(){this.container.empty()};g.prototype.consumedEvents=function(){return[vizEventType.doSwitchColumnRows,vizEventType.doExportToExcel]
};g.prototype.producedEvents=function(e){return[vizEventType.onCellClick,vizEventType.onRowClick,vizEventType.onColumnClick]};g.prototype.consumeEvent=function(f,e){switch(f){case vizEventType.doSwitchColumnRows:this.toggleRowsColumns();break;case vizEventType.doExportToExcel:this.consumeExportToExcelEvent(d.event.asMdx(e));
break}};g.prototype.consumeExportToExcelEvent=function(e){this.doExportToExcel(e,this.connection_)};g.prototype.doOnVizRequestExecuted=function(f,e){if(this.options.drillDownStrategy){this.options.drillDownStrategy.setMdxBase(this.mdxQuery())}this.beforeBuildInHtml(f,e);
if(!this.renderingStatus().isRestoringSnapshot()){this.buildInHtml()}};g.prototype.beforeBuildInHtml=function(f,e){if(!f){return}else{if(f instanceof d.GviTable){throw new Error("Component expects MdxTable but got GviTable!")}else{if(_.isEmpty(f.getAxes())){return
}}}this.connection_=f.getConnection();this.collapseMgr=new b._NodeCollapsePolicy_();this.pivotTable=new b.PivotTableData(f,e,this.options)};g.prototype.buildInHtml=function(){this.refresh(false)};g.prototype.processDrillDownHistoryItem=function(m){var e=this;
if(m){if(!m.collapsed){var n=this.setupVirtualPivot();var f=this.options.drillDownStrategy.createAction(this.connection_);var l=function(){setTimeout(function(){return e.processDrillDownHistoryItem(e.options.drillDownStrategy.shiftHistoryDrillDownItem())},4)
};if(this.options.drillDownStrategy.countLeftHistoryDrillDownItems()<2){l=function(){return e.refresh(true)}}f.onError(function(){e.options.drillDownStrategy.removeHistoryItemByPath(m.headerType,m.path,(m.headerType===b.HeaderType.LEFT?m.col:m.row));l()});f.onDrillDown(l);
f.applyHistoryDrillDown(m,n)}else{m.executed=true;setTimeout(function(){return e.processDrillDownHistoryItem(e.options.drillDownStrategy.shiftHistoryDrillDownItem())},0)}}else{this.refresh(true)}};g.prototype.onRendered=function(){if(this.options.drillDownStrategy&&!ic3.isUndefined(this.connection_)&&!_.isEmpty(this.options.drillDownStrategy.getState().drillDownHistory)){this.options.drillDownStrategy.resetExecutedDrillDownHistory();
this.processDrillDownHistoryItem(this.options.drillDownStrategy.shiftHistoryDrillDownItem())}this.options.onRendered&&this.options.onRendered();this.renderingStatus_=d.WidgetRenderingStatus.RENDERED};g.prototype.toggleRowsColumns=function(){this.options.rowsColumns=!this.options.rowsColumns;
this.refresh(false);this.setStyle()};g.prototype.clipboard=function(){var n="";var o=this.dataToExport();if(o){for(var e=0;e<o.length;e++){var q=o[e];var p="";for(var r=0;r<q.length;r++){if(r>0){p+=";"}var f=q[r];p+=f?f:""}n+=p+"\n"}}return n};g.prototype.dataToExport=function(){if(!this.pivotTable){return null
}var e=this.setupVirtualPivot();return this.dataToExport_(e)};g.prototype.dataToExport_=function(p){var m=this.dataToExportProperties_(p);var e=this.dataToExportColumns_(p);var n=this.dataToExportTopHeader_(p);var f=this.dataToExportLeftHeader_(p);var o=this.dataToExportCells_(p);
return{props:m,cols:e,topHeader:n,leftHeader:f,cells:o}};g.prototype.dataToExportProperties_=function(e){return{headersAsBold:true}};g.prototype.dataToExportColumns_=function(l){var e=[];var f=l.getLeftHeaderColSize_()+l.getColumnSize_();for(var k=0;k<f;k++){e.push(this.dataToExportColumn_(k))
}return e};g.prototype.dataToExportColumn_=function(e){var l=this.options;var k=-1;var f=l.columnWidths?(l.columnWidths[e]||l.columnWidth||k):k;return{w:f}};g.prototype.dataToExportTopHeader_=function(o){var p=o.getTopHeaderRowSize_();var m=[];for(var e=0;e<p;
e++){var f=[];for(var n=0;n<o.getColumnSize_();n++){f.push(o.getTopHeaderForExcelExport_(e,n))}m.push(f)}return{topHeaderRowCount:p,headerRows:m}};g.prototype.dataToExportLeftHeader_=function(p){var m=p.getLeftHeaderColSize_();var n=[];for(var e=0;e<p.getRowSize_();
e++){var f=[];for(var o=0;o<m;o++){f.push(p.getLeftHeaderForExcelExport_(e,o))}n.push(f)}return{leftHeaderColCount:m,headerRows:n}};g.prototype.dataToExportCells_=function(p){var r=p.getRowSize_();var e=p.getColumnSize_();var v=[];for(var f=0;f<r;f++){var u=[];
for(var t=0;t<e;t++){try{u.push(p.getCellForExcelExport_(f,t,this.view_.measureIndex))}catch(q){if(q instanceof b.CellError){var s=this.view_.renderCellOnError_(f,t,q.cellError,this.view_.tagsConfig_.column);u.push({v:s})}else{throw q}}}v.push(u)}return{cellRowCount:r,cellColCount:e,cellRows:v}
};g.prototype.renderingStatus=function(){return this.renderingStatus_};g.prototype.setupVirtualPivot=function(){var f=this.pivotTable;var e={startRow:0,startCol:0,pageRow:f.getDataRowCount_(),pageCol:f.getDataColumnCount_()};return new b.VirtualPivotTableData_(f,e)
};g.prototype.refresh=function(f){var l=this;var n=l.setupVirtualPivot();var m=_.get(this.options,"handleClick");l.view_.refresh_(n,{onDrillDown:l.onDrilldown_,onHeaderClick:function(j,r,k,i){m(k,i);if(l.bindingEvent(vizEventType.onColumnClick)||l.bindingEvent(vizEventType.onRowClick)){var q;
if(r===b.HeaderType.LEFT&&l.bindingEvent(vizEventType.onRowClick)){q=j.getLeftHeaderInfoAbs_(k,i);l.fireEvent(vizEventType.onRowClick,q)}else{if(l.bindingEvent(vizEventType.onColumnClick)){q=j.getTopHeaderInfoAbs_(k,i);l.fireEvent(vizEventType.onColumnClick,q)
}}return false}},onCellClick:function(j,k,i){m(k,i);if(l.bindingEvent(vizEventType.onCellClick)){var p=j.getCellInfo_(k,i);l.fireEvent(vizEventType.onCellClick,p)}},onRendered:function(){if(!l.renderingStatus().isRendered()){l.onRendered()}},onExportToExcel:function(){var i=l.options.exportToExcelFileName||"pivot-save";
l.consumeExportToExcelEvent(i)},onColumnResize:function(i,j){if(l.options.onColumnResize){return l.options.onColumnResize(i,j)}return null},scope:l},f);if(this.options.exportToExcelOnHeader){var e=this.options.exportToExcelFileName||"pivot-save";this.container.find("thead tr th:first-child .ic3-pt-click").bind("click.icc",function(i){l.consumeExportToExcelEvent(e)
})}this.setStyle()};g.prototype.onDrilldown_=function(q,t,f,v,r,s,e){var p=this;var u=(function(j){var i=j(v,r);if(t.shiftKey){p.options.drillDownStrategy.clearHistory();i.switchNewRoot_();p.refresh(false);return}if(i.canDrillDown()||e){p.fireDrillDown_(f,s,q,i,v,r,t,e)
}else{if(f===b.HeaderType.LEFT){p.options.drillDownStrategy.removeHistoryItemByPath(f,i.absPath,r);q.clearLeftHeaderChildren(i)}else{p.options.drillDownStrategy.removeHistoryItemByPath(f,i.absPath,v);q.clearTopHeaderChildren(i)}p.refresh(true)}}).bind(this);
if(f===b.HeaderType.LEFT){u(q.getLeftHeaderNodeAbs_.bind(q))}else{if(f===b.HeaderType.TOP){u(q.getTopHeaderNodeAbs_.bind(q))}}return false};g.prototype.fireDrillDown_=function(r,x,t,w,z,u,y,e,f){var s=this;if(this.options.disableNavigation!==true&&this.connection_&&!w.loading){var v=this.options.drillDownStrategy.createAction(this.connection_);
v.onDrillDown(function(){w.loading=false;w.collapsed=false;if(!f||f(true)!==false){s.refresh(true)}s.container.removeClass("ic3-loading")});v.onBeforeDrillDown(function(){if(e){s.options.drillDownStrategy.removeHistoryItemByPath(r,w.absPath,(r==b.HeaderType.LEFT?u:z));
if(r===b.HeaderType.LEFT){t.clearLeftHeaderChildren(w)}else{t.clearTopHeaderChildren(w)}}var i=s.options.iconClass;if(i&&i.loading){x.find(":first-child").attr("class",b.PivotTableView_.iconCls).addClass(i.loading)}w.loading=true;s.container.addClass("ic3-loading")
});v.onError(function(){s.container.removeClass("ic3-loading");w.loading=false;w.collapsed=true;s.options.drillDownStrategy.removeHistoryItemByPath(r,w.absPath,(r==b.HeaderType.LEFT?u:z));s.refresh(true)});if(r===b.HeaderType.TOP){v.doColumnDrillDown(z,u,y,t)
}else{v.doRowDrillDown(z,u,y,t)}}else{f&&f(false)}};g.prototype.fireCollapseOnClosed_=function(p,o,f,m,e){if(this.options.fireCollapseOnClosed&&e>0){var n=p.getHeaderNode(m,e-1);if(n.collapsed){n.forEachDescendant_(function(j){var k=j.getStartIdx();while(true){var l=p.getHeaderNode(k,e);
if(l.label_===f.label_&&f.collapsed!=l.collapsed){o(l);break}k++;if(k>=p.getAbsoluteSize()){break}var i=p.getHeaderNode(k,e-1);if(j!==i){break}}})}}};g.prototype.mdxResultTable=function(){return this.options.state.mdxResultTable};g.prototype.getState=function(e){var f={};
if(e===d.StateSaveMode.SNAPSHOT){if(this.pivotTable){f.pivotTable=this.pivotTable.getState();f.view=this.view_.getState();f.mdxQuery=this.mdxQuery()}}return f};g.prototype.doSetState=function(e){if(e.mdxResultTable){this.options.state.mdxResultTable=e.mdxResultTable;
this.collapseMgr=new b._NodeCollapsePolicy_();this.pivotTable=new b.PivotTableData(this.mdxResultTable(),this.options.state.request,this.options);this.pivotTable.setState(e.pivotTable);this.view_.setState(e.view);this.refresh(false)}};g.prototype.setStyle=function(){this.view_.afterSetStyle()
};g.prototype.asynchronousRendering=function(){return this.view_.asynchronousRendering()};g.prototype.doExportToExcel=function(e,n){var l=this.dataToExport();if(l){var f=ic3.isEmptyString(e)?"pivot-table":e;var m=new d.FormatDataRequest({},vizDataFormatConstants.pivotTable,vizDataFormatConstants.excel,f,l);
if(n){n.sendRequest(m)}else{this.connection_.sendRequest(m)}}};g.prototype.onVizRequestExecuted=function(f,e){if(f instanceof d.GviTable){return}this.updateState({mdxResultTable:f,request:e})};g.prototype.render=function(e){try{e()}finally{if(!this.asynchronousRendering()&&!this.renderingStatus_.isRestoringSnapshot()){this.onRendered()
}}};g.prototype.gviRequest=function(){return _.get(this.options,"state.request")};g.prototype.mdxQuery=function(){return this.gviRequest().getMdxParameter()};g.prototype.gviConnection=function(){var e=_.get(this.options,"state.mdxResultTable");return e?e.getConnection():null
};return g}(d.EventHandler));b.PivotTable=a})(c=d.pivot||(d.pivot={}))})(viz||(viz={}));window.vizPivot=viz.pivot;window.vizPivot.PivotTable=viz.pivot.PivotTable;var viz;(function(d){var c;(function(l){var a=/^\s*color\s*:\s*([^;]*)|[;\s]+color\s*:\s*([^;]*)/;
var i=/background-color\s*:\s*([^;]*)/;var b=(function(){function e(M,g,G){this.mdxResultTable=M;this.request=g;this.options_=G;this.cache={};var f=M.getAxes();this.schemaName_=M.getQuery().getProperty("schemaName");this.cubeName_=M.getQuery().getProperty("cubeName");
this.drillDownStrategy=G.drillDownStrategy;this.mdx_specifiedAxisCount_=M.getMeta().getAxisCount();this.topHeaderHierarchies_=[];this.leftHeaderHierarchies_=[];var h=ic3.IcCubeMdxBuilder.getMdxAxisIndices(M,g);var B=!_.isNull(h.measuresAxis);this.rowCount_=this.rowsInTopHeader_=this.columnCount_=this.columnsInLeftHeader_=0;
var F=0,C=0;if(M.getCells().getCellCount()>0){this.rowCount_=f.getAxis(h.rowsAxis).getTupleCount();this.columnCount_=f.getAxis(h.columnsAxis)?f.getAxis(h.columnsAxis).getTupleCount():1;var F=this.columnsInLeftHeader_=f.getAxis(h.rowsAxis).getTupleLength();var C=this.rowsInTopHeader_=f.getAxis(h.columnsAxis)?f.getAxis(h.columnsAxis).getTupleLength():1;
if(M.getCells().getCellCount()==0){C=0}else{if(B&&f.getAxisCount()<3){C=1}}}var H=function(p,m,n){if(n!==0){for(var o=0;o<m;o++){if(p[o][n]!==p[o][n-1]){return true}}}return false};var L=this;this.leftHeaderNodes_=[];for(var D=0;D<F;D++){var E=D==(F-1);this.leftHeaderNodes_[D]=this.buildNodes_(f.getAxis(h.rowsAxis).getTupleCount(),E,function(m){return f.getAxis(h.rowsAxis).getMemberCaption(m,D)
},function(m){return f.getAxis(h.rowsAxis).getMemberUniqueName(m,D)},function(m){return M.getMeta().getAxis(h.rowsAxis).getHierarchyCaption(D)},function(m){return L.getLeftHeaderLevelDepth(M,m,D)},function(m){return H(L.leftHeaderNodes_,D,m)},function(m){return L.getLeftHeaderChildrenCount_(M,m,D)
},function(m,n){return L.canDrillDownLeftHeader_(M,m,D,n)},function(m){return[f.getAxis(h.rowsAxis).getMemberUniqueName(m,D)]})}this.topHeaderNodes_=[];if(f.getAxis(h.columnsAxis)){for(var I=0;I<C;I++){var J=I==(C-1);this.topHeaderNodes_[I]=this.buildNodes_(f.getAxis(h.columnsAxis).getTupleCount(),J,function(m){return f.getAxis(h.columnsAxis).getMemberCaption(m,I)
},function(m){return f.getAxis(h.columnsAxis).getMemberUniqueName(m,I)},function(m){return M.getMeta().getAxis(h.columnsAxis).getHierarchyCaption(I)},function(m){return L.getTopHeaderLevelDepth(M,m,I)},function(m){return H(L.topHeaderNodes_,I,m)},function(m){return L.getTopHeaderChildrenCount_(M,m,I)
},function(m,n){return L.canDrillDownTopHeader_(M,m,I,n)},function(m){return[f.getAxis(h.columnsAxis).getMemberUniqueName(m,I)]})}}else{if(C>0){if(ic3.IcCubeMdxBuilder.hasMeasuresAxis(this.options_.state.request,this.options_.state.mdxResultTable)){var K=this.options_.state.tableContext;
this.topHeaderNodes_=[[new l.PivotNode_({rootOfAll:{},label:K.getMemberCaption(h.measuresAxis,0,0),levelDepth:K.getMemberLevelDepth(h.measuresAxis,0,0),startIdx:0,childCount:0,uniqueNamePath:[K.getMemberUniqueName(h.measuresAxis,0,0)],canDrillDown:false,hierarchy:"[Measures]"})]]
}else{var N=M.getSlicer().getTupleLength()-1;this.topHeaderNodes_=[[new l.PivotNode_({rootOfAll:{},label:M.getSlicer().getMemberCaption(0,N),levelDepth:M.getSlicer().getMemberLevelDepth(0,N),startIdx:0,childCount:0,uniqueNamePath:[M.getSlicer().getMemberUniqueName(0,N)],canDrillDown:false,hierarchy:"[Measures]"})]]
}}}var A=function(o){var s=[];var t=o.length;var u=Math.min;var q=Number.MAX_VALUE;for(var m=0;m<t;m++){var p=q;var r=o[m];var v=r.length;for(var n=0;n<v;n++){p=u(p,r[n].levelDepth_)}s[m]=p}return s};this.topHeaderMinLevel_=A(this.topHeaderNodes_);this.leftHeaderMinLevel_=A(this.leftHeaderNodes_);
this.buildIterators_()}e.prototype.getCellForExcelExport_=function(f,n,g){var h=null;if(g){h=this.getMeasuresArray()[g]}return{v:ic3.TableContext.Orphan(this.mdxResultTable,this.request).getValue(f,n,h)}};e.prototype.getTopHeaderLevelDepth=function(h,g,f){var n=this.options_.state.axisIndices.columnsAxis;
return n>-1?h.getAxes().getAxis(n).getMemberLevelDepth(g,f):0};e.prototype.getLeftHeaderLevelDepth=function(h,f,g){return h.getAxes().getAxis(this.options_.state.axisIndices.rowsAxis).getMemberLevelDepth(f,g)};e.prototype.getLeftHeaderChildrenCount_=function(n,f,g){var h=0;
if(this.drillDownStrategy){h=this.drillDownStrategy.getLeftHeaderChildrenCount(n,this.request,f,g)}return h};e.prototype.getTopHeaderChildrenCount_=function(n,g,f){var h=0;if(this.drillDownStrategy){h=this.drillDownStrategy.getTopHeaderChildrenCount(n,this.request,g,f)
}return h};e.prototype.canDrillDownLeftHeader_=function(o,f,g,p){var h=false;if(this.drillDownStrategy){h=this.drillDownStrategy.canDrillDownLeftHeader(o,this.request,f,g,p)}return h};e.prototype.canDrillDownTopHeader_=function(o,g,f,p){var h=false;if(this.drillDownStrategy){h=this.drillDownStrategy.canDrillDownTopHeader(o,this.request,g,f,p)
}return h};e.prototype.buildNodes_=function(P,T,O,R,M,W,Q,N,K,Y){var f,S;var J,Z,L;var H=null,G=null;var X,V,U;var I=[];var g={};for(var h=0;h<P;h++){if(Q(h)){f=null}S=R(h);if(T||S!=f){V=O(h);Z=W(h);L=Y(h);U=M(h);G=new l.PivotNode_({rootOfAll:g,label:V,levelDepth:Z,startIdx:h,childCount:N(h),uniqueNamePath:L,canDrillDown:K(h,Z),hierarchy:U});
if(H){H.addChild_(G)}H=G;J=Z;X=V;f=S}I.push(H)}return I};e.prototype.buildIterators_=function(){var g=this;var f=this.leftHeaderNodes_;this.leftIter={sizeX:function(n){if(!n){return g.rowCount_}return g.rowCount_=n},sizeY:function(){return g.columnsInLeftHeader_
},node:function(o,p){return f[p][o]},array:function(p,o){return !o?f[p]:f[p]=o}};var h=this.topHeaderNodes_;this.topIter={sizeX:function(n){if(!n){return g.columnCount_}return g.columnCount_=n},sizeY:function(){return g.rowsInTopHeader_},node:function(o,p){return h[p][o]
},array:function(p,o){return !o?h[p]:h[p]=o}}};e.prototype.hasNoAxis_=function(){return this.mdx_specifiedAxisCount_==0};e.prototype.hasOneAxis_=function(){return this.mdx_specifiedAxisCount_==1};e.prototype.insertLeftHeaderDrilldown_=function(g,h,f){var n=this._insertHeaderDrilldown_(g,g.leftIter,this.leftIter,h,f);
this.mdxResultTable=d.mdxResultTablesMerge(this.mdxResultTable,g.mdxResultTable,this.request,"lh",n);return true};e.prototype.insertTopHeaderDrilldown_=function(g,h,f){var n=this._insertHeaderDrilldown_(g,g.topIter,this.topIter,f,h);this.mdxResultTable=d.mdxResultTablesMerge(this.mdxResultTable,g.mdxResultTable,this.request,"th",n);
return true};e.prototype.clearLeftHeaderChildren=function(s,w){var u=s.children_,x=u[0].startIdx_,f=this.leftIter.sizeX(),v=s.getTotalChildrenCount();var g=_.get(this.options_,"drillDownStrategy.navigationStrategy");if(g&&g.guts().drillDownStrategyType=="mdxExpression"){v=s.getChildrenCount()
}if(!w){s.children_=null;s.resetChildrenCount_();for(var t=0;t<this.leftHeaderNodes_.length;t++){var h=this.leftHeaderNodes_[t];h.splice(x,v)}this.leftIter.sizeX(f-v);this.resetNodeIndexes(this.leftIter)}this.mdxResultTable=d.mdxResultTableCollapseNode(this.mdxResultTable,this.request,"lh",x,v)
};e.prototype.clearTopHeaderChildren=function(v,g){var r=v.children_,s=r[0].startIdx_,f=this.topIter.sizeX(),h=v.getTotalChildrenCount();if(!g){v.children_=null;v.resetChildrenCount_();for(var t=0;t<this.topHeaderNodes_.length;t++){var u=this.topHeaderNodes_[t];
u.splice(s,h)}this.topIter.sizeX(f-h);this.resetNodeIndexes(this.topIter)}this.mdxResultTable=d.mdxResultTableCollapseNode(this.mdxResultTable,this.request,"th",s,h)};e.prototype._insertHeaderDrilldown_=function(C,D,y,A,H){this.resetNodeIndexes(y);var g=D.sizeX(),h=D.sizeY(),z=y.node(A,H),x=z.getEndIdx_();
x=x<0?y.sizeX():x;for(var F=0;F<H;F++){y.array(F,k(y.array(F),x,g))}for(F=H;F<h;F++){y.array(F,j(y.array(F),x,D.array(F)))}var f=_.get(this.options_,"drillDownStrategy.navigationStrategy");var G=D.node(0,H).getLevelDepth();for(var E=0;E<g;E++){var B=D.node(E,H);
if(f&&f.guts().drillDownStrategyType=="mdxExpression"){B.levelDepth_=z.levelDepth_+1+(B.levelDepth_-G)}z.addChild_(B)}y.sizeX(y.sizeX()+g);this.resetNodeIndexes(y);return x};e.prototype.resetNodeIndexes=function(u){var w=u.sizeX();var x=u.sizeY();var h=[];var z,f,v;
for(f=0;f<x;f++){h[f]=u.node(0,f).rootOfAll_}for(f=0;f<x;f++){var t=h[f];var g=u.array(f);var y=null;for(z=0;z<w;z++){v=g[z];if(v!==y){v.startIdx_=z;v.rootOfAll_=t;delete v.followingNode;if(y){y.followingNode=v}}y=v}}};e.prototype.isTopHeaderVisible_=function(f){var n=true;
for(var g=0;g<this.rowsInTopHeader_;g++){var h=this.topHeaderNodes_[g][f];n=n&&h.isVisible()}return n};e.prototype.isLeftHeaderVisible_=function(f){var n=true;for(var h=0;h<this.columnsInLeftHeader_;h++){var g=this.leftHeaderNodes_[h][f];n=n&&g.isVisible()}return n
};e.prototype.getDataColumnCount_=function(){return this.columnCount_};e.prototype.getDataRowCount_=function(){return this.rowCount_};e.prototype.getTopHeaderRowSize_=function(){return this.rowsInTopHeader_};e.prototype.getLeftHeaderColSize_=function(){return this.columnsInLeftHeader_
};e.prototype.getLeftHeaderNode=function(f,g){return this.leftHeaderNodes_.length?this.leftHeaderNodes_[g][f]:undefined};e.prototype.getLeftHeaderNodeRowIdxByAbsPath=function(f,g){var o=this.leftIter.sizeX();var h=null;for(var p=0;p<o;p++){if(_.isEqual(this.leftIter.node(p,g).absPath,f)){h=p
}}return h};e.prototype.getTopHeaderNodeColIdxByAbsPath=function(f,p){var g=this.topIter.sizeX();var h=null;for(var o=0;o<g;o++){if(_.isEqual(this.topIter.node(o,p).absPath,f)){h=o}}return h};e.prototype.getTopHeaderNode=function(f,g){return this.topHeaderNodes_[f][g]
};e.prototype.getMeasuresArray=function(){var f=this.mdxResultTable.getAxes().getAxis(this.options_.state.axisIndices.measuresAxis);if(ic3.IcCubeMdxBuilder.hasMeasuresAxis(this.request,this.mdxResultTable)){return _.times(f.getTupleCount(),function(g){return f.getMemberUniqueName(0,g)
})}else{return[ic3.IcCubeMdxBuilder.DEFAULT_MEASURE]}};e.prototype.getCellInfo_=function(u,f){var x=this.getTopHeaderRowSize_();var s=this.getLeftHeaderColSize_();var h="";var g=[];for(var v=0;v<x;v++){var w=this.getTopHeaderNode(v,f);h+=(h.length>>0?", ":"(")+w.getMdxUName();
g.push(w.getName())}for(v=0;v<s;v++){w=this.getLeftHeaderNode(u,v);h+=(h.length>>0?", ":"(")+w.getMdxUName();g.push(w.getName())}var t=h+")";return new d.event.GviClickEvent(g.join(),t)};e.prototype.getTopHeaderInfo_=function(t,f){var x=this.getTopHeaderRowSize_();
var g="";for(var u=0;u<x;u++){var v=this.getTopHeaderNode(u,f);g+=(g.length>>0?", ":"(")+v.getMdxUName()}var w=g+")";var z=this.getTopHeaderNode(t,f);var y=z.getName();var h=z.getMdxUName();return new d.pivot.GviPivotHeaderClickEvent(y,h,w,vizEventType.onColumnClick)
};e.prototype.getLeftHeaderInfo_=function(u,f){var h=this.getLeftHeaderColSize_();var g="";for(var v=0;v<h;v++){var w=this.getLeftHeaderNode(u,v);g+=(g.length>>0?", ":"(")+w.getMdxUName()}var x=g+")";var z=this.getLeftHeaderNode(u,f);var y=z.getName();var t=z.getMdxUName();
return new d.pivot.GviPivotHeaderClickEvent(y,t,x,vizEventType.onRowClick)};e.prototype.getState=function(){return{mdxResultTable:this.mdxResultTable,rowCount_:this.rowCount_,columnCount_:this.columnCount_,topHeaderNodes_:this.saveNodes_(this.topHeaderNodes_),topHeaderMinLevel_:this.topHeaderMinLevel_,leftHeaderNodes_:this.saveNodes_(this.leftHeaderNodes_),leftHeaderMinLevel_:this.leftHeaderMinLevel_}
};e.prototype.saveNodes_=function(g){var h=[];for(var u=0;u<g.length;u++){var s=g[u];var r=[];for(var f=0;f<s.length;f++){var t=s[f];r.push({rootOfAll_:t.rootOfAll_,startIdx_:t.startIdx_,label_:t.label_,levelDepth_:t.levelDepth_,childrenCount_:t.childrenCount_,uniqueNamePath_:t.uniqueNamePath_,canDrillDown_:t.canDrillDown(),hierarchy_:t.getHierarchy()})
}h.push(r)}return h};e.prototype.setState=function(f){if(!$.isEmptyObject(f.topHeaderNodes_)&&!$.isEmptyObject(f.leftHeaderNodes_)){f.topHeaderNodes_=this.restoreNodes_(f.topHeaderNodes_);f.leftHeaderNodes_=this.restoreNodes_(f.leftHeaderNodes_);$.extend(this,f)
}};e.prototype.restoreNodes_=function(h){var s=[];for(var f=0;f<h.length;f++){var r=h[f];var t=[];for(var g=0;g<r.length;g++){var u=r[g];t.push(new l.PivotNode_({rootOfAll:u.rootOfAll_,label:u.label_,levelDepth:u.levelDepth_,startIdx:u.startIdx_,childCount:u.childrenCount_,uniqueNamePath:u.uniqueNamePath_,canDrillDown:u.canDrillDown_,hierarchy:u.hierarchy_}))
}s.push(t)}return s};return e}());l.PivotTableData=b;function j(f,e,g){f.splice.apply(f,[e,0].concat(g));return f}function k(e,f,g){for(var h=0;h<g;h++){e.splice(f,0,e[f-1])}return e}})(c=d.pivot||(d.pivot={}))})(viz||(viz={}));var viz;(function(d){var c;(function(b){var a=(function(){function f(u,t){this.pivotTableData_=u;
this.pivotColumns_=[];this.pivotRows_=[];var q=u.getDataColumnCount_();var w=t.pageCol;var v=t.startCol;var r=0;while(r<w&&v<q){if(u.isTopHeaderVisible_(v)){this.pivotColumns_.push(v);r++}v++}var x=u.getDataRowCount_();var s=t.pageRow;var e=t.startRow;var p=0;
while(p<s&&e<x){if(u.isLeftHeaderVisible_(e)){this.pivotRows_.push(e);p++}e++}}f.prototype.insertLeftHeaderDrilldown=function(i,j,e){return this.pivotTableData_.insertLeftHeaderDrilldown_(i,j,e)};f.prototype.insertTopHeaderDrilldown=function(i,j,e){return this.pivotTableData_.insertTopHeaderDrilldown_(i,j,e)
};f.prototype.getDataSource=function(){return this.pivotTableData_.mdxResultTable};f.prototype.getBaseRequest=function(){return this.pivotTableData_.request};f.prototype.getRowSize_=function(){return this.pivotRows_.length};f.prototype.getColumnSize_=function(){return this.pivotColumns_.length
};f.prototype.formerTopHeaderIsSame_=function(e,m){if(m==0||e===this.getTopHeaderRowSize_()-1){return false}for(var l=0;l<=e;l++){var i=this.getTopHeaderNode(l,m);var n=this.getTopHeaderNode(l,m-1);if(i.levelDepth_!==n.levelDepth_||i.label_!==n.label_){return false
}}return true};f.prototype.getFormerTopHeaderColIdx_=function(k,m){for(var e=m;e>0;e--){var l=this.getTopHeaderNode(k,e);var n=this.getTopHeaderNode(k,e-1);if(!n||l.levelDepth_!==n.levelDepth_||l.label_!==n.label_){return e}}return 0};f.prototype.getSpanTopHeader_=function(s,j){var e=this.getColumnSize_();
var t=1;for(var p=j+1;p<e;p++){for(var i=0;i<=s;i++){var q=this.getTopHeaderNode(i,p).label_;var r=this.getTopHeaderNode(i,p-1).label_;if(q!==r){return t}}t++}return t};f.prototype.formerLeftHeaderIsSame_=function(e,m){if(e==0||m===this.getLeftHeaderColSize_()-1){return false
}for(var l=0;l<=m;l++){var i=this.getLeftHeaderNode(e,l);var n=this.getLeftHeaderNode(e-1,l);if(i.levelDepth_!==n.levelDepth_||i.label_!==n.label_){return false}}return true};f.prototype.getSpanLeftHeader_=function(t,j){var s=this.getRowSize_();var e=1;for(var p=t+1;
p<s;p++){for(var i=0;i<=j;i++){var q=this.getLeftHeaderNode(p,i).label_;var r=this.getLeftHeaderNode(p-1,i).label_;if(q!==r){return e}}e++}return e};f.prototype.getTopHeaderRowSize_=function(){return this.pivotTableData_.getTopHeaderRowSize_()};f.prototype.getLeftHeaderColSize_=function(){return this.pivotTableData_.getLeftHeaderColSize_()
};f.prototype.getTopHeaderForExcelExport_=function(e,i){var j=this.getTopHeaderNode(e,i);return{lbl:this.formerTopHeaderIsSame_(e,i)?"":j.label_,ld:j.levelDepth_}};f.prototype.getLeftHeaderForExcelExport_=function(e,i){var j=this.getLeftHeaderNode(e,i);return{lbl:this.formerLeftHeaderIsSame_(e,i)?"":j.label_,ld:j.levelDepth_}
};f.prototype.getMeasuresArray=function(){return this.pivotTableData_.getMeasuresArray()};f.prototype.getCellForExcelExport_=function(e,m,l){var n=this.pivotRows_[e];var k=this.pivotColumns_[m];return this.pivotTableData_.getCellForExcelExport_(n,k,l)};f.prototype.getLeftHeaderNode=function(e,h){return this.pivotTableData_.getLeftHeaderNode(e,h)
};f.prototype.getLeftHeaderDataNode=function(e,h){return this.pivotTableData_.getLeftHeaderNode(e,h)};f.prototype.getTopHeaderNode=function(e,h){return this.pivotTableData_.getTopHeaderNode(e,h)};f.prototype.getTopHeaderDataNode=function(e,h){return this.pivotTableData_.getTopHeaderNode(e,h)
};f.prototype.getLeftHeaderMinLevel_=function(e){return this.pivotTableData_.leftHeaderMinLevel_[e]};f.prototype.getTopHeaderMinLevel_=function(e){return this.pivotTableData_.topHeaderMinLevel_[e]};f.prototype.getTopHeaderNodeAbs_=function(h,e){return this.pivotTableData_.getTopHeaderNode(h,e)
};f.prototype.getLeftHeaderNodeAbs_=function(h,e){return this.pivotTableData_.getLeftHeaderNode(h,e)};f.prototype.getAbsoluteRowSize_=function(){return this.pivotTableData_.getDataRowCount_()};f.prototype.getAbsoluteColumnSize_=function(){return this.pivotTableData_.getDataColumnCount_()
};f.prototype.getCellInfo_=function(e,k){var l=this.pivotRows_[e];var j=this.pivotColumns_[k];return this.pivotTableData_.getCellInfo_(l,j)};f.prototype.getTopHeaderInfoAbs_=function(e,h){return this.pivotTableData_.getTopHeaderInfo_(e,h)};f.prototype.getLeftHeaderInfoAbs_=function(e,h){return this.pivotTableData_.getLeftHeaderInfo_(e,h)
};f.prototype.leftHeaderIterator=function(){return this.pivotTableData_.leftIter};f.prototype.topHeaderIterator=function(){return this.pivotTableData_.topIter};f.prototype.hasOneAxis_=function(){return this.pivotTableData_.hasOneAxis_()};f.prototype.hasNoAxis_=function(){return this.pivotTableData_.hasNoAxis_()
};f.prototype.getLeftHeaderHierarchies=function(){return this.pivotTableData_.leftHeaderHierarchies_};f.prototype.getTopHeaderHierarchies=function(){return this.pivotTableData_.topHeaderHierarchies_};f.prototype.clearLeftHeaderChildren=function(e){this.pivotTableData_.clearLeftHeaderChildren(e)
};f.prototype.clearTopHeaderChildren=function(e){this.pivotTableData_.clearTopHeaderChildren(e)};f.prototype.options=function(){return this.pivotTableData_.options_};return f}());b.VirtualPivotTableData_=a})(c=d.pivot||(d.pivot={}))})(viz||(viz={}));var viz;
(function(d){var c;(function(a){var b=(function(){function f(e){this.rootOfAll_=e.rootOfAll;this.startIdx_=e.startIdx;this.label_=e.label;this.levelDepth_=e.levelDepth;this.childrenCount_=this.originalChildrenCount_=e.childCount;this.uniqueNamePath_=e.uniqueNamePath;
this.hierarchy_=e.hierarchy;this.canDrillDown_=e.canDrillDown;this.absPath=[this.getMdxUName()];this.children_=null}f.prototype.getName=function(){return this.label_};f.prototype.getMdxUName=function(){return this.uniqueNamePath_[this.uniqueNamePath_.length-1]
};f.prototype.getUNamePath=function(){return this.uniqueNamePath_};f.prototype.getLevelDepth=function(){return this.levelDepth_};f.prototype.getChildrenCount=function(){return this.childrenCount_};f.prototype.isVisible=function(){if(this.rootOfAll_.hasNewRoot&&!this._isInNewRootPath_()){return false
}return !this.parent||!this.parent._isRootCollapsed_()};f.prototype.isCollapsed=function(){return this.collapsed&&this.canDrillDown_};f.prototype.isCollapsible=function(){return this.children_!=null&&this.children_.length>0};f.prototype.canDrillDown=function(){return this.children_===null&&this.canDrillDown_
};f.prototype.getStartIdx=function(){return this.startIdx_};f.prototype.getHierarchy=function(){return this.hierarchy_};f.prototype.getEndIdx_=function(){if(this.followingNode){return this.followingNode.startIdx_}else{if(this.children_){return this.children_[0].startIdx_
}else{return -1}}};f.prototype.getTotalChildrenCount=function(){if(this.children_&&this.children_.length>0){return _.reduce(this.children_,function(h,e){return h+e.getTotalChildrenCount()+1},0)}else{return 0}};f.prototype._isRootCollapsed_=function(){if(this.collapsed){return true
}if(this.parent){return this.parent._isRootCollapsed_()}else{return false}};f.prototype._isInNewRootPath_=function(){if(this===this.rootOfAll_.hasNewRoot){return true}return this.parent?this.parent._isInNewRootPath_():false};f.prototype.switchNewRoot_=function(){if(this.rootOfAll_.hasNewRoot===this){this.rootOfAll_.hasNewRoot=null
}else{this.rootOfAll_.hasNewRoot=this}};f.prototype.forEachDescendant_=function(i,e){var j=this.children_;if(j){$.each(j,function(h,g){if(!e||e==0){i(g)}g.forEachDescendant_(i,!e?e:e-1)})}};f.prototype.buildAbsPath=function(h){var e=[];while(h){e.unshift(h.getMdxUName());
h=h.parent}return e};f.prototype.addChild_=function(h,e){if(this.levelDepth_<h.levelDepth_){if(this.children_==null){this.children_=[]}this.children_.push(h);h.parent=this;h.absPath=this.buildAbsPath(h);this.childrenCount_=this.children_.length}else{if(this.parent){this.parent.addChild_(h,true)
}}if(!e&&this.children_==null){this.followingNode=h}};f.prototype.hasDirectChildren=function(){return parseInt(this.originalChildrenCount_,10)>0};f.prototype.resetChildrenCount_=function(){this.childrenCount_=this.originalChildrenCount_};f.prototype.firstChild=function(){if(this.children_){return this.children_[0]
}return undefined};return f}());a.PivotNode_=b})(c=d.pivot||(d.pivot={}))})(viz||(viz={}));var viz;(function(d){var c;(function(b){var a=(function(){function f(h,e){this.tagsConfig_={container:"table",headerContainer:"thead",headerColumn:"th",bodyContainer:"tbody",row:"tr",leftHeaderRow:"tr",column:"td"};
this.defaultIconClass={empty:"fa",drilldown:"fa fa-chevron-circle-right ui-icon-circle-arrow-e",collapsed:"fa fa-chevron-circle-right ic3-pt-visited ui-icon-circle-triangle-e",expand:"fa fa-chevron-circle-down ic3-pt-visited ui-icon-circle-triangle-s",loading:"fa fa-refresh",noChildren:"fa"};
this.$divId_=_.isString(h)?$("#"+h):h;this.options_=e;this.cellFormatter_=e.cellFormatter;this.measureIndex=0;this.beforeRowPrintLabel_=e.beforeRowPrintLabel||this.beforeRowPrintLabel_;this.beforeColPrintLabel_=e.beforeColPrintLabel||this.beforeColPrintLabel_
}f.prototype.refresh_=function(l,e,k){var j;k&&(j=this.getState());this.doRefresh_(l,e);j&&this.setState(j)};f.prototype.doRefresh_=function(h,e){this.$divId_.empty();if(_.get(d,"data.table.CellRenderHelper")){this.cellRenderer=new d.data.table.CellRenderHelper({cellRenderers:this.options_.dataRenderOptions.cellRenderer,context:this.options_.context,selection:_.get(this.options_,"state.selection",[])},new ic3.TableContext(this.options_.widgetContext(),h.getDataSource(),h.getBaseRequest()))
}else{this.cellRenderer=new d.pivot.GWTCellRenderHelper(ic3.TableContext.Orphan(h.getDataSource(),h.getBaseRequest()),h.getMeasuresArray()[this.measureIndex])}this.buildInHtmlTable_(h);this.afterRender_(h,e)};f.prototype.afterRender_=function(l,j){var e=this;
var k=this.options_.disableNavigation===true?"":"ic3-action";this.$divId_.find(".ic3-pt-col.th, .ic3-pt-col.lh").each(function(){var g=this;var i=parseInt($(this).attr("data-r"));var h=parseInt($(this).attr("data-c"));var n=$(this).attr("data-t");$(this).find(":first-child").bind("click.icc",function(m){return j.onDrillDown.call(j.scope,l,m,n,i,h,$(g).parent())
}).addClass(k);if(j.onHeaderClick){$(this).find(".ic3-pt-header-label").bind("click.icc",function(){return j.onHeaderClick.call(j.scope,l,n,i,h)}).addClass(k)}});if(j.onCellClick){this.$divId_.find(".ic3-pt-value").each(function(){var h=parseInt($(e).attr("data-r"));
var g=parseInt($(e).attr("data-c"));$(e).bind("click.icc",function(){return j.onCellClick.call(j.scope,l,h,g)})}).addClass(k)}if(this.options_.exportToExcelOnHeader){this.$divId_.find("thead tr th:first-child .ic3-pt-click").bind("click.icc",function(){return j.onExportToExcel.call(j.scope)
})}};f.prototype.renderPager=function(k){var e=this;if(!_.get(d,"data.table.CellRenderHelper")&&this.options_.state.mdxResultTable.getAxes().getAxisCount()>2&&k.getMeasuresArray().length>1){var j=function(g,h){return'<option value="'+h+'" '+(h==e.measureIndex?"selected":"")+">"+_.last(g.replace(/]/g,"").split("["))+"</span>"
};var l='<div class="ic3-pivot-pages"><select class="ic3-pivot-pager">';l+=_.map(k.getMeasuresArray(),j).join("");l+="</select>";return l}};f.prototype.buildInHtmlTable_=function(e){var h=this.buildTableHtml_(e);this.$divId_.html(this.renderPager(e));this.$divId_.append(h)
};f.prototype.buildTableHtml_=function(k){var e=this.tagsConfig_;var j=this.tableCss();var l=d.printElem(this.tagsConfig_.container,j);l+=this.buildTopHeaderHtml(k,e);e.bodyContainer&&(l+=this._tag(e.bodyContainer,'class="ic3-pt-body"'));l+=this.buildRowsHtml(k,e);
e.bodyContainer&&(l+=this._closeTag(e.bodyContainer));l+=this.buildTableExtrasHtml_()+this._closeTag(this.tagsConfig_.container);return l};f.prototype.tableCss=function(){var e=$.extend({},this.options_.tableCss);e.cssClass="ic3-pt "+(e.cssClass||"");return e
};f.prototype.buildTopHeaderHtml=function(q,o,e,m){var r=this._tag;var p=this._closeTag;var n=r(o.headerContainer,"class='ic3-pt-header'");n+=this.buildTopHeaderItemsHtml_(q,e,m);n+=p(o.headerContainer);return n};f.prototype.buildTopHeaderItemsHtml_=function(s,v,p){var e=s.getTopHeaderRowSize_();
var u=s.getColumnSize_();var q=ic3.isNumber(v)&&v>=0?v:0;var t=ic3.isNumber(p)&&p>=0?p:u;var r="";for(var o=0;o<e;o++){r+=this.buildTopHeaderRowHtml_(s,o,q,t)}return r};f.prototype.buildTopHeaderRowHtml_=function(y,r,v,z){var e=this.tagsConfig_;var w=this._tag(e.row,"class='ic3-pt-header-row'");
var x=y.getLeftHeaderColSize_();var s=y.getTopHeaderRowSize_();var B=y.getColumnSize_();if(e.container==="table"&&r===0&&x>0){var u=this.attributesForHeaderSpacer_(s,x);w+=this._tag(e.headerColumn,u);var t=this.options_;if(t.exportToExcelOnHeader){if(typeof t.exportToExcelOnHeader==="string"){w+=t.exportToExcelOnHeader
}else{w+='<span class="ic3-pt-topcell ic3-pt-click ui-icon ui-icon-document" title="export to excel"/>'}}w+=this._closeTag(e.headerColumn)}for(var A=v;A<z&&A<B;A++){w+=this.buildTopHeaderColumnHtml_(y,r,A,A===v)}w+=this._closeTag(e.row);return w};f.prototype.buildTopHeaderColumnHtml_=function(k,e,j,l){return this.thForTopHeader_(k,e,j,this.options_.spanHeaders,l)
};f.prototype.attributesForHeaderSpacer_=function(e,h){return"class='ic3-pt-col th'"+(e>1?" rowspan="+e:"")+(h>1?" colspan="+h:"")};f.prototype.buildRowsHtml=function(n,l){var k="";var m=n.getRowSize_();for(var e=0;e<m;e++){k+=this._tag(l.row,"class='ic3-pt-row "+(e%2==1?"ic3-pt-evenRow":"ic3-pt-oddRow")+"'");
k+=this.buildLeftHeaderItems(n,e,l,false);k+=this.buildRowColumnsHtml(n,n.pivotRows_[e],l);k+=this._closeTag(l.row)}return k};f.prototype.buildRowColumnsHtml=function(t,p,e,x,q){var w=t.getColumnSize_();var r=ic3.isNumber(x)&&x>=0?x:0;var u=ic3.isNumber(q)&&q>=0?q:w;
var s="";for(var v=r;v<u;v++){s+=this.buildRowColumnHtml_(t,p,v,e)}return s};f.prototype.buildRowColumnHtml_=function(t,e,q,r){if(q>t.getColumnSize_()){return this._tag(this.tagsConfig_.column,"class='ic3-pt-col ic3-pt-value'")+this._closeTag(this.tagsConfig_.column)
}var p="";try{var n=(q%2==1)?"ic3-pt-oddCol":"ic3-pt-evenCol";var o=this.cellRenderer.renderCell(e,q);p+=this.renderCell_(e,q,"d",o,[n],r.column)}catch(s){if(s instanceof b.CellError){p+=this.renderCellOnError_(e,q,s.cellError,r.column)}else{throw s}}return p
};f.prototype.buildLeftHeaderItems=function(o,e,m,p){var l="";for(var n=0;n<o.getLeftHeaderColSize_();n++){l+=this.thForLeftHeader_(o,e,n,this.options_.spanHeaders,p)}return l};f.prototype.buildTableExtrasHtml_=function(){return""};f.prototype._tag=function(h,e){return"<"+h+" "+(e?e:"")+">"
};f.prototype._closeTag=function(e){return"</"+e+">"};f.prototype.thForTopHeader_=function(B,e,D,t,u){var F=B.pivotColumns_[D];var A="";var v=B.getTopHeaderNode(e,F);var x=this.beforeColPrintLabel_(v.label_,v);var C=D%2==1?"ic3-pt-oddCol":"ic3-pt-evenCol";var z=B.formerTopHeaderIsSame_(e,F);
if(t){if(z&&!u){return""}var w=B.getSpanTopHeader_(e,F);if(w>1){A+=this.attributeForColSpan_(F,w)}}else{if(z){x="";C+=" ic3-pt-empty-header"}}var y;if(x!==""){var E=v.levelDepth_-B.getTopHeaderMinLevel_(e);y="margin-top : "+(0.7*E).toFixed(2)+"em;"}return this.renderHeaderCell_({rowIdx:e,colIdx:F,viewRowIdx:e,viewColIdx:D,type:b.HeaderType.TOP,label:x,classes:[C],more:A,headerNode:v,innerStyle:y,extraContent:this.topHeaderCellExtraContent_(e,F)})
};f.prototype.topHeaderCellExtraContent_=function(h,e){return""};f.prototype.attributeForColSpan_=function(e,h){return'colspan="'+h+'"'};f.prototype.thForLeftHeader_=function(B,F,D,e,t){var w=B.pivotRows_[F];var A="";var u=B.getLeftHeaderNode(w,D);var x=this.beforeRowPrintLabel_(u.label_,u);
var C=null;var z=B.formerLeftHeaderIsSame_(w,D);if(e){if(z&&!t){return""}var v=B.getSpanLeftHeader_(w,D);if(v>1){A+=this.attributeForRowSpan_(v)}}else{if(z){x="";C="ic3-pt-empty-header"}}var y="";if(x!==""){var E=u.levelDepth_-B.getLeftHeaderMinLevel_(D);y+="margin-left:"+(0.7*E).toFixed(2)+"em;"
}return this.renderHeaderCell_({rowIdx:w,colIdx:D,viewRowIdx:F,viewColIdx:D,type:b.HeaderType.LEFT,label:x,classes:[C],more:A,headerNode:u,innerStyle:y,extraContent:""})};f.prototype.lookupFirstLeftHeaderOccurence=function(o,e,n){for(var m=e;m>0;m--){var i=o.getLeftHeaderNode(m,n);
var p=o.getLeftHeaderNode(m-1,n);if(i.levelDepth_!==p.levelDepth_||i.label_!==p.label_){return m}}return 0};f.prototype.lookupFirstTopHeaderOccurence=function(o,l,n){for(var e=n;e>0;e--){var m=o.getTopHeaderNode(l,e);var p=o.getTopHeaderNode(l,e-1);if(m.levelDepth_!==p.levelDepth_||m.label_!==p.label_){return e
}}return 0};f.prototype.attributeForRowSpan_=function(e){return'rowspan="'+e+'"'};f.prototype.renderCell_=function(v,q,p,u,o,e,r){var t=this.renderCellInfo_(v,q,p);o=ic3.arrayJoinQuick(o," ");var s=(o?' class="ic3-pt-col ic3-pt-value '+o+'"':"");return this._tag(e,t+s+(r?r:""))+u+this._closeTag(e)
};f.prototype.renderCellInfo_=function(i,e,j){return" data-r='"+i+"' data-c='"+e+"' data-t='"+j+"' data-ic3-theme-component='cells'"};f.prototype.renderCellOnError_=function(l,e,m,n){var k=(m.ed||m.ec).replace(/'/g,"&apos;");return this.renderCell_(l,e,"e","error",["cell-error"],n,"title='"+k+"'")
};f.prototype.renderHeaderCell_=function(z){var w=z.type,x=z.more,B=z.colIdx,E=z.rowIdx,J=z.headerNode;var D=this.cellRenderer.getEvaluatedCellRenderer(z.viewColIdx,z.viewRowIdx,w),C=classNames("ic3-pt-col",w,z.classes),A=_.defaults(_.get(D,"text.staticStyling"),{display:"block"}),F="",v=null,G="";
if(_.get(this.options_,"dataRenderOptions.iconsBehaviour")!="Never"){F="<div data-ic3-theme-component='drilldown-icons' class='"+f.iconCls+" "+this.getClassForNode(z.label===""?null:J)+"'>"+(v?v:"")+"</div>";G=_.get(this.options_,"dataRenderOptions.iconsBehaviour")=="On hover"?"ic3-icons-on-hover":""
}var e=w=="th"?D.pivotTopHeaderLabel:D.pivotLeftHeaderLabel,y="<div class='ic3-pt-header-label'>"+(z.label?e:"")+"</div>",I="<div>"+z.extraContent+"</div>";var H="<div data-c='"+B+"' data-r='"+E+"' data-t='"+w+"' data-vr='"+z.viewRowIdx+"' data-vc='"+z.viewColIdx+"' ";
H+="data-ic3-theme-component='headers "+(w=="th"?"top-headers":"left-headers")+"' class='"+C+"' ";H+=" style='"+(window.React?d.reactCSSObjectToString(A):"display:block")+"'>";H+='<div class="pt-hcont '+G+'" style="'+z.innerStyle+'">';H+=F+" "+y;H+="</div>";
H+=I+"</div>";return H};f.prototype.getClassForNode=function(h){var e=ic3.objectIsEmpty(this.options_.iconClass)?this.defaultIconClass:this.options_.iconClass;if(!e){return""}if(!h){return e.empty}if(h.canDrillDown()){return e.drilldown}if(h.isCollapsed()){return e.collapsed
}if(h.getChildrenCount()>0){return e.expand}return e.noChildren||e.empty};f.prototype.getClassForLabel=function(e){return""};f.prototype.beforeColPrintLabel_=function(h,e){return ic3.escapeHTML(h)};f.prototype.beforeRowPrintLabel_=function(h,e){return ic3.escapeHTML(h)
};f.prototype.afterSetStyle=function(){};f.prototype.getState=function(){return{startRow:this.$divId_.scrollTop(),startCol:this.$divId_.scrollLeft()}};f.prototype.setState=function(e){this.$divId_.scrollTop(e.startRow);this.$divId_.scrollLeft(e.startCol)};f.prototype.asynchronousRendering=function(){return false
};f.iconCls="ic3-pt-icon";return f}());b.PivotTableView_=a})(c=d.pivot||(d.pivot={}))})(viz||(viz={}));(this&&this.__extends)||function(d,b){for(var g in b){if(b.hasOwnProperty(g)){d[g]=b[g]}}function h(){this.constructor=d}d.prototype=b===null?Object.create(b):(h.prototype=b.prototype,new h())
};var viz;(function(d){var c;(function(m){var k="ic3-pt-vertical-toolbar";var a="ic3-pt-horizontal-toolbar";var n=[".ic3-pt-header-scroller",".ic3-pt-rows-scroller"];var l=/\.ic3-pt-col\[data-c=["'](\d+)["']\]+|\[data-c=["'](\d+)["']\]\.ic3-pt-col+/;var b=/div.ic3-pt-left-header-col-ct:nth-child\((\d+)\)|div:nth-child\((\d+)\)\.ic3-pt-left-header-col-ct/;
var j=(function(f){__extends(e,f);function e(h,p){var i=this;f.call(this,h,p);this.columnWidth=100;this.verticalPageSize=0;this.extraRowsCount=50;this.scrollRenderLimit=10;this.horizontalPageSize=0;this.extraColumnsCount=10;this.iconExtraCls="";this.headerLabelExtraCls="";
this.cellExtraCls="";this.uniqueCls=ic3.uniqueId("ic3-pt");this.rowHeight=18;this.tagsConfig_={container:"div",headerContainer:"div",headerColumn:"div",bodyContainer:"div",row:"div",column:"div"};this.scrollable=this.options_.scrollbarVisibility!=="hidden";
this.needsToolbars=!ic3.isTouchDevice()&&this.scrollable;if(ic3.isNumber(this.options_.columnWidth)){this.columnWidth=this.options_.columnWidth}var g=_.get(p,"dataRenderOptions.columnWidths","auto");this.columnWidths=g.toLowerCase()!=="auto"?ic3.stringToArray(g):[];
this.columnWidths=_.map(this.columnWidths,function(o){return o||i.columnWidth});this.$divId_.css({position:"relative"})}e.prototype.refresh_=function(h,i,g){this.virtualPivot_=h;this.eventHandlers_=i;this.leftHeaderRowIndexes=[];if(g){this.internalState=this.getState()
}this.doRefresh_(h,i)};e.prototype.buildInHtmlTable_=function(h){this.rowHeight=this.cellRenderer.getMaxHeight();f.prototype.buildInHtmlTable_.call(this,h);if(this.needsToolbars){var g=this;this.verticalToolbar=g.renderToolbar_(k,"vertical",function(p,i){g.getScrollEl().scrollTop(g.calcScrolledRowIdx_(i,p)*g.rowHeight)
});this.horizontalToolbar=g.renderToolbar_(a,"horizontal",function(p,i){g.getScrollEl().scrollLeft(g.roundHorizontalScroll(i,p))})}};e.prototype.roundHorizontalScroll=function(s,h){var t;if(h===0){t=0}else{var i=0;var g=0;var r=this.getColumnWidth_(g);while(i+r<h){i+=r;
r=this.getColumnWidth_(++g)}t=i;if(s>0){t+=this.getColumnWidth_(g)}}return t};e.prototype.getScrollEl=function(){return this.$divId_.find(".ic3-pt-rows")};e.prototype.buildTableExtrasHtml_=function(){var g=this.options_.scrollbarVisibility==="onHover"?" ic3-pt-toolbar-hover-only":"";
return this.needsToolbars?this.buildPagingToolbarContainerHtml_(k+g)+this.buildPagingToolbarContainerHtml_(a+g):""};e.prototype.tableCss=function(){var g=f.prototype.tableCss.call(this);g.cssClass+=" "+this.uniqueCls+(ic3.isTouchDevice()?" ic3-pt-touch":"");
return g};e.prototype.afterRender_=function(h,s){var i=this;var u=this.$divId_.find(".ic3-pt");var g=this;var v=!g.options_.disableNavigation;this.$divId_.find(".ic3-pivot-pages .ic3-pivot-pager").bind("change",function(o){i.measureIndex=parseInt(o.target.value);
i.eventHandlers_.scope.refresh(true)});u.click(function(F){var C=$(F.target);var D=C.closest(".ic3-pt-col.th, .ic3-pt-col.lh");if(D.length>0){var H=parseInt(D.attr("data-r"));var r=parseInt(D.attr("data-c"));var q=D.attr("data-t");if(v&&C.hasClass("ic3-action")){var E=D.find(":first-child");
var o=false;if(C.closest(".ic3-pt-icon-reload").length>0){o=true}s.onDrillDown.call(s.scope,h,F,q,H,r,E,o)}if(s.onHeaderClick){if(C.closest(".ic3-pt-header-label").length>0){s.onHeaderClick.call(s.scope,h,q,H,r);return}}}if(s.onCellClick){var p=C.closest(".ic3-pt-value");
if(p.length>0){var H=parseInt(p.attr("data-r"));var r=parseInt(p.attr("data-c"));s.onCellClick(h,H,r);return}}if(g.options_.exportToExcelOnHeader&&s.onExportToExcel){var G=C.closest(".ic3-pt-topcell.ic3-pt-click");if(G.length>0){s.onExportToExcel.call(s.scope)
}}});var t=" ic3-action";if(v){this.iconExtraCls=t}if(s.onHeaderClick){this.headerLabelExtraCls=t}if(s.onCellClick){this.cellExtraCls=t}};e.prototype.buildTopHeaderHtml=function(i,z,x,B){var g=f.prototype.buildTopHeaderHtml.call(this,i,z,0,1);var w=this.createLeftHeaderColTags_();
for(var v=0;v<i.getLeftHeaderColSize_();v++){var h=this.options_.exportToExcelOnHeader;var y="";if(h&&v===0){if(typeof h==="string"){y=h}else{y='<span class="ic3-pt-topcell ic3-pt-click ui-icon ui-icon-document" title="export to excel"/>'}}w[v]+='<div class="ic3-pt-col th" data-ic3-theme-component="headers top-headers left-headers" ic3-header-idx="'+v+'"><div style="height: 101%; width: 100%">'+this.topHeaderCellExtraContent_(this.virtualPivot_.getTopHeaderRowSize_()-1,v)+(y||"")+"</div></div>"
}this.closeLeftHeaderColTags(w);var A='<div class="ic3-pt-header-spacer">'+w.join("")+"</div>";return A+g};e.prototype.buildTopHeaderItemsHtml_=function(h,i,p){var g=f.prototype.buildTopHeaderItemsHtml_.call(this,h,i,p);return'<div class="ic3-pt-header-scroller">'+g+"</div>"
};e.prototype.buildTopHeaderRowHtml_=function(g,i,u,h){var v=this.tagsConfig_;var t=this._tag(v.row,"class='ic3-pt-header-row'");t+=this._tag(v.headerColumn,'class="ic3-pt-spacer-col ic3-pt-col th"')+this._closeTag(v.headerColumn);var w=g.getColumnSize_();for(var x=u;
x<h&&x<w;x++){t+=this.buildTopHeaderColumnHtml_(g,i,x,x===u)}t+=this._closeTag(v.row);return t};e.prototype.topHeaderCellExtraContent_=function(g,i){var h="";if(!this.options_.spanHeaders||g===this.virtualPivot_.getTopHeaderRowSize_()-1){h='<span class="ic3-pt-col-resizer">&nbsp;</span>'
}return h};e.prototype.buildRowsHtml=function(h,r){var g=this._tag("div","class='ic3-pt-left-header'");var q='<div class="ic3-pt-rows"><div class="ic3-pt-rows-scroller">';if(h.getRowSize_()>0){var i=this.buildRowHtmlParts_(h,0,0,1,r,true,false);g+=this.leftHeaderColTag_()+i.leftHeaderCols.join(this.leftHeaderColCloseTag()+this.leftHeaderColTag_())+this.leftHeaderColCloseTag();
q+=i.bodyRow}q+=this._closeTag("div");g+=this._closeTag("div");return'<div class="ic3-pt-body-scroller">'+g+q+"</div></div>"};e.prototype.buildRowHtmlParts_=function(v,z,u,w,y,h,g){var i=this.buildLeftHeaderColumns_(v,z,h);var x=this.buildBodyRow_(v,z,u,w,y,g);
return{leftHeaderCols:i,bodyRow:x}};e.prototype.buildBodyRow_=function(g,i,u,h,v,x){var w="";if(x){w=this._tag(v.column,"class='ic3-pt-spacer-col ic3-pt-col ic3-pt-value' style='height:1px;'")+this._closeTag(v.column)}var t=g.getLeftHeaderNode(i,0)?g.getLeftHeaderNode(i,0).getLevelDepth():0;
return this.rowTag_(i,t)+w+this.buildRowColumnsHtml(g,i,v,u,h)+this.rowColasTag_()};e.prototype.attributeForColSpan_=function(i,g){var h=this.calcColSpanWidth_(i,g);return'style="width:'+h+"px;max-width:"+h+"px;min-width:"+h+'px;"'};e.prototype.calcColSpanWidth_=function(i,p){var g=0;
for(var h=i;h<i+p;h++){g+=this.getColumnWidth_(h)}return g};e.prototype.attributeForRowSpan_=function(g){return'style="height:'+(g*this.rowHeight)+'px;"'};e.prototype.rowTag_=function(s,g,t,h){var i=(ic3.isNumber(h)?h:s)%2==1;var r="class='ic3-pt-row "+(i?"ic3-pt-evenRow":"ic3-pt-oddRow")+" ic3-pt-row-ld-"+g+"' ic3-row-idx='"+s+"' style='top:"+(s*this.rowHeight)+"px;'";
return this._tag(this.tagsConfig_.row,r)};e.prototype.rowColasTag_=function(){return this._closeTag(this.tagsConfig_.row)};e.prototype.buildLeftHeaderColumns_=function(g,i,h){var q=[];for(var r=0;r<g.getLeftHeaderColSize_();r++){q.push(this.buildLeftHeaderColumn_(g,i,r,h))
}return q};e.prototype.buildTopHeaderColumnHtml_=function(g,i,p,h){if(this.options_.spanHeaders&&h&&g.formerTopHeaderIsSame_(i,p)){p=this.lookupFirstTopHeaderOccurence(g,i,p)}return f.prototype.buildTopHeaderColumnHtml_.call(this,g,i,p,h)};e.prototype.buildLeftHeaderColumn_=function(i,A,w,B){var g="";
if(this.options_.spanHeaders&&B&&i.formerLeftHeaderIsSame_(A,w)){A=this.lookupFirstLeftHeaderOccurence(i,A,w)}var y=this.thForLeftHeader_(i,A,w,this.options_.spanHeaders,false);if(y){var x=i.getLeftHeaderNode(A,0).getLevelDepth();var z=this.options_.spanHeaders?this.calcLeftHeaderRowIdx_(A,w):A;
var v=this.rowTag_(A,x,true,z);var h=this.rowColasTag_();g=v+y+h}return g};e.prototype.calcLeftHeaderRowIdx_=function(i,h){if(!this.leftHeaderRowIndexes[h]){this.leftHeaderRowIndexes[h]=[]}if(!ic3.isNumber(this.leftHeaderRowIndexes[h][i])){var q=-1;var r=i;
while(r>=0){var g=this.virtualPivot_.getSpanLeftHeader_(r,h);q++;r-=g}this.leftHeaderRowIndexes[h][i]=q}return this.leftHeaderRowIndexes[h][i]};e.prototype.attributesForHeaderSpacer_=function(i,g){var h=this.columnWidth*g;return"class='ic3-pt-col ic3-pt-oddCol th' style='width:"+h+"px'"
};e.prototype.renderCell_=function(w,h,g,v,y,x,i){var r=i||"";var z=(y||[]);z.push(this.cellExtraCls);return f.prototype.renderCell_.call(this,w,h,g,v,z,x,r)};e.prototype.getClassForNode=function(g){var h=f.prototype.getClassForNode.call(this,g);return(h||"")+this.iconExtraCls
};e.prototype.getClassForLabel=function(g){var h=f.prototype.getClassForLabel.call(this,g);return h+this.headerLabelExtraCls};e.prototype.afterSetStyle=function(g){this.alignTableParts_();this.fillTable_();var i=this.$divId_.find(".ic3-pt-header-row")[0],h=this.$divId_.find(".ic3-pt-header-spacer .ic3-pt-left-header-col-ct .ic3-pt-col.th").children().first();
if(h[0]&&i){h[0].style.height=i.getBoundingClientRect().height+"px"}this.addScrollHandlers_()};e.prototype.alignTableParts_=function(){var W=this.$divId_.find(".ic3-pt");var ar=W.children(".ic3-pt-header");var ah=W.find(".ic3-pt-rows");var ak=ah.children(".ic3-pt-rows-scroller");
var av=this.rowHeight=this.calcRowHeight(ak.children(":first-child"));var aw=this.virtualPivot_.getRowSize_();var V=(aw+1)*av;var au=ic3.calcExtraWidth(this.$divId_,"left");var ab=ic3.calcExtraWidth(this.$divId_,"right");var ad=au+ab;var Y=this.$divId_.width()-ic3.calcExtraWidth(W)-ad;
var aa=ar.height();this.createCssRules_(av,V,Y,aa);var g=this.scrollerWidth;var h=W.find(".ic3-pt-left-header");var Z=ic3.calcExtraHeight(this.$divId_,"top");var al=ic3.calcExtraHeight(this.$divId_,"bottom");var af=Z+al;var aq=this.$divId_.height()-ic3.calcExtraHeight(W)-af;
var ag=aq-aa;var i=h.outerWidth();ar.css("left",i);var T=Y-i;if(this.needsToolbars){var ac=this.options_.scrollbarVisibility==="onHover";var U=this.$divId_.find("."+k);var ap=U.width();var aj=ac?0:ap;var ai=this.$divId_.find("."+a);var ax=ai.height();var an=ac?0:ax;
T-=aj;ag-=an;var ay=g-T>aj;if(!ay){ai.css("display","none");ag+=an}else{ai.css("display","block");g+=this.columnWidth;this.updateScrollerWidth_(this.columnWidth)}var ae=V-ag>an;if(!ae){U.css("display","none");T+=aj}else{U.css("display","block")}var X=ag-(ay&&ac?ax:0);
var at=T-(ae&&ac?ap:0);this.verticalToolbar.configure({height:X,top:aa+Z+ic3.calcExtraHeight(ar),right:ad+ab},V,ag);this.horizontalToolbar.configure({width:at,left:i+au,bottom:af+al},g,T)}var am=W.find(".ic3-pt-body");am.css({height:ag,width:Y});this.$divId_.find(".ic3-pt-body-scroller").height(ag);
ah.height(ag);h.height(ag);ak.height(V);ah.css({left:i,width:T});ar.width(T);this.verticalPageSize=Math.floor(ag/av);var ao=Math.floor(g/this.virtualPivot_.getColumnSize_());this.horizontalPageSize=Math.floor(T/ao)};e.prototype.calcRowHeight=function(q){var r=18;
if(this.cellRenderer){r=this.cellRenderer.getMaxHeight()}var h=q.children(":first-child");var i;if(h){i=h.text();h.text("dummy")}var g=q.height();if(i){h.text(i)}if(g<r){return r}return g};e.prototype.createCssRules_=function(w,u,h,i){var g=this.$style;this.$style=$("<style type='text/css' rel='stylesheet' />");
this.$divId_.prepend(this.$style);var t=this.$style[0];if(t.styleSheet){t.styleSheet.cssText=""}else{t.appendChild(document.createTextNode(""))}var x=t.sheet;this.styleSheet=x;var v=0;v=this.fitLeftHeaderColumns_(x,v,h-this.getColumnWidth_(0),i);v=this.setColumnStyles_(x,v);
this.addCSSRule(x,"div.ic3-pt-header-spacer .ic3-pt-left-header-col-ct","height:"+i+"px;",v++);this.addCSSRule(x,[".ic3-pt-left-header .ic3-pt-col",".ic3-pt-value"],"height:"+w+"px;",v++);this.addCSSRule(x,".ic3-pt-left-header .ic3-pt-left-header-col-ct","height:"+u+"px;",v++);
this.addCSSRule(x,"div.ic3-pt-col.ic3-pt-spacer-col","width: 0px;display:none!important;",v++);if(g){g.remove();this.clearCssRuleRefs_()}};e.prototype.fitLeftHeaderColumns_=function(ac,w,S,V){var L;var aa=[];var T=0;var O=0;var af=0;var h,ab,M;for(var U=0;U<this.virtualPivot_.getLeftHeaderColSize_();
U++){var Z=this.getLeftHeaderColWidth(U);var X;if(!ic3.isNumber(Z)){X=false;if(!h){h=this.calcLeftHeaderMaxLabelsAndDepths_();ab=h.biggestValues;M=h.maxDepths}var P=this.$divId_.find("div.ic3-pt-left-header div.ic3-pt-left-header-col-ct:nth-child("+(U+1)+") div.ic3-pt-row:first-child div.ic3-pt-col.lh:first-child");
var N=P.find(".ic3-pt-header-label");var R=N.html();N.html(ab[U]+"W");L=N.width();N.html(R);var Q=ic3.calcExtraWidth(N);var ae=parseInt(N.css("font-size"),10);Z=Math.ceil(L+Q)+Math.ceil((M[U])*0.7*ae);O++;af+=Z}else{X=true;T+=Z}aa.push({w:Z,fixed:X})}var Y=0;
var ad;if(T+af>S){ad=Math.floor((S-T)/O)}for(var W=0;W<aa.length;W++){var i=aa[W];var g=i.w;if(!i.fixed&&ad){g=ad}this.addCSSRule(ac,"div.ic3-pt-left-header-col-ct:nth-child("+(W+1)+")","width:"+g+"px;left:"+Y+"px;",w++);Y+=g}this.addCSSRule(ac,["div.ic3-pt-left-header","div.ic3-pt-header-spacer"],"width:"+Y+"px;",w++);
return w};e.prototype.addCSSRule=function(q,h,i,r){if(_.isNull(q)){return}var g=this.uniqueCssSelector_(h);if(q.insertRule){q.insertRule(g+"{"+i+"}",r)}else{q.addRule(g,i,r)}};e.prototype.uniqueCssSelector_=function(h){var g;if($.isArray(h)){var i="";for(var p=0;
p<h.length;p++){i+="."+this.uniqueCls+" "+h[p]+","}g=i.substr(0,i.length-1)}else{g="."+this.uniqueCls+" "+h}return g};e.prototype.calcLeftHeaderMaxLabelsAndDepths_=function(){var u=[];var w=[];for(var t=0;t<this.virtualPivot_.getRowSize_();t++){for(var x=0;
x<this.virtualPivot_.getLeftHeaderColSize_();x++){var g=this.virtualPivot_.getLeftHeaderNode(t,x);var h=g.getName();var v=u[x];if(!v||v.length<h.length){u[x]=h}var i=w[x];if(!i||i<g.getLevelDepth()){w[x]=g.getLevelDepth()}}}return{biggestValues:u,maxDepths:w}
};e.prototype.setColumnStyles_=function(g,i){var t=0;for(var h=0;h<this.virtualPivot_.getColumnSize_();h++){var s=["div.ic3-pt-header .ic3-pt-header-row .ic3-pt-col[data-c='"+this.virtualPivot_.pivotColumns_[h]+"']","div.ic3-pt-body div.ic3-pt-rows div.ic3-pt-row .ic3-pt-col[data-c='"+h+"']"];
var r=this.getColumnWidth_(h);this.addCSSRule(g,s,"width:"+r+"px;max-width:"+r+"px;min-width:"+r+"px;",i++);t+=r}this.addCSSRule(g,n,"width:"+t+"px;",i++);this.scrollerWidth=t;return i};e.prototype.getLeftHeaderColWidth=function(g){return this.columnWidths[g]
};e.prototype.getColumnWidth_=function(g){var h=this.columnWidths[g+this.virtualPivot_.getLeftHeaderColSize_()]||_.last(this.columnWidths);return ic3.isNumber(h)?h:this.columnWidth};e.prototype.addScrollHandlers_=function(){var i=this.$divId_.find(".ic3-pt-body");
var g=this;if(this.scrollable){i.mousewheel(function(p){var D=Math.abs(p.deltaY)>Math.abs(p.deltaX);if(D){var G=(p.deltaY>0?-1:p.deltaY<0?1:0)*g.rowHeight;var H=g.scrollTop();var o=H+G;g.scrollTop(o)}else{var C=(p.deltaX<0?-1:p.deltaX>0?1:0)*(ic3.isMacOsX()?20:g.columnWidth);
var A=g.scrollLeft();var B=A+C;g.scrollLeft(B)}var E=g.scrollTopMax();var F=g.scrollLeftMax();if((p.deltaY<0&&o<=E||p.deltaY>0&&o>0)||(p.deltaX>0&&B<=F||p.deltaX<0&&B>0)){p.preventDefault()}});var q=this.getScrollEl();var h=q.get(0);var r=h.scrollTop;q.bind("scroll",function(){var p=h.scrollTop;
var o=h.scrollLeft;var t=p!==r;r=p;if(t){g.onVerticalScroll_(p)}else{g.onHorizontalScroll_(o)}})}};e.prototype.onVerticalScroll_=function(i){var g=this;var h=g.getScrollEl().get(0);if(g.verticalScrollTask_){clearTimeout(g.verticalScrollTask_)}var p=g.$divId_.find(".ic3-pt-left-header");
p.scrollTop(i);g.verticalScrollTask_=this.startScrollHandlerTask_(function(){g.refreshPageOnVerticalScroll_(h.scrollTop)})};e.prototype.onHorizontalScroll_=function(i){var g=this;var h=g.getScrollEl().get(0);if(g.horizontalScrollTask_){clearTimeout(g.horizontalScrollTask_)
}var p=g.$divId_.find(".ic3-pt-header");p.scrollLeft(i);g.horizontalScrollTask_=this.startScrollHandlerTask_(function(){g.refreshPageOnHorizontalScroll_(h.scrollLeft)})};e.prototype.startScrollHandlerTask_=function(h){var g=null;if(!this.immediateScroll_){g=setTimeout(h,50)
}else{h()}return g};e.prototype.addResizeHandlers_=function(){var g=this;this.$divId_.find(".ic3-pt-col-resizer").each(function(h,i){var p=$(i);if(p.data("uiDraggable")){return true}g.initResizer_(p);return true})};e.prototype.initResizer_=function(i){var g=this;
var h;i.draggable({axis:"x",helper:function(){var r=g.$divId_.find(".ic3-pt-body");var q=r.height();return $('<div class="ic3-pt-resize-helper" style="height:'+q+'px;"></div>').appendTo(r)},cursor:"col-resize",cursorAt:{top:0,left:0},start:function(p){h=p.screenX
},stop:function(F){var E=$(F.target);var B=F.screenX;var D=B-h;var A=E.closest(".ic3-pt-col");var H=parseInt(A.attr("data-c"),10);if(ic3.isNumber(H)){var C=g.updateColumnWidth_(H,D);H+=g.virtualPivot_.getLeftHeaderColSize_()}else{var z=E.closest(".ic3-pt-left-header-col-ct");
if(z.length>0){H=z.index();C=g.updateLeftHeaderColumnWidth_(H,D)}}var y=C.newWidth;g.columnWidths[H]=y;var G=g.horizontalPageSize;g.alignTableParts_();if(G!=g.horizontalPageSize){g.fillTable_()}if(ic3.isFunction(g.eventHandlers_.onColumnResize)){(function(){return g.eventHandlers_.onColumnResize.call(this,H,y)
}).call(g.eventHandlers_.scope)}}})};e.prototype.updateColumnWidth_=function(J,H){var B=this.$divId_.children(".ic3-pt").children(".ic3-pt-header").children(".ic3-pt-header-scroller");var E=B.children();var g=$(E[E.length-1]).find('.ic3-pt-col[data-c="'+J+'"]');
var C=g.outerWidth();var D=this.getColumnCssRule_(J);var A=parseInt(D.style.width,10);var I=H<0&&-H>A?-A:H;var K=Math.max(A+I,10);D.style.width=K+"px";var L=K-A;var G=this.virtualPivot_.getTopHeaderRowSize_();if(this.options_.spanHeaders&&G>1){var i=J;for(var F=G-2;
F>=0;F--){i=this.virtualPivot_.getFormerTopHeaderColIdx_(F,i);var h=$(E[F]).find('.ic3-pt-col[data-c="'+i+'"]');h.width(parseInt(h.get(0).style.width,10)+L)}}return{newWidth:K,diff:L}};e.prototype.updateLeftHeaderColumnWidth_=function(D,A){var w=this.$divId_.children(".ic3-pt").children(".ic3-pt-body").children(".ic3-pt-body-scroller").children(".ic3-pt-left-header");
var B=w.children();var i=$(B[D]);var y=i.outerWidth();var z=this.getLeftHeaderColumnCssRule_(D);var x=parseInt(z.style.width,10);var C=A<0&&-A>x?-x:A;var g=Math.max(x+C,10);z.style.width=g+"px";var h=i.outerWidth()-y;return{newWidth:g,diff:h}};e.prototype.getColumnCssRule_=function(g){if(!this.columnCssRules||this.columnCssRules.length===0){this.updateCssRuleRefs_()
}return this.columnCssRules[g]};e.prototype.getLeftHeaderColumnCssRule_=function(g){if(!this.leftHeaderColCssRules||this.leftHeaderColCssRules.length===0){this.updateCssRuleRefs_()}return this.leftHeaderColCssRules[g]};e.prototype.updateCssRuleRefs_=function(){this.columnCssRules=[];
this.leftHeaderColCssRules=[];if(_.isNull(this.styleSheet)){return}var g=(this.styleSheet.cssRules||this.styleSheet.rules);var i,r;for(var s=0;s<g.length;s++){var t=g[s];var h=t.selectorText;if(i=l.exec(h)){r=parseInt(i[1]||i[2],10);this.columnCssRules[r]=t
}else{if(h.indexOf(n[0])>=0){this.scrollerCssRule=t}else{if(i=b.exec(h)){r=parseInt(i[1]||i[2],10)-1;this.leftHeaderColCssRules[r]=t}else{if(h.indexOf("ic3-pt-spacer-col")>=0){this.spacerColCssRule=t}else{if(h.indexOf("div.ic3-pt-header-spacer .ic3-pt-left-header-col-ct")>=0){this.headarSpacerColCssRule=t
}}}}}}};e.prototype.clearCssRuleRefs_=function(){delete this.columnCssRules;delete this.leftHeaderColCssRules;delete this.headarSpacerColCssRule;delete this.scrollerCssRule;delete this.spacerColCssRule};e.prototype.updateScrollerWidth_=function(i){if(!this.scrollerCssRule){this.updateCssRuleRefs_()
}if(this.scrollerCssRule){var h=parseInt(this.scrollerCssRule.style.width,10);var g=(h+i);this.scrollerCssRule.style.width=g+"px"}};e.prototype.fillTable_=function(){if(this.internalState){this.setScrollState_(this.internalState.startRow*this.rowHeight,this.calcHorizontalScroll_(this.internalState.startCol));
delete this.internalState}var I=this.calcScrolledRowIdx_(-1,this.scrollTop());var G=this.calcScrolledColumnIdx_(this.scrollLeft());var F=Math.max(0,I-this.extraRowsCount/2);var C=Math.max(0,G-this.extraColumnsCount/2);var L=Math.min(I+this.verticalPageSize+this.extraRowsCount,this.virtualPivot_.getRowSize_());
var J=Math.min(G+this.horizontalPageSize+this.extraColumnsCount,this.virtualPivot_.getColumnSize_());var K=this.$divId_.find(".ic3-pt-header");var h=this.virtualPivot_;var g=this.buildTopHeaderItemsHtml_(h,C,J);K.html(g);this.updateTopHeaderSpacerColWidth();
this.updateSpacerColWidth(C);var A=this.createLeftHeaderColTags_();var D=[];for(var E=F;E<L;E++){var i=this.buildRowHtmlParts_(h,E,C,J,this.tagsConfig_,E==F,true);D.push(i.bodyRow);var H=i.leftHeaderCols;for(var B=0;B<H.length;B++){if(H[B]){A[B]+=H[B]}}}this.closeLeftHeaderColTags(A);
this.$divId_.find(".ic3-pt-left-header").html(A.join(""));this.$divId_.find(".ic3-pt-rows-scroller").html(D.join(""));this.updateHeaderSpacerHeight(K.height());this.addResizeHandlers_();this.postRender()};e.prototype.calcHorizontalScroll_=function(g){var h=this.calcColumnLeft_(g);
if(g>0){h+=5}return h};e.prototype.calcColumnLeft_=function(g){var h=0;for(var i=0;i<g;i++){h+=this.getColumnWidth_(i)}return h};e.prototype.scrollTop=function(h){var g=h;if(this.needsToolbars){g=this.verticalToolbar?this.verticalToolbar.scroll(h):0}else{var i=this.getScrollEl();
if(ic3.isNumber(h)){i.scrollTop(h)}else{g=i.scrollTop()}}return g};e.prototype.scrollTopMax=function(){var h;if(this.needsToolbars){h=this.verticalToolbar?this.verticalToolbar.scrollMax():0}else{var g=this.getScrollEl();h=g[0].scrollHeight}return h};e.prototype.scrollLeft=function(h){var g=h;
if(this.needsToolbars){g=this.horizontalToolbar?this.horizontalToolbar.scroll(h):0}else{var i=this.getScrollEl();if(ic3.isNumber(h)){i.scrollLeft(h)}else{g=i.scrollLeft()}}return g};e.prototype.scrollLeftMax=function(){var h;if(this.needsToolbars){h=this.horizontalToolbar?this.horizontalToolbar.scrollMax():0
}else{var g=this.getScrollEl();h=g[0].scrollWidth}return h};e.prototype.setScrollState_=function(h,g){this.immediateScroll_=true;this.scrollTop(h);this.getScrollEl().scrollTop(h);this.$divId_.find(".ic3-pt-left-header").scrollTop(h);this.scrollLeft(g);this.getScrollEl().scrollLeft(g-5);
this.$divId_.find(".ic3-pt-header").scrollLeft(g-5);this.immediateScroll_=false};e.prototype.createLeftHeaderColTags_=function(){var g=[];for(var h=0;h<this.virtualPivot_.getLeftHeaderColSize_();h++){g.push(this.leftHeaderColTag_())}return g};e.prototype.closeLeftHeaderColTags=function(h){for(var g=0;
g<h.length;g++){h[g]+=this.leftHeaderColCloseTag()}};e.prototype.leftHeaderColTag_=function(){return'<div class="ic3-pt-left-header-col-ct">'};e.prototype.leftHeaderColCloseTag=function(){return"</div>"};e.prototype.postRender=function(){var g=this;this.postRenderTask&&clearTimeout(this.postRenderTask);
this.postRenderTask=setTimeout(function(){return g.eventHandlers_.onRendered&&g.eventHandlers_.onRendered()},100)};e.prototype.buildPagingToolbarContainerHtml_=function(g){return'<div class="'+g+'"></div>'};e.prototype.renderToolbar_=function(h,p,g){var i=this.$divId_.find("."+h);
return new m.ScrollerToolbar_(i,p,g,this.options_.useNavButtons)};e.prototype.refreshPageOnVerticalScroll_=function(H){var L=this.calcScrolledRowIdx_(0,H);var i=this.$divId_.find("."+this.uniqueCls).children(".ic3-pt-body").children(".ic3-pt-body-scroller");
var K=i.children(".ic3-pt-rows").children(".ic3-pt-rows-scroller");var F=K.children();var E=$(F[0]);var J=parseInt(E.attr("ic3-row-idx"));var I=parseInt($(F[F.length-1]).attr("ic3-row-idx"));var g=this.virtualPivot_.getRowSize_()-1;if(I<g&&L+this.verticalPageSize>I-this.scrollRenderLimit||(J>0&&J+this.scrollRenderLimit>L)){var C=E.children();
var D=parseInt($(C[1]).attr("data-c"));var h=parseInt($(C[C.length-1]).attr("data-c"))+1;var A=i.children(".ic3-pt-left-header").children();this.refreshLeftColumnsOnVerticalScroll_(L,J,I,A);this.refreshRowsOnVerticalScroll_(L,J,I,K,D,h);this.postRender();var B=L-this.extraRowsCount;
var G=L+this.verticalPageSize+this.extraRowsCount;this.cleanupLeftColumnRows_(B,G,A);this.cleanupRows_(B,G,K)}};e.prototype.refreshRowsOnVerticalScroll_=function(G,E,D,F,A,h){var i;var B=[];var z;var y=0,g=0;if(G<E){z=false;y=Math.max(0,G-this.extraRowsCount);
g=Math.min(E,G+2*this.extraRowsCount+this.verticalPageSize)}else{if(G+this.verticalPageSize+this.extraRowsCount>D){z=true;y=Math.max(D+1,G-this.extraRowsCount);g=Math.min(G+this.verticalPageSize+this.extraRowsCount,this.virtualPivot_.getRowSize_())}}for(var C=y;
C<g;C++){i=this.buildBodyRow_(this.virtualPivot_,C,A,h,this.tagsConfig_,true);B.push(i)}var H=z?"append":"prepend";F[H](B.join(""));return z};e.prototype.refreshLeftColumnsOnVerticalScroll_=function(L,K,J,P){var i=[];for(var F=0;F<P.length;F++){var C=$(P[F]);
var M=C.children();var G;var E=0,O=0;if(L<=K){G=false;E=Math.max(0,L-this.extraRowsCount);var I=parseInt($(M[0]).attr("ic3-row-idx"));O=O=Math.min(I,L+2*this.extraRowsCount+this.verticalPageSize)}else{if(L+this.verticalPageSize+this.extraRowsCount>J){G=true;
var g=parseInt($(M[M.length-1]).attr("ic3-row-idx"));E=Math.max(g+1,L-this.extraRowsCount);O=Math.min(L+this.verticalPageSize+this.extraRowsCount,this.virtualPivot_.getRowSize_())}}var H=i[F]=[];for(var D=E;D<O;D++){var h=this.buildLeftHeaderColumn_(this.virtualPivot_,D,F,!G&&D==E);
H.push(h)}}var N=G?"append":"prepend";for(var F=0;F<i.length;F++){if(i[F]){$(P[F])[N](i[F].join(""))}}return G};e.prototype.cleanupRows_=function(i,s,t){var u=t.children();var h=true;while(h){var g=$(u[0]);var v=parseInt(g.attr("ic3-row-idx"),10);if(v<i){g[0].parentNode.removeChild(g[0])
}else{h=false}u=t.children()}h=true;while(h){var g=$(u[u.length-1]);var v=parseInt(g.attr("ic3-row-idx"),10);if(v>s){g[0].parentNode.removeChild(g[0])}else{h=false}u=t.children()}};e.prototype.cleanupLeftColumnRows_=function(i,A,h){for(var x=0;x<h.length;x++){var w=h[x];
var z=$(w).children();var g=true;while(g){var v=z[0];var y=parseInt($(v).attr("ic3-row-idx"),10);if(y<i){v.parentNode.removeChild(v)}else{g=false}z=$(w).children()}g=true;while(g){var B=z.length;var v=z[B-1];var y=parseInt($(v).attr("ic3-row-idx"),10);if(y>A){v.parentNode.removeChild(v)
}else{g=false}z=$(w).children()}}};e.prototype.calcScrolledRowIdx_=function(g,h){return Math[g>0?"floor":"ceil"](h/this.rowHeight)};e.prototype.refreshPageOnHorizontalScroll_=function(M){var J=this.calcScrolledColumnIdx_(M);var K=this.$divId_.find("."+this.uniqueCls);
var C=K.children(".ic3-pt-body").children(".ic3-pt-body-scroller");var g=K.children(".ic3-pt-header");var P=g.children(".ic3-pt-header-scroller");var O=C.children(".ic3-pt-rows").children(".ic3-pt-rows-scroller");var i=O.children();var F=$(i[0]).children();
var E=parseInt($(F[1]).attr("data-c"));var I=parseInt($(F[F.length-1]).attr("data-c"));var D=this.extraColumnsCount/2;var G=this.virtualPivot_.getColumnSize_()-1;if((I<G&&J+this.horizontalPageSize>I-D)||(E>0&&E+D>J)){this.refreshRowsOnHorizontalScroll(J,E,I,i);
var N=P.children();this.refreshTopHeaderOnHorizontalScroll(J,N);this.postRender();var h=J-this.extraColumnsCount;var H=J+this.horizontalPageSize+this.extraColumnsCount;this.cleanupTopHeaderColumns_(h,H,N);this.cleanupColumns_(h,H,O);var L=this;setTimeout(function(){L.updateHeaderSpacerHeight(g.height())
},5)}};e.prototype.refreshRowsOnHorizontalScroll=function(g,B,D,C){var y;var A;var z=0,h=0;if(g<B){A=false;z=Math.max(0,g-this.extraColumnsCount);h=Math.min(B,g+this.horizontalPageSize+this.extraColumnsCount)}else{if(g+this.horizontalPageSize+this.extraColumnsCount>D){A=true;
z=Math.max(D+1,g-this.extraColumnsCount);h=Math.min(g+this.horizontalPageSize+this.extraColumnsCount,this.virtualPivot_.getColumnSize_())}}if(z<h){var x=parseInt($(C[0]).attr("ic3-row-idx"));var E=parseInt($(C[C.length-1]).attr("ic3-row-idx"));for(var F=x;F<=E;
F++){y=this.buildRowColumnsHtml(this.virtualPivot_,F,this.tagsConfig_,z,h);var i=F-x;if(A){$(C[i]).append(y)}else{$(C[i]).children(":eq(0)").after(y)}}}return A};e.prototype.refreshTopHeaderOnHorizontalScroll=function(J,K){var P=[];for(var E=0;E<K.length;E++){var N=$(K[E]);
var g=N.children();var C=parseInt($(g[1]).attr("data-vc"));var I=parseInt($(g[g.length-1]).attr("data-vc"));var G;var D=0,L=0;if(J<=C){G=false;D=Math.max(0,J-this.extraColumnsCount);L=Math.min(C,J+this.horizontalPageSize+this.extraColumnsCount)}else{if(J+this.horizontalPageSize+this.extraColumnsCount>I){G=true;
D=Math.max(I+1,J-this.extraColumnsCount);L=Math.min(J+this.horizontalPageSize+this.extraColumnsCount,this.virtualPivot_.getColumnSize_())}}var h=(P[E]={append:G,cols:[]}).cols;for(var F=D;F<L;F++){var i=this.buildTopHeaderColumnHtml_(this.virtualPivot_,E,F,!G&&F==D);
h.push(i)}}for(var E=0;E<P.length;E++){if(P[E]){var H=P[E].cols.join("");if(H){var O=P[E].append;var M=$(K[E]);if(O){M.append(H)}else{M.children(":eq(0)").after(H)}}}}this.addResizeHandlers_();return G};e.prototype.cleanupColumns_=function(i,x,B){var y=B.children();
for(var z=0;z<y.length;z++){var h=y[z];var w=h.childNodes;var g=true;while(g){var A=w[1];var v=parseInt((A.attributes)["data-c"].value,10);if(v<i){A.parentNode.removeChild(A)}else{g=false}w=h.childNodes}g=true;while(g){var A=w[w.length-1];var v=parseInt((A.attributes)["data-c"].value,10);
if(v>x){A.parentNode.removeChild(A)}else{g=false}w=h.childNodes}}this.updateSpacerColWidth(parseInt($(w[1]).attr("data-c")))};e.prototype.cleanupTopHeaderColumns_=function(i,x,g){for(var y=0;y<g.length;y++){var u=g[y];var w=u.childNodes;var h=true;while(h){var z=w[1];
var v=parseInt($(z).attr("data-vc"),10);if(v<i){z.parentNode.removeChild(z)}else{h=false}w=u.childNodes}h=true;while(h){var z=w[w.length-1];var v=parseInt($(z).attr("data-vc"),10);if(v>x){z.parentNode.removeChild(z)}else{h=false}w=u.childNodes}}this.updateTopHeaderSpacerColWidth()
};e.prototype.updateHeaderSpacerHeight=function(g){if(!this.headarSpacerColCssRule){this.updateCssRuleRefs_()}if(this.headarSpacerColCssRule){this.headarSpacerColCssRule.style.height=g+"px"}};e.prototype.updateSpacerColWidth=function(h){var g=this.calcColumnLeft_(h);
if(!this.spacerColCssRule){this.updateCssRuleRefs_()}if(this.spacerColCssRule){this.spacerColCssRule.style.width=g+"px";this.spacerColCssRule.style.display=(g==0)?"none":""}};e.prototype.updateTopHeaderSpacerColWidth=function(){if(this.options_.spanHeaders){var r=this.$divId_.children("."+this.uniqueCls).children(".ic3-pt-header").children(".ic3-pt-header-scroller").children();
for(var q=0;q<r.length;q++){var h=$(r[q]);var i=h.children(":eq(0)")[0].style;var g=parseInt(h.children(":eq(1)").attr("data-vc"));i.width=this.calcColumnLeft_(g)+"px"}}};e.prototype.calcScrolledColumnIdx_=function(h){var i=0;var g=0;var p=this.getColumnWidth_(g);
while(i+p<h){i+=p;p=this.getColumnWidth_(++g)}return g};e.prototype.getState=function(){var h=this.scrollTop();var g=this.scrollLeft();return{startRow:this.calcScrolledRowIdx_(-1,h),startCol:this.calcScrolledColumnIdx_(g)}};e.prototype.setState=function(g){this.internalState=g
};e.prototype.asynchronousRendering=function(){return true};return e}(m.PivotTableView_));m.PivotTablePagingView_=j})(c=d.pivot||(d.pivot={}))})(viz||(viz={}));var viz;(function(d){var c;(function(b){var a=(function(){function f(l,e,j,k){this.useNavButtons=false;
this.lastScroll=0;this.pageSize=10;this.container=l;this.layout=e;this.onScroll=j;this.useNavButtons=k;this.render(e,j);this.setToolbarState_()}f.prototype.render=function(u,p){var w=this.container;var v=u==="vertical";this.renderContainers_(v);if(this.useNavButtons){var t=w.find(".ic3-pt-toolbar-middle");
this.leftToolbar=new d.actions.ActionButtonList(t,{layout:u,ic3widgetStyle:"ic3-pt-nav",zoom:null,actionList:[{caption:"",eventValue:"first",cssClass:"fa fa-step-backward"+(v?" fa-rotate-90":"")},{caption:"",eventValue:"prev",cssClass:"fa fa-caret-"+(v?"up":"left")}]});
var r=w.find(".ic3-pt-toolbar-right");this.rightToolbar=new d.actions.ActionButtonList(r,{layout:u,ic3widgetStyle:"ic3-pt-nav",zoom:null,actionList:[{caption:"",eventValue:"next",cssClass:"fa fa-caret-"+(v?"down":"right")},{caption:"",eventValue:"last",cssClass:"fa fa-step-forward"+(v?" fa-rotate-90":"")}]});
var e=function(h,g){q.handleToolbarAction(g)};this.rightToolbar.bind(vizEventType.onSelection,e);this.leftToolbar.bind(vizEventType.onSelection,e)}var s="ic3-pt-"+u+"-scrollbar";w.find(".ic3-pt-toolbar-left").append('<div class="ic3-pt-scrollbar '+s+'"><div></div></div>');
var q=this;var x=q.scrollBar();x.on("scroll",function(){q.handleScroll()})};f.prototype.scrollBar=function(){return this.container.find(".ic3-pt-scrollbar")};f.prototype.renderContainers_=function(e){this.container.append('    <table class="ic3-pt-toolbar" cellspacing="0">        <tr>            <td class="ic3-pt-toolbar-left"></td>'+(e?"</tr><tr>":"")+'            <td class="ic3-pt-toolbar-middle"></td>'+(e?"</tr><tr>":"")+'            <td class="ic3-pt-toolbar-right"></td>'+(e?"</tr><tr>":"")+"        </tr>    </table>")
};f.prototype.handleScroll=function(){this.doHandleScroll()};f.prototype.doHandleScroll=function(){var h=this.scroll();var e=this.lastScroll-h;this.lastScroll=h;this.onScroll(h,e<0?-1:1);this.setToolbarState_()};f.prototype.handleToolbarAction=function(e){var h=0;
if(e.value()==="next"){h=this.scroll()+this.pageSize}else{if(e.value()=="prev"){h=Math.max(this.scroll()-this.pageSize,0)}else{if(e.value()=="first"){h=0}else{if(e.value()=="last"){h=this.scrollMax()}}}}this.scroll(h);this.setToolbarState_()};f.prototype.scroll=function(j){var i=j;
var e=this.scrollBar();if(this.layout==="horizontal"){if(ic3.isNumber(j)){e.scrollLeft(j)}else{i=e[0].scrollLeft}}else{if(ic3.isNumber(j)){e.scrollTop(j)}else{i=e[0].scrollTop}}return i};f.prototype.scrollMax=function(){var h;var e=this.scrollBar();if(this.layout==="horizontal"){h=e.get(0).scrollWidth-e.width()
}else{h=e.get(0).scrollHeight-e.height()}return h};f.prototype.setToolbarState_=function(){if(this.useNavButtons){var e=this.scroll();if(e===0){this.leftToolbar.disableItems()}else{this.leftToolbar.enableItems()}if(e>=this.scrollMax()){this.rightToolbar.disableItems()
}else{this.rightToolbar.enableItems()}}};f.prototype.configure=function(o,q,r){if(o){this.container.css(o)}var n=this.container.find(".ic3-pt-scrollbar");var p=this.container.find(".ic3-pt-toolbar-middle");var s=this.container.find(".ic3-pt-toolbar-right");
if(this.layout==="horizontal"){var t=p.width()+s.width()+1;if(o&&ic3.isNumber(o.width)){n.width(this.container.width()-t)}if(ic3.isNumber(q)){n.find("div").width(q-t)}}else{if(this.layout==="vertical"){var e=p.height()+s.height()+1;if(o&&ic3.isNumber(o.height)){n.height(this.container.height()-e)
}if(ic3.isNumber(q)){n.find("div").height(q-e)}}}if(ic3.isNumber(r)){this.pageSize=r}this.setToolbarState_()};f.prototype.setWidth=function(e){this.container.width(e)};f.prototype.height=function(e){if(ic3.isNumber(e)){this.container.height(e);return e}else{return this.container.height()
}};f.prototype.width=function(e){if(ic3.isNumber(e)){this.container.width(e);return e}else{return this.container.width()}};f.prototype.isScrollBarVisible=function(){var p;var n=this.container.find(".ic3-pt-scrollbar");if(this.layout==="horizontal"){var m=n.width();
var o=n.children("div").width();p=o>m}else{var e=n.height();var l=n.children("div").height();p=l>e}return p};return f}());b.ScrollerToolbar_=a})(c=d.pivot||(d.pivot={}))})(viz||(viz={}));(this&&this.__extends)||function(d,b){for(var g in b){if(b.hasOwnProperty(g)){d[g]=b[g]
}}function h(){this.constructor=d}d.prototype=b===null?Object.create(b):(h.prototype=b.prototype,new h())};var viz;(function(d){var c;(function(j){var i=(function(){function e(){}e.prototype.get=function(f){if(f.shiftKey){return this.expandChildren_}if(f.altKey){return this.expandAll_
}if(f.ctrlKey){return this.forceExpandAll_}return this.clickOnNode_};e.prototype.expandAll_=function(f){if(f.isCollapsible()){var g=f.collapsed;f.collapsed=false;return g}return false};e.prototype.forceExpandAll_=function(f){if(f.isCollapsible()){var g=f.collapsed;
f.collapsed=false;f.forEachDescendant_(function(l){g=g||l.collapsed;l.collapsed=false});return g}return false};e.prototype.expandChildren_=function(f){if(f.isCollapsible()){var g=f.collapsed;f.collapsed=false;$.each(f.children_,(function(n,m){g=g||!f.collapsed;
m.collapsed=true}));return g}return false};e.prototype.clickOnNode_=function(f){if(f.isCollapsible()){if(f.collapsed){f.collapsed=false;$.each(f.children_,(function(l,g){g.collapsed=true}))}else{f.collapsed=true}return true}return false};return e}());j._NodeCollapsePolicy_=i;
var h=(function(){function e(f){this.cellError=f}return e}());j.CellError=h;var a=(function(){function e(){this.nodes={}}e.prototype.update=function(g,l){var f=this.getUName(g);if(l){delete this.nodes[f]}else{this.nodes[f]=true}};e.prototype.isEmpty=function(){return $.isEmptyObject(this.nodes)
};e.prototype.getNodes=function(){return this.nodes};e.prototype.findCacheItem=function(f){var l;if(!f){l=this.nodes}else{var g=this.getUName(f);if(f.parent){l=this.findCacheItem(f.parent)[g]}else{if(f){l=this.nodes[g]}}}return l};e.prototype.getUName=function(f){return e.getUname(f)
};e.getUname=function(f){return f?f.getUNamePath().join("/"):undefined};return e}());j.ExpandedNodeCache=a;var b=(function(e){__extends(f,e);function f(o,p,g,n){e.call(this,o,p);this.classID="viz.GviPivotHeaderClickEvent";this.lineTuple_=g;this.eventType_=n
}f.prototype.type=function(){return this.eventType_};f.prototype.tuple=function(){return this.lineTuple_};return f}(d.event.GviClickEvent));j.GviPivotHeaderClickEvent=b})(c=d.pivot||(d.pivot={}))})(viz||(viz={}));(this&&this.__extends)||function(d,b){for(var g in b){if(b.hasOwnProperty(g)){d[g]=b[g]
}}function h(){this.constructor=d}d.prototype=b===null?Object.create(b):(h.prototype=b.prototype,new h())};var ic3;(function(ic3){var Serializable=(function(_super){__extends(Serializable,_super);function Serializable(context,options){_super.call(this);this.classID="ic3.Serializable";
this.context=context;if(_.isObject(context)&&context.isRestoringGuts){this.guts_=_.assign({},options)}else{this.guts_=_.assign({},this.createDefaultGuts(context),options)}}Serializable.prototype.createDefaultGuts=function(context){return{}};Serializable.prototype.name=function(name){return name?this.guts().ic3_name=name:this.guts_.ic3_name
};Serializable.prototype.uid=function(uid){return uid?this.guts().ic3_uid=uid:this.guts_.ic3_uid};Serializable.prototype.guts=function(){return this.guts_};Serializable.prototype.beforeSaveGuts=function(){};Serializable.prototype.afterRestoreGuts=function(object){};
Serializable.prototype.gutsMeta=function(){return[]};Serializable.prototype.evalGuts=function(optionFieldName){if(this.guts_==null){return null}var guts=this.context.getEvaluator().evaluate(this.guts_);guts=ic3.ContextEvaluator.evaluate(guts,{context:this.context},"REPORTING");
if(optionFieldName){var gutOption=guts[optionFieldName];if(gutOption){$.extend(true,guts,gutOption);delete guts[optionFieldName]}}return guts};Serializable.prototype.evalGutsField=function(fieldName){var meta=ic3.arrayLookup(this.gutsMeta(),"name",fieldName);
return this.context.evalObject(this.guts_[fieldName],meta)};Serializable.prototype.eval=function(value){return this.context.eval(value)};Serializable.prototype.evalEsc=function(value){return this.context.evalEsc(value)};return Serializable}(viz.EventHandler));
ic3.Serializable=Serializable;function copyGuts(object,context){return restoreGuts(saveGuts(object),context)}ic3.copyGuts=copyGuts;function restoreGuts(object,context){try{context.isRestoringGuts=true;return _restoreGuts(object,context)}finally{context.isRestoringGuts=false
}}ic3.restoreGuts=restoreGuts;function _restoreGuts(object,context){if(object==null||ic3.isEmptyString(object)){return null}if(object.classID!=null){if(object.guts_==null){alert("Guts structure not found from the object "+object.classID)}if(ic3.ExcludeFromRestore[object.classID]===true){return null
}if(object.classID=="ic3.Serializable"){alert("Cannot instantiate abstract class")}var toObject;try{var toObject=eval("new "+serializerVersionHandler(object.classID)+"(context)");var toGuts=toObject.guts_;$.each(object.guts_,function(key,value){toGuts[key]=_restoreGuts(value,context)
});toObject.afterRestoreGuts&&toObject.afterRestoreGuts(object)}catch(error){context.errorMgr().addError("serializable.alert.restore",[object.classID,error.toString()],undefined,error)}return toObject}else{if(object instanceof Array){var toArray=[];$.each(object,function(idx,item){toArray.push(_restoreGuts(item,context))
});return toArray}if(object instanceof Object){var newObject={};$.each(object,function(key,value){newObject[key]=_restoreGuts(value,context)});return newObject}return object}}function saveGuts(object){if(object==null){return null}if(object.classID!=null){if(object.guts_==null){return null
}var toObject={classID:object.classID,guts_:{}};var toGuts=toObject.guts_;object.beforeSaveGuts&&object.beforeSaveGuts();$.each(object.guts_,function(key,value){if(value!=null&&value!==""){toGuts[key]=saveGuts(value)}});return toObject}else{if(object instanceof Array){var toArray=[];
$.each(object,function(idx,item){toArray.push(saveGuts(item))});return toArray}if(object instanceof Object){var newObject={};$.each(object,function(key,value){newObject[key]=saveGuts(value)});return newObject}return object}}ic3.saveGuts=saveGuts;ic3.SerializerVersions={ic3ReportConstant:"ic3.ConstantsMgr",ic3WidgetAdapterOrFilterMgr:"ic3.ConstantsMgr",ic3ComboActionsAdapter:"ic3.ActionsComboAdapter",ic3ReportGuts:"ic3.ReportGuts",ic3FixedLayout:"ic3.FixedLayout",ic3FixedLayoutBox:"ic3.FixedLayoutBox",ic3WidgetAdapterContainerMgr:"ic3.WidgetAdapterContainerMgr",ic3EventWidgetMapper:"ic3.EventWidgetMapper",ic3GoogleChartsAdapter:"ic3.GoogleChartsAdapter",ic3ConstantsMgr:"ic3.ConstantsMgr",ic3CssMgr:"ic3.CssMgr",ic3CalcMeasureMgr:"ic3.CalcMeasureMgr",ic3MdxQueriesContainerMgr:"ic3.MdxQueriesContainerMgr",ic3BaseContainerMgr:"ic3.BaseContainerMgr",ic3QueryBuilderWidget:"ic3.QueryBuilderWidget",ic3QueryBuilderWizardForm:"ic3.QueryBuilderWizardForm",ic3ActionsMenuAdapter:"ic3.ActionsMenuAdapter",ic3ReportWidgetAdapter:"ic3.ReportWidgetAdapter",ic3ReportLauncherWidgetAdapter:"ic3.ReportLauncherWidgetAdapter",ic3MdxFilterTreeAdapter:"ic3.MdxFilterTreeAdapter",ic3TinyMCEAdapter:"ic3.TinyMCEAdapter",ic3FilterQueryBuilderForm:"ic3.FilterQueryBuilderForm",ic3MdxFilterComboAdapter:"ic3.MdxFilterComboAdapter",ic3MdxFilterButtonListAdapter:"ic3.MdxFilterButtonListAdapter",ic3PivotTableAdapter:"ic3.PivotTableAdapter",ic3ReportQuery:"ic3.ReportQuery",ic3ActionsJquiButtonListAdapter:"ic3.ActionsJquiButtonListAdapter",ic3ActionsButtonListAdapter:"ic3.ActionsButtonListAdapter",ic3MdxQueryBuilderAdapter:"ic3.MdxQueryBuilderAdapter",ic3MdxQueryBuilderLayout:"ic3.MdxQueryBuilderLayout",ic3MdxQuery:"ic3.MdxQuery",ic3MdxColumns:"ic3.MdxColumns",ic3MdxRegularHierarchy:"ic3.MdxRegularHierarchy",FixedLayout:"ic3.FixedLayout",ic3MdxRows:"ic3.MdxRows",ic3MdxSubQuery:"ic3.MdxSubQuery",ic3MdxSlicer:"ic3.MdxSlicer",ic3ActionsComboAdapter:"ic3.ActionsComboAdapter",ic3AmchartsPieAdapter:" ic3.AmchartsPieAdapter",ic3D3BulletChartAdapter:"ic3.D3BulletChartAdapter",ic3SimpleTableAdapter:"ic3.SimpleTableAdapter",ic3HtmlTemplateAdapter:"ic3.HtmlTemplateAdapter",ic3MdxFilterJquiAutocompleteAdapter:"ic3.MdxFilterJquiAutocompleteAdapter",ic3MdxFilterJquiButtonAdapter:"ic3.MdxFilterJquiButtonAdapter",ic3MdxFilterJquiSliderAdapter:"ic3.MdxFilterJquiSliderAdapter",ic3DateFilterQueryBuilderForm:"ic3.DateFilterQueryBuilderForm",ic3MdxMeasuresHierarchy:"ic3.MdxMeasuresHierarchy","ic3.MdxFilterComboAdapter":"ic3.QueryFilterComboAdapter","ic3.MdxFilterButtonListAdapter":"ic3.QueryFilterButtonListAdapter","ic3.MdxFilterTreeAdapter":"ic3.QueryFilterTreeAdapter","ic3.MdxFilterJquiButtonAdapter":"ic3.QueryFilterJQueryButtonListAdapter","ic3.MdxFilterJquiSliderAdapter":"ic3.QueryFilterSliderAdapter","ic3.MdxFilterJquiAutocompleteAdapter":"ic3.QueryFilterAutoCompleteAdapter","ic3.FilterQueryBuilderForm":"ic3.NewFilterQueryBuilderForm","ic3.ActionsButtonListAdapter":"ic3.NewActionsButtonListAdapter","ic3.ActionsComboAdapter":"ic3.NewActionsComboAdapter","ic3.ActionsMenuAdapter":"ic3.NewActionsMenuAdapter","ic3.ActionsContextualMenuAdapter":"ic3.NewActionsContextualMenuAdapter","ic3.TableAdapter":"ic3.BigTableAdapter"};
function serializerVersionHandler(classId){var newClassId=classId;while(ic3.SerializerVersions[newClassId]){newClassId=ic3.SerializerVersions[newClassId]}return newClassId}ic3.serializerVersionHandler=serializerVersionHandler;ic3.ExcludeFromRestore={}})(ic3||(ic3={}));
var viz;(function(d){var c;(function(b){var a=(function(){function f(e){this.setState(e)}f.prototype.getState=function(){return this.state};f.prototype.setState=function(e){this.state=$.extend({},e)};f.prototype.clearHistory=function(){var e=this.getState();
if(_.isArray(e.drillDownHistory)){e.drillDownHistory.length=0;this.setState(e)}};f.prototype.resetExecutedDrillDownHistory=function(){var e=this.getState();e.drillDownHistory=e.drillDownHistory.map(function(h){h.executed=false;return h});this.setState(e)};f.prototype.getItemPath=function(l,j){var k;
if(j.headerType===b.HeaderType.LEFT){k=l.getLeftHeaderNode(j.row,j.col)}else{k=l.getTopHeaderNode(j.row,j.col)}var e=[];while(k){e.unshift(k.getMdxUName());k=k.parent}return e};f.prototype.addDrillDownToHistory=function(m,l){var e=this.getItemPath(m,l);var k=this.getState();
var n={headerType:l.headerType,path:l.path};if(l.headerType===b.HeaderType.LEFT){n.col=l.col}else{n.row=l.row}if(_.findIndex(k.drillDownHistory,_.matches(n))<0){if(ic3.isUndefined(k.drillDownHistory)){k.drillDownHistory=[]}l.executed=false;l.path=e;k.drillDownHistory.push(l);
this.setState(k)}};f.prototype.shiftHistoryDrillDownItem=function(){var e=this.getState();if(e.drillDownHistory.length>0){return _.find(e.drillDownHistory,function(h){return !h.executed})}else{return null}};f.prototype.countLeftHistoryDrillDownItems=function(){var e=this.getState();
if(e&&e.drillDownHistory&&e.drillDownHistory.length>0){return _.filter(e.drillDownHistory,function(h){return !h.executed}).length}else{return 0}};f.prototype.removeHistoryItemByPath=function(l,j,e){var k=this.getState();_.remove(k.drillDownHistory,function(g){if(g.headerType!=l||g.path.length<j.length||e!=(l==b.HeaderType.LEFT?g.col:g.row)){return false
}else{if(_.isEqual(g.path,j)){return true}else{if(_.isEqual(g.path.slice(0,j.length),j)){return true}}}});this.setState(k)};f.prototype.removeLastHistoryItem=function(){if(this.getState().drillDownHistory.length>0){var e=_.last(this.getState().drillDownHistory);
this.removeHistoryItemByPath(e.headerType,e.path,e.headerType===b.HeaderType.LEFT?e.col:e.row)}};f.prototype.historyItemToggleCollapsed=function(l,j,e){var k=this.getState();_.map(k.drillDownHistory,function(g){if(g.headerType==l&&e==(l==b.HeaderType.LEFT?g.col:g.row)){if(g.path.length<j.length){return g
}if(_.isEqual(g.path.slice(0,j.length),j)){g.collapsed=!g.collapsed}}return g});this.setState(k)};return f}());b.RecordableDrillDownStrategy=a})(c=d.pivot||(d.pivot={}))})(viz||(viz={}));(this&&this.__extends)||function(d,b){for(var g in b){if(b.hasOwnProperty(g)){d[g]=b[g]
}}function h(){this.constructor=d}d.prototype=b===null?Object.create(b):(h.prototype=b.prototype,new h())};var viz;(function(d){var c;(function(l){function b(e,f){if(f&&ic3.startsWith(f.toUpperCase(),"NON EMPTY ")){e.prepend("NON EMPTY ");e.append(f.substring("NON EMPTY".length))
}else{e.append(f)}}l.addDrilldownExpression2Axis=b;var n=(function(e){__extends(f,e);function f(g){e.call(this,g);this.classID="viz.pivot.DrillDownStrategy";this.mdxBuilder=this.createMdxBuilder()}f.prototype.setMdxBase=function(g){this.defaultMdx_=g};f.prototype.mdxBase=function(){return this.defaultMdx_
};f.prototype.buildRowDrillDownMdx=function(h,i,g,p){return this.mdxBuilder.buildRowDrillDownMdxQuery(this.mdxBase(),h,i,g,p)};f.prototype.buildColumnDrillDownMdx=function(h,i,g,p){return this.mdxBuilder.buildColumnDrillDownMdxQuery(this.mdxBase(),h,i,g,p)};
f.prototype.createMdxBuilder=function(){return new m($.proxy(this.buildDrillDownExpression,this),$.proxy(this.buildFilterExpression,this))};f.prototype.buildDrillDownExpression=function(g,h){ic3.assertAbstract("buildDrillDownExpression",this);return""};f.prototype.buildFilterExpression=function(g){ic3.assertAbstract("buildFilterExpression",this);
return""};f.prototype.createAction=function(g){return new a(g,this)};f.prototype.getTopHeaderChildrenCount=function(h,q,g,i){var r=h.getAxes().getAxis(ic3.IcCubeMdxBuilder.getMdxAxisIndices(h,q).columnsAxis);return r.getMemberChildrenCount(g,i)};f.prototype.getLeftHeaderChildrenCount=function(h,q,i,g){var r=h.getAxes().getAxis(ic3.IcCubeMdxBuilder.getMdxAxisIndices(h,q).rowsAxis);
return r.getMemberChildrenCount(i,g)};f.prototype.canDrillDownLeftHeader=function(h,r,q,g,i){return this.getLeftHeaderChildrenCount(h,r,q,g)>0};f.prototype.canDrillDownTopHeader=function(h,r,g,q,i){return this.getTopHeaderChildrenCount(h,r,g,q)>0};f.prototype.allowClearDrillDown=function(){return false
};return f}(l.RecordableDrillDownStrategy));l.DrillDownStrategy=n;var k=(function(){function e(){}e.prototype.doBuildDrillDownMdxQuery=function(i,f,g){var h=new d.StringBuilder(i);h.append("\n");_.forEach(f,function(q,r){_.isString(q)&&h.append("axis "+r+" ").append(q).append("\n")
});h.append(g);return h.asString()};e.prototype.buildMdxAxis=function(i){var g="{";for(var h=0;h<i.sizeX();h++){g+=h==0?"(":",(";for(var f=0;f<i.sizeY();f++){g+=(f==0?"":",")+i.node(h,f).getMdxUName()}g+=")"}g+="}";return g};return e}());l.MdxBuilder=k;var m=(function(e){__extends(f,e);
function f(g,h){e.call(this);this.drillDownExpressionBuilder=g;this.filterExpressionBuilder=h}f.prototype.buildRowDrillDownMdxQuery=function(g,u,y,v,x){var h=u.getDataSource(),w=u.leftHeaderIterator(),z=ic3.IcCubeMdxBuilder.getMdxAxisIndices(h,u.getBaseRequest());
var i=[];if(z.measuresAxis===0){i.push(null)}if(z.columnsAxis>-1){i.push(this.buildMdxAxis(u.topHeaderIterator()))}i.push(this.buildDrillDownMdxAxis(w,y,v,x));return this.doBuildDrillDownMdxQuery(g,i,this.buildFilterExpression(w.node(y,v)))};f.prototype.buildColumnDrillDownMdxQuery=function(g,u,y,v,x){var h=u.getDataSource(),w=u.topHeaderIterator(),z=ic3.IcCubeMdxBuilder.getMdxAxisIndices(h,u.getBaseRequest());
var i=[];if(z.measuresAxis===0){i.push(null)}if(z.columnsAxis>-1){i.push(this.buildDrillDownMdxAxis(w,v,y,x))}i.push(this.buildMdxAxis(u.leftHeaderIterator()));return this.doBuildDrillDownMdxQuery(g,i,this.buildFilterExpression(w.node(v,y)))};f.prototype.buildDrillDownMdxAxis=function(i,q,g,h){var r=new d.StringBuilder();
this.buildDrillDownAxisBeforeNode(r,i,q,g,h);this.buildDrillDownMdxAfterNode(r,i,q,g);return r.asString()};f.prototype.buildDrillDownAxisBeforeNode=function(i,w,g,v,x){var u;var y="";for(var z=0;z<v;z++){u=w.node(g,z);y+=(z==0?"(":", ")+u.getMdxUName()}if(v!=0){i.append("{").append(y).append(")} * ")
}u=w.node(g,v);var h=this.drillDownExpressionBuilder(u,x);d.pivot.addDrilldownExpression2Axis(i,h);return i};f.prototype.buildDrillDownMdxAfterNode=function(i,x,g,w){var v=x.node(g,w);var A=w+1;if(A<x.sizeY()){var y=v.startIdx_;var h=!v.followingNode?x.sizeX():v.followingNode.startIdx_;
i.append(" * {");for(var z=y;z<h;z++){i.append(z==y?"(":",(");for(var B=A;B<x.sizeY();B++){i.append((B==A?"":",")+x.node(z,B).getMdxUName())}i.append(")")}i.append("}")}return i};f.prototype.buildFilterExpression=function(g){return this.filterExpressionBuilder(g)
};return f}(k));l.DrillDownMdxBuilder=m;var j=(function(f){__extends(e,f);function e(h,g){f.call(this,g);this.classID="viz.pivot.DefaultDrillDownStrategy"}e.prototype.buildDrillDownExpression=function(i,g){var h=i.getMdxUName();if(g.ctrlKey){return"Descendants("+h+", 0, AFTER)"
}else{return"{"+h+".children}"}};e.prototype.buildFilterExpression=function(g){return""};return e}(n));l.DefaultDrillDownStrategy=j;var a=(function(f){__extends(e,f);function e(g,h){f.call(this);this.gviConnection=g;this.drillDownStrategy=h}e.prototype.applyHistoryDrillDown=function(p,g){this.synthetic=true;
p.executed=true;if(p.headerType===l.HeaderType.TOP){var h=g.pivotTableData_.getTopHeaderNodeColIdxByAbsPath(p.path,p.row);if(h===null){this.errorListener()}else{this.doColumnDrillDown(p.row,h,$.Event("click"),g)}}else{var i=g.pivotTableData_.getLeftHeaderNodeRowIdxByAbsPath(p.path,p.col);
if(i===null){this.errorListener()}else{this.doRowDrillDown(i,p.col,$.Event("click"),g)}}this.synthetic=false};e.prototype.doRowDrillDown=function(i,g,q,h){var r=this.drillDownStrategy.buildRowDrillDownMdx(h,i,g,q);if(!this.synthetic){this.drillDownStrategy.addDrillDownToHistory(h,{uniqueName:h.getLeftHeaderNode(i,g).getMdxUName(),headerType:l.HeaderType.LEFT,col:g,row:i})
}this.doDrillDown(r,h,h.insertLeftHeaderDrilldown,i,g)};e.prototype.doColumnDrillDown=function(i,g,q,h){var r=this.drillDownStrategy.buildColumnDrillDownMdx(h,i,g,q);if(!this.synthetic){this.drillDownStrategy.addDrillDownToHistory(h,{uniqueName:h.getTopHeaderNode(i,g).getMdxUName(),headerType:l.HeaderType.TOP,col:g,row:i})
}this.doDrillDown(r,h,h.insertTopHeaderDrilldown,i,g)};e.prototype.doDrillDown=function(t,h,i,s,u){var v=this;var g=this.createQueryManager(function(o){v.onRequestSuccess(o,h,i,s,u)});g.executeRequest(new d.MdxTableRequest(t))};e.prototype.onRequestSuccess=function(g,h,i,r,t){var s=new l.PivotTableData(g,h.getBaseRequest(),h.options());
if(i.call(h,s,r,t)){this.drillDownListener&&this.drillDownListener()}};e.prototype.createQueryManager=function(i){var g=this;var h=g.doCreateQueryManager(g.gviConnection);h.addResultWidget({onVizRequestExecuted:function(p){i(p)},onVizBeforeRequestSend:function(){g.beforeDrillDownListener&&g.beforeDrillDownListener()
},onVizRequestExecutedInError:function(){g.errorListener&&g.errorListener()}});return h};e.prototype.doCreateQueryManager=function(g){return new d.QueryManager(g)};e.prototype.onBeforeDrillDown=function(g){this.beforeDrillDownListener=g};e.prototype.onDrillDown=function(g){this.drillDownListener=g
};e.prototype.onError=function(g){this.errorListener=g};e.prototype.bindDrillDown=function(g){};return e}(d.Action));l.DrillDownAction=a})(c=d.pivot||(d.pivot={}))})(viz||(viz={}));var viz;(function(d){var c;(function(b){var a=(function(){function f(h,e){this.tableContext=h;
this.measure=e}f.prototype.getEvaluatedCellRenderer=function(m,k){var e=this;var l=function(g){var h=ic3.IcCubeMdxBuilder.getDefaultMeasure(e.tableContext.mdxResultTable);return('<span title="'+("name: "+(e.tableContext.getMemberCaption(g,k,m)||h)+"\n")+("uname: "+(e.tableContext.getMemberUniqueName(g,k,m)||"[Measures]["+h+"]")+"\n")+("level depth: "+(e.tableContext.getMemberLevelDepth(g,k,m)||"0")+"\n")+("children: "+(e.tableContext.getMemberChildrenCount(g,k,m)||"0")+'">')+((e.tableContext.getMemberCaption(g,k,m)||h)+"</span>"))
},n=this.tableContext.axisIndices.columnsAxis<0?this.tableContext.axisIndices.measuresAxis:this.tableContext.axisIndices.columnsAxis;return{pivotTopHeaderLabel:l(n),pivotLeftHeaderLabel:l(this.tableContext.axisIndices.rowsAxis)}};f.prototype.renderCell=function(e,m){var n=this.tableContext.getFValue(e,m,this.measure);
if(_.isNull(n)){if(this.tableContext.getValue(e,m,this.measure,"ERROR_CODE")){return'<span style="color:red" title="'+this.tableContext.getValue(e,m,this.measure,"ERROR_DESCRIPTION")+'">error</span>'}}var l=this.measure;if(!ic3.IcCubeMdxBuilder.hasMeasuresAxis(this.tableContext.request,this.tableContext.mdxResultTable)){l="Value"
}var k=_.reduce(ic3.ContextEvaluator.setCellContext(this.tableContext,m,e).measures[l||"Value"],function(g,h,i){return g+i+" : "+h+"\n"},"");return'<span title="'+(k||"")+'">'+(n||"")+"</span>"};f.prototype.getMaxHeight=function(){return 18};return f}());b.GWTCellRenderHelper=a
})(c=d.pivot||(d.pivot={}))})(viz||(viz={}));(this&&this.__extends)||function(d,b){for(var g in b){if(b.hasOwnProperty(g)){d[g]=b[g]}}function h(){this.constructor=d}d.prototype=b===null?Object.create(b):(h.prototype=b.prototype,new h())};var ic3;(function(f){var h=(function(){function a(b){this.reportingContext=b
}a.prototype.TEXT=function(c,b){return f.UtilityFunctions.TEXT.apply(this,arguments)};a.prototype.setLocale=function(b){if(this.reportingContext.gviConfiguration().localesInfo().getLocale(b)){this.reportingContext.mainReport().setLocale(b)}else{this.reportingContext.notificationMgr().notifyWarning("Unsupported locale specified : "+b)
}};a.prototype.eventValue=function(b){return this.reportingContext.eventMgr().getEventValue(b)};a.prototype.l=function(c){var j=[];for(var b=1;b<arguments.length;b++){j[b-1]=arguments[b]}return(d=this.reportingContext.mainReport()).l.apply(d,[c].concat(j));
var d};a.prototype.fireEvent=function(c){var j=[];for(var b=1;b<arguments.length;b++){j[b-1]=arguments[b]}return(d=this.reportingContext.eventMgr()).fireEvent.apply(d,[c].concat(j));var d};a.prototype.getUserInfo=function(){return this.reportingContext.userInfo()
};a.prototype.getReportInfo=function(){return this.reportingContext.mainReport().state.reportInfo};return a}());f.ReportingContextForEvaluation=h;var e=(function(a){__extends(b,a);function b(d,c){a.call(this,d.reportingContext);this.widgetAdapter=c}return b
}(h));f.WidgetContext=e;var g=(function(){function a(){}a.evaluate=function(d,k,b,l){var c=this;if(_.isUndefined(d)||_.isNull(d)||_.isFunction(d)){return d}if(_.isArray(d)){return _.map(d,function(i){return c.evaluate(i,k,b,l)})}if(_.isObject(d)){return a.evaluateObject(d,k,b,l)
}if(_.isString(d)){return _.isUndefined(k[d])?d:k[d]}return d};a.evaluateObject=function(m,n,b,o){var c=this;if(m.classID!=null){return m}if(_.isString(m.evaluationType)){if(!_.isUndefined(m.value)){return m.value}if(_.isFunction(m.evalFunction)){if(a.isContextSuitable(b,m.contextType)){var d=a.createPublicContext(n,b);
var p=m.evalFunction.apply(m,[d].concat(o));return _.isUndefined(p)?m:p}}}return _.transform(m,function(i,j,k){i[k]=c.evaluate(j,n,b,o)},{})};a.createPublicContext=function(c,b){switch(b){case"REPORTING":return new f.PublicReportingContext(c);case"WIDGET":return new f.PublicWidgetContext(c);
case"DATA":return new f.PublicTableContext(c);case"CELL":return new f.PublicCellContext(c)}};a.isContextSuitable=function(b,c){if(b===c){return true}if(b==="WIDGET"&&c==="REPORTING"){return true}if(b==="DATA"&&(c==="WIDGET"||c==="REPORTING")){return true}if(b==="CELL"&&(c==="WIDGET"||c==="REPORTING"||c==="DATA")){return true
}return false};a.setCellContext=function(d,c,b){if(c===void 0){c=0}if(b===void 0){b=0}d.__proto__=f.CellContext.prototype;d.setCoordinates(b,c);return d};return a}());f.ContextEvaluator=g})(ic3||(ic3={}));(this&&this.__extends)||function(d,b){for(var g in b){if(b.hasOwnProperty(g)){d[g]=b[g]
}}function h(){this.constructor=d}d.prototype=b===null?Object.create(b):(h.prototype=b.prototype,new h())};var ic3;(function(f){(function(a){a[a.TABLE=0]="TABLE";a[a.ROW=1]="ROW";a[a.COLUMN=2]="COLUMN";a[a.CELL=3]="CELL"})(f.EvalScope||(f.EvalScope={}));var e=f.EvalScope;
var d=(function(a){__extends(b,a);function b(c,j,i){a.call(this,c,c.widgetAdapter);this.mdxResultTable=j;this.request=i;if(j.getAxes().getAxisCount()>0){this.axisIndices=f.IcCubeMdxBuilder.getMdxAxisIndices(j,i);this.hasMeasuresAxis=f.IcCubeMdxBuilder.hasMeasuresAxis(i,j);
this.columnsCount=this.axisIndices.columnsAxis<0?1:this.mdxResultTable.getAxes().getAxis(this.axisIndices.columnsAxis).getTupleCount();this.rowsCount=this.axisIndices.rowsAxis<0?0:this.mdxResultTable.getAxes().getAxis(this.axisIndices.rowsAxis).getTupleCount();
this.columnsIndices=_.times(this.columnsCount);this.rowsIndices=_.times(this.rowsCount)}this.membersCache={};this.aggregationCache=this.aggregationCache||[];this.rebindFunctions();this.rebindProperties()}b.Orphan=function(h,c){return new b({widgetAdapter:null},h,c)
};b.prototype.define=function(c,h){Object.defineProperty(this,c,{configurable:true,get:h})};b.prototype.assertAnyIndex=function(i){var j=[];for(var c=1;c<arguments.length;c++){j[c-1]=arguments[c]}if(!_.reduce(j,function(g,h){return g||h!=null},false)){throw new Error(i+" function requires valid coordinates!")
}};b.prototype.assertAllIndexes=function(i){var j=[];for(var c=1;c<arguments.length;c++){j[c-1]=arguments[c]}if(!_.reduce(j,function(g,h){return g&&h!=null},true)){throw new Error(i+" function requires valid coordinates!")}};b.prototype.rebindFunctions=function(){var c=this;
this.getValue=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.ValueFunction.apply(c,[["VALUE"]].concat(j))};this.getFValue=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.ValueFunction.apply(c,[["FORMATTED_VALUE","VALUE"]].concat(j))
};this.getProperty=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.ValueFunction.apply(c,[[]].concat(j))};this.MaxInTable=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.MinMaxValueFunction.apply(c,["max",e.TABLE].concat(j))
};this.MinInTable=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.MinMaxValueFunction.apply(c,["min",e.TABLE].concat(j))};this.MaxInColumn=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.MinMaxValueFunction.apply(c,["max",e.COLUMN].concat(j))
};this.MinInColumn=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.MinMaxValueFunction.apply(c,["min",e.COLUMN].concat(j))};this.MaxInRow=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.MinMaxValueFunction.apply(c,["max",e.ROW].concat(j))
};this.MinInRow=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.MinMaxValueFunction.apply(c,["min",e.ROW].concat(j))};this.PercentageRow=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.PercentageFunction.apply(c,[e.ROW].concat(j))
};this.PercentageCol=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.PercentageFunction.apply(c,[e.COLUMN].concat(j))};this.PercentageTable=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.PercentageFunction.apply(c,[e.TABLE].concat(j))
};this.RankingSmallLargeRow=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.RankingFunction.apply(c,[e.ROW,false].concat(j))};this.RankingLargeSmallRow=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]
}return c.RankingFunction.apply(c,[e.ROW,true].concat(j))};this.RankingSmallLargeColumn=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.RankingFunction.apply(c,[e.COLUMN,false].concat(j))};this.RankingLargeSmallColumn=function(){var j=[];
for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.RankingFunction.apply(c,[e.COLUMN,true].concat(j))};this.RankingSmallLargeTable=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.RankingFunction.apply(c,[e.TABLE,false].concat(j))
};this.RankingLargeSmallTable=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.RankingFunction.apply(c,[e.TABLE,true].concat(j))};this.ZoomValue=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.ZoomValueFunction.apply(c,j)
};this.RowLabel=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.LabelFunction.apply(c,[e.ROW].concat(j))};this.ColumnLabel=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.LabelFunction.apply(c,[e.COLUMN].concat(j))
};this.PivotRowLabel=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.PivotLabelFunction.apply(c,[e.ROW].concat(j))};this.PivotColumnLabel=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.PivotLabelFunction.apply(c,[e.COLUMN].concat(j))
};this.fireRowClick=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.ClickFunction.apply(c,[e.ROW].concat(j))};this.fireColumnClick=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.ClickFunction.apply(c,[e.COLUMN].concat(j))
};this.fireCellClick=function(){var j=[];for(var i=0;i<arguments.length;i++){j[i-0]=arguments[i]}return c.ClickFunction.apply(c,[e.CELL].concat(j))}};b.prototype.rebindProperties=function(){var c=this;this.define("Max Value",function(){return c.MaxInTable()
});this.define("Min Value",function(){return c.MinInTable()});if(f.IcCubeMdxBuilder.hasMeasuresAxis(this.request,this.mdxResultTable)){var h=this.mdxResultTable.getAxes().getAxis(0);_.map(_.times(h.getTupleCount()),function(i){var g=h.getMemberCaption(i,0);
c.define("Max "+g,function(){return c.MaxInTable(g)});c.define("Min "+g,function(){return c.MinInTable(g)})})}};b.prototype.getAxisMemberIndex=function(v,r){var q=this;var t=v>=0&&v<this.mdxResultTable.getAxes().getAxisCount()&&(v!==this.axisIndices.measuresAxis||f.IcCubeMdxBuilder.hasMeasuresAxis(this.request,this.mdxResultTable));
if(!t){return}var o=function(){var h=[];for(var g=0;g<arguments.length;g++){h[g-0]=arguments[g]}return JSON.stringify(h)};var u=this.mdxResultTable.getAxes().getAxis(v);var s=_.times(u.getTupleCount());var p;if(_.isNumber(r)){p=r}else{if(_.isString(r)){var c=o(v,r);
p=this.membersCache[c];if(p==null&&/\[.*\]/.exec(r)){_.forEach(s,function(g){var h=u.getMemberUniqueName(g,0);if(_.endsWith(h,r)){q.membersCache[c]=p=g;return false}})}if(p==null){_.forEach(s,function(g){var h=u.getMemberCaption(g,0);if(h===r){q.membersCache[c]=p=g;
return false}else{q.membersCache[o(v,h)]=g}})}}}return p};b.prototype.getMeasureIndex=function(j){var l;if(f.IcCubeMdxBuilder.hasMeasuresAxis(this.request,this.mdxResultTable)){if(_.isNumber(j)){l=j}else{if(!this.tableMeasuresCache){var c=this.mdxResultTable.getAxes().getAxis(0);
var k=_.times(c.getTupleCount());this.tableMeasuresCache=_.reduce(k,function(g,h){g[c.getMemberCaption(h,0)]=g[c.getMemberUniqueName(h,0)]=h;return g},{})}l=this.tableMeasuresCache[j]||0}}return l};b.prototype.measuresCaptions=function(){var c=this;if(this.hasMeasuresAxis){return _.times(this.mdxResultTable.getAxes().getAxis(0).getTupleCount(),function(h){return c.getMeasureCaption(h)
})}};b.prototype.axisName=function(l){var m=this.mdxResultTable;var c=m.getAxes();var k=f.IcCubeMdxBuilder.hasMeasuresAxis(this.request,this.mdxResultTable)?1:0;var n=(k+l);if(n<c.getAxisCount()){return c.getAxis(n).getMemberLevelCaption(0,0)}return""};b.prototype.axisUniqueName=function(l){var m=this.mdxResultTable;
var c=m.getAxes();var k=f.IcCubeMdxBuilder.hasMeasuresAxis(this.request,this.mdxResultTable)?1:0;var n=(k+l);if(n<c.getAxisCount()){return c.getAxis(n).getMemberUniqueName(0,0)}return""};b.prototype.getMemberValue=function(k,l,c){if(c===void 0){c=0}var j=this.mdxResultTable.getAxes().getAxis(k);
return j==null?null:j.getMemberValue(l,c)};b.prototype.getMemberCaption=function(k,l,c){if(c===void 0){c=0}var j=this.mdxResultTable.getAxes().getAxis(k);return j==null?null:j.getMemberCaption(l,c)};b.prototype.getMemberUniqueName=function(k,l,c){if(c===void 0){c=0
}var j=this.mdxResultTable.getAxes().getAxis(k);return j==null?null:j.getMemberUniqueName(l,c)};b.prototype.getMemberParentUniqueName=function(k,l,c){if(c===void 0){c=0}var j=this.mdxResultTable.getAxes().getAxis(k);return j==null?null:j.getMemberParentUniqueName(l,c)
};b.prototype.getMemberLevelCaption=function(k,l,c){if(c===void 0){c=0}var j=this.mdxResultTable.getAxes().getAxis(k);return j==null?null:j.getMemberLevelCaption(l,c)};b.prototype.getMemberLevelUniqueName=function(k,l,c){if(c===void 0){c=0}var j=this.mdxResultTable.getAxes().getAxis(k);
return j==null?null:_.split(j.getMemberUniqueName(l,c),".").slice(0,-1).join(".")};b.prototype.getMemberAxisColor=function(k,l,c){if(c===void 0){c=0}var j=this.mdxResultTable.getAxes().getAxis(k);return j==null?null:j.getMemberColor(l,c)};b.prototype.getMemberLevelDepth=function(k,l,c){if(c===void 0){c=0
}var j=this.mdxResultTable.getAxes().getAxis(k);return j==null?null:j.getMemberLevelDepth(l,c)};b.prototype.getMemberChildrenCount=function(k,l,c){if(c===void 0){c=0}var j=this.mdxResultTable.getAxes().getAxis(k);return j==null?null:j.getMemberChildrenCount(l,c)
};b.prototype.getMemberHierarchyCaption=function(j,c){if(c===void 0){c=0}var i=this.mdxResultTable.getAxes().getAxis(j);return i==null?null:i.getMeta().getHierarchyCaption(c)};b.prototype.getMemberHierarchyUniqueName=function(j,c){if(c===void 0){c=0}var i=this.mdxResultTable.getAxes().getAxis(j);
return i==null?null:i.getMeta().getHierarchyUniqueName(c)};b.prototype.getMeasureCaption=function(c){if(this.hasMeasuresAxis){return this.getMemberCaption(0,c,0)}};b.prototype.LabelFunction=function(l,n,m){if(_.isFinite(m)){var o=this.mdxResultTable.getAxes().getAxis(m);
return _.times(o.getTupleLength(),function(g){return o.getMemberCaption(n,g)}).join(", ")}switch(l){case e.ROW:this.assertAnyIndex("rowLabel",n);var p=this.mdxResultTable.getAxes().getAxis(this.axisIndices.rowsAxis);return _.times(p.getTupleLength(),function(g){return p.getMemberCaption(n,g)
}).join(", ");case e.COLUMN:this.assertAnyIndex("columnLabel",n);if(this.axisIndices.columnsAxis<0){return f.IcCubeMdxBuilder.getDefaultMeasure(this.mdxResultTable)}else{var c=this.mdxResultTable.getAxes().getAxis(this.axisIndices.columnsAxis);return _.times(c.getTupleLength(),function(g){return c.getMemberCaption(n,g)
}).join(", ")}}};b.prototype.PivotLabelFunction=function(i,c,j){switch(i){case e.ROW:this.assertAllIndexes("PivotRowLabel",c,j);return this.mdxResultTable.getAxes().getAxis(this.axisIndices.rowsAxis).getMemberCaption(c,j);case e.COLUMN:this.assertAllIndexes("PivotColumnLabel",c,j);
return this.axisIndices.columnsAxis<0?f.IcCubeMdxBuilder.getDefaultMeasure(this.mdxResultTable):this.mdxResultTable.getAxes().getAxis(this.axisIndices.columnsAxis).getMemberCaption(j,c)}};b.prototype.ValueFunction=function(q,r,v,x,t){this.assertAnyIndex("Value",r,v,x);
x=_.isString(x)||_.isNumber(x)?x:"defaultMeasure";t=_.isArray(t)?t:_.isString(t)?[t]:q.slice();var u=this.mdxResultTable.getAxes();var p=this.mdxResultTable.getCells();var w;if(f.IcCubeMdxBuilder.hasMeasuresAxis(this.request,this.mdxResultTable)){var s=this.getMeasureIndex(x);
w=u.getAxisCount()>2?[s,v,r]:[s,r]}else{w=u.getAxisCount()>1?[v,r]:[r]}var c;do{c=p.getCellProperty(t.shift(),w)}while(!c&&t.length>0);return c};b.prototype.MinMaxValueFunction=function(K,x,A,C,D){var z=null;var G=null;var L=null;if(x===e.TABLE){G=A;L=C}else{z=A;
G=C;L=D}G=_.isString(G)||_.isNumber(G)?G:"defaultMeasure";L=_.isString(L)?L:"VALUE";var c=null;var y=null;if(x!==e.TABLE){c=x===e.ROW?z:null;y=x===e.COLUMN?z:null}var F=_.find(this.aggregationCache,{fixedColumnIndex:y,fixedRowIndex:c,measure:G,property:L});
if(_.isObject(F)&&_.isNumber(F[K])){return F[K]}var J=Number.MAX_VALUE;var H=_.lt;if(K==="max"){J=Number.MIN_VALUE;H=_.gt}var I=J;var w=this.getMeasureIndex(G);var B=f.UtilityFunctions.buildAxesIndexes(this.mdxResultTable,this.request,w,c,y);f.IcCubeMdxBuilder.processValues(this.mdxResultTable,B,L,function(g){if(_.isNumber(g)&&H(g,I)){I=g
}});if(I===J){return null}if(_.isObject(F)){F[K]=I}else{var E={fixedColumnIndex:y,fixedRowIndex:c,measure:G,property:L};E[K]=I;this.aggregationCache.push(E)}return I};b.prototype.PercentageFunction=function(s,q,t,x,p){this.assertAnyIndex("percentage",q,t);x=_.isString(x)||_.isNumber(x)?x:"defaultMeasure";
p=_.isString(p)?p:"VALUE";var c=this.getValue(q,t,x,p);if(s!==e.TABLE){q=s===e.ROW?q:null;t=s===e.COLUMN?t:null}var w=_.find(this.aggregationCache,{fixedColumnIndex:t,fixedRowIndex:q,measure:x,property:p});if(_.isObject(w)&&_.isNumber(w.sum)){return c/w.sum
}var u=0;var r=this.getMeasureIndex(x);var v=f.UtilityFunctions.buildAxesIndexes(this.mdxResultTable,this.request,r,q,t);f.IcCubeMdxBuilder.processValues(this.mdxResultTable,v,p,function(g){u+=g});if(_.isObject(w)){w.sum=u}else{this.aggregationCache.push({fixedColumnIndex:t,fixedRowIndex:q,measure:x,property:p,sum:u})
}return c/u};b.prototype.RankingFunction=function(u,x,s,v,z,r){this.assertAnyIndex("percentage",s,v);z=_.isString(z)||_.isNumber(z)?z:"defaultMeasure";r=_.isString(r)?r:"VALUE";var c=this.getValue(s,v,z,r);if(u!==e.TABLE){s=u===e.ROW?s:null;v=u===e.COLUMN?v:null
}var y=_.find(this.aggregationCache,{fixedColumnIndex:v,fixedRowIndex:s,measure:z,property:r});if(_.isObject(y)&&_.isNumber(y.sortedValues)){return x?y.sortedValues.length-y.sortedValues.indexOf(c):y.sortedValues.indexOf(c)}var q=[];var t=this.getMeasureIndex(z);
var w=f.UtilityFunctions.buildAxesIndexes(this.mdxResultTable,this.request,t,s,v);f.IcCubeMdxBuilder.processValues(this.mdxResultTable,w,r,function(g){q.push(g)});q=_.uniq(q);q.sort();if(_.isObject(y)){y.sortedValues=q}else{this.aggregationCache.push({fixedColumnIndex:v,fixedRowIndex:s,measure:z,property:r,sortedValues:q})
}return x?q.length-q.indexOf(c):q.indexOf(c)};b.prototype.ZoomValueFunction=function(t,p,v,s,r){this.assertAnyIndex("ZoomValue",t,p);var o=r?parseFloat(r):this.getValue(t,p);if(_.isNaN(o)||_.isNull(o)||_.isUndefined(o)){return null}v=parseFloat(v);s=parseFloat(s);
if(_.isNumber(v)&&!_.isNaN(v)&&_.isNumber(s)&&!_.isNaN(s)){var c=(o-v)/(s-v);if(c>0){if(c<1){return c}else{return 1}}else{return 0}}else{var u=v||this.MinInTable();var q=s||this.MaxInTable();if(_.isNumber(q)&&!_.isNaN(q)&&_.isNumber(u)&&!_.isNaN(u)){return b.prototype.ZoomValueFunction.call(this,t,p,u,q,o)
}else{return null}}};b.prototype.ClickFunction=function(j,k,l){var c=this.widgetAdapter.widget;switch(j){case e.ROW:this.assertAnyIndex("fireRowClick",k);return c.fireRowClick(c.getCoordinates(k,0,this.mdxResultTable));case e.COLUMN:this.assertAnyIndex("fireColumnClick",k);
return c.fireColumnClick(c.getCoordinates(0,k,this.mdxResultTable));case e.CELL:this.assertAnyIndex("fireCellClick",k,l);return c.fireCellClick(c.getCoordinates(k,l,this.mdxResultTable))}};return b}(f.WidgetContext));f.TableContext=d})(ic3||(ic3={}));(this&&this.__extends)||function(d,b){for(var g in b){if(b.hasOwnProperty(g)){d[g]=b[g]
}}function h(){this.constructor=d}d.prototype=b===null?Object.create(b):(h.prototype=b.prototype,new h())};var ic3;(function(d){var c=(function(a){__extends(b,a);function b(j,h,i){a.call(this,j,j.mdxResultTable,j.request);this.rowIndex=h;this.columnIndex=i}b.prototype.setCoordinates=function(v,x){var z=this;
this.rowIndex=v;this.columnIndex=x;var t=this.mdxResultTable.getCells();var C;var F={};if(d.IcCubeMdxBuilder.hasMeasuresAxis(this.request,this.mdxResultTable)){C=this.mdxResultTable.getAxes().getAxisCount()>2?[x,v]:[v];var A=this.mdxResultTable.getAxes().getAxis(0);
_.times(A.getTupleCount(),function(g){var e=[g].concat(C);var f=A.getMemberCaption(g,0);var h=A.getMemberUniqueName(g,0);F[f]=F[h]=_.transform(t.getPropertyNames(),function(i,j){i[j]=t.getCellProperty(j,e)},{});F[h].index=g;F[h].caption=f;z[f]=F[h].FORMATTED_VALUE||F[h].VALUE||(F[h].ERROR_CODE?d.IcCubeMdxBuilder.ERROR_MARKER+F[h].ERROR_DESCRIPTION:null)
});F.Value=F[A.getMemberCaption(0,0)];this["Value"]=this["RawValue"]=this[A.getMemberCaption(0,0)]}else{C=this.mdxResultTable.getAxes().getAxisCount()>1?[x,v]:[v];if(C.length>1){var y=this.mdxResultTable.getAxes().getAxis(this.axisIndices.columnsAxis);var E=_.times(y.getTupleLength()+1,function(e){return y.getMemberLevelCaption(C[0],e)
});var s=E.indexOf("MeasuresLevel");var B=y.getMemberCaption(this.columnIndex,s);var w=y.getMemberUniqueName(this.columnIndex,s);if(s<0){B=d.IcCubeMdxBuilder.getDefaultMeasure(this.mdxResultTable);w="[Measures]["+B+"]"}F[B]=F[w]=_.transform(t.getPropertyNames(),function(e,f){e[f]=t.getCellProperty(f,C)
},{});this[B]=F[w].VALUE||(F[w].ERROR_CODE?d.IcCubeMdxBuilder.ERROR_MARKER+F[w].ERROR_DESCRIPTION:null);F.Value=F[w];this["Value"]=F[w].FORMATTED_VALUE||this[B];this["RawValue"]=F[w].VALUE}else{var u=this.mdxResultTable.getSlicer();var D=u.getMemberCaption(0,u.getTupleLength()-1);
var w=u.getMemberUniqueName(0,u.getTupleLength()-1);F[D]=F[w]=_.transform(t.getPropertyNames(),function(e,f){e[f]=t.getCellProperty(f,C)},{});F[w].caption=D;this[D]=F[w].VALUE||(F[w].ERROR_CODE?d.IcCubeMdxBuilder.ERROR_MARKER+F[w].ERROR_DESCRIPTION:null);F.Value=F[w];
this["Value"]=F[w].FORMATTED_VALUE||this[D];this["RawValue"]=F[w].VALUE}}this["measures"]=F;this["Pivot Column Label"]=this.PivotColumnLabel(this.rowIndex,this.columnIndex);this["Pivot Row Label"]=this.PivotRowLabel(this.rowIndex,this.columnIndex);this["Column Label"]=this.ColumnLabel(this.columnIndex);
this["Row Label"]=this.RowLabel(this.rowIndex);this.rebindFunctions();this.rebindProperties()};b.prototype.rebindFunctions=function(){var f=this;var h=function(){var g=[];for(var e=0;e<arguments.length;e++){g[e-0]=arguments[e]}return _.find(g,function(j){return _.isNumber(j)
},null)};this.aggregationCache=this.aggregationCache||[];this.getValue=function(e,k){var l=[];for(var g=2;g<arguments.length;g++){l[g-2]=arguments[g]}return f.ValueFunction.apply(f,[["VALUE"],h(e,f.rowIndex),h(k,f.columnIndex)].concat(l))};this.getFValue=function(e,k){var l=[];
for(var g=2;g<arguments.length;g++){l[g-2]=arguments[g]}return f.ValueFunction.apply(f,[["FORMATTED_VALUE","VALUE"],h(e,f.rowIndex),h(k,f.columnIndex)].concat(l))};this.MaxInRow=function(g){var i=[];for(var e=1;e<arguments.length;e++){i[e-1]=arguments[e]}return f.MinMaxValueFunction.apply(f,["max",d.EvalScope.ROW,h(g,f.rowIndex)].concat(i))
};this.MinInRow=function(g){var i=[];for(var e=1;e<arguments.length;e++){i[e-1]=arguments[e]}return f.MinMaxValueFunction.apply(f,["min",d.EvalScope.ROW,h(g,f.rowIndex)].concat(i))};this.MaxInColumn=function(g){var i=[];for(var e=1;e<arguments.length;e++){i[e-1]=arguments[e]
}return f.MinMaxValueFunction.apply(f,["max",d.EvalScope.COLUMN,h(g,f.columnIndex)].concat(i))};this.MinInColumn=function(g){var i=[];for(var e=1;e<arguments.length;e++){i[e-1]=arguments[e]}return f.MinMaxValueFunction.apply(f,["min",d.EvalScope.COLUMN,h(g,f.columnIndex)].concat(i))
};this.MaxInTable=function(){var g=[];for(var e=0;e<arguments.length;e++){g[e-0]=arguments[e]}return f.MinMaxValueFunction.apply(f,["max",d.EvalScope.TABLE].concat(g))};this.MinInTable=function(){var g=[];for(var e=0;e<arguments.length;e++){g[e-0]=arguments[e]
}return f.MinMaxValueFunction.apply(f,["min",d.EvalScope.TABLE].concat(g))};this.PercentageRow=function(g){var i=[];for(var e=1;e<arguments.length;e++){i[e-1]=arguments[e]}return f.PercentageFunction.apply(f,[d.EvalScope.ROW,h(g,f.rowIndex),f.columnIndex].concat(i))
};this.PercentageCol=function(g){var i=[];for(var e=1;e<arguments.length;e++){i[e-1]=arguments[e]}return f.PercentageFunction.apply(f,[d.EvalScope.COLUMN,f.rowIndex,h(g,f.columnIndex)].concat(i))};this.PercentageTable=function(){var g=[];for(var e=0;e<arguments.length;
e++){g[e-0]=arguments[e]}return f.PercentageFunction.apply(f,[d.EvalScope.TABLE,f.rowIndex,f.columnIndex].concat(g))};this.RankingSmallLargeRow=function(g){var i=[];for(var e=1;e<arguments.length;e++){i[e-1]=arguments[e]}return f.RankingFunction.apply(f,[d.EvalScope.ROW,false,h(g,f.rowIndex),f.columnIndex].concat(i))
};this.RankingLargeSmallRow=function(g){var i=[];for(var e=1;e<arguments.length;e++){i[e-1]=arguments[e]}return f.RankingFunction.apply(f,[d.EvalScope.ROW,true,h(g,f.rowIndex),f.columnIndex].concat(i))};this.RankingSmallLargeColumn=function(g){var i=[];for(var e=1;
e<arguments.length;e++){i[e-1]=arguments[e]}return f.RankingFunction.apply(f,[d.EvalScope.COLUMN,false,f.rowIndex,h(g,f.columnIndex)].concat(i))};this.RankingLargeSmallColumn=function(g){var i=[];for(var e=1;e<arguments.length;e++){i[e-1]=arguments[e]}return f.RankingFunction.apply(f,[d.EvalScope.COLUMN,true,f.rowIndex,h(g,f.columnIndex)].concat(i))
};this.RankingSmallLargeTable=function(){var g=[];for(var e=0;e<arguments.length;e++){g[e-0]=arguments[e]}return f.RankingFunction.apply(f,[d.EvalScope.TABLE,false,f.rowIndex,f.columnIndex].concat(g))};this.RankingLargeSmallTable=function(){var g=[];for(var e=0;
e<arguments.length;e++){g[e-0]=arguments[e]}return f.RankingFunction.apply(f,[d.EvalScope.TABLE,true,f.rowIndex,f.columnIndex].concat(g))};this.ZoomValue=function(){var g=[];for(var e=0;e<arguments.length;e++){g[e-0]=arguments[e]}return f.ZoomValueFunction.apply(f,[f.rowIndex,f.columnIndex].concat(g))
};this.RowLabel=function(e){return f.LabelFunction(d.EvalScope.ROW,h(e,f.rowIndex))};this.ColumnLabel=function(g,e){return f.LabelFunction(d.EvalScope.COLUMN,h(g,f.columnIndex),e)};this.PivotRowLabel=function(e,g){return f.PivotLabelFunction(d.EvalScope.ROW,h(e,f.rowIndex),h(g,f.columnIndex))
};this.PivotColumnLabel=function(e,g){return f.PivotLabelFunction(d.EvalScope.COLUMN,h(e,f.rowIndex),h(g,f.columnIndex))};this.fireRowClick=function(e){return f.ClickFunction(d.EvalScope.ROW,h(e,f.rowIndex))};this.fireColumnClick=function(e){return f.ClickFunction(d.EvalScope.COLUMN,h(e,f.columnIndex))
};this.fireCellClick=function(e,g){return f.ClickFunction(d.EvalScope.CELL,h(e,f.rowIndex),h(g,f.columnIndex))}};b.prototype.rebindProperties=function(){var f=this;this.define("Max Value",function(){return f.MaxInTable()});this.define("Min Value",function(){return f.MinInTable()
});this.define("Row Max Value",function(){return f.MaxInRow(f.rowIndex)});this.define("Row Min Value",function(){return f.MinInRow(f.rowIndex)});this.define("Column Max Value",function(){return f.MaxInColumn(f.columnIndex)});this.define("Column Min Value",function(){return f.MinInColumn(f.columnIndex)
});_(this.measures).map("caption").uniq().each(function(e,h){f.define("Max "+e,function(){return f.MaxInTable(e)});f.define("Min "+e,function(){return f.MinInTable(e)});f.define("Row Max "+e,function(){return f.MaxInRow(f.rowIndex,e)});f.define("Row Min "+e,function(){return f.MinInRow(f.rowIndex,e)
});f.define("Column Max "+e,function(){return f.MaxInColumn(f.columnIndex,e)});f.define("Column Min "+e,function(){return f.MinInColumn(f.columnIndex,e)})})};b.prototype.getMeasureIndex=function(f){if(_.isFinite(f)){return f}return _.isObject(this.measures[f])?this.measures[f].index:0
};b.prototype.OffsetValue=function(p,m,n,l){var k=_.isNumber(p)?this.rowIndex+p:this.rowIndex;var o=_.isNumber(m)?this.columnIndex+m:this.columnIndex;return this.getValue(k,o,n,l)};return b}(d.TableContext));d.CellContext=c})(ic3||(ic3={}));var ic3;(function(a){var b;
(function(c){var d;(function(g){(function(h){h[h.VALUE=0]="VALUE";h[h.FORMATTED_VALUE=1]="FORMATTED_VALUE";h[h.COLOR=2]="COLOR";h[h.ERROR_CODE=3]="ERROR_CODE";h[h.ERROR_DESCRIPTION=4]="ERROR_DESCRIPTION"})(g.DataStructureColumnType||(g.DataStructureColumnType={}));
var f=g.DataStructureColumnType;var e=(function(){function h(){this.minimum=Number.MAX_VALUE;this.maximum=Number.MIN_VALUE}h.prototype.setDataSource=function(i){this.dataSource=i;return this};h.prototype.map=function(i){i.setRowsTitle(this.dataSource.getRowsTitle());
i.setColumnsTitle(this.dataSource.getColumnsTitle());this.initializeColumns(i);this.processRows(i);return i.build()};h.prototype.initializeColumns=function(j){for(var m=0,n=this.dataSource.getColumnCount();m<n;m++){var i=this.dataSource.getColumnTitle(m);var o=this.dataSource.getColumnValue(m);
var l=this.dataSource.getColumnProperties(m);var k=this.dataSource.getColumnType(m);j.addColumn(m,i,o,k,l)}};h.prototype.processRows=function(j){for(var n=0,i=this.dataSource.getRowCount();n<i;n++){var m=this.dataSource.getRowTitle(n);var k=this.dataSource.getRowValue(n);
var l=this.dataSource.getRowProperties(n);j.addRow(n,m,k,l);this.processColumns(j,n)}};h.prototype.processColumns=function(i,m){for(var j=0,l=this.dataSource.getColumnCount();j<l;j++){var k=this.dataSource.getValue(m,j);i.addValue(m,j,k);if(_.isNumber(k)){this.minimum=k<this.minimum?k:this.minimum;
this.maximum=k>this.maximum?k:this.maximum}}};h.prototype.getMaximum=function(){return this.maximum};h.prototype.getMinimum=function(){return this.minimum};return h}());g.MultidimensionalDataMapper=e})(d=c.data||(c.data={}))})(b=a.reporting||(a.reporting={}))
})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;
(function(h){var g=(function(){function k(){this.columnBuilders=[new e()];this.rowBuilder=new i()}k.prototype.setResultTable=function(l,m){var o=l.getAxes();var n=o.getAxisCount();if(this.axisCount>3){throw new Error("Too many axes to process with current implementation: "+this.axisCount)
}this.mdxResultTable=l;this.request=m;this.axisCount=n;if(n>0){this.rowAxis=o.getAxis(n-1);this.measuresAxis=this.hasMeasuresAxis()?o.getAxis(0):null;this.columnAxis=n==3||this.measuresAxis==null&&n==2?o.getAxis(n-2):null;this.cells=this.mdxResultTable.getCells()
}return this};k.prototype.setColumnBuilders=function(){var l=[];for(var m=0;m<arguments.length;m++){l[m-0]=arguments[m]}this.columnBuilders=l;return this};k.prototype.setRowBuilder=function(l){this.rowBuilder=l;return this};k.prototype.getRowBuilder=function(){return this.rowBuilder
};k.prototype.getRowCount=function(){if(this.axisCount<1){return 0}return this.rowAxis.getTupleCount()};k.prototype.getColumnCount=function(){if(this.axisCount<1){return 0}if(this.columnAxis==null){return this.columnBuilders.length}return this.columnAxis.getTupleCount()*this.columnBuilders.length
};k.prototype.getRowsTitle=function(){if(_.isObject(this.rowAxis)){var l=this.rowAxis.getMeta();return _.times(l.getTupleLength(),l.getHierarchyCaption.bind(l)).join(", ")}};k.prototype.getRowTitle=function(l){return this.rowBuilder.getRowTitle(this.rowAxis,l)
};k.prototype.getRowValue=function(l){return this.rowBuilder.getRowValue(this.rowAxis,l)};k.prototype.getRowProperties=function(l){return this.rowBuilder.getRowProperties(this.rowAxis,l)};k.prototype.getColumnsTitle=function(){return this.measuresAxis?this.measuresAxis.getMeta().getHierarchyCaption(0):this.mdxResultTable.getSlicer().getMemberCaption(0,this.mdxResultTable.getSlicer().getTupleLength()-1)
};k.prototype.getColumnTitle=function(m){var l=m%this.columnBuilders.length;return this.columnBuilders[l].getColumnTitle(this.rowAxis,this.columnAxis,(m-l)/this.columnBuilders.length)};k.prototype.getColumnValue=function(m){var l=m%this.columnBuilders.length;
return this.columnBuilders[l].getColumnValue(this.rowAxis,this.columnAxis,(m-l)/this.columnBuilders.length)};k.prototype.getColumnProperties=function(m){var l=m%this.columnBuilders.length;return this.columnBuilders[l].getColumnProperties(this.rowAxis,this.columnAxis,(m-l)/this.columnBuilders.length)
};k.prototype.getColumnType=function(m){var l=m%this.columnBuilders.length;return this.columnBuilders[l].getType()};k.prototype.getValue=function(p,n){var m=n%this.columnBuilders.length;var l=this.columnAxis?[(n-m)/this.columnBuilders.length,p]:[p];var o=this.getMeasuresMap(l);
return this.columnBuilders[m].getValue(o,this.mdxResultTable,n,p)};k.prototype.isDateBased=function(){if(_.isObject(this.rowAxis)){var l=this.rowAxis.getMeta().getHierarchyTypes(0);return this.rowAxis.getTupleLength()==1&&(l=="date"||l=="time")}};k.prototype.getDateFormat=function(){var l=this.rowAxis.getMeta().getHierarchyTypes(0);
if(l=="date"){return"YYYY-MM-DD"}else{if(l=="time"){return"YYYY-MM-DDTJJ:NN:SS.QQQ"}}return null};k.prototype.hasMeasuresAxis=function(){return _.isObject(this.request)&&a.IcCubeMdxBuilder.hasMeasuresAxis(this.request,this.mdxResultTable)};k.prototype.getMeasuresMap=function(l){var o=this.measuresAxis;
var n={ic3Coordinates:null};if(o){n.ic3Coordinates=[null].concat(l);for(var m=0,p=o.getTupleCount();m<p;m++){n[o.getMemberUniqueName(m,0)]=this.cellConverter([m].concat(l))}n[a.IcCubeMdxBuilder.DEFAULT_MEASURE]=n[o.getMemberUniqueName(0,0)]}else{n.ic3Coordinates=l;
n[a.IcCubeMdxBuilder.DEFAULT_MEASURE]=this.cellConverter(l)}return n};k.prototype.cellConverter=function(o){var n={};var m=this.cells.getPropertyNames();for(var l=0;l<m.length;l++){n[m[l]]=this.cells.getCellProperty(m[l],o)}return n};return k}());h.MdxResultTableSource=g;
var i=(function(){function k(){}k.prototype.getRowTitle=function(m,l){return _.times(m.getTupleLength(),m.getMemberCaption.bind(m,l)).join(", ")};k.prototype.getRowValue=function(m,l){return _.times(m.getTupleLength(),m.getMemberUniqueName.bind(m,l)).join(",")
};k.prototype.getRowProperties=function(m,l){return{pun:_.times(m.getTupleLength(),m.getMemberParentUniqueName.bind(m,l)).join(","),memberValue:_.times(m.getTupleLength(),m.getMemberValue.bind(m,l)).join(",")}};return k}());h.BasicRowBuilder=i;var f=(function(l){__extends(k,l);
function k(){l.apply(this,arguments)}k.prototype.getRowValue=function(n,m){return _.times(n.getTupleLength(),n.getMemberValue.bind(n,m)).join(",")};return k}(i));h.DateRowBuilder=f;var j=(function(){function k(l,m){this.type=l;this.suffix=_.isString(m)?m:""
}k.prototype.getColumnTitle=function(n,m,l){var o;if(m==null){var p=n.getMeta();o=_.times(p.getTupleLength(),p.getHierarchyCaption.bind(p)).join(", ")}else{o=_.times(m.getTupleLength(),m.getMemberCaption.bind(m,l)).join(", ")}return o+this.suffix};k.prototype.getColumnValue=function(o,n,l){var m;
if(n==null){m="value"}else{m=_.times(n.getTupleLength(),n.getMemberUniqueName.bind(n,l)).join(",")}return m+this.suffix};k.prototype.getValue=function(n,l,m,o){return null};k.prototype.getColumnProperties=function(n,m,l){return{}};k.prototype.getType=function(){return this.type
};return k}());h.AbstractColumnBuilder=j;var e=(function(l){__extends(k,l);function k(n,m){l.call(this,h.DataStructureColumnType.VALUE,m);this.valueExtractionFunction=n||k.defaultValueFunction}k.prototype.getValue=function(o,m,n,p){return this.valueExtractionFunction(o,m,n,p)
};k.defaultValueFunction=function(m){return m[a.IcCubeMdxBuilder.DEFAULT_MEASURE][k.VALUE_PROPERTY]};k.VALUE_PROPERTY="VALUE";return k}(j));h.ValueColumnBuilder=e})(d=c.data||(c.data={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(d){var e=(function(){function g(h){this.columnsPerCell=1;this.rowColumnsCount=0;this.built=false;this.dataTable=new google.visualization.DataTable();
this.cellBuilders=_.pickBy(h,function(i){return _.isObject(i)&&_.isFunction(i.func)&&(!i.kind||i.kind==="cell")});this.rowBuilders=_.pickBy(h,function(i){return _.isObject(i)&&_.isFunction(i.func)&&i.kind==="row"});this.columnsPerCell+=_.size(this.cellBuilders)
}g.prototype.setRowsTitle=function(h){this.dataTable.addColumn({id:"category",type:"string",label:h,role:"domain"});this.rowColumnsCount=1};g.prototype.setColumnsTitle=function(h){this.columnsTitle=h};g.prototype.addColumn=function(k,h,l,j,i){var m=this;this.dataTable.addColumn({id:l,type:"number",label:h});
_.map(this.cellBuilders,function(n,o){m.dataTable.addColumn({id:l+"_"+o,type:_.get(n,"type","string"),role:o})})};g.prototype.addRow=function(k,j,h,i){this.dataTable.addRow();this.dataTable.setCell(k,0,h,j,i)};g.prototype.addValue=function(m,j,k){var l=this;
var i=this.rowColumnsCount+j*this.columnsPerCell;this.dataTable.setCell(m,i,k);this.dataTable.setProperties(m,i,{rowIndex:m,columnIndex:j});var h=0;_.map(this.cellBuilders,function(n){l.dataTable.setCell(m,i+(++h),n.func(m,j))})};g.prototype.prepareTable=function(){var i=this;
var h=this.dataTable.getNumberOfColumns()-1;_.map(this.rowBuilders,function(j,k){i.dataTable.addColumn({id:k,type:_.get(j,"type","string"),role:k})});_.times(this.dataTable.getNumberOfRows(),function(k){var j=0;_.map(i.rowBuilders,function(l){i.dataTable.setCell(k,h+(++j),l.func(k))
})});return true};g.prototype.build=function(){this.built=this.built||this.prepareTable();return this.dataTable};return g}());d.GoogleDataTableMapper=e;var c=(function(h){__extends(g,h);function g(){h.apply(this,arguments)}g.prototype.setRowsTitle=function(i){this.dataTable.addColumn({id:"category",type:"date",label:i});
this.rowColumnsCount=1};g.prototype.addRow=function(m,l,j,k){if(_.isString(k.memberValue)){this.dataTable.addRow();var i=moment(k.memberValue,"YYYY-MM-DD").toDate();this.dataTable.setCell(m,0,i,l,k)}else{return h.prototype.addRow.call(this,m,l,j,k)}};return g
}(e));d.DateCategoryGoogleDataTableMapper=c;var b=(function(h){__extends(g,h);function g(){h.apply(this,arguments)}g.prototype.setRowsTitle=function(j){var k=this;var i=j.split(", ");_.each(i,function(l){k.dataTable.addColumn({id:l+"_domain",type:"string",label:l,role:"domain"});
k.rowColumnsCount++})};g.prototype.addRow=function(o,m,k,l){var n=this;var i=m.split(", ");var j=k.split(",");this.dataTable.addRow();_.times(this.rowColumnsCount,function(p){n.dataTable.setCell(o,p,j[p],i[p])})};return g}(e));d.MultiCategoryGoogleDataTableMapper=b;
var f=(function(g){__extends(h,g);function h(){g.apply(this,arguments)}h.prototype.setRowsTitle=function(i){};h.prototype.addRow=function(l,k,i,j){this.dataTable.addRow()};return h}(e));d.NoCategoryGoogleDataTableMapper=f;var a=(function(h){__extends(g,h);function g(){h.apply(this,arguments)
}g.prototype.addRow=function(l,k,i,j){return h.prototype.addRow.call(this,l,k,k,j)};return g}(e));d.GeoGoogleDataTableMapper=a})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var g=(function(){function i(){this.columnsDefinition=[];
this.data=[]}i.prototype.setRowsTitle=function(j){this.rowsTitle=j};i.prototype.setColumnsTitle=function(j){this.columnsTitle=j};i.prototype.addColumn=function(l,j,m,k){this.columnsDefinition.push({columnTitle:j,columnValue:m,type:k})};i.prototype.addRow=function(l,k,j){this.data[l]={};
this.data[l][i.CATEGORY_FIELD]=j;this.data[l][i.CATEGORY_ROW_FIELD]=l;this.data[l][i.CATEGORY_TITLE_FIELD]=k};i.prototype.addValue=function(l,j,k){this.data[l][this.columnsDefinition[j].columnValue]=k};i.prototype.build=function(){return this.data};i.prototype.getColumnsDefinitions=function(j){return _.filter(this.columnsDefinition,{type:j})
};i.prototype.getRowsTitle=function(){return this.rowsTitle};i.prototype.getColumnsTitle=function(){return this.columnsTitle};i.CATEGORY_FIELD="c";i.CATEGORY_ROW_FIELD="rowIndex";i.CATEGORY_TITLE_FIELD="rowTitle";return i}());h.AmChartsTable=g})(f=e.data||(e.data={}))
})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(ic3){var reporting;(function(reporting){var amcharts;(function(amcharts){var data;(function(data){var MdxResultTableSource=ic3.reporting.data.MdxResultTableSource;
var ValueColumnBuilder=ic3.reporting.data.ValueColumnBuilder;data.DEFAULT_MEASURE="[Measures].[Default]";data.CATEGORY_FIELD="category";data.COLOR_SUFFIX="Color";data.VALUE_PROPERTY="VALUE";(function(AmChartsDataProvider){AmChartsDataProvider[AmChartsDataProvider.MULTI_GRAPH=0]="MULTI_GRAPH";
AmChartsDataProvider[AmChartsDataProvider.SLICED=1]="SLICED";AmChartsDataProvider[AmChartsDataProvider.OHLC=2]="OHLC";AmChartsDataProvider[AmChartsDataProvider.GAUGE=3]="GAUGE";AmChartsDataProvider[AmChartsDataProvider.GANTT=4]="GANTT";AmChartsDataProvider[AmChartsDataProvider.WATERFALL=5]="WATERFALL"
})(data.AmChartsDataProvider||(data.AmChartsDataProvider={}));var AmChartsDataProvider=data.AmChartsDataProvider;function toSpecificAmChartDataProvider(tableContext,dataRenderOptions){var dataProviderType=dataRenderOptions.chartType.proto.dataProviderType;switch(dataProviderType){case AmChartsDataProvider.MULTI_GRAPH:return data.toMultiGraphChartDataProvider(tableContext,dataRenderOptions);
case AmChartsDataProvider.SLICED:return data.toSlicedChartDataProvider(tableContext,dataRenderOptions);case AmChartsDataProvider.OHLC:return data.toOpenCloseChartDataProvider(tableContext,dataRenderOptions);case AmChartsDataProvider.GAUGE:return data.toAngularGaugeDataProvider(tableContext,dataRenderOptions);
case AmChartsDataProvider.GANTT:return data.toGanttChartDataProvider(tableContext,dataRenderOptions);case AmChartsDataProvider.WATERFALL:return data.toAmChartWaterfallDataProvider(tableContext,dataRenderOptions);default:throw new Error("Unknown data provider type: "+dataProviderType)
}}data.toSpecificAmChartDataProvider=toSpecificAmChartDataProvider;function selectSpecificChartItems(tableContext,dataRenderOptions,chartData,oldItems,newItems){var dataProviderType=dataRenderOptions.chartType.proto.dataProviderType;switch(dataProviderType){case AmChartsDataProvider.MULTI_GRAPH:return data.selectMultiGraphChartItems(tableContext,chartData,oldItems,newItems);
default:throw new Error("Unknown data provider type: "+dataProviderType)}}data.selectSpecificChartItems=selectSpecificChartItems;function buildCoordinateTable(tableContext){return new MdxResultTableSource().setResultTable(tableContext.mdxResultTable,tableContext.request).setColumnBuilders(new ValueColumnBuilder(function(mMap,mdxTable,columnIndex,rowIndex){return mMap.ic3Coordinates
},"_ic3Coordinates"))}data.buildCoordinateTable=buildCoordinateTable;function createGraph(dataRenderOptions,graphProto,graphsConfiguration,valueField,title,colorField,lineColor){var graph=new AmCharts.AmGraph();_.merge(graph,graphProto,graphsConfiguration.graph);
graph.valueField=valueField;graph.title=title;if(colorField){graph.colorField=colorField}if(lineColor){graph.lineColor=lineColor}return graph}data.createGraph=createGraph;function cellConverter(cells,coordinates){var cellProperties={};var cellPropertyNames=cells.getPropertyNames();
for(var cellPropertyIndex=0;cellPropertyIndex<cellPropertyNames.length;cellPropertyIndex++){cellProperties[cellPropertyNames[cellPropertyIndex]]=cells.getCellProperty(cellPropertyNames[cellPropertyIndex],coordinates)}return cellProperties}data.cellConverter=cellConverter;
function toMeasuresMap(cells,measuresCoordinates,measuresAxis){var measuresMap={};if(measuresAxis){for(var measureIndex=0,measureCount=measuresAxis.getTupleCount();measureIndex<measureCount;measureIndex++){measuresMap[measuresAxis.getMemberUniqueName(measureIndex,0)]=cellConverter(cells,[measureIndex].concat(measuresCoordinates))
}measuresMap[data.DEFAULT_MEASURE]=measuresMap[measuresAxis.getMemberUniqueName(0,0)]}else{measuresMap[data.DEFAULT_MEASURE]=cellConverter(cells,measuresCoordinates)}return measuresMap}data.toMeasuresMap=toMeasuresMap;function getValueColorFunction(tableContext,dataRenderOptions){var colorMode=dataRenderOptions.colorMode;
if(!colorMode){return null}var l=function(mode){return tableContext.reportingContext.getEvaluator().evaluate(mode)};switch(colorMode.mode){case l(ic3.reporting.editor.ColorModeType.PALETTE_FOR_CATEGORIES):case l(ic3.reporting.editor.ColorModeType.PALETTE_FOR_VALUES):case l(ic3.reporting.editor.ColorModeType.EXPRESSION):case l(ic3.reporting.editor.ColorModeType.MDX_PROP):case l(ic3.reporting.editor.ColorModeType.MDX_MEASURE):case l(ic3.reporting.editor.ColorModeType.CONDITIONAL):return function(value,category,graphIndex,min,max,col,row){var cellContext=ic3.ContextEvaluator.setCellContext(tableContext,col,row),evaluatedRenderer=ic3.ContextEvaluator.evaluate(colorMode,cellContext,"CELL");
return new ic3.ColorEvaluator(cellContext,evaluatedRenderer,colorMode).evaluate()};default:return null}}data.getValueColorFunction=getValueColorFunction;function getCategoryColorFunction(tableContext,dataRenderOptions){var colorMode=dataRenderOptions.colorMode;
if(!colorMode){return null}var l=function(mode){return tableContext.reportingContext.getEvaluator().evaluate(mode)};switch(colorMode.mode){case l(ic3.reporting.editor.ColorModeType.SINGLE_COLOR):case l(ic3.reporting.editor.ColorModeType.PALETTE):return function(col){var cellContext=ic3.ContextEvaluator.setCellContext(tableContext,col,0),evaluatedRenderer=ic3.ContextEvaluator.evaluate(colorMode,cellContext,"CELL");
return new ic3.ColorEvaluator(cellContext,evaluatedRenderer,colorMode).evaluate()};default:return null}}data.getCategoryColorFunction=getCategoryColorFunction;function colorField(field){return field+data.COLOR_SUFFIX}data.colorField=colorField;function evalFunction(options,functionName){return options[functionName]?eval("("+options[functionName]+")"):null
}data.evalFunction=evalFunction;function getTupleCategory(axis,tupleIndex,startPosition){return _.map(_.range(startPosition||0,axis.getTupleLength()),axis.getMemberCaption.bind(axis,tupleIndex)).join(",")}data.getTupleCategory=getTupleCategory;function createBaloonFunction(tableContext,evalFunc){var mdxResultTable=tableContext.mdxResultTable;
var axes=mdxResultTable.getAxes();return function(graphDataItem){var _a=graphDataItem.dataContext,columnIndex=_a.columnIndex,rowIndex=_a.rowIndex;if(rowIndex===undefined){var coords=graphDataItem.dataContext[(_.split(graphDataItem.graph.valueField,"_")[0]+"_ic3Coordinates")];
var columnShift=ic3.IcCubeMdxBuilder.hasMeasuresAxis(tableContext.request,tableContext.mdxResultTable)?1:0;columnIndex=axes.getAxisCount()>columnShift+1?coords[columnShift]:undefined;rowIndex=coords[coords.length-1]}var cellContext=new ic3.PublicCellContext(ic3.ContextEvaluator.setCellContext(tableContext,columnIndex,rowIndex));
return graphDataItem.graph.chart.formatString(evalFunc(cellContext),graphDataItem)}}data.createBaloonFunction=createBaloonFunction})(data=amcharts.data||(amcharts.data={}))})(amcharts=reporting.amcharts||(reporting.amcharts={}))})(reporting=ic3.reporting||(ic3.reporting={}))
})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(i){function g(n,y){var k=y.graphsConfiguration[0];var s=n.mdxResultTable.getAxes().getAxisCount();var C=k.balloonFormat;var r={startField:"start",durationField:"duration",endField:"end",startDateField:"start",endDateField:"end",colorField:"color",segmentsField:"segments",categoryField:"category",period:k.durationFormat,dataProvider:[],valueAxis:{},graph:_.cloneDeep(k.graph)};
if(s<1){return r}if(s>3){throw new Error("Unexpected axis count in mdx result: "+s)}if(_.isObject(C)&&_.isFunction(C.evalFunction)){r.graph.balloonFunction=i.createBaloonFunction(n,C.evalFunction)}else{if(_.isString(C)){r.graph.balloonText=C}}var B=true;for(var p=0,q=n.rowsCount;
p<q;p++){var w=[];var x={segments:w,category:n.RowLabel(p)};for(var z=0,A=n.columnsCount||1;z<A;z++){var t=a.ContextEvaluator.setCellContext(n,z,p);var j=h(t,p,z,k.durationFieldFunction);var m=k.startFieldFunction&&h(t,p,z,k.startFieldFunction);var l=k.endFieldFunction&&h(t,p,z,k.endFieldFunction);
if(m&&(l||j)){var u=_.isNaN(+m)&&moment(m).isValid();var v=!_.isNaN(+j);var o=l&&moment(l).isValid();B=B&&u;if(v&&!o){l=u?moment.utc(m).add(1000*j).format():m+j;j=undefined}w.push({start:m,duration:j,end:l,rowTitle:t.RowLabel(),title:t.ColumnLabel(),color:k.colorMode?(new a.ColorEvaluator(t,a.ContextEvaluator.evaluate(k.colorMode,t,"CELL"),k.colorMode).evaluate()):null})
}}r.dataProvider.push(x)}if(B){r.valueAxis.type="date"}return r}i.toGanttChartDataProvider=g;function h(j,m,l,k){if(_.isString(k)){return j.getValue(m,l,k)}else{if(_.isObject(k)){return a.ContextEvaluator.evaluate(k,j,"CELL")}}return j.getValue(m,l)}})(f=e.data||(e.data={}))
})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(i){function g(l,n){var q=_.merge({axes:[{}]},n,n.chartOptions);var k={arrows:[],axes:[]};var p=l.mdxResultTable.getAxes();
var o=p.getAxisCount();if(o<1){return k}if(o>3){throw new Error("Unexpected axis count in mdx result: "+o)}var m=l.MinInTable();var j=l.MaxInTable();return _.map(l.rowsIndices,function(s){var r={};r.axes=_.map(q.axes,function(t){return{startValue:t.startValue!=null?t.startValue:m,endValue:t.endValue!=null?t.endValue:j}
});r.arrows=_.map(l.columnsIndices||[0],function(u){var t=a.ContextEvaluator.setCellContext(l,u,s);return _.pickBy({value:h(t,s,u,n.valueFieldFunction),color:n.colorMode&&new a.ColorEvaluator(t,a.ContextEvaluator.evaluate(n.colorMode,t,"CELL"),n.colorMode).evaluate()},_.identity)
});return r})}i.toAngularGaugeDataProvider=g;function h(j,m,l,k){if(_.isString(k)){return j.getValue(m,l,k)}else{if(_.isObject(k)){return a.ContextEvaluator.evaluate(k,j,"CELL")}}return j.getValue(m,l)}})(f=e.data||(e.data={}))})(d=c.amcharts||(c.amcharts={}))
})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(q){var i=a.reporting.data.MdxResultTableSource;var s=a.reporting.data.MultidimensionalDataMapper;var n=a.reporting.data.DataStructureColumnType;
var h=a.reporting.data.ValueColumnBuilder;var k=a.reporting.data.DateRowBuilder;var m=["alphaField","bulletField","bulletSizeField","colorField","customBulletField","descriptionField","fillColorsField","labelColorField","lineColorField","urlField","closeField","highField","lowField","openField","valueField","xField","yField","rowIndex","columnIndex"];
var r=function(t,u,v){if(t=="xy"){return v=="valueField"||v=="xField"||v=="yField"}if(t=="serial"&&_.includes(u,"ohlc")){if(v=="openField"||v=="highField"||v=="lowField"||v=="closeField"){return true}}return v=="valueField"};function j(w,H){H.graphsConfiguration=H.graphsConfiguration||[{}];
var y=_.get(H,"chartType.proto.chartPrototype.type");var u=_.map(H.graphsConfiguration,function(L){return _.get(L,"graph.type")});var v=_.transform(H.graphsConfiguration,function(M,N,L){_.each(m,function(R){var O=R+"Function";var Q=null;var P=N[O]||(_.isObject(N.graph)?N.graph[O]:undefined);
if(_.isFunction(P)){Q=function(V,S,U,W){var T=a.ContextEvaluator.setCellContext(w,Math.floor(U/v.length),W);return P(T)}}else{if(_.isObject(P)&&_.isFunction(P.evalFunction)){Q=function(V,S,U,W){var T=a.ContextEvaluator.setCellContext(w,Math.floor(U/v.length),W);
return P.evalFunction(T)}}else{if(_.isString(P)){Q=function(V,S,U,X){var T=a.ContextEvaluator.setCellContext(w,Math.floor(U/v.length),X);var W=T.measures[P]&&T.measures[P]["VALUE"];if(!W){W=a.ContextEvaluator.evaluate(P,T,"CELL")}return W}}else{if(r(y,u,R)){Q=function(S){return S[a.IcCubeMdxBuilder.DEFAULT_MEASURE]["VALUE"]
}}else{if(R==="alphaField"){Q=function(S){return 1}}}}}}if(Q!=null){M.push(new h(Q,"_"+R+"_"+L))}});return M},[]);v.push(new h(function(N,L,M,O){return N.ic3Coordinates},"_ic3Coordinates"));var D=(x=new i().setResultTable(w.mdxResultTable,w.request)).setColumnBuilders.apply(x,v);
var K=new s().setDataSource(D);var t=new q.AmChartsTable();var A={categoryAxis:_.cloneDeep(H.categoryAxis)||{},categoryField:q.AmChartsTable.CATEGORY_FIELD,legend:_.cloneDeep(H.legend)||{},graphs:[],valueAxes:[]};if(D.isDateBased()&&A.categoryAxis.parseDates){D.setRowBuilder(new k());
A.dataDateFormat=D.getDateFormat();A.chartScrollbar={autoGridCount:true}}A.dataProvider=K.map(t);if(!D.isDateBased()||!A.categoryAxis.parseDates){var B=_.get(A.categoryAxis,"labelFormat");var I=_.get(A.categoryAxis,"labelFrequency");var z=I?function(L,M){return L.dataContext[q.AmChartsTable.CATEGORY_ROW_FIELD]%I?"":M
}:function(L,M){return M};if(_.isObject(B)&&_.isFunction(B.evalFunction)){A.categoryAxis.labelFunction=function(N,M,O){var P=_.indexOf(O.data,M);var L=a.ContextEvaluator.setCellContext(w,null,P);return z(M,B.evalFunction(L))}}else{A.categoryAxis.labelFunction=function(M,L,N){return z(L,L.dataContext[q.AmChartsTable.CATEGORY_TITLE_FIELD])
}}}if(_.isObject(A.categoryAxis.title)&&_.isFunction(A.categoryAxis.title.evalFunction)){A.categoryAxis.title=A.categoryAxis.title.evalFunction(w)}else{if(_.isString(A.categoryAxis.title)){A.categoryAxis.title=A.categoryAxis.title.replace(/\[\[MDX Row Caption]]/g,t.getRowsTitle())
}}_.each(H.graphsConfiguration,function(U,V){var T=q.getValueColorFunction(w,U);var L=q.getCategoryColorFunction(w,U);var M=_.filter(t.getColumnsDefinitions(n.VALUE),function(W){var X="_"+V;return W.columnTitle.indexOf(X,W.columnTitle.length-X.length)!==-1});
var O=_.uniq(_.map(M,function(W){return W.columnTitle.replace(/_[^_]*_\d*$/g,"")}));var P=_.map(O,function(X,W){var Y=H.chartType.proto.graphPrototype;Y=V>0?_.pick(Y,["type"]):Y;var Z=q.createGraph(H,Y,U,null,X,null,L?L(W):null);_.each(m,function(ab){var aa=_.find(M,{columnTitle:X+"_"+ab+"_"+V});
if(_.isObject(aa)){Z[ab]=aa.columnValue}});if(w.axisIndices.columnsAxis===-1){Z.title=U.valueFieldFunction||_.first(w.measuresCaptions());Z.title=_.isString(Z.title)?Z.title:"Value"}return Z});if(T){A.legend.markerSize=0;_.each(P,function(W){W.colorField=q.colorField(W.valueField)
});var S=K.getMinimum();var Q=K.getMaximum();_.each(A.dataProvider,function(W){_.each(P,function(ac,ab){var aa=W[ac.valueField];if(_.isNumber(aa)){var ad=w.mdxResultTable.getAxes();var Z=W[(_.split(ac.valueField,"_")[0]+"_ic3Coordinates")];var X=a.IcCubeMdxBuilder.hasMeasuresAxis(w.request,w.mdxResultTable)?1:0;
var Y=ad.getAxisCount()>X+1?Z[X]:undefined;var ae=Z[Z.length-1];W[ac.colorField]=T(aa,W[q.AmChartsTable.CATEGORY_FIELD],ab,S,Q,Y,ae)}})})}p(A,H,P,U,"valueAxis",w);p(A,H,P,U,"xAxis",w);p(A,H,P,U,"yAxis",w);var N=_.get(U,"balloonFormat");if(_.isUndefined(N)){N="[[title]] : [[value]]"
}if(_.isObject(N)&&_.isFunction(N.evalFunction)){_.each(P,function(W){W.balloonFunction=q.createBaloonFunction(w,N.evalFunction)})}else{if(_.isString(N)){_.each(P,function(W){W.balloonText=N})}}_.set(A,"chartCursor.categoryBalloonFunction",function(W){return(_.get(_.find(A.dataProvider,{c:W}),[q.AmChartsTable.CATEGORY_TITLE_FIELD],W))
});(R=A.graphs).push.apply(R,P);var R});var C=w.mdxResultTable.getAxes().getAxis(w.mdxResultTable.getAxes().getAxisCount()-1);if(C!=null&&H.automaticCategoryGuides!==false&&C.getTupleLength()>1){if(!A.rotate){A.marginTop=30}A.categoryAxis.guides=A.categoryAxis.guides||[];
var J=null;for(var F=0,G=C.getTupleCount();F<G;F++){var E=C.getMemberCaption(F,0);if(J&&E!=J.label){J.toCategory=D.getRowBuilder().getRowValue(C,F-1);A.categoryAxis.guides.push(J);J=null}if(!J){J=_.merge({},H.chartType.proto.guidePrototype,{category:D.getRowBuilder().getRowValue(C,F),label:E})
}A.dataProvider[F][q.AmChartsTable.CATEGORY_TITLE_FIELD]=q.getTupleCategory(C,F,1)}if(J){J.toCategory=D.getRowBuilder().getRowValue(C,C.getTupleCount()-1);A.categoryAxis.guides.push(J)}}return A;var x}q.toMultiGraphChartDataProvider=j;function l(t,x,y,v){var u=x.graphs,w=x.dataProvider;
var z=function(A,B){return _.map(A,function(C){var D=C.column,E=C.row;if(D!=null&&E!=null){w[E][u[D].alphaField]=B}})};x.dataProvider=x.dataProvider.slice();z(y,1);z(v,0.3);return x}q.selectMultiGraphChartItems=l;function p(D,C,z,B,v,u){var A=_.get(B,"graph."+v+"Mode");
if(A=="New"){var y=_.cloneDeep(B[v])||{};y.id=y.id||v+D.valueAxes.length;D.valueAxes.push(y);_.each(z,function(E){E[v]=y.id})}else{if(_.isString(A)&&A!="Default"){var t=parseInt(A.match(/\d+$/)[0],10);if(_.isObject(C.graphsConfiguration[t])&&C.graphsConfiguration[t][v+"Mode"]=="New"){_.each(z,function(E){E[v]=v+t
})}else{var x=g(D,C,v,u);_.each(z,function(E){E[v]=x.id})}}else{var w=g(D,C,v,u);_.each(z,function(E){E[v]=w.id})}}}function g(B,A,w,v){var z=_.get(A,"chartType.proto.chartPrototype.type");var u=_.find(B.valueAxes,{id:w+"Default"});if(_.isObject(u)){return u
}var x={};switch(true){case (z==="xy"&&w==="xAxis"):x.title=_.get(A.graphsConfiguration,[0,"xFieldFunction"]);break;case (z==="xy"&&w==="yAxis"):x.title=_.get(A.graphsConfiguration,[0,"yFieldFunction"]);break}var y;if(_.isArray(A.valueAxis)){switch(w){case"xAxis":y=_.get(A.valueAxis,"0");
break;case"yAxis":y=_.get(A.valueAxis,"1");break;default:y={}}}else{y=A.valueAxis}y=o(y,v);var t=_.merge({id:w+"Default"},x,y);B.valueAxes.push(t);return t}function o(v,u){if(!_.isObject(v)){return v}if(_.isFunction(v.evalFunction)){if(v.contextType==="AmChart"){return function(y,x,z){var w=_.assign(u,{AmChartValue:y,AmChartValueText:x});
return v.evalFunction(w)}}return v.evalFunction(u)}var t={};_.forOwn(v,function(x,w){t[w]=o(x,u)});return t}})(f=e.data||(e.data={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;
(function(e){var f;(function(h){function g(l,D){var o={categoryField:h.CATEGORY_FIELD,dataProvider:[],graphs:[]};var u=l.mdxResultTable.getAxes();var p=u.getAxisCount();if(p<1){return o}if(p>3){throw new Error("Unexpected axis count in mdx result: "+p)}var q=u.getAxis(p-1);
var C=a.IcCubeMdxBuilder.hasMeasuresAxis(l.request,l.mdxResultTable)?u.getAxis(0):null;var s=p==3||!C&&p==2?u.getAxis(p-2):null;var j=new AmCharts.AmGraph();var n=D.chartType.proto.graphPrototype;_.merge(j,n,{openField:"o",highField:"h",lowField:"l",closeField:"c"});
o.graphs.push(j);var k=l.mdxResultTable.getCells();var w=[j.openField,j.closeField,j.highField,j.lowField,j.valueField];var z=[h.evalFunction(D,"openValueFunction"),h.evalFunction(D,"closeValueFunction"),h.evalFunction(D,"highValueFunction"),h.evalFunction(D,"lowValueFunction")];
var r=Number.MAX_VALUE;var v=Number.MIN_VALUE;for(var x=0,y=q.getTupleCount();x<y;x++){var m={};m[h.CATEGORY_FIELD]=_.times(q.getTupleLength(),q.getMemberCaption.bind(q,x)).join(",");for(var A=0;A<w.length;A++){var B=s&&s.getTupleCount()>A?A:0;var i=s?[B,x]:[x];
var E=h.toMeasuresMap(k,i,C);if(z[A]){m[w[A]]=z[A](E)}else{m[w[A]]=E[h.DEFAULT_MEASURE][h.VALUE_PROPERTY]}var t=m[w[A]];if(_.isNumber(t)&&t<r){r=t}if(_.isNumber(t)&&t>v){v=t}}o.dataProvider.push(m)}return o}h.toOpenCloseChartDataProvider=g})(f=e.data||(e.data={}))
})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){function g(p,A){var s={titleField:h.CATEGORY_FIELD,valueField:h.VALUE_PROPERTY,dataProvider:[]};
var k=_.get(A,"valueFunction.evalFunction");var l=h.getValueColorFunction(p,A);var B=h.getCategoryColorFunction(p,A);var x=p.mdxResultTable.getAxes();var n=p.mdxResultTable.getCells();var z=a.IcCubeMdxBuilder.hasMeasuresAxis(p.request,p.mdxResultTable)?x.getAxis(0):null;
var q=z?1:0;var m=_.times(x.getAxisCount()-q,function(){return 0});if(l){s.colorField=h.colorField(h.VALUE_PROPERTY)}var u=Number.MAX_VALUE;var y=Number.MIN_VALUE;dataLoop:while(true){var C=h.toMeasuresMap(n,m,z);var r={ic3Coordinates:_.isObject(z)?[null].concat(m):m.slice(),columnIndex:m.length>1?m[0]:0,rowIndex:m.length>1?m[1]:m[0]};
r[h.CATEGORY_FIELD]=_.map(m,function(E,i){var D=x.getAxis(q+i);return _.times(D.getTupleLength(),D.getMemberCaption.bind(D,E)).join(",")}).join(", ");if(_.isFunction(k)){var t=a.ContextEvaluator.setCellContext(p,r.columnIndex,r.rowIndex);r[h.VALUE_PROPERTY]=k(t)
}else{r[h.VALUE_PROPERTY]=C[h.DEFAULT_MEASURE][h.VALUE_PROPERTY]}var v=r[h.VALUE_PROPERTY];if(_.isNumber(v)&&v<u){u=v}if(_.isNumber(v)&&v>y){y=v}s.dataProvider.push(r);for(var w=0;w<m.length;w++){if(m[w]<x.getAxis(q+w).getTupleCount()-1){m[w]++;break}else{if(w==m.length-1){break dataLoop
}else{m[w]=0}}}}if(l||B){s.colors=[];_.each(s.dataProvider,function(D,i){if(l){if(_.isNumber(D[h.VALUE_PROPERTY])){D[h.colorField(h.VALUE_PROPERTY)]=l(D[h.VALUE_PROPERTY],D[h.CATEGORY_FIELD],i,u,y,D.columnIndex,D.rowIndex)}}else{if(B){s.colors.push(B(i))}}})
}var o=_.get(A,"balloonFormat");if(_.isObject(o)&&_.isFunction(o.evalFunction)){s.balloonFunction=h.createBaloonFunction(p,o.evalFunction)}else{if(_.isString(o)){s.balloonText=o}}var j=_.get(A,"titleFieldFunction");if(_.isObject(j)&&_.isFunction(j.evalFunction)){s.labelFunction=h.createBaloonFunction(p,j.evalFunction)
}else{if(_.isString(j)){s.labelText=j}}return s}h.toSlicedChartDataProvider=g})(f=e.data||(e.data={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){function g(l,y){var o={categoryAxis:_.cloneDeep(y.categoryAxis)||{},categoryField:a.reporting.amcharts.data.AmChartsTable.CATEGORY_FIELD,legend:_.cloneDeep(y.legend)||{},graphs:_.isEmpty(y.graphsConfiguration)?[{}]:[_.cloneDeep(y.graphsConfiguration[0].graph)],dataProvider:[],marginTop:30};
var u=_.isEmpty(y.graphsConfiguration)?{}:y.graphsConfiguration[0];var A=u.balloonFormat;var s=o.categoryAxis.guides=o.categoryAxis.guides||[];var w=l.mdxResultTable.getAxes();var p=w.getAxisCount();if(p<1){return o}if(p>3){throw new Error("Unexpected axis count in mdx result: "+p)
}var k=w.getAxis(p-1);var j=k.getTupleLength()>=2&&_.get(y,"categoryAxis.automaticCategoryGuides",true);if(k.getTupleCount()<1){return o}if(k.getTupleLength()!=2&&!u.baseColumns){throw new Error("The rows axis should have either exactly two levels or base columns field specified to build a waterfall chart")
}var i=o.graphs[0];i.valueField="close";i.openField="open";if(u.colorMode){i.colorField="color"}o.categoryAxis.labelFunction=function(E,D,F){return D.dataContext.rowTitle};if(_.isObject(A)&&_.isFunction(A.evalFunction)){i.balloonFunction=h.createBaloonFunction(l,A.evalFunction)
}else{if(_.isString(A)){i.balloonText=A}}var z=null;var t=null;var v=null;var r=null;var C=null;var q=u.baseColumns!=null;var B=_.split((u.baseColumns||"").toLowerCase(),"|");var x=function(G,D){var F=function(O){var K=G<=0&&O<=0;var M=G>=D-1&&O>=l.columnsCount-1;
var N=a.ContextEvaluator.setCellContext(l,O,G);var J=a.ContextEvaluator.evaluate(u.colorMode,N,"CELL");var I=k.getMemberCaption(G,0);var L=_.range(k.getTupleLength()>1?1:0,k.getTupleLength()).map(function(R){return k.getMemberCaption(G,R)}).join(",");var H=L.toLowerCase();
t=_.times(k.getTupleLength(),function(R){return k.getMemberUniqueName(G,R)}).join(",");var Q=null;if(_.isString(u.valueFieldFunction)){Q=N.getValue(G,O,u.valueFieldFunction)}else{if(_.isObject(u.valueFieldFunction)){Q=a.ContextEvaluator.evaluate(u.valueFieldFunction,N,"CELL")
}}if(Q==null){Q=N.getValue(G,O)}var P=q&&(_.reduce(B,function(S,R){return S||~H.indexOf(R)},0)||(N.hasMeasuresAxis&&N.measures[u.baseColumns]&&N.getValue(G,O,u.baseColumns)));if(q&&(K||P)){if(j){(z!=null)&&s.push(_.assign(z,{toCategory:t}));s.push(_.assign({},y.chartType.proto.guidePrototype,{label:I,category:t,toCategory:t}));
z=M?null:_.assign({},y.chartType.proto.guidePrototype,{label:I,category:t})}r=0;C=I}else{if(!q&&I!=C){if(j){if(v==null){(z!=null)&&s.push(_.assign(z,{toCategory:t}));s.push(_.assign({},y.chartType.proto.guidePrototype,{label:I,category:t,toCategory:t}))}else{z=M?null:_.assign({},y.chartType.proto.guidePrototype,{label:I,category:t})
}}if(v==null){v=G;r=0}else{v=null}C=I}}o.dataProvider.push({c:t,title:I,rowTitle:L,open:r,close:r+Q,delta:Q,color:new a.ColorEvaluator(N,J,u.colorMode).evaluate()});r+=Q};for(var E=0;E<l.columnsCount;E++){F(E)}};for(var n=0,m=k.getTupleCount();n<m;n++){x(n,m)
}(z!=null)&&s.push(_.assign(z,{toCategory:t}));return o}h.toAmChartWaterfallDataProvider=g})(f=e.data||(e.data={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var viz;(function(a){var b;(function(c){var d;(function(g){function e(j,l){var i=ic3.IcCubeMdxBuilder;
var h={};var o=j.getAxes();var n=o.getAxisCount();for(var m=0;m<n;++m){var k=o.getAxis(m);if(m===n-1){h.rows=k}else{if(i.hasMeasuresAxis(l,j)){h.measures=k}else{h.cols=k}}}return h}g.getMdxAxes=e;function f(q,l,j,r){var p=e(q,l),s=p.rows,h=p.measures;var o=[];
var n=[];if(h&&typeof r!=="undefined"){for(var m=r,k=h.getTupleCount();m<k;++m){o.push(h.getMemberUniqueName(m,0));n.push(h.getMemberCaption(m,0))}}if(s){for(var m=0,k=s.getTupleLength();m<k;++m){o.push(s.getMemberUniqueName(j,m));n.push(s.getMemberCaption(j,m))
}}return n.length<=0?null:{name:n.length<=1?n[0]:n.join(),uniqueName:n.length<=1?o[0]:a.asMdxTuple(o,false)}}g.tupleInfo=f})(d=c.data||(c.data={}))})(b=a.charts||(a.charts={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(a){var b;(function(c){var d=(function(e){__extends(f,e);function f(h,g){e.call(this,h,g);this.state={}}f.prototype.producedEvents=function(){return[a.EventType.onRowClick,a.EventType.onCellClick,a.EventType.onLegendClick]
};f.prototype.componentDidMount=function(){this.chartWrapper=new google.visualization.ChartWrapper();this.applyErrorHandler();if(a.isCaptureMousePositionActive){$(ReactDOM.findDOMNode(this)).find("iframe").each(function(){a.registerMousePositionListenerForIFrame($(this)[0])
})}};f.prototype.componentDidUpdate=function(h,i,g){var j=this;$(ReactDOM.findDOMNode(this)).removeClass("ic3-widget-on-error");google.visualization.events.addListener(this.chartWrapper,"ready",function(){j.renderingStatus=a.core.WidgetRenderingStatus.RENDERED
});this.processMdxResultTable();if(_.isObject(this.state.dataTable)){if(this.state.dataTable.getNumberOfRows()>0){this.applyDataProvider();this.chartWrapper.draw(ReactDOM.findDOMNode(this));this.applySelectionHandler()}else{this.clearChart()}}};f.prototype.handleVisualSelectionChange=function(g){g=_.map(g,function(i){var j=i[0],h=i[1];
return{row:j=="any"?null:j,column:h=="any"?null:h}});if(_.findIndex(g,function(h){return _.isNull(h.row)&&h.column})>=0){this.context.reportingContext.LoggerFactory.getLogger({instance:"Google Widget",uid:this.state.tableContext.widgetAdapter.box().uid}).warning("Google Widget may ignore cell or columns selection")
}this.chartWrapper.getChart().setSelection(g)};f.prototype.getSelectedItems=function(){var g=this.chartWrapper.getChart().getSelection();return[]};f.prototype.processMdxResultTable=function(){var l=this;if(_.isObject(this.state.mdxResultTable)){var k=this.getDataTableMapper();
var i=this.props.dataRenderOptions.valueFieldFunction;var h=void 0;if(_.isObject(i)&&_.isFunction(i.evalFunction)){h=function(p,m,o,q){var n=ic3.ContextEvaluator.setCellContext(l.state.tableContext,o,q);return i.evalFunction(n)}}else{if(_.isString(i)){h=function(p,m,o,r){var n=ic3.ContextEvaluator.setCellContext(l.state.tableContext,o,r);
var q=n.measures[i]&&n.measures[i]["VALUE"];if(!q){q=ic3.ContextEvaluator.evaluate(i,n,"CELL")}return q}}else{h=function(m){return m[ic3.IcCubeMdxBuilder.DEFAULT_MEASURE]["VALUE"]}}}var j=new ic3.reporting.data.MdxResultTableSource().setResultTable(this.state.mdxResultTable,this.state.request).setColumnBuilders(new ic3.reporting.data.ValueColumnBuilder(h));
var g=new ic3.reporting.data.MultidimensionalDataMapper().setDataSource(j);this.state.dataTable=g.map(k)}};f.prototype.getDataTableMapper=function(){var h=_.get(this.props.dataRenderOptions,"chartType.proto.chartType",null);var g={style:{func:this.styleBuilder(h)},tooltip:{func:this.tooltipBuilder(h)}};
switch(h){case"TreeMap":return new ic3.MultiCategoryGoogleDataTableMapper(g);case"ScatterChart":return new ic3.NoCategoryGoogleDataTableMapper(g);case"GeoChart":return new ic3.GeoGoogleDataTableMapper(g);case"TimelineChart":g.style.func=null;g.tooltip.func=null;
case"SankeyChart":case"CandlestickChart":g.style.kind="row";g.tooltip.kind="row";default:return new ic3.GoogleDataTableMapper(g)}};f.prototype.tooltipBuilder=function(h){var j=this;var g=!_.includes(["BubbleChart","HistogramChart","OrgChart","Gauge"],h);var i=_.get(this.props.dataRenderOptions,"advanced.tooltip.format",null);
return g&&i?function(n,m){var l=ic3.ContextEvaluator.setCellContext(j.state.tableContext,m,n);var k=ic3.ContextEvaluator.evaluate(i,l,"CELL");return k}:null};f.prototype.styleBuilder=function(h){var j=this;var g=!_.includes(["CandlestickChart","Timeline","OrgChart","TreeMap","GeoChart"],h);
var i=this.props.dataRenderOptions.dataColors;return g&&i?function(q,n){var k=ic3.ContextEvaluator.setCellContext(j.state.tableContext,n,q);var p=ic3.ContextEvaluator.evaluate(i,k,"CELL");var l=ic3.react.colorpicker.parseCSSColor(new ic3.ColorEvaluator(k,p,i).evaluate());
var m="#"+ic3.react.colorpicker.rgb2hex(l[0],l[1],l[2]);var o=_.isFinite(l[3])?l[3]:1;return("color:"+m+";")+("opacity:"+o+";")+("stroke-color:"+m+";")+("stroke-opacity:"+o+";")+("fill-color:"+m+";")+("fill-opacity:"+o+";")}:null};f.prototype.componentWillUnmount=function(){if(this.chartWrapper){google.visualization.events.removeAllListeners(this.chartWrapper)
}this.clearChart()};f.prototype.render=function(){return React.createElement("div",{className:"ic3t-google-widget",style:{width:this.props.width,height:this.props.height}})};f.prototype.isAsynchronousRendering=function(){return true};f.prototype.applyDataProvider=function(){var g=_.cloneDeep(_.pick(this.props,function(j,i){return !_.includes(["context"],i)
}));var h=_.get(this.props.dataRenderOptions,"chartType.proto.chartType")||"BarChart";if(this.props.dataRenderOptions&&this.props.dataRenderOptions.chartType){g=_.extend({},this.props.dataRenderOptions.chartType.proto.options,g)}g=this.processProperties(g);
this.chartWrapper.setChartType(h);this.chartWrapper.setOptions(g);this.chartWrapper.setDataTable(this.state.dataTable)};f.prototype.clearChart=function(){if(this.chartWrapper&&this.chartWrapper.getChart()){this.chartWrapper.getChart().clearChart()}};f.prototype.applyErrorHandler=function(){var h=this;
var g=this.props.ic3GoogleError;if(g){google.visualization.events.addListener(this.chartWrapper,"error",function(i){if(g.useNotificationSystem){h.fireEvent("ic3WidgetError",i.message);google.visualization.errors.removeError(i.id)}if(g.clearWidgetOnError){google.visualization.errors.removeError(i.id);
h.clearChart();if(!ic3.isEmptyString(g.widgetMessage)){var j=ic3.replaceAll(g.widgetMessage,"%mess%",ic3.escapeHTML(i.message));$(ReactDOM.findDOMNode(h)).addClass("ic3-widget-on-error").html(j)}}})}};f.prototype.applySelectionHandler=function(){google.visualization.events.addListener(this.chartWrapper,"select",this.handleWidgetSelection.bind(this))
};f.prototype.handleWidgetSelection=function(){var j=this.chartWrapper.getChart();if(j){var i=j.getSelection()[0];if(i){try{var g=this.state.dataTable.getProperties(i.row,i.column);if(_.isFinite(g.rowIndex)&&_.isFinite(g.columnIndex)){this.handleClick(g.rowIndex,g.columnIndex)
}}catch(h){this.handleClick(i.row||0,i.column||0)}}if(this.props.icRemoveSelectionAfterClick){j.setSelection(null)}}};f.prototype.processProperties=function(h){if(h===void 0){h=this.props}var g=this.props.dataRenderOptions,j=g.region,i=g.dataPalette;var k={Europe:"150",Americas:"019",Africa:"002",Asia:"142",Oceania:"009",World:null};
return _.merge(h,{colors:_.size(i)>0?i:this.props.themeContainer.getThemeProvider("ic3GoogleWidget").getDefinition()["googleChart"].colors,region:k[j]||j,datalessRegionColor:new ic3.ColorEvaluator(null,this.props.dataRenderOptions.datalessColor).evaluate()},this.props.dataRenderOptions.axesConfiguration,this.props.dataRenderOptions.graphsConfiguration,this.props.dataRenderOptions.advanced)
};return f}(a.core.AbstractChartWidget));c.GenericGoogleWidget=d})(b=a.charts||(a.charts={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var b;(function(c){var d=(function(e){__extends(f,e);function f(){e.apply(this,arguments)}f.prototype.producedEvents=function(g){return[a.EventType.onRowClick,a.EventType.onCellClick]};f.prototype.getDataTableMapper=function(){return new ic3.DateCategoryGoogleDataTableMapper(null)
};return f}(c.GenericGoogleWidget));c.CalendarGoogleWidget=d})(b=a.charts||(a.charts={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var b;(function(d){var c=(function(f){__extends(e,f);function e(){f.apply(this,arguments)}e.prototype.producedEvents=function(){return[]};e.prototype.getDataTableMapper=function(){return new ic3.MultiCategoryGoogleDataTableMapper(null)
};e.prototype.clearChart=function(){if(this.chartWrapper&&this.chartWrapper.getChart()){if(this.chartWrapper.getChart().clearChart){this.chartWrapper.getChart().clearChart()}else{if(this.chartWrapper.clear){this.chartWrapper.clear()}else{$(ReactDOM.findDOMNode(this)).empty()
}}}};return e}(d.GenericGoogleWidget));d.SankeyGoogleWidget=c})(b=a.charts||(a.charts={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var b;(function(d){var c=(function(f){__extends(e,f);function e(){f.apply(this,arguments)}e.prototype.producedEvents=function(g){return[a.EventType.onRowClick]};e.prototype.clearChart=function(){if(this.chartWrapper&&this.chartWrapper.getChart()){if(this.chartWrapper.getChart().clearChart){this.chartWrapper.getChart().clearChart()
}else{if(this.chartWrapper.clear){this.chartWrapper.clear()}else{$(ReactDOM.findDOMNode(this)).empty()}}}};e.prototype.getDataTableMapper=function(){return new ic3.MultiCategoryGoogleDataTableMapper(null)};e.prototype.applyDataProvider=function(){f.prototype.applyDataProvider.call(this);
if(this.state.sort){this.chartWrapper.setOptions({sortColumn:this.state.sort.column,sortAscending:this.state.sort.ascending})}};e.prototype.getState=function(i){var h=f.prototype.getState.call(this,i);if(this.chartWrapper&&this.chartWrapper.getChart()){var g=this.chartWrapper.getChart().getSortInfo();
h.sort={};h.sort.column=g.column;h.sort.ascending=g.ascending;h.selection=this.chartWrapper.getChart().getSelection()}return h};return e}(d.GenericGoogleWidget));d.TableGoogleWidget=c})(b=a.charts||(a.charts={}))})(viz||(viz={}));var viz;(function(a){var b;
(function(c){var d=(function(){function e(){}e.createGoogleWidget=function(h,f,j,g){j=e.resolveChartClass(j);if(j===e.TABLE){return a.core.createWidget(h,f,c.TableGoogleWidget,$.extend(true,{},g))}else{if(j===e.SANKEY){var i=(g.node&&g.node.label&&g.node.label.fontSize)?g.node.label.fontSize:undefined;
g.fontSize=i||g.fontSize||12;return a.core.createWidget(h,f,c.SankeyGoogleWidget,$.extend(true,{},g))}else{if(j===e.CALENDAR){return a.core.createWidget(h,f,c.CalendarGoogleWidget,$.extend(true,{},g))}}}if(ic3.isNumber(g.zoom)&&g.zoom!==1){g.fontSize=Math.floor(g.fontSize*g.zoom)
}if(!g.legend||g.legend.hideOniPhone&&ic3.iPhone()){g.legend="none"}return a.core.createWidget(h,f,c.GenericGoogleWidget,$.extend(true,{},g))};e.resolveChartClass=function(g){if(!g){g=e.TABLE}else{if(typeof g==="string"){var f=_.find(e.CHARTS,{classname:g});
g=f?f:e.TABLE}}return g};e.AREA={classname:"AreaChart",name:"Area"};e.BAR={classname:"BarChart",name:"Bar"};e.BUBBLE={classname:"BubbleChart",name:"Bubble"};e.CALENDAR={classname:"Calendar",name:"Calendar"};e.CANDLESTICK={classname:"CandlestickChart",name:"Candlestick"};
e.COLUMN={classname:"ColumnChart",name:"Column"};e.COMBO={classname:"ComboChart",name:"Combo"};e.GAUGE={classname:"Gauge",name:"Gauge"};e.GEOCHART={classname:"GeoChart",name:"Geo"};e.HISTOGRAM={classname:"Histogram",name:"Histogram"};e.LINE={classname:"LineChart",name:"Line"};
e.PIE={classname:"PieChart",name:"Pie"};e.SANKEY={classname:"Sankey",name:"Sankey"};e.SCATTER={classname:"ScatterChart",name:"Scatter"};e.STEPPEDAREA={classname:"SteppedAreaChart",name:"Stepped Area"};e.TABLE={classname:"Table",name:"Table"};e.TREEMAP={classname:"TreeMap",name:"Treemap"};
e.CHARTS=[e.AREA,e.BAR,e.BUBBLE,e.CALENDAR,e.CANDLESTICK,e.COLUMN,e.COMBO,e.GAUGE,e.GEOCHART,e.HISTOGRAM,e.LINE,e.PIE,e.SANKEY,e.SCATTER,e.STEPPEDAREA,e.TABLE,e.TREEMAP];return e}());c.GoogleWidgetType=d})(b=a.charts||(a.charts={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(a){var b=(function(c){__extends(d,c);function d(f,e){c.call(this,f,e);this.state={}}d.prototype.producedEvents=function(){return[a.EventType.onRowClick,a.EventType.onCellClick]
};d.prototype.componentDidMount=function(){var h=this;var g=this.props.dataRenderOptions;var e=_.merge({center:new google.maps.LatLng(g.centerLatitude,g.centerLongitude)},g.googleMapProperties,g.googleMapExtraProperties);this.map=new google.maps.Map(ReactDOM.findDOMNode(this),e);
var f=_.merge({},g.heatMapProperties,g.heatMapExtraProperties);this.heatmapLayer=new google.maps.visualization.HeatmapLayer(f);this.heatmapLayer.setMap(this.map);this.map.addListener("click",function(m){if(!h.eventHandler.bindingEvent(a.EventType.onRowClick)&&h.eventHandler.bindingEvent(a.EventType.onCellClick)){return
}var q=h.heatmapLayer.getData();if(a.data&&m.latLng){var i;var o;var k=m.latLng.lat();var l=m.latLng.lng();q.forEach(function(s){var r=google.maps.geometry.spherical.computeDistanceBetween(s.location,m.latLng);if(!o||r<o){o=r;i=s.info}});if(a.data){var j=a.charts.data.tupleInfo(h.state.mdxResultTable,i.rowIdx,2);
var p=new a.event.GviRowClickEvent(h.state.mdxResultTable,h.state.request,i.rowIdx,i.colIdx);var n=new a.event.GviCellClickEvent(j.name,j.uniqueName,i.value,i.fvalue);h.fireEvent(a.EventType.onRowClick,p,m);h.fireEvent(a.EventType.onCellClick,n,m)}}});this.onRendered()
};d.prototype.componentDidUpdate=function(i,j,v){c.prototype.componentDidUpdate.call(this,i,j,v);var e=[];var k=a.charts.data.getMdxAxes(this.state.mdxResultTable,this.state.request),s=k.measures,n=k.cols,l=k.rows;if(!(l&&s&&s.getTupleCount()>=2)){return this.context.reportingContext.errorMgr().addError("Map requires at least one data row and both of latitude and longitude measures!")
}var h=this.state.mdxResultTable.getCells();var u=function(x,w,y){return[].concat(s?x:[],n?w:[],y)};for(var o=0,q=n?n.getTupleCount():1;o<q;++o){for(var f=0,m=l.getTupleCount();f<m;++f){var r=h.getCellProperty("VALUE",u(0,o,f));var p=h.getCellProperty("VALUE",u(1,o,f));
var t=h.getCellProperty("VALUE",u(2,o,f))||1;var g=h.getCellProperty("FORMATTED_VALUE",u(2,o,f));e.push({location:new google.maps.LatLng(r,p),weight:t,info:{value:t,fvalue:g,rowIdx:f,colIdx:o}})}}this.heatmapLayer.setData(e);this.onRendered()};d.prototype.render=function(){var f=this.props,g=f.width,e=f.height;
return React.createElement("div",{className:"stop-draggable ic3t-google-map",style:{width:g,height:e}})};return d}(a.core.AbstractChartWidget));a.GoogleMapWidget=b})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e);this.fusionTablesLayers=[];this.state={}}c.prototype.producedEvents=function(){return[a.EventType.onRowClick]
};c.prototype.componentDidMount=function(){var f=this.props.dataRenderOptions;var e=_.merge({center:new google.maps.LatLng(f.centerLatitude,f.centerLongitude)},f.googleMapProperties,f.googleMapExtraProperties);this.map=new google.maps.Map(ReactDOM.findDOMNode(this),e);
this.tooltip=new google.maps.InfoWindow()};c.prototype.componentDidUpdate=function(k,m,C){var A=this;d.prototype.componentDidUpdate.call(this,k,m,C);var G=this.props.dataRenderOptions;var n=a.charts.data.getMdxAxes(this.state.mdxResultTable,this.state.request),r=n.cols,q=n.rows;
var g={};var h={};var t=Number.MAX_VALUE;var D=Number.MIN_VALUE;var e={};_.map(this.fusionTablesLayers,function(J){return J.setMap(null)});var j=this.state.mdxResultTable.getCells();var z=function(J,K){return[].concat(r?J:[],K)};for(var s=0,u=r?r.getTupleCount():1;
s<u;++s){for(var f=0,p=q.getTupleCount();f<p;++f){var v=q.getMemberCaption(f,0);var y=v.split("-")[0];var x=j.getCellProperty("VALUE",z(s,f));g[y]=g[y]||[];g[y].push(v);h[v]=x;e[v]={rowIdx:f,colIdx:s};t=Math.min(x,t);D=Math.max(x,D)}}var B=[G.fusionTablePolygonIdColumn,G.fusionTablePolygonColumn];
var o=/{([a-z0-9_]*?)}/gmi;var H;while(H=o.exec(G.polygonTooltip)){if(H[1]!="value"){B.push(H[1])}}var l="SELECT "+B.join(",")+" FROM "+G.fusionTableId+" WHERE adm0_a3 in("+_.map(_.keys(g),function(J){return"'"+J+"'"}).join(",")+")";var w=encodeURIComponent(l);
var i=new google.visualization.Query("https://www.google.com/fusiontables/gvizdata?tq="+w);var E={};var I=new geoXML3.parser({map:this.map,processStyles:true,singleInfoWindow:true,afterParse:this.postProcessPolygons.bind(this),createPolygon:function(K,M){var J=I.createPolygon(K,M);
J.info=e[J.title];if(J.infoWindow){var L=G.polygonTooltip;_.each(E[J.title],function(O,N){L=L.replace(new RegExp("{"+N+"}","gmi"),O)});J.infoWindowOptions.content='<div class="geoxml3_infowindow">'+L+"</div>"}return J}});var F=this.createPolygonStyles();i.send(function(M){var K=M.getDataTable();
var N=K.getNumberOfRows();for(var Q=0;Q<N;++Q){var R=K.getValue(Q,0);var O=K.getValue(Q,1);E[R]={};for(var L=2;L<B.length;L++){E[R][B[L]]=K.getValue(Q,L)}E[R]["value"]=h[R];var S=h[R];var P=S?(S-t)/(D-t):0;var J=Math.floor(P*(F.length-1));I.parseKmlString('<?xml version="1.0" encoding="UTF-8"?><kml xmlns="http://www.opengis.net/kml/2.2"><Document>'+F.join("")+"<Placemark><name>"+R+"</name><styleUrl>#s"+J+"</styleUrl>"+O+"</Placemark></Document></kml>")
}var T=_.merge({center:new google.maps.LatLng(G.centerLatitude,G.centerLongitude)},G.googleMapProperties,G.googleMapExtraProperties);A.map.setOptions(T)})};c.prototype.postProcessPolygons=function(g){for(var f=0;f<g[0].placemarks.length;f++){var e=g[0].placemarks[f];
this.polygonMouseover(e.polygon,e.name)}};c.prototype.polygonMouseover=function(e,f){var g=this;google.maps.event.addListener(e,"mouseover",function(h){e.setOptions({strokeWeight:3})});google.maps.event.addListener(e,"mouseout",function(h){if(g.highlightedPolygon!=e){e.setOptions({strokeWeight:1})
}});google.maps.event.addListener(e,"click",function(h){if(g.highlightedPolygon){g.highlightedPolygon.setOptions({strokeWeight:1})}e.setOptions({strokeWeight:3});g.highlightedPolygon=e;var k=e.info;var j=a.charts.data.tupleInfo(g.state.mdxResultTable,k.rowIdx,2);
var i=new a.event.GviRowClickEvent(g.state.mdxResultTable,g.state.request,k.rowIdx,k.colIdx);g.fireEvent(a.EventType.onRowClick,i,h)})};c.prototype.createPolygonStyles=function(){var g=this;var f=this.props.dataRenderOptions;var e=[];if(!_.isArray(f.palette)||_.isEmpty(f.palette)){f.palette=this.props.themeContainer.getPalette()
}return _.map(f.palette,function(h,i){return'<Style id="s'+i+'"><PolyStyle><color>'+g.toKmlColor(_.isString(h)?h:h.color)+"</color><fill>1</fill><outline>1</outline></PolyStyle></Style>"})};c.prototype.toKmlColor=function(f){var e=f.match(/^#([0-9a-f]{3})$/i);
if(e){return"ee"+parseInt(e[1].charAt(2),16)*17+parseInt(e[1].charAt(1),16)*17+parseInt(e[1].charAt(0),16)*17}e=f.match(/^#([0-9a-f]{6})$/i);if(e){return"ee"+e[1].substr(4,2)+e[1].substr(2,2)+e[1].substr(0,2)}return"00000000"};c.prototype.render=function(){var f=this.props,g=f.width,e=f.height;
return React.createElement("div",{className:"stop-draggable ic3t-google-region",style:{width:g,height:e}})};c.prototype.isAsynchronousRendering=function(){return true};return c}(a.core.AbstractChartWidget));a.GoogleRegionsMapWidget=b})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(b){var a=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e);this.state={amChart:null}}c.prototype.componentDidMount=function(){var e=this.state.amChart=this.createChart(this.props.chartProperties.type,this.props.theme);
_.assign(e,this.props.chartProperties);e.dataProvider=this.props.data;e.addListener("dataUpdated",this.amChartDidUpdate.bind(this));e.write(ReactDOM.findDOMNode(this))};c.prototype.componentDidUpdate=function(f){var g=false;if(f.data!==this.props.data){this.state.amChart.dataProvider=this.props.data;
g=true}if(f.chartProperties!==this.props.chartProperties){this.state.amChart.clear();var e=this.state.amChart=this.createChart(this.props.chartProperties.type,this.props.theme);_.assign(e,this.props.chartProperties);e.dataProvider=this.props.data;e.addListener("dataUpdated",this.amChartDidUpdate.bind(this));
e.write(ReactDOM.findDOMNode(this))}else{if(g){this.state.amChart.validateData()}}};c.prototype.componentWillUnmount=function(){this.state.amChart.clear();this.state.amChart=null};c.prototype.exportAmChart=function(f){var e=this.state.amChart.AmExport;e.capture({},function(){switch(f.type.toLowerCase()){case"jpg":return e.toJPG({},function(g){this.download(g,"image/jpg","chart.jpg")
});case"pdf":return e.toPDF({},function(g){this.download(g,"application/pdf","chart.pdf")});case"svg":return e.toSVG({},function(g){this.download(g,"text/xml","chart.svg")});default:return e.toPNG({},function(g){this.download(g,"image/png","chart.png")})}})
};c.prototype.amChartDidUpdate=function(k){var f=ic3.reporting.amcharts.data.AmChartsTable;var h=this,e=h.state.amChart,g=h.props.chartProperties;var j=_.size(e.dataProvider);if(e&&j){if(e instanceof AmCharts.AmSerialChart){switch(g.chartScrollbar.zoomMode){case"none":e.zoomOut();
break;case"first":e.zoomToIndexes(0,g.chartScrollbar.zoomCount-1);break;case"last":e.zoomToIndexes(j-g.chartScrollbar.zoomCount,j-1);break;case"range":e.zoomToIndexes(g.chartScrollbar.zoomFirstIndex,g.chartScrollbar.zoomLastIndex);break}}var i=_.reduce(e.dataProvider,function(l,m){return(_.set(l,[m[f.CATEGORY_FIELD]],m[f.CATEGORY_TITLE_FIELD]))
},{});_.map(e.chartDiv.getElementsByClassName("amcharts-axis-title"),function(o,m){var l=$(o).find("tspan");var n=i[l.text()];n&&l.text(n)})}};c.prototype.render=function(){return this.props.themeContainer.wrapReactStyle(React.createElement("div",{"data-ic3-theme-component":"ic3ChartWidget",className:"ic3t-amchart",style:this.props.style}))
};c.prototype.createChart=function(e,f){switch(e){case"serial":return new AmCharts.AmSerialChart(f);case"xy":return new AmCharts.AmXYChart(f);case"pie":return new AmCharts.AmPieChart(f);case"radar":return new AmCharts.AmRadarChart(f);case"gauge":return new AmCharts.AmAngularGauge(f);
case"funnel":return new AmCharts.AmFunnelChart(f);case"gantt":return new AmCharts.AmGanttChart(f);default:throw new Error("Unsupported chart type: "+e)}};return c}(React.Component));b.GenericAmChart=a})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(b){var c=ic3.reporting.amcharts.data.AmChartsDataProvider;var a=(function(e){__extends(d,e);function d(g,f){var h=this;e.call(this,g,f);
this.listeners=[{event:"clickGraphItem",method:function(i){return h.handleGraphItemClick(i)}},{event:"clickSlice",method:function(i){return h.handleSliceClick(i)}}];this.state={chartData:[],chartSelection:[]}}d.prototype.getDataRenderOptions=function(f,g){g=_.isObject(g)?g:this.props.dataRenderOptions;
if(_.isObject(f)){if(f.id==g.chartType.id){return g}if(_.has(g,["ic3Data","chartTypeConfig",f.id])){return _.get(g,["ic3Data","chartTypeConfig",f.id])}else{return{chartType:f}}}return g};d.prototype.getSelectionMode=function(){return _.get(this.props,"navigationGuts.guts_.selection",{type:ic3.SelectionType.NONE,mode:ic3.ChartSelectionMode.SINGLE})
};d.prototype.producedEvents=function(){return e.prototype.producedEvents.call(this).concat([b.EventType.onLegendClick,b.EventType.onSelection])};d.prototype.consumedEvents=function(){return e.prototype.consumedEvents.call(this).concat([b.EventType.doExportAmChart,b.EventType.doSetChartType])
};d.prototype.consumeEvent=function(f,g){switch(f){case b.EventType.doExportAmChart:this.exportData({type:b.event.asMdx(g)});break;case b.EventType.doSetChartType:this.doSetChartType(b.event.asMdx(g));break;default:e.prototype.consumeEvent.call(this,f,g)}};
d.prototype.doSetState=function(f){e.prototype.doSetState.call(this,f)};d.prototype.handlePendingSelectionEvent=function(){var f=this;if(this.state.pendingSelectionEvent){setTimeout(function(){f.doSetSelection(f.state.pendingSelectionEvent)})}};d.prototype.doSetSelection=function(i){var j=this;
var h=this.getSelectionMode().type;h=h===ic3.SelectionType.COLUMN?ic3.SelectionType.COLUMN:ic3.SelectionType.ROW;if(this.state.tableContext){var g=h===ic3.SelectionType.COLUMN?this.state.tableContext.axisIndices.columnsAxis:this.state.tableContext.axisIndices.rowsAxis;
var f=_.map(i.getSelectedItems(),function(l){var k=j.state.tableContext.getAxisMemberIndex(g,l.uniqueName);return{row:k,column:k}});this.selectItems(h,f,false);this.forceUpdate()}else{this.setState({pendingSelectionEvent:i})}};d.prototype.doSetChartType=function(g){var f=this.findChartType(g);
if(!_.isObject(f)){this.context.reportingContext.LoggerFactory.getLogger({instance:"Chart"}).error("Chart type {} is not supported",g)}this.setState({chartType:f})};d.prototype.findChartType=function(h){var g={id:h};var f=null;_.each(ic3.AmChartPresets,function(i){f=_.cloneDeep(_.find(i.suggestions,g));
if(_.isObject(f)){return false}});return f};d.prototype.getSelectedItems=function(){var i=this.getSelectionMode().type;var h=this.state,g=h.chartSelection,f=h.tableContext;switch(i){case ic3.SelectionType.ROW:return _.map(g,function(j){var k=j.row;return({name:f.getMemberCaption(f.axisIndices.rowsAxis,k),uniqueName:f.getMemberUniqueName(f.axisIndices.rowsAxis,k)})
});case ic3.SelectionType.COLUMN:return _.map(g,function(j){var k=j.column;return({name:f.getMemberCaption(f.axisIndices.columnsAxis,k),uniqueName:f.getMemberUniqueName(f.axisIndices.columnsAxis,k)})});case ic3.SelectionType.CELL:return _.map(g,function(j){var l=j.row,k=j.column;
return({name:[f.getMemberCaption(f.axisIndices.columnsAxis,k),f.getMemberCaption(f.axisIndices.rowsAxis,l)].join(),uniqueName:b.asMdxTuple([f.getMemberUniqueName(f.axisIndices.columnsAxis,k),f.getMemberUniqueName(f.axisIndices.rowsAxis,l)],false)})});default:return[]
}};d.prototype.getGraphColumnName=function(f){return _.get(/(.*)_valueField(_.*)?/.exec(f),[1])};d.prototype.unpackSelection=function(h,g){var f=this.state.tableContext;switch(h){case ic3.SelectionType.ROW:return _.reduce(g,function(i,j){var k=j.row;return(_.concat(i,_.map(f.columnsIndices,function(l){return({row:k,column:l})
})))},[]);case ic3.SelectionType.COLUMN:return _.reduce(g,function(i,j){var k=j.column;return(_.concat(i,_.map(f.rowsIndices,function(l){return({row:l,column:k})})))},[]);default:return g.slice()}};d.prototype.selectItems=function(l,k,j,m,h){if(j===void 0){j=false
}if(m===void 0){m=this.props}if(h===void 0){h=this.state}var o=this.getDataRenderOptions(this.state.chartType);var p=h.tableContext,g=h.chartSelection,i=h.chartData;k=_.map(k,function(q){var s=q.row,r=q.column;return({row:l!==ic3.SelectionType.COLUMN?s:null,column:l!==ic3.SelectionType.ROW?r:null})
});if(j){k=_.reduce(k,function(r,s){var q=_.findIndex(r,s);if(q>=0){r.splice(q,1)}else{r.push(s)}return r},g.slice())}var f=this.unpackSelection(l,g);var n=this.unpackSelection(l,k);this.state.chartSelection=k;if(o.chartType.proto.dataProviderType==c.MULTI_GRAPH){this.state.chartData=_.map(i,function(q){return(ic3.reporting.amcharts.data.selectSpecificChartItems(p,o,q,f,n))
})}this.state.pendingSelectionEvent=null};d.prototype.handleGraphItemClick=function(j){var k=this.getSelectionMode(),h=k.type,g=k.mode;var o=j.item,n=j.graph,f=j.event;var i=this.state.tableContext.axisIndices,p=i.rowsAxis,m=i.columnsAxis;var l=o.dataContext[this.getGraphColumnName(n.valueField)+"_ic3Coordinates"];
if(h!==ic3.SelectionType.NONE){this.selectItems(h,[{row:l[p],column:l[m]}],(f.ctrlKey||f.metaKey)&&g===ic3.ChartSelectionMode.MULTI);this.forceUpdate()}this.handleChartClick(l)};d.prototype.handleSliceClick=function(f){this.handleChartClick(f.dataItem.dataContext.ic3Coordinates)
};d.prototype.handleChartClick=function(f){this.fireSelectionEvent(this.getSelectedItems());this.fireRowClick(f);if(f.length>1){if(_.isFinite(f[f.length-2])){this.fireColumnClick(f);if(_.isFinite(f[f.length-1])&&_.isFinite(f[f.length-2])){this.fireCellClick(f)
}}}};d.prototype.calcSquareSide=function(m,j,f){var i=Math.sqrt(j*f/m);var h=Math.ceil(Math.sqrt(m*j/f));var g=Math.ceil(Math.sqrt(m*f/j));var l=Math.floor(h*f/j)*h<m?f/g:j/h;var k=Math.floor(g*j/f)*g<m?j/h:f/g;return Math.max(l,k)};d.prototype.calcChartsPos=function(i){var h=this.props,j=h.width,f=h.height;
var l=_.size(i);if(l>1){var k=this.calcSquareSide(l,j,f);var g=Math.floor(j/k);return _.times(l,function(m){return({position:"absolute",left:(m%g)*k,top:((m/g)|0)*k,width:k,height:k})})}else{return[{position:"absolute",left:0,top:0,width:"100%",height:"100%"}]
}};d.prototype.exportData=function(f){this.refs.chart.exportAmChart(f)};d.prototype.componentWillUpdate=function(f,g,i){var h=this.getSelectionMode().type;if(this.state.mdxResultTable!==g.mdxResultTable&&_.isObject(g.mdxResultTable)||this.state.chartType!==g.chartType){var k=this.getDataRenderOptions(g.chartType,f.dataRenderOptions);
var j=ic3.reporting.amcharts.data.toSpecificAmChartDataProvider(g.tableContext,k);g.chartData=_.isArray(j)?j:[j];this.selectItems(h,this.state.chartSelection,false,f,g);if(k.showLegend!=undefined){_.map(g.chartData,function(l){l.legend=l.legend||{};l.legend.enabled=k.showLegend
})}}};d.prototype.renderChart=function(f,i,j,h){var g=_.merge({listeners:this.listeners},f,j);if(!_.get(g,"chartCursor.enabled",false)){_.unset(g,"chartCursor")}g=this.props.onWidgetOptionsHook(g);return(React.createElement(b.GenericAmChart,{key:h,ref:"chart",style:i,themeContainer:this.props.themeContainer,theme:this.props.themeContainer.getThemeProvider("ic3ChartWidget").getDefinition()["amChart"],chartProperties:g,data:j.dataProvider||[]}))
};d.prototype.render=function(){var j=this;var i=this.state.chartData;var h=this.getDataRenderOptions(this.state.chartType);var g=this.calcChartsPos(i);var f=_.merge({"export":{enabled:true,libs:{autoLoad:false},menu:[]}},h.chartType.proto.chartPrototype,h.chartOptions,h.trendLinesGuides,h,h.advanced);
return(React.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},_.map(i,function(k,l){return j.renderChart(f,g[l],k,l)})))};return d}(b.core.AbstractChartWidget));b.AmChartWidget=a})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]
}}}return b};var viz;(function(viz){var data;(function(data){var table;(function(table){var SimpleTable=(function(_super){__extends(SimpleTable,_super);function SimpleTable(props,context){var _this=this;_super.call(this,props,context);this.colHeaderCount=1;
this.renderThCell=function(currentIndex){var _a={},_b=_a.cssClass,cssClass=_b===void 0?{}:_b,_c=_a.cssStyle,cssStyle=_c===void 0?{}:_c;var tagClass=classNames("ic3-action",cssClass.headerCell);var thStyle=_.defaults(viz.reactCSSObject(cssStyle.headerCell),{overflow:"hidden"});
if(currentIndex<_this.colHeaderCount){return(React.createElement("th",__assign({className:"ic3-table-header-root",key:"simpleHtmlTableTh"+currentIndex},(_d={},_d[ic3.ThemesRepository.DataComponentAttr]="headers top-headers left-headers",_d)),React.createElement("div",{style:{height:_this.state.cellRenderer.getMaxHeight()}}," ")))
}return(React.createElement("th",__assign({key:"simpleHtmlTableTh"+currentIndex,className:tagClass,style:thStyle},(_e={},_e[ic3.ThemesRepository.DataComponentAttr]="headers top-headers",_e),{onClick:_this.headerClickHandler.bind(_this,currentIndex)}),_this.state.cellRenderer?_this.state.cellRenderer.renderTopHeaderCellReact(currentIndex-1):null));
var _d,_e};this.renderTdContent=function(row,item,col){var _a={},_b=_a.cssClass,cssClass=_b===void 0?{}:_b,_c=_a.cssStyle,cssStyle=_c===void 0?{}:_c;var cellClass=null,cellStyle=null,tdStyleToAdd=viz.reactCSSObject(cssStyle.tableCell+cellStyle),thStyleToAdd=viz.reactCSSObject(cssStyle.tableHeaderCell+cellStyle);
if(col<_this.colHeaderCount){var headerCell=_this.state.cellRenderer?_this.state.cellRenderer.renderLeftHeaderCellReact(row):null;return(React.createElement("th",__assign({key:("simpleHtmlTableTh"+col)+row},(_d={},_d[ic3.ThemesRepository.DataComponentAttr]="headers left-headers",_d),{className:classNames(cssClass.tableHeaderCell,cellClass,"ic3-action","ic3-table-left-header"),onClick:_this.rowClickHandler.bind(_this,row,col),style:thStyleToAdd}),headerCell))
}else{return(React.createElement("td",__assign({key:("simpleHtmlTableTd"+col)+row},(_e={},_e[ic3.ThemesRepository.DataComponentAttr]="cells",_e),{className:classNames(cssClass.tableCell,cellClass,"ic3-action","ic3-table-cell"),onClick:_this.cellClickHandler.bind(_this,row,col),style:tdStyleToAdd}),React.createElement("div",{dangerouslySetInnerHTML:{__html:item}})))
}var _d,_e};this.renderTrContent=function(currentIndex){var _a={},_b=_a.cssClass,cssClass=_b===void 0?{}:_b,_c=_a.cssStyle,cssStyle=_c===void 0?{}:_c;var tdContentClass,tdContentStyle;if(currentIndex%2===0){tdContentClass=cssClass.tableRow;tdContentStyle=cssStyle.tableRow
}else{tdContentClass=!ic3.isEmptyString(cssClass.oddTableRow)?cssClass.oddTableRow:cssClass.tableRow;tdContentStyle=!ic3.isEmptyString(cssStyle.oddTableRow)?cssStyle.oddTableRow:cssStyle.tableRow}tdContentClass=classNames("ic3-table-row",tdContentClass);tdContentStyle=viz.reactCSSObject(tdContentStyle);
var itemTdContent=_.times(_this.columnCount,function(n){return _this.state.cellRenderer.renderCell(currentIndex,n-_this.colHeaderCount)});return(React.createElement("tr",{key:"simpleHtmlTableTr"+currentIndex,className:tdContentClass,style:tdContentStyle},itemTdContent.map(_this.renderTdContent.bind(_this,currentIndex))))
};this.rowClickHandler=function(row,col,event){_this.handleClick(row,col-_this.colHeaderCount)};this.cellClickHandler=function(row,col,event){_this.handleClick(row,col-_this.colHeaderCount)};this.headerClickHandler=function(col){_this.handleClick(-1,col-_this.colHeaderCount)
};this.state={}}SimpleTable.prototype.componentDidMount=function(){this.applyTheme()};SimpleTable.prototype.doSetTheme=function(theme){this.applyTheme(theme)};SimpleTable.prototype.applyTheme=function(theme){var _this=this;this.getOverriddenStyling(function(result){_this.setState({widgetStyle:result})
},theme)};SimpleTable.prototype.componentDidUpdate=function(prevProps,prevState,prevContext){_super.prototype.componentDidUpdate.call(this,prevProps,prevState,prevContext);if(!_.isEmpty(this.props.dataRenderOptions.onRenderCompleted)){try{eval("("+this.props.dataRenderOptions.onRenderCompleted+").call(this, $(ReactDOM.findDOMNode(this)))")
}catch(ignore){}}};SimpleTable.prototype.getAmountOfTableElements=function(state){if(state.tableContext){this.rowCount=state.tableContext.rowsCount;this.columnCount=state.tableContext.columnsCount+1}};SimpleTable.prototype.componentWillUpdate=function(nextProps,nextState){_super.prototype.componentWillUpdate.call(this,nextProps,nextState);
if(_.isObject(nextState.mdxResultTable)){var axes=nextState.mdxResultTable.getAxes();if(axes.getAxisCount()<1||(axes.getAxisCount()==1&&ic3.IcCubeMdxBuilder.hasMeasuresAxis(nextState.request,nextState.mdxResultTable))){throw new Error("Data is not configured.")
}nextState.cellRenderer=new table.CellRenderHelper({cellRenderers:nextProps.dataRenderOptions.cellRenderer,context:this.context.reportingContext,selection:nextState.selection},new ic3.TableContext(nextProps.widgetContext(),nextState.mdxResultTable,nextState.request));
this.getAmountOfTableElements(nextState)}};SimpleTable.prototype.render=function(){var _this=this;var _a={},_b=_a.cssClass,cssClass=_b===void 0?{}:_b,_c=_a.cssStyle,cssStyle=_c===void 0?{}:_c,_d=_a.visibility,visibility=_d===void 0?{}:_d;var tableStyle=viz.reactCSSObject(cssStyle.table);
var tableClass=classNames("ic3-stable ic3-table ic3t-table",cssClass.table);var trClass=classNames(cssClass.headerRow,"ic3-table-top-header");var trStyle=_.defaults(viz.reactCSSObject(cssStyle.headerRow),{height:this.state.cellRenderer?this.state.cellRenderer.getMaxHeight():"inherit"});
var theme=this.props.themeContainer;return theme.wrapReactCSS(React.createElement("table",__assign({},(_e={},_e[ic3.ThemesRepository.DataComponentAttr]="ic3Table",_e),{className:tableClass,style:tableStyle}),React.createElement("tbody",null,React.createElement("tr",{className:trClass,style:trStyle},_.times(this.columnCount,function(index){return _this.renderThCell(index)
})),_.times(this.rowCount,this.renderTrContent.bind(this)))),true,this.state.widgetStyle);var _e};SimpleTable.prototype.producedEvents=function(param){return[vizEventType.onRowClick,vizEventType.onColumnClick,vizEventType.onCellClick]};return SimpleTable}(viz.TableWidget));
table.SimpleTable=SimpleTable})(table=data.table||(data.table={}))})(data=viz.data||(viz.data={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var viz;(function(a){var b;(function(d){var c;(function(f){var e=(function(){function j(){}return j
}());var g={enableAsyncPostRender:true,forceFitColumns:false};var h=(function(j){__extends(k,j);function k(m,l){j.call(this,m,l);this.state={}}k.prototype.isAsynchronousRendering=function(){return true};k.prototype.componentDidMount=function(){this.applyTheme()
};k.prototype.componentDidUpdate=function(m,n,l){if(this.state.mdxResultTable){this.dataView=new i(this.state.mdxResultTable,this.state.request,this.state.cellRenderer)}this.applyDataProvider();this.createGrid();this.applyHandlers();this.applySorting();this.applyScroll();
this.applyTheme()};k.prototype.applyTheme=function(){var l=this;this.getOverriddenStyling(function(m,n){if(n){m={};l.context.reportingContext.LoggerFactory.getLogger({instance:l,uid:""}).error("Error getting styling from the server. Used default preset ({})",n.toString())
}l.props.themeContainer.wrapNativeCSS(l.refs.gridContainer,true,m)})};k.prototype.componentWillUpdate=function(l,m){if(_.isObject(m.mdxResultTable)){var n=m.mdxResultTable.getAxes();if(n.getAxisCount()<1||(n.getAxisCount()==1&&ic3.IcCubeMdxBuilder.hasMeasuresAxis(m.request,m.mdxResultTable))){throw new Error("Data is not configured.")
}m.cellRenderer=new f.CellRenderHelper({cellRenderers:l.dataRenderOptions.cellRenderer,context:this.context.reportingContext,selection:m.selection},new ic3.TableContext(l.widgetContext(),m.mdxResultTable,m.request))}};k.prototype.componentWillUnmount=function(){this.grid.destroy();
this.grid=null};k.prototype.getState=function(n){var m=j.prototype.getState.call(this,n);if(!m){m={}}var l=$(ReactDOM.findDOMNode(this)).find(".slick-viewport");m.scrollTop=l.scrollTop();m.scrollLeft=l.scrollLeft();return m};k.prototype.applyDataProvider=function(){this.dataView.setCellRenderer(this.state.cellRenderer);
this.dataView.reloadColumns(this.props);this.dataView.reloadData()};k.prototype.applySorting=function(){if(this.props.disableSort!==true&&this.state.sorting){this.dataView.doSort(this.state.sorting.columnId,this.state.sorting.sortAsc);this.grid.invalidate()
}};k.prototype.applyScroll=function(){var l=$(ReactDOM.findDOMNode(this)).find(".slick-viewport");l.scrollTop(this.state.scrollTop);l.scrollLeft(this.state.scrollLeft)};k.prototype.applyHandlers=function(){var l=this;this.grid.onClick.subscribe(function(o,n){var m=parseInt(n.grid.getColumns()[n.cell].id,10);
var p=l.dataView.getRowId(n.row);l.handleClick(p,m-1)});this.grid.onHeaderClick.subscribe(function(o,n){var m=parseInt(n.column.id,10);l.handleClick(-1,m-1)})};k.prototype.createGrid=function(){var m=this;if(this.grid){this.grid.destroy()}var l=g;if(this.state.cellRenderer){l.headerRowHeight=l.rowHeight=this.state.cellRenderer.getMaxHeight()+3
}this.grid=new Slick.Grid(ReactDOM.findDOMNode(this),this.dataView,this.dataView.columns,l);this.dataView.onRowCountChanged.subscribe(function(o,n){m.grid.updateRowCount();m.grid.render()});this.dataView.onRowsChanged.subscribe(function(o,n){m.grid.invalidateRows(n.rows);
m.grid.render()});this.onRendered()};k.prototype.render=function(){return(React.createElement("div",__assign({ref:"gridContainer"},(l={},l[ic3.ThemesRepository.DataComponentAttr]="ic3Table",l),{className:"ic3-table ic3t-table",style:{height:"inherit"}})));var l
};return k}(a.TableWidget));f.SlickGrid=h;var i=(function(j){__extends(k,j);function k(l,m,n){j.call(this);this.mdxResultTable=l;this.request=m;this.getAmountOfTableElements(l);this.columns=[];this.cellRenderer=n}k.prototype.getAmountOfTableElements=function(l){if(l){var n=ic3.IcCubeMdxBuilder.getMdxAxisIndices(l,this.request),m=l.getAxes();
this.colHeaderCount=1;this.rowCount=m.getAxis(n.rowsAxis).getTupleCount();this.columnCount=this.colHeaderCount+(m.getAxis(n.columnsAxis)?m.getAxis(n.columnsAxis).getTupleCount():1)}};k.prototype.setCellRenderer=function(l){this.cellRenderer=l};k.prototype.reloadColumns=function(m){var p=this;
var n=_.get(m,"dataRenderOptions.columnWidths","auto");var l=!n||n.toLowerCase()!=="auto"?ic3.stringToArray(n):[100];l=_.map(l,function(q){return q||100});var o=_.times(this.columnCount,function(t){var s=null;if(t>0&&p.cellRenderer){s=p.cellRenderer.renderTopHeaderCellToString(t-1,(q={},q[ic3.ThemesRepository.DataComponentAttr]="headers top-headers",q.height="auto",q))
}else{s=("<div "+ic3.ThemesRepository.DataComponentAttr+'="headers top-headers left-headers">\n                               &nbsp;\n                            </div>')}var r={name:s,toolTip:s,field:t,id:t,resizable:false,cssClass:t<p.colHeaderCount?"ic3-row-member":"ic3-data-cell",headerCssClass:t<p.colHeaderCount?"ic3-header-header":"ic3-header-data",width:l[t]||_.last(l)};
r.formatter=p.decorateFormatter(r.formatter,t);return r;var q});o.unshift(0,this.columns.length);this.columns.splice.apply(this.columns,o)};k.prototype.reloadData=function(){var l=this;this.setItems(_.times(this.rowCount,function(n){var m={id:n};$.extend(m,_.times(l.columnCount,function(o){return l.cellRenderer.getEvaluatedCellRenderer(o,n)
}));return m}))};k.prototype.getRowId=function(l){return this.getItem(l)["id"]};k.prototype.isLabelColumn=function(l){return l<this.colHeaderCount};k.prototype.decorateFormatter=function(m,l){var n=this;if(this.isLabelColumn(l)){return function(q,r,p){return n.cellRenderer?n.cellRenderer.renderLeftHeaderCellToString(q,(o={},o[ic3.ThemesRepository.DataComponentAttr]="headers left-headers",o.height="100%",o)):"";
var o}}else{return function(s,t,q,r,o){if(!n.cellRenderer){return q}return n.cellRenderer.renderStaticCell(o.id,l-n.colHeaderCount,(p={},p[ic3.ThemesRepository.DataComponentAttr]="cells",p.height="100%",p));var p}}};k.prototype.doSort=function(n,m){var l=this;
var o=parseInt(n);this.sort(function(q,p){var r=parseInt(q.id);var u=parseInt(p.id);var t=l.cellRenderer.getEvaluatedCellRenderer(o,r).text.cellValue;var s=l.cellRenderer.getEvaluatedCellRenderer(o,u).text.cellValue;return t>s?1:(t<s?-1:0)},m)};return k}(Slick.Data.DataView))
})(c=d.table||(d.table={}))})(b=a.data||(a.data={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var c=ic3.CodeMirrorMode;var b=ic3.ReactCodeMirror;var d=(function(f){__extends(e,f);function e(h,g){var i=this;f.call(this,h,g);this.changeHandler=function(j){i.setState({mdx:j})};this.state={mdx:h.dataRenderOptions.initialMdx||""}}e.prototype.consumeEvent=function(g,h){switch(g){case vizEventType.doFireMdxQueryExecution:this.fireMdxQueryExecution();
break;case vizEventType.doSetMdxContent:this.setState({mdx:a.event.asMdx(h)});break;default:f.prototype.consumeEvent.call(this,g,h)}};e.prototype.consumedEvents=function(){return[vizEventType.doFireMdxQueryExecution,vizEventType.doSetMdxContent]};e.prototype.producedEvents=function(g){return[a.EventType.onMdxQueryExecution]
};e.prototype.fireMdxQueryExecution=function(){this.fireEvent(a.EventType.onMdxQueryExecution,new a.event.MdxQueryEvent(this.state.mdx))};e.prototype.onBuildAllDone=function(){if(this.props.dataRenderOptions.executeOnStart){this.fireMdxQueryExecution()}};e.prototype.render=function(){var i=this.context.reportingContext;
var k=this.props,n=k.dataRenderOptions,h=k.themeContainer,l=k.width,g=k.height;var m=this.state.mdx;var j=_.pickBy({"Ctrl-E":n.executeOnCtrlE?this.fireMdxQueryExecution.bind(this):null},_.identity);return h.wrapReactStyle(React.createElement("div",{style:{width:"100%",height:"100%"},className:"stop-draggable","data-ic3-theme-component":"ic3MdxEditorWidget"},React.createElement(b,{mode:c.MDX,value:m,extraKeys:j,stretch:true,onChange:this.changeHandler}),n.showHelp?React.createElement("div",{"data-ic3-theme-component":"help"},["ic3.code_mirror.help",n.executeOnCtrlE?"ic3.code_mirror.help.fire_event":null].filter(_.identity).map(function(o){return i.l(o)
}).join(", ")):null))};e.contextTypes={reportingContext:React.PropTypes.object};return e}(a.core.AbstractWidget));a.MDXQueryEditorWidget=d})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(viz){var HtmlTemplateWidget=(function(_super){__extends(HtmlTemplateWidget,_super);function HtmlTemplateWidget(props,context){_super.call(this,props,context);
this.state={eventsNameSpace:ic3.uniqueId(),html:props.dataRenderOptions.options.initialHtml}}HtmlTemplateWidget.prototype.producedEvents=function(param){return[viz.EventType.onRowClick,viz.EventType.onCellClick,viz.EventType.onLegendClick]};HtmlTemplateWidget.prototype.onRequestExecuted=function(mdxResultTable,request){var _this=this;
mdxResultTable=this.beforeDataHook(mdxResultTable);var dataRenderOptions=this.props.dataRenderOptions;var tableContext=new ic3.TableContext(this.props.widgetContext(),mdxResultTable,request);var pubTableContext=new ic3.PublicTableContext(tableContext);var OptionMetaType=ic3.reporting.editor.OptionMetaType;
var html=ic3.ContextEvaluator.evaluate(this.context.reportingContext.getEvaluator().evaluate(dataRenderOptions.options.html||""),tableContext,"DATA");var template=doT.template(this.afterTemplateBuildHook(html));if(_.isObject(mdxResultTable)){var props=_.reduce(dataRenderOptions.config.options,function(result,option){var valueRef=_.isEmpty(option.valueRef)?option.name:option.valueRef;
var value=dataRenderOptions[valueRef];return _.set(result,[valueRef],function(row,col){var args=[];for(var _i=2;_i<arguments.length;_i++){args[_i-2]=arguments[_i]}var cellContext=ic3.ContextEvaluator.setCellContext(tableContext,col,row);var evaluated=_this.context.reportingContext.getEvaluator().evaluate(value);
evaluated=ic3.ContextEvaluator.evaluate(evaluated,cellContext,"CELL",args);if(_.get(ic3.HtmlTemplateOptionTypes[option.type],"type")===OptionMetaType.COLOR_MODE){evaluated=new ic3.ColorEvaluator(cellContext,evaluated,value).evaluate()}return evaluated==null?option.defaultValue:evaluated
})},{});var svg_1={scale:function(centerX,centerY,scale){var transX=centerX*(1-scale);var transY=centerY*(1-scale);return"translate("+transX+", "+transY+") scale("+scale+")"},scaleVal:function(centerX,centerY,row,col){var scale=tableContext.getValue(row,col);
return svg_1.scale(centerX,centerY,scale)}};this.setState({html:template(tableContext,props,svg_1),props:props})}this.setState({mdxResultTable:mdxResultTable,request:request,tableContext:tableContext,pubTableContext:pubTableContext})};HtmlTemplateWidget.prototype.componentWillUpdate=function(nextProps,nextState,nextContext){};
HtmlTemplateWidget.prototype.componentDidUpdate=function(){this.evalScripts()};HtmlTemplateWidget.prototype.componentDidMount=function(){_super.prototype.componentDidMount.call(this);this.evalScripts()};HtmlTemplateWidget.prototype.render=function(){return(React.createElement("div",{className:"ic3-html-template-content-wrapper ic3t-widget-template",dangerouslySetInnerHTML:{__html:this.state.html}}))
};HtmlTemplateWidget.prototype.evalScripts=function(){var node=ReactDOM.findDOMNode(this);var scripts=node.getElementsByTagName("script");_.each(scripts,function(script){return eval(script.innerHTML)});this.afterTemplateUpdateHook(node)};HtmlTemplateWidget.prototype.afterTemplateBuildHook=function(html){var _a=this,_b=_a.props,ic3_uid=_b.ic3_uid,dataRenderOptions=_b.dataRenderOptions,pubTableContext=_a.state.pubTableContext;
if(dataRenderOptions.options.afterTemplateBuild&&pubTableContext){try{html=eval("("+dataRenderOptions.options.afterTemplateBuild+")").call(this,pubTableContext,html)}catch(e){this.context.reportingContext.LoggerFactory.getLogger({instance:"This",uid:ic3_uid}).error(e)
}}return html};HtmlTemplateWidget.prototype.afterTemplateUpdateHook=function(node){var _a=this,_b=_a.props,ic3_uid=_b.ic3_uid,dataRenderOptions=_b.dataRenderOptions,_c=_a.state,pubTableContext=_c.pubTableContext,props=_c.props;if(dataRenderOptions.options.afterTemplateUpdate&&pubTableContext&&props){try{eval("("+dataRenderOptions.options.afterTemplateUpdate+")").call(this,pubTableContext,node,props)
}catch(e){this.context.reportingContext.LoggerFactory.getLogger({instance:"This",uid:ic3_uid}).error(e)}}};return HtmlTemplateWidget}(viz.core.AbstractChartWidget));viz.HtmlTemplateWidget=HtmlTemplateWidget})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]
}}}return b};var viz;(function(a){var b;(function(c){var d=(function(f){__extends(e,f);function e(h,g){f.call(this,h,g);this.state={}}e.prototype.componentDidMount=function(){this.applyTheme(this.createGrid.bind(this));this.renderingStatus=a.core.WidgetRenderingStatus.RENDERED
};e.prototype.componentDidUpdate=function(h,i,g){this.applyTheme(this.createGrid.bind(this))};e.prototype.doExportToExcel=function(g){if(this.grid){this.grid.doExportToExcel(g||null,this.state.mdxResultTable.getConnection())}else{return f.prototype.doExportToExcel.apply(this,arguments)
}};e.prototype.createGrid=function(){if(!this.grid){var g=_.extend({iconClass:{empty:"fa",drilldown:"fa fa-chevron-circle-right",collapsed:"fa fa-chevron-circle-right ic3-pt-visited",expand:"fa fa-chevron-circle-down ic3-pt-visited",loading:"fa fa-refresh",noChildren:"fa"},fireCollapseOnClosed:true,scrollbarVisibility:"onHover",useNavButtons:false,zoom:1,tooltipOnHeaders:true,menuVisibility:{back:true,axisXChange:"All",axisYChange:"All",filter:"All",reset:true,widget:true,others:"All"},maxAxisMemberCount:25,widgetStyle:"ic3-pt-default ic3-pt-blue",disableNavigation:false,context:this.context.reportingContext,handleClick:this.handleClick.bind(this),state:this.state,drillDownStrategy:this.props.navigationGuts.guts().drillDownStrategy,onRendered:this.onRendered.bind(this)},this.props,this.props.dataRenderOptions.proto&&this.props.dataRenderOptions.proto.options);
this.grid=new a.pivot.PivotTable($(this.refs.pivotTableContainer),g)}else{this.grid.updateState(this.state)}var h=this.getEventHandler();if(this.eventHandler.bindingEvent(a.EventType.onRowClick)){this.grid.bind(a.EventType.onRowClick,function(){var i=[];for(var j=0;
j<arguments.length;j++){i[j-0]=arguments[j]}h.fireEvent.apply(h,[a.EventType.onRowClick].concat(i))})}if(this.eventHandler.bindingEvent(a.EventType.onColumnClick)){this.grid.bind(a.EventType.onColumnClick,function(){var i=[];for(var j=0;j<arguments.length;j++){i[j-0]=arguments[j]
}h.fireEvent.apply(h,[a.EventType.onColumnClick].concat(i))})}if(this.eventHandler.bindingEvent(a.EventType.onCellClick)){this.grid.bind(a.EventType.onCellClick,function(){var i=[];for(var j=0;j<arguments.length;j++){i[j-0]=arguments[j]}h.fireEvent.apply(h,[a.EventType.onCellClick].concat(i))
})}};e.prototype.applyTheme=function(h){var g=this;this.getOverriddenStyling(function(i,j){g.props.themeContainer.wrapNativeCSS(g.refs.pivotTableContainer,true,i);if(j){g.context.reportingContext.LoggerFactory.getLogger({instance:g,uid:g.props.box.uid}).error("Error getting styling from the server. Used default preset ({})",j.toString())
}h()})};e.prototype.componentWillUnmount=function(){this.grid.destroy();this.grid=null};e.prototype.render=function(){return(React.createElement("div",__assign({},(g={},g[ic3.ThemesRepository.DataComponentAttr]="ic3Table",g),{className:"ic3-widget ic3-table ic3t-table",ref:"pivotTableContainer"})));
var g};return e}(a.TableWidget));c.PivotTableWidget=d})(b=a.pivot||(a.pivot={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var b;(function(d){var c=(function(f){__extends(e,f);function e(h,g){f.call(this,h,g);if(!this.state){this.state={}}if(this.props.items){this.state.entities=new a.EntityData(this.props.items)}}e.prototype.componentWillReceiveProps=function(h){if(!_.isEqual(h.items,this.props.items)){var g=h.items||[];
var i={entities:new a.EntityData(g)};this.setState(i)}};e.prototype.getMdxEntityItem=function(h,l){var j=h.getCells();var i=j.getCellProperty("VALUE",[0,l]);var g=j.getCellProperty("VALUE",[1,l]);var k=_.find(this.props.clientPreselection,function(m){var n=[i.toLowerCase(),g,ic3.IcCubeMdxBuilder.splitMdxMember(g).slice(-1)[0]];
return _.includes(n,m.toLocaleLowerCase())})!=undefined;return new a.MdxEntityItem({name:i,uniqueName:g,parentRowId:j.getCellProperty("VALUE",[2,l]),type:a.MdxEntityDataType.MEMBER,empty:_.isNull(j.getCellProperty("VALUE",[3,l]))||j.getCellProperty("VALUE",[3,l])==0,selected:j.getCellProperty("VALUE",[4,l])||k,caption:j.getCellProperty("VALUE",[5,l])})
};e.prototype.producedEvents=function(g){return[a.EventType.onSelection]};e.prototype.consumedEvents=function(){return[vizEventType.doFilterToDefault,vizEventType.doSetSelection,vizEventType.doAddSelection]};e.prototype.consumeEvent=function(g,h){switch(g){case vizEventType.doFilterToDefault:this.resetToDefault();
break;case vizEventType.doSetSelection:if(h){this.doSetSelection(h)}break;case vizEventType.doAddSelection:if(h){this.doAddSelection(h)}break;default:}};e.prototype.resetToDefault=function(){};e.prototype.doSetSelection=function(g){};e.prototype.doAddSelection=function(g){};
return e}(a.core.AbstractMdxResultTableWidget));d.AbstractFilter=c})(b=a.filters||(a.filters={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var b;(function(d){var c=(function(f){__extends(e,f);function e(i,g,h){f.call(this,i,g);this.history=[];this.historyPointer=-1;this.isRestoredFromState=false;this.historyFields=h}e.prototype.onStateChange=function(){};e.prototype.initWithState=function(g){this.isRestoredFromState=true;
if(g.items){this.setState({entities:new a.EntityData(g.items)})}if(g.history&&g.history.length>0){this.history=g.history;this.historySwitch(g.historyPointer||this.history.length-1)}};e.prototype.getState=function(g){return{history:this.history,historyPointer:this.historyPointer,items:g==a.StateSaveMode.SNAPSHOT?this.state.entities.items:null}
};e.prototype.componentDidUpdate=function(h,i,g){f.prototype.componentDidUpdate.call(this,h,i,g);if(this.state.entities.items.length){this.onStateChange()}this.saveHistoryEntry()};e.prototype.isRendered=function(){return f.prototype.isRendered.call(this)&&this.state.entities&&this.state.entities.items.length>0
};e.prototype.saveHistoryEntry=function(){var h=this.historyPointer>=0?this.history[this.historyPointer]:null;var g=_.cloneDeep(_.pick(this.state,this.historyFields));if(!_.isEqual(h,g)){if(this.historyCanForward()){this.history=_.slice(this.history,0,this.historyPointer+1)
}this.history.push(g);this.historyPointer=this.history.length-1}};e.prototype.historyCanForward=function(){return this.historyPointer<this.history.length-1};e.prototype.historyCanBack=function(){return this.historyPointer>0};e.prototype.historyExists=function(){return !_.isEmpty(this.history)
};e.prototype.historyForward=function(){if(this.historyCanForward()){this.historySwitch(this.historyPointer+1)}};e.prototype.historyBack=function(){if(this.historyCanBack()){this.historySwitch(this.historyPointer-1)}};e.prototype.historySwitch=function(g){this.historyPointer=g;
this.setState(_.cloneDeep(this.history[this.historyPointer]))};return e}(d.AbstractFilter));d.AbstractHistoryFilter=c})(b=a.filters||(a.filters={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(a){var b;(function(f){(function(h){h[h.DEFAULT=0]="DEFAULT";h[h.ADD=1]="ADD";h[h.RANGE=2]="RANGE";h[h.INVERSE=3]="INVERSE";h[h.SINGLE=4]="SINGLE"
})(f.SelectionFilterMode||(f.SelectionFilterMode={}));var c=f.SelectionFilterMode;function d(h){return _.isUndefined(h.selectionMode)||h.selectionMode===a.SelectionMode.MULTI||h.selectionMode===a.SelectionMode.IPAD_STYLE_MULTI||h.selectionMode===a.SelectionMode.HIERARCHICAL_MULTI
}f.isMultiSelect=d;var e=(function(i){__extends(h,i);function h(l,j,k){var m=this;i.call(this,l,j,_.compact(["selection"].concat(k)));this.selectItem=function(n,o){if(m.context.reportingContext.isReportWithSnapshot()){return}m.state.mode=m.computeModeFromEvent(o);
m.saveBaseForRangeSelection(n);switch(m.state.mode){case c.SINGLE:m.processSingleSelection(n);break;case c.RANGE:m.processRangeSelection(n);break;case c.INVERSE:m.processInverseSelection(n);break;case c.ADD:m.processAddSelection(n);break;default:if(m.props.selectionMode===a.SelectionMode.MULTI||m.props.selectionMode===a.SelectionMode.HIERARCHICAL_MULTI){m.processAddSelection(n)
}else{m.processSingleSelection(n)}break}if(m.applyInstantly()&&m.isInDefaultState()){m.applySelection()}m.forceUpdate()};this.handleKeyUp=function(o){var n=m.computeModeFromEvent(o)==c.DEFAULT;if(m.applyInstantly()&&!m.isInDefaultState()&&n){m.state.mode=c.DEFAULT;
m.applySelection()}};this.isSelected=function(n){return !!m.state.selection[n.uniqueName]};this.isCheckedToSwitch=function(n){return !!m.state.inverseSelection[n.uniqueName]};this.isHighlighted=function(n){return(m.isSelected(n)||m.isCheckedToSwitch(n))&&!(m.isSelected(n)&&m.isCheckedToSwitch(n))
};this.applyTextFilter=function(n){m.state.textFilter=n;m.forceUpdate()};this.inverse=function(n){m.state.inverseSelection[n.uniqueName]=true};this.removeInverse=function(n){m.state.inverseSelection[n.uniqueName]=false};this.getItemUniqueNames=function(o){var n=a.event.getItemsFromSelectionEvent(o);
return n.map(function(p){return m.getUniqueName(p)||m.getCaption(p)})};this.selectionEventHandler=new g(this);$(document).keyup(this.handleKeyUp.bind(this))}h.prototype.componentDidMount=function(){i.prototype.componentDidMount.call(this);this.state.lastSelected={base:null,last:null};
if(this.state.entities.size()){this.resetToDefault()}};h.prototype.getItemStyles=function(l,j,m){var o=this;if(_.isUndefined(this.state.tableContext)){return{}}var k=ic3.ContextEvaluator.setCellContext(this.state.tableContext,0,j||0);var n=function(r){var p=_.get(o.props,r),q=ic3.ContextEvaluator.evaluate(k.reportingContext.getEvaluator().evaluate(p),k,"CELL");
return q?new ic3.ColorEvaluator(k,q,p).evaluate():null};if(!l){return{color:m?n("dataRenderOptions.styling.emptyTextColor")+" !important":n("dataRenderOptions.styling.textColor"),backgroundColor:n("dataRenderOptions.styling.textBgColor")}}else{return{color:m?n("dataRenderOptions.styling.emptyTextColor")+" !important":n("dataRenderOptions.styling.selectedTextColor"),backgroundColor:n("dataRenderOptions.styling.selectedTextBgColor")}
}};h.prototype.componentDidUpdate=function(l,m,j){var n=this;i.prototype.componentDidUpdate.call(this,l,m,j);var k=false;_.forOwn(this.state.selection,function(p,o){if(p&&!_.find(n.state.entities.items,{uniqueName:o})){k=true;n.state.selection[o]=false}});if(k){this.fireSelectionEvent()
}};h.prototype.onRequestExecuted=function(j,k){var m=this;i.prototype.onRequestExecuted.call(this,j,k);var l=new a.EntityData(_.times(j.getAxes().getAxis(1).getTupleCount(),function(n){return m.getMdxEntityItem(j,n)}));this.state.defaultMember=this.getMdxEntityItem(j,0);
this.state.allMember=this.getMdxEntityItem(j,0);this.state.entities=l;this.state.defaults=_.filter(l.getEntities(),function(n){return n.selected});if(!this.isRestoredFromState){this.resetToDefault()}};h.prototype.onBuildAllDone=function(){if(this.getSelectionItems().length>0&&!_.isEmpty(this.props.items)){this.fireSelectionEvent()
}};h.prototype.getDisplayItems=function(){var j=this;if(this.state.textFilter){return this.state.entities.items.filter(function(k){return ic3.caption(k).toLowerCase().indexOf(j.state.textFilter)>=0})}else{return this.state.entities.items}};h.prototype.computeModeFromEvent=function(j){if(!d(this.props)){return c.SINGLE
}if(j.altKey){return c.INVERSE}if(j.shiftKey){return c.RANGE}if(j.ctrlKey||j.metaKey){return c.ADD}return c.DEFAULT};h.prototype.saveBaseForRangeSelection=function(j){this.state.lastSelected.last=j.uniqueName;if(this.state.mode==c.DEFAULT){this.state.rangeSelectionBase[this.isSelected(j).toString()]=j.uniqueName;
this.state.lastSelected.base=j.uniqueName}};h.prototype.isInDefaultState=function(){return !this.state.mode||this.state.mode===c.DEFAULT||this.state.mode===c.SINGLE};h.prototype.applyInverseSelection=function(){var j=this;if(!d(this.props)){this.state.selection={}
}_.map(this.state.inverseSelection,function(l,k){if(l){j.state.selection[k]=!j.state.selection[k]}});this.state.inverseSelection={};this.state.rangeSelectionBase={};this.state.lastSelected.base=this.state.lastSelected.last};h.prototype.getSelectionGroup=function(j){var m=this;
var l=this.isSelected(j);var k=function(n){return m.isSelected(n)==l};return this.getDisplayItems().filter(k)};h.prototype.processAddSelection=function(j){var l=true;if(this.props.emptySelectionAllowed===false&&this.state.selection[j.uniqueName]&&!this.state.inverseSelection[j.uniqueName]){var k=_.cloneDeep(this.state.selection);
_.map(this.state.inverseSelection,function(n,m){if(n){k[m]=!k[m]}});k[j.uniqueName]=!k[j.uniqueName];l=false;_.forOwn(k,function(m){if(m){l=true;return false}})}if(l){this.state.inverseSelection[j.uniqueName]=!this.state.inverseSelection[j.uniqueName]}};h.prototype.processRangeSelection=function(k){var l=this.getDisplayItems();
var n=Math.max(_.findIndex(l,{uniqueName:this.state.lastSelected.base}),0);var j=_.findIndex(l,{uniqueName:k.uniqueName});var m=l.slice(Math.min(n,j),Math.max(n,j)+1);this.state.inverseSelection={};this.state.selection={};m.forEach(this.inverse,this)};h.prototype.processInverseSelection=function(j){this.state.inverseSelection={};
this.getDisplayItems().forEach(this.inverse,this)};h.prototype.processSingleSelection=function(j){this.state.selection={};this.state.inverseSelection={};this.state.inverseSelection[j.uniqueName]=!this.state.selection[j.uniqueName]};h.prototype.applyInstantly=function(){return this.props.applyInstantly!==false
};h.prototype.getSelectionItems=function(){if(this.props.inverseSelection){return _.reject(this.state.entities.items,this.isSelected)}return this.state.entities.items.filter(this.isSelected,this)};h.prototype.fireSelectionEvent=function(){var j=this.getSelectionItems();
if(_.isFunction(this.props.handleSelectionEvent)){this.props.handleSelectionEvent(j)}this.selectionEventHandler.fireSelection(j)};h.prototype.applySelection=function(){this.applyInverseSelection();this.fireSelectionEvent();this.forceUpdate()};h.prototype.onStateChange=function(){if(this.applyInstantly()&&this.isInDefaultState()){this.fireSelectionEvent()
}};h.prototype.getCaption=function(j){return this.selectionEventHandler.getCaption(j)};h.prototype.getUniqueName=function(j){return this.selectionEventHandler.getUniqueName(j)};h.prototype.consumedEvents=function(){return _.union([vizEventType.doSelectAll,vizEventType.doSelectNone],i.prototype.consumedEvents.call(this))
};h.prototype.consumeEvent=function(j,k){switch(j){case vizEventType.doSelectAll:this.doSelectAll(k);break;case vizEventType.doSelectNone:this.doSelectNone(k);break;default:i.prototype.consumeEvent.call(this,j,k)}};h.prototype.withSelection=function(l,j){var j=_.cloneDeep(j);
if(d(this.props)){l.forEach(function(m){return j[m]=true})}else{if(!_.isEmpty(l)){j[l[0]]=true}}var k={selection:j};this.setState(k)};h.prototype.doSetSelection=function(j){this.withSelection(this.getItemUniqueNames(j),{})};h.prototype.doAddSelection=function(j){this.withSelection(this.getItemUniqueNames(j),this.state.selection)
};h.prototype.doSelectAll=function(j){this.withSelection(this.state.entities.items.map(function(k){return k.uniqueName}),{})};h.prototype.doSelectNone=function(j){this.withSelection([],{})};h.prototype.resetToDefault=function(j){if(!j){j=this.props}var k=[];
if(j.preSelectAll){k=this.state.entities.items}else{if(!_.isEmpty(j.preSelection)&&!this.historyExists()){k=this.state.entities.lookupEntitesByNameOrUniqueName(j.preSelection,true)}else{if(j.defaults){k=j.defaults||[]}else{if(this.state.defaults){k=this.state.defaults
}}}}this.withSelection(k.map(this.getUniqueName.bind(this)),{})};return h}(f.AbstractHistoryFilter));f.AbstractSelectionFilter=e;var g=(function(){function h(i){var j=this;this.widget=i;this.buildMemberInfo=function(l){var k=j.getCaption(l);return{name:k,uniqueName:j.getUniqueName(l)||k}
}}h.prototype.createSelectionEvent=function(i){if(i.length==0){if(this.widget.props.useDefaultMemberOnEmptySelection&&this.widget.state.defaultMember){i=[this.buildMemberInfo(this.widget.state.defaultMember)]}else{return new a.event.EmptySelectionEvent()}}if(i.length==1){return new a.event.SingleSelectionEvent(i[0],false,true)
}if(this.widget.props.useALL_MEMBER&&i.length===this.widget.state.entities.items.length){return new a.event.SingleSelectionEvent(this.buildMemberInfo(this.widget.state.allMember),false,true)}return new a.event.SetSelectionEvent(i,false,true)};h.prototype.fireSelection=function(i,l){var j=this.createSelectionEvent(i.map(this.buildMemberInfo));
var k=j.asMdx();if(l===true||this.lastFiredSelectionString!==k){if(this.widget.getEventHandler().hasEvents()){this.widget.getEventHandler().fireEvent(vizEventType.onSelection,j);this.lastFiredSelectionString=k}}};h.prototype.getCaption=function(i){return i[this.widget.props.captionField]||ic3.caption(i)
};h.prototype.getUniqueName=function(i){return i[this.widget.props.valueField]||i.uniqueName};return h}())})(b=a.filters||(a.filters={}))})(viz||(viz={}));var viz;(function(a){var b;(function(c){c.locale=[{value:"af",caption:"Afrikaans"},{value:"sq",caption:"Albanian (Gjuha shqipe)"},{value:"ar-DZ",caption:"Algerian Arabic"},{value:"ar",caption:"Arabic"},{value:"hy",caption:"Armenian"},{value:"az",caption:"Azerbaijani"},{value:"eu",caption:"Basque (Euskara)"},{value:"bs",caption:"Bosnian (Bosanski)"},{value:"bg",caption:"Bulgarian"},{value:"ca",caption:"Catalan"},{value:"zh-HK",caption:"Chinese Hong Kong"},{value:"zh-CN",caption:"Chinese Simplified"},{value:"zh-TW",caption:"Chinese Traditional"},{value:"hr",caption:"Croatian (Hrvatski jezik)"},{value:"cs",caption:"Czech"},{value:"da",caption:"Danish"},{value:"nl-BE",caption:"Dutch (Belgium)"},{value:"nl",caption:"Dutch (Nederlands)"},{value:"en-AU",caption:"English/Australia"},{value:"en-NZ",caption:"English/New Zealand"},{value:"en-GB",caption:"English/UK"},{value:"eo",caption:"Esperanto"},{value:"et",caption:"Estonian (eesti keel)"},{value:"fo",caption:"Faroese"},{value:"fa",caption:"Farsi/Persian"},{value:"fi",caption:"Finnish (suomi)"},{value:"fr",caption:"French "},{value:"fr-CH",caption:"French/Swiss"},{value:"gl",caption:"Galician"},{value:"ge",caption:"Georgian"},{value:"de",caption:"German (Deutsch)"},{value:"el",caption:"Greek"},{value:"he",caption:"Hebrew"},{value:"hi",caption:"Hindi"},{value:"hu",caption:"Hungarian"},{value:"is",caption:"Icelandic"},{value:"id",caption:"Indonesian"},{value:"it",caption:"Italian"},{value:"ja",caption:"Japanese"},{value:"kk",caption:"Kazakhstan"},{value:"km",caption:"Khmer"},{value:"ko",caption:"Korean"},{value:"lv",caption:"Latvian "},{value:"lt",caption:"Lithuanian (lietuviu kalba)"},{value:"lb",caption:"Luxembourgish"},{value:"mk",caption:"Macedonian"},{value:"ml",caption:"Malayalam"},{value:"ms",caption:"Malaysian (Bahasa Malaysia)"},{value:"no",caption:"Norwegian (Norsk)"},{value:"pl",caption:"Polish (Polski)"},{value:"pt",caption:"Portuguese"},{value:"pt-BR",caption:"Portuguese/Brazilian"},{value:"rm",caption:"Rhaeto-Romanic (Romansh)"},{value:"ro",caption:"Romanian"},{value:"ru",caption:"Russian"},{value:"sr",caption:"Serbian"},{value:"sr-SR",caption:"Serbian (srpski jezik)"},{value:"sk",caption:"Slovak (Slovencina)"},{value:"sl",caption:"Slovenian (Slovenski Jezik)"},{value:"es",caption:"Spanish (Espa�ol)"},{value:"sv",caption:"Swedish (Svenska)"},{value:"ta",caption:"Tamil"},{value:"th",caption:"Thai"},{value:"tj",caption:"Tajikistan"},{value:"tr",caption:"Turkish"},{value:"uk",caption:"Ukrainian"},{value:"vi",caption:"Vietnamese"},{value:"cy-GB",caption:"Welsh/UK"}]
})(b=a.filters||(a.filters={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};
var viz;(function(a){var b;(function(c){function e(i,f,h,j){var g={emptyMessage:"",moreMessage:"...",suggestionLength:5,addHierarchyDefault:false,cacheSize:256,selectionMode:h.selectionMode||a.SelectionMode.MULTI};return a.core.createWidget(i,f,d,$.extend(true,g,h,{remote:j}))
}c.createAutoComplete=e;var d=(function(f){__extends(g,f);function g(i,h){f.call(this,i,h);this.state={selection:{},entities:new a.EntityData(i.items||[]),rangeSelectionBase:{},inverseSelection:{}}}g.prototype.updateEntities=function(h){var i=this;this.setState({entities:new a.EntityData(_.times(h.getAxes().getAxis(1).getTupleCount(),function(j){return i.getMdxEntityItem(h,j)
}))})};g.prototype.loadMoreData=function(k,j){var l=this;var h=new a.QueryManager(this.props.remote.conn);var i=this.props.remote.request(k,j);if(i){h.executeRequest(i,{},function(m){l.updateEntities(m)})}else{setTimeout(function(){return l.loadMoreData(k,j)
},0)}};g.prototype.renderSelectedValues=function(){return this.getSelectionItems().map(function(h){return h.name}).join(", ")};g.prototype.render=function(){var h=a.filters.components.ReactSelect;return(React.createElement(h,{suggestionLength:this.props.suggestionLength,loadMoreData:this.loadMoreData.bind(this),renderSelectedValue:this.renderSelectedValues.bind(this),selectItem:this.selectItem.bind(this),entities:this.state.entities.items,getItemStyles:this.getItemStyles.bind(this),isSelected:this.isSelected.bind(this),themeContainer:this.props.themeContainer,wrapperProps:{"data-ic3-theme-component":"ic3AutoCompleteFilterWidget"}}))
};return g}(c.AbstractSelectionFilter));c.AutoComplete=d})(b=a.filters||(a.filters={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var viz;(function(a){var b;(function(e){function d(i,g,h){var f={css:{filterCss:"width:100%"},applyInstantly:true,selectionMode:a.SelectionMode.MULTI};
return a.core.createWidget(i,g,c,$.extend(true,f,h))}e.createButtonList=d;var c=(function(g){__extends(f,g);function f(i,h){var j=this;g.call(this,i,h);this.renderButton=function(t,r){var l=j.isSelected(t),p=j.isCheckedToSwitch(t),k,o;if((l||p)&&!(l&&p)){k="ic3-selected"
}var n=j.props.useMeasureToFilter&&t.empty;if(n){o="ic3-disabled"}var q=l?j.props.css.selectedItemCss:j.props.css.itemCss;var m=classNames("ic3-item",j.props.css.itemClass,k,o);var s=j.getItemStyles(l,r,n);return(React.createElement("div",{"data-ic3-theme-component":"button",key:"button-"+r,className:m,style:_.merge(a.reactCSSObject(q),s),onClick:n?null:j.selectItem.bind(j,t)},j.getCaption(t)))
};this.state={selection:{},entities:new a.EntityData(i.items||[]),rangeSelectionBase:{},inverseSelection:{}}}f.prototype.render=function(){var m=this.props.themeContainer;var j=(this.props.layout==="horizontal")?" ic3-item-horizontal":"";var h=this.getDisplayItems().map(this.renderButton.bind(this));
var l=classNames("ic3-blist","ic3-item-container",j);var i=this.props.filter?React.createElement(a.filters.components.TextFilter,{target:this}):null;var n=ic3.isTrue(this.props.itemTooltip)?"Ctrl: select all others, \nShift: unselect all others":ic3.escapeAttribute(this.props.itemTooltip);
return m.wrapReactStyle(React.createElement("div",__assign({},(k={},k[ic3.ThemesRepository.DataComponentAttr]="ic3ButtonsWidget",k),{className:l,title:n}),i?React.createElement("div",{"data-ic3-theme-component":"button",className:classNames("ic3-item ic3t-button-list-filter",this.props.css.itemClass),style:{padding:"0"}},i):null,h,React.createElement("div",{style:{clear:"both"}})));
var k};return f}(e.AbstractSelectionFilter));e.ButtonList=c})(b=a.filters||(a.filters={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var b;(function(d){(function(g){g[g.HTML5=0]="HTML5";g[g.REACT=1]="REACT"})(d.DatePickerRenderType||(d.DatePickerRenderType={}));var f=d.DatePickerRenderType;function e(i,g,h){if(!_.isEmpty(h.preSelection)){if(_.isArray(h.dataRenderOptions.preSelection)){h.dataRenderOptions.preSelectionFrom=h.preSelection[0];
h.dataRenderOptions.preSelectionTo=h.preSelection[1]}else{h.dataRenderOptions.preSelectionFrom=h.preSelection}}return a.core.createWidget(i,g,c,$.extend({},h))}d.createDatePicker=e;var c=(function(h){__extends(g,h);function g(j,i){var k=this;h.call(this,j,i,["selection"]);
this.lastSelection=[];this.onBlurHandler=function(m){var l=ReactDOM.findDOMNode(k);if(!l.contains(m.target)){k.fireChangeEvent()}};this.state={renderType:(!g.isBrowserSupportsDateInput||this.props.dataRenderOptions.pickerRenderer==="React")?f.REACT:f.HTML5,preselection:[this.parseEventNameToDate(this.props.preselectionFrom),this.parseEventNameToDate(this.props.preselectionTo)],placeholders:[this.props.dataRenderOptions.fromPlaceholder,this.props.dataRenderOptions.toPlaceholder],selection:[],entities:new a.EntityData([]),minDate:this.parseEventNameToDate(this.props.minimumValue),maxDate:this.parseEventNameToDate(this.props.maximumValue)};
if(this.props.dataRenderOptions.isRange&&this.state.preselection[0]&&this.state.preselection[1]){if(this.state.preselection[0].getTime()>this.state.preselection[1].getTime()){this.state.preselection[1]=null}}}g.prototype.componentWillUpdate=function(j,l,n){if(_.isObject(l.mdxResultTable)){var m=l.mdxResultTable.getAxes().getAxis(0);
var k=l.mdxResultTable.getMeta().getAxis(0).getHierarchyTypes(0);var i="YYYY-MM-DD";if(k==="time"){i="YYYY-MM-DDTHH:mm:ss.SSS"}if(k==="date"||k==="time"){if(_.isString(this.props.minimumValue)&&this.props.minimumValue.toLowerCase()==="mdx"){l.minDate=moment(m.getMemberValue(0,0),i).toDate()
}if(_.isString(this.props.maximumValue)&&this.props.maximumValue.toLowerCase()==="mdx"){l.maxDate=moment(m.getMemberValue(0,1),i).toDate()}if(_.isString(this.props.preselectionFrom)&&this.props.preselectionFrom.toLowerCase()==="mdx"){l.preselection[0]=moment(m.getMemberValue(0,2),i).toDate()
}if(_.isString(this.props.preselectionTo)&&this.props.preselectionTo.toLowerCase()==="mdx"&&this.props.dataRenderOptions.isRange){l.preselection[1]=moment(m.getMemberValue(0,3),i).toDate()}}else{if(_.isString(this.props.minimumValue)&&this.props.minimumValue.toLowerCase()==="mdx"){l.minDate=moment(m.getMemberCaption(0,0),i).toDate()
}if(_.isString(this.props.maximumValue)&&this.props.maximumValue.toLowerCase()==="mdx"){l.maxDate=moment(m.getMemberCaption(0,1),i).toDate()}if(_.isString(this.props.preselectionFrom)&&this.props.preselectionFrom.toLowerCase()==="mdx"){l.preselection[0]=moment(m.getMemberCaption(0,2),i).toDate()
}if(_.isString(this.props.preselectionTo)&&this.props.preselectionTo.toLowerCase()==="mdx"&&this.props.dataRenderOptions.isRange){l.preselection[1]=moment(m.getMemberCaption(0,3),i).toDate()}}}};g.prototype.componentDidMount=function(){if(this.props.dataRenderOptions.fireOnBlur){document.addEventListener("mousedown",this.onBlurHandler,false)
}};g.prototype.componentWillUnmount=function(){if(this.props.dataRenderOptions.fireOnBlur){document.removeEventListener("mousedown",this.onBlurHandler,false)}};g.prototype.componentDidUpdate=function(j,k,i){h.prototype.componentDidUpdate.call(this,j,k,i);if(!this.state.entities.items.length){this.onStateChange()
}};g.prototype.fireChangeEvent=function(){if(this.validateSelection()&&!_.isEqual(this.state.selection,this.lastSelection)){var i=this.getAsSelection(this.parseEventNameToDate(this.state.selection[0]));if(this.props.dataRenderOptions.isRange){var j=this.getAsSelection(this.parseEventNameToDate(this.state.selection[1]));
this.fireEvent(vizEventType.onSelection,new a.event.RangeSelectionEvent([i,j]))}else{this.fireEvent(vizEventType.onSelection,new a.event.SingleSelectionEvent(i))}this.lastSelection=_.cloneDeep(this.state.selection)}};g.prototype.onStateChange=function(){if(!this.props.dataRenderOptions.fireOnBlur){this.fireChangeEvent()
}};g.prototype.doAddSelection=function(i){return this.doSetSelection(i)};g.prototype.doSetSelection=function(i){if(i instanceof a.event.RangeSelectionEvent){var j=_.cloneDeep(this.state);j.selection[0]=i.firstCaption();j.selection[1]=i.secondCaption();this.setState(j)
}else{if(_.isFunction(i.getSelectedItems)&&_.isArray(i.getSelectedItems())&&i.getSelectedItems().length==2){var j=_.cloneDeep(this.state);j.selection[0]=i.selection_[0].name;j.selection[1]=i.selection_[1].name;this.setState(j)}else{if(i.caption_){var j=_.cloneDeep(this.state);
j.selection[0]=i.caption_;this.setState(j)}}}};g.prototype.getAsSelection=function(k){var l=this.props.memberFormatter;var i;if(_.isFunction(l)){i=l(k)}else{i=moment(k).format("YYYY-MM-DD")}var j=moment(k).format("YYYY/MM/DD");return{name:j,uniqueName:i}};g.prototype.parseEventNameToDate=function(l){if(typeof l==="string"&&l.length>0){var k=l.trim().toLowerCase();
var j=null;if(l.toLowerCase()==="mdx"){return null}else{if(ic3.DateUtils.DATE_FORMAT_YYYY_MM_DD_SLASH.test(k)){return moment(k,"YYYY/MM/DD").toDate()}else{if(ic3.DateUtils.DATE_FORMAT_YYYY_MM_DD_MINUS.test(k)){return moment(k,"YYYY-MM-DD").toDate()}else{if(ic3.DateUtils.DATE_FORMAT_MDX_ARG_YYYY_MM_DD_COMA.test(k)){var i=l.match(ic3.DateUtils.DATE_FORMAT_MDX_ARG_YYYY_MM_DD_COMA)[1];
return moment(i,"YYYY,MM,DD").toDate()}else{return ic3.DateUtils.parseTodayExpression(k)}}}}}else{if(l instanceof Date){return l}else{return null}}};g.prototype.validateSelection=function(){for(var k=0;k<this.state.selection.length;k++){if(ic3.isEmptyString(this.state.selection[k])||this.parseEventNameToDate(this.state.selection[0]).getTime()<0){return false
}var j=this.parseEventNameToDate(this.state.selection[k]);if(_.isDate(this.state.minDate)&&this.state.minDate.getTime()>j.getTime()){return false}if(_.isDate(this.state.maxDate)&&this.state.maxDate.getTime()<j.getTime()){return false}}if(this.props.dataRenderOptions.isRange){if(this.parseEventNameToDate(this.state.selection[0]).getTime()>this.parseEventNameToDate(this.state.selection[1]).getTime()){return false
}}return true};g.prototype.getMinDate=function(i){if(i&&!ic3.isEmptyString(this.state.selection[0])){return moment(this.state.selection[0],"YYYY/MM/DD").toDate()}else{return this.state.minDate}};g.prototype.getMaxDate=function(i){if(i&&!ic3.isEmptyString(this.state.selection[1])){return moment(this.state.selection[1],"YYYY/MM/DD").toDate()
}else{return this.state.maxDate}};g.prototype.renderNative=function(k,l,i){var n=this;var j=function(o){if(o.target.valueAsDate){var p=o.target.valueAsDate;n.state.selection[k]=$.datepicker.formatDate("yy/mm/dd",p);_.times(10-n.state.selection[k].length,function(){n.state.selection[k]="0"+n.state.selection[k]
});n.forceUpdate()}};var m=this.state.selection[k]?$.datepicker.formatDate("yy-mm-dd",this.parseEventNameToDate(this.state.selection[k])):null;m&&_.times(10-m.length,function(){m="0"+m});return(React.createElement("input",{"data-ic3-theme-component":"input",className:"ic3-widget-input",type:"date",onChange:j,min:l?$.datepicker.formatDate("yy-mm-dd",l):null,max:i?$.datepicker.formatDate("yy-mm-dd",i):null,placeholder:this.state.placeholders[k],value:m}))
};g.prototype.renderReact=function(k,l,i){var o=this;var m=window.DatePicker;var j=function(p){o.state.selection[k]=p.format("YYYY/MM/DD");o.forceUpdate()};var n=this.parseEventNameToDate(this.state.selection[k]);return(React.createElement(m,{className:"ic3-widget-input",onChange:j,selected:n?new moment(n):null,minDate:l?new moment(l):null,maxDate:i?new moment(i):null,dateFormat:this.props.dataRenderOptions.vDateFormat||"YYYY/MM/DD",showYearDropdown:true,dateFormatCalendar:"MMMM",placeholderText:this.state.placeholders[k]}))
};g.prototype.renderDateInput=function(k){this.state.selection[k]=this.state.selection[k]||$.datepicker.formatDate("yy/mm/dd",this.state.preselection[k]);if(this.state.selection[k]){var j=this.parseEventNameToDate(this.state.selection[k]);if((this.state.minDate&&this.state.minDate.getTime()>j.getTime())||(this.state.maxDate&&this.state.maxDate.getTime()<j.getTime())){this.state.selection[k]=null
}}var l=this.getMinDate(this.props.dataRenderOptions.isRange&&k==1);var m=this.getMaxDate(this.props.dataRenderOptions.isRange&&k==0);var i=this.state.renderType==f.REACT?this.renderReact(k,l,m):this.renderNative(k,l,m);return(React.createElement("div",{className:"ic3w-datepicker-input-container"},i))
};g.prototype.renderSeparator=function(){return(React.createElement("div",{className:"ic3w-datepicker-separator"},this.props.dataRenderOptions.separator))};g.prototype.render=function(){var j=this.props.themeContainer;var k=this.props.dataRenderOptions.isRange===true?2:1;
var m=[];for(var l=0;l<k;l++){m.push(this.renderDateInput(l));if(this.props.dataRenderOptions.separator&&l<k-1){m.push(this.renderSeparator())}}return j.wrapReactStyle(React.createElement("div",{"data-ic3-theme-component":"ic3DatepickerWidget",className:"ic3-widget-content"},React.createElement("div",{className:"ic3w-datepicker",ref:"datepicker"},m)))
};g.isBrowserSupportsDateInput=(function(){var j=document.createElement("input");j.setAttribute("type","date");var i="not-a-date";j.setAttribute("value",i);return !(j.value===i)})();return g}(d.AbstractHistoryFilter));d.DatePicker=c})(b=a.filters||(a.filters={}))
})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(a){var b;(function(d){function e(i,g,h){var f={css:{filterCss:"width:100%"},cssClass:{},applyInstantly:true,selectionMode:a.SelectionMode.MULTI,collapsible:false};
return a.core.createWidget(i,g,c,$.extend(true,f,h))}d.createMultiSelect=e;var c=(function(g){__extends(f,g);function f(i,h){var j=this;g.call(this,i,h);this.scrolledMouseOver=function(){if(j.state.scrollState){ReactDOM.findDOMNode(j.refs.selectView).scrollTop=j.state.scrollState
}};this.scrolledMouseOut=function(){j.state.scrollState=ReactDOM.findDOMNode(j.refs.selectView).scrollTop;ReactDOM.findDOMNode(j.refs.selectView).scrollTop=0};this.renderItem=function(m,p,k){var l=j.props.useMeasureToFilter&&p.empty;var o=classNames("ic3-multi-select-item","ic3-item",j.isCheckedToSwitch(p)?"ic3-selected":null,l?"ic3-disabled":null);
var n=j.getItemStyles(m,k,l);return(React.createElement("li",{className:o,"data-ic3-theme-component":m?"selected":"deselected",style:n,key:p.name+"-"+k,onClick:l?null:j.selectItem.bind(j,p)},React.createElement("span",{className:"ic3-multi-select-item-icon fa"}," "),React.createElement("span",null,p.name)))
};this.handleMouseDown=function(k){if(j.props.collapsible){if($(k.target).closest($(ReactDOM.findDOMNode(j.refs.list))).length==0&&$(k.target).closest($(ReactDOM.findDOMNode(j.refs.header))).length==0){if(j.props.applyInstantly===false){j.applySelection()}if(j.state.expanded!==false){j.setState({expanded:false})
}}}};this.state=$.extend({selection:{},inverseSelection:{},rangeSelectionBase:{},entities:new a.EntityData(i.items||[]),textFilter:""},this.state)}f.prototype.componentDidMount=function(){g.prototype.componentDidMount.call(this);document.addEventListener("mousedown",this.handleMouseDown)
};f.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleMouseDown)};f.prototype.renderSelectionList=function(){var n=_.partition(this.getDisplayItems(),this.isSelected.bind(this));var m=n[0].map(this.renderItem.bind(this,true));
var j=n[1].map(this.renderItem.bind(this,false));var o=classNames("ic3-multi-select-list",{"ic3-multi-select-list-floating":this.props.collapsible});var p=(React.createElement("div",{"data-ic3-theme-component":"list",className:"ic3-multi-select-view",ref:"selectView",onMouseOver:this.scrolledMouseOver.bind(this),onMouseOut:this.scrolledMouseOut.bind(this)},React.createElement("div",{className:"ic3-multi-select-view-scroller"},React.createElement("ul",{className:"ic3-multi-select-view-pinned"},m),React.createElement("ul",{className:"ic3-multi-select-view-unpinned"},m.length>0?React.createElement("li",{"data-ic3-theme-component":"separator",className:"ic3-multi-select-sep"}):null,j))));
if(this.props.collapsible){var q=classNames();o=classNames(o);var k={width:this.props.width-12,position:"inherit"};var h=ic3.react.RenderInBody;var i=this.props.listContainer[0];var l=ReactDOM.findDOMNode(this.refs.header).getBoundingClientRect();return(React.createElement(h,{containerClassName:q,targetElement:i,left:l.left,top:l.bottom,visible:true},React.createElement("div",{ref:"list",className:o,style:k},p)))
}else{return(React.createElement("div",{ref:"list",className:o,style:{height:"calc(100% - 24px)"}},p))}};f.prototype.collapseHandler=function(){if(this.context.reportingContext.isReportWithSnapshot()){return}this.setState({expanded:!this.state.expanded})};f.prototype.render=function(){var j=this.props.themeContainer;
var h=classNames("ic3-multi-select-header");var l=classNames();var i=classNames("fa","ic3-multi-select-action");var k=null;var p,o,m;if(this.props.collapsible){i=classNames(i,"ic3-multi-select-coll-exp");k=this.collapseHandler.bind(this);if(this.state.expanded){l=classNames(l,"ic3-multi-select-collapse-header");
i=classNames(i,"fa-caret-down");h=classNames(h,"ic3-multi-select-list-below");p=React.createElement(a.filters.components.TextFilter,{target:this});o=(React.createElement("span",{className:"fa fa-search ic3-multi-select-action"}));m=this.renderSelectionList()
}else{l=classNames(l,"ic3-multi-select-expand-header");i=classNames(i,"fa-caret-right");var n=this.getSelectionItems().map(ic3.caption).join(", ");p=(React.createElement("div",{className:"ic3-multi-select-preview"},React.createElement("span",null,n)));o=(React.createElement("span",{className:"ic3-multi-select-sel-count"}));
m=null;this.state.textFilter=null}}else{h=classNames(h,"ic3-multi-select-list-below");l=classNames("ic3-multi-select-search");i=classNames(i,"fa-search");m=this.renderSelectionList();p=React.createElement(a.filters.components.TextFilter,{target:this});o=this.props.applyInstantly!==false?null:(React.createElement("span",{className:"ic3-multi-select-apply ic3-multi-select-action",onClick:this.applySelection.bind(this)},this.context.reportingContext.mainReport().l("widget.multi_select.apply_selection")))
}return j.wrapReactStyle(React.createElement("div",{"data-ic3-theme-component":"ic3MultiSelectFilterWidget",className:"ic3-multi-select ic3t-multi-select"},React.createElement("div",{"data-ic3-theme-component":"header",ref:"header",className:h},React.createElement("div",{className:l,onClick:k},React.createElement("span",{className:i}),React.createElement("div",null,p),o)),m))
};return f}(d.AbstractSelectionFilter));d.MultiSelect=c})(b=a.filters||(a.filters={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var b;(function(d){function c(h,f,g,i){return a.core.createWidget(h,f,e,$.extend(true,{remote:i,maxHierarchyMembers:100},g))}d.createHierarchyMultiSelect=c;var e=(function(f){__extends(g,f);function g(i,h){f.call(this,i,h,["selectionByHierarchy"]);
this.state=$.extend({selection:{},inverseSelection:{},rangeSelectionBase:{},hierarchyFilterProps:{},selectionByHierarchy:{}},this.state);this.mouseDownHandler=this.handleMouseDown.bind(this)}g.prototype.componentDidMount=function(){f.prototype.componentDidMount.call(this);
document.addEventListener("mousedown",this.mouseDownHandler)};g.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.mouseDownHandler)};g.prototype.componentWillUpdate=function(h,i){var j=this;_.difference(_.keys(this.state.selection),_.keys(i.selection)).map(this.state.entities.getEntityByUniqueName.bind(this.state.entities)).forEach(function(k){delete j.state.hierarchyFilterProps[k.uniqueName]
})};g.prototype.onStateChange=function(){var h=this;this.state.inverseSelection=_.reduce(this.state.hierarchyFilterProps,function(i,k,j){i[j]=h.state.selection[j]===true;return i},{});_.difference(_.keys(this.state.selection),_.keys(this.state.inverseSelection)).map(this.state.entities.getEntityByUniqueName.bind(this.state.entities)).forEach(this.addHierarchy.bind(this));
this.fireSelectionEvent()};g.prototype.handleMouseDown=function(h){if($(h.target).closest($(ReactDOM.findDOMNode(this.refs.hierarchyListContainer))).length==0){this.toggleHierarchy(false)}};g.prototype.selectHierarchy=function(j){this.state.showHierarchies=false;
var i=_.find(j.target.options,function(k){return k.selected&&k.value});var h=_.find(this.state.entities.items,function(k){return k.uniqueName===i.value});this.state.selection[h.uniqueName]=true;this.state.selectionByHierarchy[h.uniqueName]=[];this.addHierarchy(h)
};g.prototype.addHierarchy=function(h){var i=$.extend({hierarchy:h,handleSelectionEvent:this.handleSelectionEvent.bind(this,h),widgetStyle:this.props.widgetStyle,listContainer:this.props.listContainer},g.defaultFilterProps);this.state.hierarchyFilterProps[h.uniqueName]=(i);
this.loadHierarchyItems(i)};g.prototype.loadHierarchyItems=function(k){var l=this;if(!this.props.remote){setTimeout(function(){return l.loadHierarchyItems(k)},0)}var i=new a.QueryManager(this.props.remote.conn);var j=this.props.remote.request(k.hierarchy,this.props.maxHierarchyMembers);
if(j){var h=this;i.executeRequest(j,{},function(m){var n=new a.MdxEntityData(m,m.getTableProperty("membersGroup"));k.items=n.items;h.forceUpdate()})}};g.prototype.removeHierarchyProps=function(h){delete this.state.hierarchyFilterProps[h.hierarchy.uniqueName];
delete this.state.selection[h.hierarchy.uniqueName];this.forceUpdate()};g.prototype.handleSelectionEvent=function(i,h){this.state.selectionByHierarchy[i.uniqueName]=h;this.saveHistoryEntry();this.fireSelectionEvent()};g.prototype.getSelectionItems=function(){return _.compact(_.values(this.state.selectionByHierarchy))
};g.prototype.getDisplayItems=function(){var h=this;return _.filter(this.state.entities.items,function(i){return !h.state.selection[i.uniqueName]})};g.prototype.toggleHierarchy=function(h){this.state.showHierarchies=h!==false;this.forceUpdate()};g.prototype.renderAddButton=function(){if(this.state.showHierarchies===true){return null
}var h=classNames("ic3-item");return(React.createElement("div",{className:h,onClick:this.toggleHierarchy.bind(this),style:{"float":"right"}},"Add"))};g.prototype.renderHierarchies=function(){if(this.state.showHierarchies!==true){return null}var h=_.map(this.getDisplayItems(),this.renderHierarchyOption.bind(this));
return(React.createElement("div",{className:"ic3-widget-content"},React.createElement("select",{className:"ic3-dropdown ic3-widget-input",onChange:this.selectHierarchy.bind(this)},React.createElement("option",{selected:true,disabled:true,style:{display:"none"}}),h)))
};g.prototype.renderHierarchyOption=function(h){return(React.createElement("option",{value:h.uniqueName},h.name))};g.prototype.renderFilters=function(){var j=this;var i=classNames(this.props.widgetStyle,"ic3-action-list","ic3-item-container","ic3-item-horizontal","ic3-bt-blue");
var h=_.map(this.state.hierarchyFilterProps,function(m,k){m=_.cloneDeep(m);if(!_.isEmpty(m.items)){m.preSelection=j.state.selectionByHierarchy[k]}var l=React.createElement(a.filters.MultiSelect,m);return(React.createElement("div",{style:{width:"250px","float":"left",marginLeft:"15px"}},React.createElement("div",{style:{width:"100%","float":"left"}},React.createElement("div",{style:{marginRight:"50px"}},l)),React.createElement("div",{style:{"float":"left",marginLeft:"-50px",width:"50px"},onClick:j.removeHierarchyProps.bind(j,m),className:i},React.createElement("div",{className:"ic3-item"},"Delete"))))
});return h};g.prototype.render=function(){var i=classNames("ic3-action-list","ic3-item-container","ic3-item-horizontal");var h=$.extend({},{display:"table-cell",width:"100%"}),j=$.extend({},{minWidth:"100px",display:"table-cell"});return(React.createElement("div",{style:{height:"100%"}},React.createElement("div",{style:{"float":"left",width:"100%",height:"100%"}},React.createElement("div",{style:{marginRight:"100px"}},this.renderFilters())),React.createElement("div",{style:{"float":"left",marginLeft:"-100px",width:"100px"},className:i,ref:"hierarchyListContainer"},this.renderAddButton(),this.renderHierarchies())))
};g.defaultFilterProps={css:{filterCss:{width:"100%"}},cssClass:{cssStyle:""},applyInstantly:true,selectionMode:"multi",collapsible:true,useALL_MEMBER:false,useDefaultMemberOnEmptySelection:false,preSelectAll:false,width:200,height:99,preSelection:[],items:[]};
return g}(d.AbstractSelectionFilter));d.HierarchyMultiSelect=e})(b=a.filters||(a.filters={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var b;(function(d){var c=(function(f){__extends(e,f);function e(h,g){f.call(this,h,g);this.state={selection:{},inverseSelection:{},rangeSelectionBase:{},entities:new a.EntityData(h.items||[])}}e.prototype.renderOption=function(j,g){var i=this.isSelected(j),h=this.props.useMeasureToFilter&&j.empty;
return(React.createElement("option",{"data-ic3-theme-component":"option",value:j.uniqueName,selected:i,style:this.getItemStyles(i,g,h),disabled:h},j.name))};e.prototype.handleChange=function(j){if(this.context.reportingContext.isReportWithSnapshot()){return
}var g=j.target.options;this.state.selection={};for(var h=0;h<g.length;h++){if(g[h].selected&&g[h].value){this.state.selection[g[h].value]=true}}this.setState(this.state);this.fireSelectionEvent()};e.prototype.render=function(){var j=this.props.themeContainer;
var h=_.map(this.getDisplayItems(),this.renderOption.bind(this));var i=null;if(this.props.fitToContainer){i=d.isMultiSelect(this.props)?{width:"100%",height:"100%"}:{width:"100%"}}var g=null;if(_.isEmpty(this.state.selection)){g=(React.createElement("option",{"data-ic3-theme-component":"option",selected:true,disabled:true,style:!this.props.emptyMessage||d.isMultiSelect(this.props)?{display:"none"}:null},this.props.emptyMessage))
}var k={};if(!d.isMultiSelect(this.props)){k=this.getItemStyles(true,0)}return j.wrapReactStyle(React.createElement("div",{"data-ic3-theme-component":"ic3DropDownWidget",className:"ic3-widget-content ic3t-dropdown-filter"},React.createElement("select",{"data-ic3-theme-component":"select",className:"ic3-dropdown ic3-widget-input",multiple:d.isMultiSelect(this.props),style:_.merge(i,k),onChange:this.handleChange.bind(this),disabled:this.context.reportingContext.isReportWithSnapshot()},g,h)))
};return e}(d.AbstractSelectionFilter));d.SimpleSelect=c})(b=a.filters||(a.filters={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var b;(function(e){function c(i,f,g){var h={orientation:"horizontal",range:false,preSelection:null,showEmpty:true};return a.core.createWidget(i,f,d,$.extend(h,g))}e.createSlider=c;var d=(function(g){__extends(f,g);function f(i,h){var j=this;
g.call(this,i,h,["range"]);this.handleSlide=function(k){j.fireEvent(vizEventType.onNewLabel,j.createEvent(k))};this.handleChange=function(k){j.setState({range:k})};this.state={entities:new a.EntityData(i.items||[]),range:[]};this.state.range=this.getDefault()
}f.prototype.onRequestExecuted=function(h,i){g.prototype.onRequestExecuted.call(this,h,i);if(this.state.range===0||_.isEqual(this.state.range,[0,0])){this.state.range=this.getDefault();this.forceUpdate()}};f.prototype.dimensions=function(i,h){if(this.props.orientation==="vertical"){return{width:i,height:(this.props.height-h*2)}
}else{return{width:(this.props.width-h*2),height:i}}};f.prototype.render=function(){var n=this;var l=this.props.themeContainer;if(!this.state.entities.items.length&&!this.props.showEmpty){return null}var h=this.props.sliderMargin||15;var k=this.props.sliderWidth||8;
var i=_.merge(this.dimensions(k,h),{marginLeft:h+"px",marginTop:h+"px"});var p=null;if(this.state.entities.items.length>0){switch(this.props.showLabels){case"None":p=_.map([].concat(this.state.range),function(r){return(React.createElement("div",{style:{height:"100%"},title:n.state.entities.getEntityAt(r).name}))
});break;case"Options":break;case"Handles":default:p=_.map([].concat(this.state.range),function(s){var r=n.getItemStyles(true,s);return(React.createElement("span",{className:"react-slider-handle-text",style:r},n.state.entities.getEntityAt(s).name))})}}var o=_.merge(this.dimensions(k,h));
var j=this.props.dataRenderOptions.orientation||"horizontal";var m=classNames("stop-draggable","react-slider","react-slider-"+j);var q=classNames("react-slider-handle");return l.wrapReactStyle(React.createElement("div",{"data-ic3-theme-component":"ic3SliderFilterWidget",className:"ic3t-slider-filter",style:i},React.createElement(ReactSlider,{ref:"slider",min:0,max:this.getMaxSize(),value:this.state.range,defaultValue:this.state.range,onChange:this.handleSlide,onAfterChange:this.handleChange,orientation:j,className:m,handleClassName:q},p),React.createElement("div",{ref:"labels",style:o},this.getAllLabels(this.dimensions(k,h)))))
};f.prototype.getAllLabels=function(h){var k=this;if(this.props.showLabels!=="Options"){return null}var j=this.getDisplayItems(),i=this.props.sliderMargin||15;return _.map(j,function(n,m){var p=[].concat(k.state.range);var o=k.getItemStyles(p.indexOf(m)>-1,m),l;
if(k.props.orientation=="horizontal"){l={top:33,left:(i-15+m*h.width/(j.length-1))}}else{l={top:(i-7+m*h.height/(j.length-1)),left:45}}o=_.merge(o,l,{position:"absolute"});return(React.createElement("span",{style:o},n.name))})};f.prototype.createEvent=function(h){if(this.props.range&&$.isArray(h)){return new a.event.RangeSelectionEvent(this.state.entities.getEntitiesAt([h[0],h[1]]))
}else{return new a.event.SingleSelectionEvent(this.state.entities.getEntityAt(h),false,true)}};f.prototype.onStateChange=function(){this.fireEvent(vizEventType.onSelection,this.createEvent(this.state.range))};f.prototype.producedEvents=function(h){return[vizEventType.onSelection,vizEventType.onNewLabel]
};f.prototype.consumedEvents=function(){return _.union([vizEventType.doSelectAll],g.prototype.consumedEvents.call(this))};f.prototype.consumeEvent=function(h,i){switch(h){case vizEventType.doSelectAll:this.selectAll();break;default:g.prototype.consumeEvent.call(this,h,i)
}};f.prototype.getMaxSize=function(){return Math.max(this.state.entities.items.length-1,0)};f.prototype.selectAll=function(){if(this.props.range){this.setState({range:[0,this.getMaxSize()]})}};f.prototype.getDefault=function(){var h=this.getInitialRange()||[];
h[0]=h[0]||0;h[1]=h[1]||this.getMaxSize();if(this.props.range){return h}else{return h[0]}};f.prototype.getInitialRange=function(){var h;if(!_.isEmpty(this.props.preSelection)){h=this.state.entities.lookupEntitesByNameOrUniqueName(this.props.preSelection)}else{if(this.state.defaults&&this.state.defaults.length){h=this.state.entities.lookupByUniqueName(this.state.defaults)
}}return _.take(h,2)};return f}(e.AbstractSelectionFilter));e.Slider=d})(b=a.filters||(a.filters={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var b;(function(d){var c=(function(f){__extends(e,f);function e(h,g){f.call(this,h,g);this.state={selection:{},inverseSelection:{},rangeSelectionBase:{},entities:new a.EntityData(h.items||[]),expanded:{}}}e.prototype.renderBranches=function(t){var j=[];
for(var m=0;m<t.length;m++){var n=this.state.expanded[t[m].uniqueName]===true;var o=t[m].children.length>0;var k=this.props.useMeasureToFilter&&t[m].empty;var q=this.props.forceCheckbox!==false;var r=classNames({"ic3-disabled":k}),h=classNames("sprite","checkbox",{checked:this.isHighlighted(t[m]),grayed:t[m].partial}),l=classNames("expander","halflings",o&&{"halflings-triangle-right":!n,"halflings-triangle-bottom":n}),g=n?React.createElement("ul",{"data-ic3-theme-component":"list",className:"ic3-no-list-style"},this.renderBranches(t[m].children)):null,s=null;
if(this.isHighlighted(t[m])){s=this.getItemStyles(true,m)}else{if(t[m].partial){s=this.getItemStyles(false,m)}else{s=this.getItemStyles(false,m,k)}}var p=this.handleExpand.bind(this,t[m],o);j.push(React.createElement("li",{className:r,onDoubleClick:p},React.createElement("div",{"data-ic3-theme-component":"item",onClick:this.handleSelect.bind(this,t[m],k)},React.createElement("span",{"data-ic3-theme-component":"expander",className:l,onClick:p}),q?React.createElement("span",{"data-ic3-theme-component":"checkbox",className:h}):null,React.createElement("span",{"data-ic3-theme-component":"title",className:"title",title:t[m].title,style:_.defaults(s,{display:"inline-block"})},t[m].title)),g))
}return j};e.prototype.handleExpand=function(h,g,i){i.stopPropagation();if(this.context.reportingContext.isReportWithSnapshot()||!g){return}this.state.expanded[h.uniqueName]=!this.state.expanded[h.uniqueName];this.setState(this.state)};e.prototype.handleSelect=function(m,k,n){if(this.context.reportingContext.isReportWithSnapshot()||k){return
}if(this.props.selectionMode===a.SelectionMode.HIERARCHICAL_MULTI){var j=this;var h=!this.state.selection[m.uniqueName];_.each(m.children,function i(o){j.state.selection[o.uniqueName]=h;_.each(o.children,i)});if(m.parent){if(h){(function g(o){var p=_.filter(o.children,function(q){return q==m||j.state.selection[q.uniqueName]
});j.state.selection[o.uniqueName]=p.length==o.children.length;o.parent&&g(o.parent)})(m.parent)}else{(function l(o){j.state.selection[o.uniqueName]=false;o.parent&&l(o.parent)})(m.parent)}}}this.selectItem({uniqueName:m.uniqueName,name:m.title},n)};e.prototype.treeFromEntities=function(){var i=[];
var m={};for(var h=0;h<this.state.entities.size();h++){var j=this.state.entities.getEntityAt(h);var k={title:this.applyCustomRenderer(j),uniqueName:this.getUniqueName(j),children:[],parent:null,empty:j.empty,partial:false};if(_.isNull(j.parentRowId)||m[j.parentRowId]==null){j.parentRowId=-1
}if(j.parentRowId<0){i.push(k);m[h]=k;m[k.uniqueName]=k}else{var g=m[j.parentRowId];g.children.push(k);k.parent=g;if(this.state.selection[k.uniqueName]===true&&!k.parent.partial){(function l(n){n.partial=true;n.parent&&l(n.parent)})(k.parent)}m[h]=k;m[k.uniqueName]=k
}}return i};e.prototype.applyCustomRenderer=function(g){var h=this.getCaption(g);if(this.props.customRenderer){return this.props.customRenderer(h,g)}return h};e.prototype.getSelectionItems=function(){var h=this;var g=f.prototype.getSelectionItems.call(this);
if(this.props.filterMode){g=g.filter(function(i){return i.parentRowId<0||!h.isSelected(h.state.entities.getEntityAt(i.parentRowId))})}return g};e.prototype.render=function(){var g=this.props.themeContainer;var i=classNames("ic3-filter-tree","stop-draggable","ic3t-tree-filter",this.props.widgetStyle);
var h=this.treeFromEntities();return g.wrapReactCSS((React.createElement("div",{"data-ic3-theme-component":"ic3TreeFilterWidget",className:i},React.createElement("ul",{"data-ic3-theme-component":"listTop",className:"ic3-no-list-style"},this.renderBranches(h)))),true)
};return e}(d.AbstractSelectionFilter));d.TreeSelect=c})(b=a.filters||(a.filters={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var viz;(function(a){var b;(function(d){var c;(function(f){var e=(function(h){__extends(g,h);
function g(j,i){var k=this;h.call(this,j,i);this.inputChange=function(l){k.lastValue=l.target.value;k.restorePageOffset();k.props.loadMoreData(k.lastValue,k.state.suggestionRequestedLength)};this.hide=function(){k.setDocumentHide(false);k.setState({isOpen:false})
};this.hideWithBlur=function(){k.hide();$(ReactDOM.findDOMNode(k.refs.input)).blur()};this.toggleOpen=function(){var l=!k.state.isOpen;k.setDocumentHide(l);k.setState({isOpen:l});if(l){k.restorePageOffset()}};this.stopEvent=function(l){l.nativeEvent.stopImmediatePropagation()
};this.loadMore=function(n,m){var l=k.state.suggestionRequestedLength+k.props.suggestionLength;k.stopEvent(m);k.setState({suggestionRequestedLength:l});k.props.loadMoreData(k.lastValue,l)};this.state={isOpen:false,hasMoreItems:j.entities.length>=j.suggestionLength,suggestionRequestedLength:j.suggestionLength}
}g.prototype.componentWillReceiveProps=function(i){this.setState({hasMoreItems:i.entities.length>=this.state.suggestionRequestedLength})};g.prototype.restorePageOffset=function(){this.setState({suggestionRequestedLength:this.props.suggestionLength})};g.prototype.setDocumentHide=function(i){if(i){document.addEventListener("click",this.hideWithBlur)
}else{document.removeEventListener("click",this.hideWithBlur)}};g.prototype.renderItem=function(j,l,i){var k=this.props.getItemStyles&&this.props.getItemStyles(this.props.isSelected(l),i,l.empty);return(React.createElement("li",{"data-ic3-theme-component":"item",className:"r-ss-dropdown-option",style:k,onClick:j.bind(this,l)},l.name))
};g.prototype.renderList=function(){var k=ic3.react.RenderInBody;var m=ReactDOM.findDOMNode(this.refs.header).getBoundingClientRect();var j=_.map(this.props.entities.slice(0,this.state.suggestionRequestedLength),this.renderItem.bind(this,this.props.selectItem.bind(this)));
var i=this.state.hasMoreItems?this.renderItem(this.loadMore,{name:"..."}):null;var l={width:m.right-m.left,position:"inherit"};return(React.createElement(k,{containerClassName:"react-select-popup",left:m.left,top:m.bottom,visible:true},React.createElement("div",{"data-ic3-theme-component":"list",style:l},React.createElement("ul",{className:"ic3-no-list-style"},j,i))))
};g.prototype.render=function(){var n=this,m=n.state.isOpen,l=n.props,k=l.wrapperProps,i=l.themeContainer;var j=classNames("halflings",{"halflings-triangle-bottom":m,"halflings-triangle-right":!m});return i.wrapReactStyle(React.createElement("div",__assign({className:"react-select ic3t-autocomplete"},k),React.createElement("div",{ref:"header",className:"input","data-ic3-theme-component":"input"},React.createElement("span",{className:j,onClick:this.toggleOpen}),React.createElement("input",{ref:"input",style:this.props.getItemStyles(true,0),value:m?null:this.props.renderSelectedValue(),onClick:m?this.stopEvent:this.toggleOpen,onKeyUp:this.inputChange}),m?React.createElement("span",{className:"halflings halflings-search"}):null),m?this.renderList():null))
};return g}(React.Component));f.ReactSelect=e})(c=d.components||(d.components={}))})(b=a.filters||(a.filters={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]
}}}return b};var viz;(function(a){var b;(function(d){var c;(function(f){var e=(function(h){__extends(g,h);function g(i){h.call(this,i);this.state={}}g.prototype.componentDidMount=function(){this.initDatePicker()};g.prototype.componentWillReceiveProps=function(){this.destroyDatePicker()
};g.prototype.componentDidUpdate=function(){this.initDatePicker()};g.prototype.componentWillUnmount=function(){this.destroyDatePicker()};g.prototype.render=function(){return(React.createElement("input",__assign({type:"text",value:""},this.props)))};g.prototype.destroyDatePicker=function(){$(ReactDOM.findDOMNode(this)).datepicker("destroy")
};g.prototype.initDatePicker=function(){$(ReactDOM.findDOMNode(this)).datepicker(this.props);if(this.props.defaultDate){$(ReactDOM.findDOMNode(this)).datepicker("setDate",this.props.defaultDate)}};return g}(React.Component));f.ReactDatePicker=e})(c=d.components||(d.components={}))
})(b=a.filters||(a.filters={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};
var viz;(function(a){var b;(function(d){var c;(function(e){var f=(function(g){__extends(h,g);function h(i){g.call(this,i);this.state={text:"",reactionTimer:null}}h.prototype.handleSearchKeyUp=function(j){if(this.state.reactionTimer!=null){clearTimeout(this.state.reactionTimer)
}this.state.text=j.target.value.toLowerCase();var i=this;this.state.reactionTimer=setTimeout(function(){i.props.target.applyTextFilter(i.state.text)},this.props.reactionTimeout||50)};h.prototype.stopPropagation=function(i){i.stopPropagation()};h.prototype.render=function(){var i={width:"100%",boxSizing:"border-box",border:"none"};
return(React.createElement("input",{type:"text",className:this.props.inputClasses,style:i,onClick:this.stopPropagation,onKeyUp:this.handleSearchKeyUp.bind(this)}))};return h}(React.Component));e.TextFilter=f})(c=d.components||(d.components={}))})(b=a.filters||(a.filters={}))
})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(viz){var actions;
(function(actions){var AbstractActionWidget=(function(_super){__extends(AbstractActionWidget,_super);function AbstractActionWidget(){_super.apply(this,arguments)}AbstractActionWidget.prototype.fireSelection=function(item,idx){switch(item.actionType){case ic3.ExtendedActionTypes.JAVASCRIPT:if(item.jsFunction){var pubWidgetContext=new ic3.PublicWidgetContext(this.props.widgetContext());
try{eval("("+item.jsFunction+")").call(this,pubWidgetContext,item)}catch(e){this.context.reportingContext.LoggerFactory.getLogger({instance:"This",uid:this.props.ic3_uid}).error(e)}}case ic3.ExtendedActionTypes.REPORT_NAME:case ic3.ExtendedActionTypes.EVENT:default:if(item.eventValue){this.fireEvent(vizEventType.onSelection,idx,new viz.event.ValueEvent(item.eventValue,item.caption))
}}};return AbstractActionWidget}(viz.core.AbstractWidget));actions.AbstractActionWidget=AbstractActionWidget})(actions=viz.actions||(viz.actions={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(a){var b;(function(d){var c=(function(f){__extends(e,f);function e(g,h){f.call(this,g,h);this.buildInHtml();this.setStyle()}e.prototype.buildInHtml=function(){};
return e}(a.BaseWidget));d.BaseAction=c})(b=a.actions||(a.actions={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var b;(function(d){var c=(function(f){__extends(e,f);function e(g,h){f.call(this,g,h);this.classID="ic3.ActionButtonList"}e.prototype.buildInHtml=function(){var p=this;var q=this.options;var l=q.css||{};var g=q.behaviour!=="choice"&&q.behaviour!=="multiple-choice";
var i=q.behaviour==="multiple-choice";var j="ic3-action-list ic3-item-container"+(l.cssClass?" "+l.cssClass:"");j+=(q.layout==="horizontal")?" ic3-item-horizontal":"";var h=(l.cssStyle?" style='"+l.cssStyle+"'":"");var k="<div class='"+j+"'"+h+">";ic3.each(q.actionList,function(r,v){var u="ic3-item"+(l.itemCssClass?" "+l.itemCssClass:"");
var s=l.itemCssStyle?l.itemCssStyle:"";u+=v.cssClass?" "+v.cssClass:"";s+=v.cssStyle?";"+v.cssStyle:"";var t=v.hideCaption?"":v.caption;t=$.isArray(t)?t[0]:t;var w=v.tooltip?v.tooltip:"";k+="<div class='"+u+"'  style='"+s+"' ic3-idx='"+(v.id||r)+"' title='"+w+"'>"+ic3.escapeHTML(t)+"</div>"
});k+="<div style='clear:both'>";k+="</div>";this.container.html(k);var o=l.clickBehaviour||{};var m=o.duration;var n=(o&&ic3.isInt(m))?parseInt(m,0):450;this.container.find("div.ic3-item").click(function(){if(this.props.context.isReportWithSnapshot()){return
}var v=$(this);if(v.hasClass("ic3-disabled")){return}var u=v.hasClass("ic3-clicked");var s=parseInt(v.attr("ic3-idx"));var r=true;if(g){v.addClass("ic3-clicked");setTimeout(function(){v.removeClass("ic3-clicked")},n)}else{r=u===false;if(i){v.toggleClass("ic3-clicked")
}else{if(u===false){p.container.find("div.ic3-item").removeClass("ic3-clicked");v.addClass("ic3-clicked")}}}if(r){var t=p.options.actionList[s];p.fireEvent(vizEventType.onSelection,s,new a.event.ValueEvent(t.eventValue,t.caption))}})};e.prototype.disableItems=function(){this.container.find("div.ic3-item").addClass("ic3-disabled")
};e.prototype.enableItems=function(){this.container.find("div.ic3-item").removeClass("ic3-disabled")};e.prototype.getWidgetEl=function(){return this.container.find(".ic3-action-list")};e.prototype.destroy=function(){if(this.container){this.container.empty()
}};return e}(d.BaseAction));d.ActionButtonList=c})(b=a.actions||(a.actions={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var b;(function(e){(function(f){f[f.BUTTONS=0]="BUTTONS";f[f.SWITCH=1]="SWITCH";f[f.MULTI=2]="MULTI"})(e.ButtonListMode||(e.ButtonListMode={}));var d=e.ButtonListMode;var c=(function(g){__extends(f,g);function f(i,h){var j=this;g.call(this,i,h);
this.handleItemClick=function(m,k){if(j.context.reportingContext.isReportWithSnapshot()){return}if(!j.state.selection[k]){j.fireSelection(m,k)}switch(j.props.dataRenderOptions.behaviour){case"Choice":var l={};l[k]=true;j.setState({selection:l});break;case"Multiple Choice":var l=j.state.selection;
l[k]=!l[k];j.setState({selection:l});break;case"Button":default:var l=j.state.selection;l[k]=true;j.setState({selection:l});setTimeout(function(){var n=j.state.selection;n[k]=false;j.setState({selection:n})},j.props.css.clickBehaviour.duration)}};this.renderButton=function(o,k){var l=j.state.selection[k];
var m=classNames("ic3-item",o.cssClass,{"ic3-selected":l});var n;if(o.leftIconName){var p=classNames("ui-button-icon-primary","ui-icon",o.leftIconName);n=(React.createElement("span",{className:p}))}else{n=j.getCaption(o)}return(React.createElement("div",{"data-ic3-theme-component":"button",className:m,style:a.reactCSSObject(o.cssStyle),onClick:j.handleItemClick.bind(j,o,k),title:o.tooltip},n))
};this.state={selection:{}}}f.prototype.producedEvents=function(h){return[vizEventType.onSelection]};f.prototype.consumedEvents=function(){return[]};f.prototype.onBuildAllDone=function(){var h=this;_.each(this.props.actionList,function(j,i){if(j.preselected===true){h.fireSelection(j,i);
if(h.props.dataRenderOptions.behaviour!=="Button"){h.state.selection[i]=true;h.setState({selection:h.state.selection})}}})};f.prototype.getCaption=function(i){var h=i.hideCaption?"":i.caption;return _.isArray(h)?h[0]:h};f.prototype.render=function(){var j=this.props.themeContainer;
var i=classNames("ic3-action-list","ic3-item-container ic3t-button-list-action",{"ic3-item-horizontal":this.props.layout!=="vertical"});var h=this.props.actionList.map(this.renderButton);return j.wrapReactStyle(React.createElement("div",{"data-ic3-theme-component":"ic3ButtonsWidget",className:i},h,React.createElement("div",{style:{clear:"both"}})))
};return f}(e.AbstractActionWidget));e.ButtonList=c})(b=a.actions||(a.actions={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var b;(function(d){var c=(function(f){__extends(e,f);function e(h,g){f.call(this,h,g);this.state={}}e.prototype.renderOption=function(g){return(React.createElement("option",{"data-ic3-theme-component":"option",value:g.eventValue,selected:g.preselected},g.caption))
};e.prototype.handleChange=function(g){var h=this;if(this.context.reportingContext.isReportWithSnapshot()){return}_.map(g.target.options,function(j,i){if(j.selected&&j.value){h.fireSelection(h.props.actionList[i],i)}})};e.prototype.applyDefaults=function(){var g=_.findLastIndex(this.props.actionList,"preselected");
if(~g){this.fireSelection(this.props.actionList[g],g)}};e.prototype.onBuildAllDone=function(){this.applyDefaults()};e.prototype.render=function(){var g=this.props.themeContainer;var i=_.map(this.props.actionList,this.renderOption.bind(this));var j=null;if(this.props.fitToContainer){j={width:"100%"}
}var h=null;if(this.props.emptyMessage){h=(React.createElement("option",{selected:true,disabled:true,style:{display:"none"}},this.props.emptyMessage))}return g.wrapReactStyle(React.createElement("div",{"data-ic3-theme-component":"ic3DropDownWidget",className:"ic3-widget-content ic3t-dropdown-action"},React.createElement("select",{"data-ic3-theme-component":"select",className:"ic3-dropdown ic3-widget-input",style:j,onChange:this.handleChange.bind(this),disabled:this.context.reportingContext.isReportWithSnapshot()},h,i)))
};return e}(d.AbstractActionWidget));d.SimpleSelect=c})(b=a.actions||(a.actions={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var b;(function(e){var c=a.JavascriptValidator;var d=(function(f){__extends(g,f);function g(i,h){f.call(this,i,h);this.state={}}g.prototype.validate=function(j){var i=null;if(this.props.dataRenderOptions.validator&&this.props.dataRenderOptions.validator.enabled){var h=new c(this.props.dataRenderOptions.validator);
i=this.context.reportingContext.l(h.validate(j));ReactDOM.findDOMNode(this.refs.input).setCustomValidity(i)}return i===null||ic3.isEmptyString(i)};g.prototype.fireInputEvent=function(i,h){if(this.validate(i)){this.fireEvent(h,new a.event.ValueEvent(i))}};g.prototype.handleInputChange=function(){if(this.props.dataRenderOptions.fireOnInputChange){this.fireInputEvent(ReactDOM.findDOMNode(this.refs.input).value,a.EventType.onInputChange)
}};g.prototype.handleButtonClick=function(){this.fireInputEvent(ReactDOM.findDOMNode(this.refs.input).value,a.EventType.onButtonClick)};g.prototype.producedEvents=function(){return[a.EventType.onInputChange,a.EventType.onButtonClick]};g.prototype.componentDidMount=function(){f.prototype.componentDidMount.call(this);
ReactDOM.findDOMNode(this.refs.input).value=this.props.dataRenderOptions.defaultValue||""};g.prototype.render=function(){var i=this.props.themeContainer;var p=this.props.dataRenderOptions,m=p.inputWidth,q=p.inputPlaceholder,k=p.button,o=p.type,j=p.min,r=p.max;
var l=m?{width:m}:{};var n=null;if(k&&k.showButton===true){var h=k.css?k.css.buttonCssClass:null;var s=k.css?a.reactCSSObject(k.css.buttonCss):{};if(k.buttonWidth){s.width=k.buttonWidth}n=(React.createElement("button",{"data-ic3-theme-component":"button",type:"button",className:classNames("ic3-widget-input",h),style:s,onClick:this.handleButtonClick.bind(this)},k.buttonText))
}return i.wrapReactStyle(React.createElement("div",{className:"ic3-widget-content ic3t-input-widget","data-ic3-theme-component":"ic3InputWidget"},React.createElement("input",{ref:"input","data-ic3-theme-component":"input",type:o,className:"ic3-widget-input",required:true,style:l,min:o==="number"?j:null,max:o==="number"?r:null,onChange:this.handleInputChange.bind(this),placeholder:q,disabled:this.context.reportingContext.isReportWithSnapshot()}),n))
};return g}(a.core.AbstractWidget));e.Input=d})(b=a.actions||(a.actions={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var viz;(function(a){var b;(function(d){var c=(function(e){__extends(f,e);function f(h,g){e.call(this,h,g);this.state={}}f.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this);this.initContextMenu()};f.prototype.componentDidUpdate=function(){this.initContextMenu()
};f.prototype.onBuildAllDone=function(){var g=this;_.map(this.props.actionList,function(i,h){if(i.preselected===true){g.fireSelection(i,h)}})};f.prototype.initContextMenu=function(){var k=this;if(this.props.actionList.length==0){return}var i=this.props.actionList;
var h={};var j=_.uniqueId("cm");_.each(i,function(m,l){h[l]={name:m.caption}});$(ReactDOM.findDOMNode(this)).attr("id",j);var g={selector:"#"+j,trigger:this.props.trigger==="left button"?"left":"right",callback:function(l){if(k.context.reportingContext.isReportWithSnapshot()){return
}var m=i[+l];if(m){k.fireSelection(m,+l)}},items:h};$.contextMenu(g)};f.prototype.render=function(){return(React.createElement("div",{className:"ic3t-context-menu",style:{width:"100%",height:"100%"}}))};return f}(d.AbstractActionWidget));d.ContextMenu=c})(b=a.actions||(a.actions={}))
})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var viz;(function(a){var b;(function(e){(function(f){f[f.ALL_OPENED=0]="ALL_OPENED";
f[f.COLLAPSIBLE=1]="COLLAPSIBLE";f[f.SINGLE_OPENED=2]="SINGLE_OPENED";f[f.HORIZONTAL=3]="HORIZONTAL"})(e.MenuMode||(e.MenuMode={}));var d=e.MenuMode;var c=(function(g){__extends(f,g);function f(j,i){var k=this;g.call(this,j,i);this.idx=0;this.renderSection=function(o,l){var m=null;
if(o.items){if(k.state.opened[l]||k.props.mode==d.ALL_OPENED){m=_.map(o.items,k.renderItem)}else{k.idx+=o.items.length}}var p=classNames("ic3-menu");var n=classNames("ic3-menu-caption",k.state.opened[l]?"ic3-selected":"");return(React.createElement("div",{className:p},React.createElement("div",{className:n,onClick:k.handleSectionClick.bind(k,o,l)},o.caption),m))
};this.renderItem=function(o,m){var l=k.idx;k.idx++;var n=classNames("ic3-menu-item",k.state.selected[l]?"ic3-selected":"");return(React.createElement("div",{className:n,onClick:k.handleItemClick.bind(k,o,l)},o.caption))};this.state={opened:{},selected:{}};
var h=0;_.each(this.props.actionList,function(l){_.each(l.items,function(m){if(m.preselected){k.state.preSelected={item:m,idx:h};return false}h++});return _.isEmpty(k.state.preSelected)})}f.prototype.onBuildAllDone=function(){if(!_.isEmpty(this.state.preSelected)){this.handleItemClick(this.state.preSelected.item,this.state.preSelected.idx)
}};f.prototype.handleSectionClick=function(j,h){if(this.context.reportingContext.isReportWithSnapshot()){return}switch(this.props.mode){case d.ALL_OPENED:return;case d.COLLAPSIBLE:this.state.opened[h]=!this.state.opened[h];break;case d.SINGLE_OPENED:case d.HORIZONTAL:default:var i=!this.state.opened[h];
this.state.opened={};this.state.opened[h]=i}this.setState(this.state)};f.prototype.handleItemClick=function(i,h){if(this.context.reportingContext.isReportWithSnapshot()){return}this.state.selected={};this.state.selected[h]=true;this.fireSelection(i,h);this.setState(this.state)
};f.prototype.render=function(){this.idx=0;var i=classNames("ic3-actions-menu","ic3t-actions-menu",this.props.mode==d.HORIZONTAL?"ic3-horizontal-menu":null);var h=this.props.actionList?_.map(this.props.actionList,this.renderSection.bind(this)):null;return(React.createElement("div",{className:i},h))
};return f}(e.AbstractActionWidget));e.Menu=c})(b=a.actions||(a.actions={}))})(viz||(viz={}));var ic3;(function(a){var c=(function(){function d(){this.values={}}d.prototype.setupDefaultLocale=function(f,e){this.values=f};d.prototype.registerToDefaultLocale=function(e){$.extend(this.values,e)
};d.prototype.localize=function(e){var f=[];for(var i=1;i<arguments.length;i++){f[i-1]=arguments[i]}var h=this.values[e];if(h!=null){var g=[h].concat(f);h=this.format.apply(this,g);return h}return e};d.prototype.localizeFormFieldLabel=function(e,g,h){var f=null;
if(g!=null){f=this.localizeOrNull(g+"."+e)}if(f==null){f=this.localizeOrNull(e)}if(f==null){return(h!=null)?h:e}return(f!=null)?f:e};d.prototype.localizeTooltip=function(e,g){var f=this.localizeOrNull(e+".tooltip");if(f==null){return f=g}return f};d.prototype.localizeFormFieldTooltip=function(e,g,h){var f=null;
if(g!=null){f=this.localizeOrNull(g+"."+e+".tooltip")}if(f==null){f=this.localizeTooltip(e,h)}return f};d.prototype.localizeOrNull=function(e){var f=[];for(var h=1;h<arguments.length;h++){f[h-1]=arguments[h]}var g=this.values[e];if(g!=null){g=this.format(g,f);
return g}return null};d.prototype.localizeEnum=function(g,i){var f="enum."+g+"."+i;var h=this.localizeOrNull(f);return h||i};d.prototype.format=function(f){var e=[];for(var h=1;h<arguments.length;h++){e[h-1]=arguments[h]}var g=f.replace(/{{\s*(join)\s*(.+)*}}/g,function(j,k,l){var i=b[k];
return i?i(l,e):j}).replace(/{(\d+)}/g,function(i,j){return typeof e[j]!="undefined"?e[j]:i});return g};return d}());a.Babylon=c;var b={join:function(e,d){return d.join(", ")}};a.babylon=new c()})(ic3||(ic3={}));ic3.babylon.setupDefaultLocale({__ic3_widgetTypeName:"Type","actionBuilder.formTitle":"Items Wizard","actionBuilder.label.add":"Add","actionBuilder.label.update":"Update","actionBuilder.plainCodeFormTitle":"Items Code","actionBuilder.info.updated":"Action item updated",actionItem:"Events",actionList:"Actions",actionsMenu:"Actions","action.error.hierarchy":"internal error : unexpected hierarchies/levels response","actionsButtonListAdapter.duration":"Duration","actionsButtonListAdapter.eventValue":"Value (triggered)","actionsContextualMenuAdapter.eventValue":"Value (triggered)","actionsJqueryButtonList.eventValue.tooltip":"Triggered value","actionsJqueryButtonList.label":"Button Label","actionsJqueryButtonList.tooltip":"Button Tooltip","actionsMenuAdapter.eventValue.tooltip":"Triggered value","actionsMenuAdapter.initialClicked":"Initial Selection","actionsMenuAdapter.initialClicked.tooltip":"Menu item number (0-based)",addHierarchyDefault:"Add Hierarchy Default",addNoteButton:"Add Note Button",adjustPrecision:"Adjust Precision","adjustPrecision.tooltip":"Sometimes, because of a rounding, percent of a sum of all slices is not equal to 100%. If you set this to true, when this case happens, number of decimals will be increased so that sum would become 100%.",alignment:"Alignment","autocomplete.ic3widgetStyle":"Style","autocomplete.cssClass":"Suggestion CSS class",autoRotateCount:"Auto Rotate Count","autoRotateCount.tooltip":"If the number of category axis items will exceed the autoRotateCount, the labels will be rotated by autoRotateAngle degree. Not recommended with scrollable/zoomable charts. In case of Value Axis just when the chart is rotated (works on horizontal axis only).",autoRotateAngle:"Auto Rotate Angle","autoRotateAngle.tooltip":"In case of Value Axis just when the chart is rotated.","saveReportAsCommand.dialog.title":"Save Report","saveReportAsCommand.dialog.message":"Please select a folder to save.",saveSnapshotButton:"Snapshot Button",align:"Align",allEvents:"All Events (default)",allowDecimals:"Allow decimals",allowHtml:"Allow HTML",alpha:"Opacity",alternatingRowStyle:"Alternate Rows Styles",angle:"Angle",animation:"Animation","amChartsLegend.divId":"External Div Id","amChartsLegend.divId.tooltip":"Specify the ID of a div in case you want the legend to be placed in a separate container",amChart:"AmChart","amChart.combo":"Combo","amChart.funnel":"Funnel/Pyramid","amChart.gantt":"Gantt","amChart.gauge":"Gauge","amChart.generic":"Generic","amChart.pie":"Pie","amChart.radar":"Radar/Polar","amChart.serial":"Serial","amChart.xy":"Bubble/Scatter","amCharts3D.angle":"3D Angle","amCharts.ic3extraOptions":"Extra Options","amCharts.ic3extraOptions.tooltip":"Starting with a colon, a Javascript object specifying missing configuration properties.","amCharts.serial.ic3extraOptions.tooltip":"Starting with a colon, a Javascript object specifying missing configuration properties:\n{chart:{...}, legend:{...}, cursor:{...},graph:{...}}","amcharts.warn.unknownTheme":"Unknown AmCharts style [{0}]",autofitColumns:"Autofit Columns",automaticCategoryGuides:"Auto Category Guides",autoGridCount:"Auto Grid Count",dataColors:"Data Colors",areaOpacity:"Area Opacity",arrow:"Arrow",arrowType:"Arrow Type",axis:"Axis",axisAlpha:"Axis Opacity",axisColor:"Axis Color",axisThickness:"Axis Thickness",axisTitleOffset:"Axis Titles Offset",axisTitlesPosition:"Axis Titles Position",backgroundAlpha:"Background Alpha",backgroundColor:"Background Color",balloonText:"Balloon Text","balloonText.tooltip":"You can use tags like [[value]], [[title]], [[fValue]], [[description]], [[percents]], [[open]] or [[category]]. HTML tags can also be used.",bands:"Bands",bar:"Bar",baselineColor:"Base Line Color",behaviour:"Behavior","bigTable.widgetStyle":"Table Theme","bigTable.name":"Label",bold:"Bold",boldLabels:"Bold Labels",borderColor:"Border Color",borderWidth:"Border width",bottom:"Bottom","box.cancelRequest":"Stop Loading","box.noPrint":"No Print","box.noPrint.tooltip":"Hide this widget when printing the report.","box.resizePolicy":"Resizing Behavior","box.resizePolicy.tooltip":"The default behavior (i.e., when not specified) is move and resize. See Configuration / Report Layout / Resizing Behavior","widgetOptions.save":"Save","widgetOptions.run":"Run","widgetOptions.try":"Try","boxEditor.tab.boxProp":"General","boxEditor.tab.events":"Events","boxEditor.tab.navigation":"Navigation","boxEditor.tab.userMenu":"User Menu","boxEditor.tab.data":"Data","boxEditor.tab.dataRender":"Data Render","BoxMenu.axisX":"Axis X","BoxMenu.axisY":"Axis Y","BoxMenu.back":"Back","BoxMenu.chartData":"Show Data","BoxMenu.export":"Export","BoxMenu.download":"Download","BoxMenu.hideChartData":"Show Widget","BoxMenu.navStrategy":"Drilldown Strategy","BoxMenu.other":"Other","BoxMenu.reset":"Reset","BoxMenu.resetNavStrategy":"Reset Navigation Strategy","BoxMenu.resetQuery":"Reset Axes/Filters","BoxMenu.resetWidget":"Reset Options","BoxMenu.widget":"Widget Options",boxStyle:"Box Style",bullet:"Bullet","bulletChart.error.svg":"SVG is not supported in this browser",bulletsEnabled:"Show Bullets",bulletSizeField:"Bullet Size Field","bulletSizeField.tooltip":"Use '$column0' for first column, '$column1' as second and so on",bulletSize:"Bullet size",button:"Button",buttonCss:"CSS Style",buttonCssClass:"CSS Class","buttonList.ic3widgetStyle":"Button Style",buttonText:"Text",buttonWidth:"Width",cacheSize:"Cache Size",cancel:"Cancel",yes:"Yes",no:"No",candlestick:"Candlestick",caption:"Caption",category:"Category",categoryAxis:"Category Axis",categoryBalloonAlpha:"Category Balloon Alpha",categoryBalloonColor:"Category Balloon Color",categoryBalloonDateFormat:"Category Balloon Date Format",categoryBalloonEnabled:"Category Balloon Enabled",cellCalculator:"Cell Calculator","CellCalculator.columnPercentage":"Percentage Column","CellCalculator.default":"Default","CellCalculator.firstColPercentage":"Percentage First","CellCalculator.javascript":"Javascript","CellCalculator.rankLargest":"Rank Largest","CellCalculator.rankSmallest":"Rank Smallest","CellCalculator.rowArray":"Row As Array","CellCalculator.rowPercentage":"Percentage Row","CellCalculator.totalPercentage":"Percentage Total","cellCalculator.rank.largeSmall":"Rank Column Large-Small","cellCalculator.rank.smallLarge":"Rank Column Small-Large","cellCalculator.rowAsArray":"Chart",cellRenderer:"Cell Renderer","CellRenderer.arrow":"Arrow","CellRenderer.simpleBarData":"Bar Data (Simple%)","CellRenderer.barData":"Bar Data","CellRenderer.default":"Default","CellRenderer.format":"Format","CellRenderer.javascript":"Javascript","CellRenderer.microChart":"Micro Chart","CellRenderer.percent":"Percent","cellRenderer.wait":"wait...","CellRenderer.yesNo":"Yes/No",cellSize:"Cell Size",centerLabels:"Center Labels","centerLabels.tooltip":"Force-centers labels of date-based axis (in case it's category axis, equalSpacing must be false)",endFirst:"End First",endSecond:"End Second",firstColor:"First Color",firstAngle:"First Angle",secondColor:"Second Color",secondAngle:"Second Angle",thirdColor:"Third Color",thirdAngle:"Third Angle",tick:"Tick",ticks:"Ticks","ticks.tooltip":"Replaces the automatically generated X-axis ticks with the specified array.",chart:"Chart",chartArea:"Chart Area",chartCursor:"Cursor",chartScrollbar:"Scrollbar",chartType:"Chart Type",circle:"Circle",className:"Css class name",clearWidgetOnError:"Clear On Error",clickBehaviour:"On Click",clickToRefresh:"click to refresh",clustered:"Clustered",collapsed:"Collapse",collapsible:"Collapsible",collapsibleMode:"Collapsible Mode",color:"Color",colorAxis:"Color Axis",colorField:"Color Field","colorField.tooltip":"Use '$column0' for first column, '$column1' as second and so on",colors:"Colors",columns:"Columns",columnHeader:"Column Header",columnSpacing:"Column Spacing","columnSpacing.tooltip":"The gap in pixels between two columns of the same category.",columnSpacing3D:"Column Spacing for 3D",columnWidth:"Default Column width","columnWidth.tooltip":"Relative width of columns. Value range is 0 - 1.",columnWidths:"Column widths","command.addFilterToAll":"Filter (add to all)","command.alignBottom":"Align Bottom","command.alignCenter":"Align Center","command.alignLeft":"Align Left","command.alignMiddle":"Align Middle","command.alignRight":"Align Right","command.alignTop":"Align Top","command.bringToFront":"Bring To Front","command.clearUserPersistentData":"Clear Persistent Data","command.refreshReport":"Refresh Report","command.centerHorizontally":"Center Horiz.","command.centerVertically":"Center Vert.","command.duplicateBox":"Duplicate","command.distributeHorizontally":"Distribute Horiz.","command.distributeVertically":"Distribute Vert.","command.edit.content":"Content","command.edit.edit":"Edit {0}","command.edit.error.fileSize":"The file content has been truncated as the file size is greater than maxFileSizeForGuiVisualization (server property). Do you want to continue?","command.edit.error.open":"Could not open {0} ({1})","command.edit.error.save":"Could not save {0} ({1})","command.edit.okLabel":"Save","command.edit.info.saved":"{0} saved","command.widgetOptions":"Options...","command.editBox":"Edit...","command.editCommonCSS":"Common CSS","command.editCommonJS":"Common JS","command.editConfigJS":"Config. JS","command.removeBox":"Remove","command.removeFilter":"Filter (remove all)","command.save.info.couldNotRetrieveFolderNames":"Could not retrieve the list of report folders - please contact your support ({0}).","command.save.info.retrievingFolderNames":"retrieving report folder names","command.save.info.saved":"{0} saved","command.save.messageBox.message":"The report '{0}' exists; do you want to replace it?","command.save.messageBox.title":"Save As Report : {0}","command.save.title":"Save As Report","command.save.error":"Could not save the report ({0})","command.sendBack":"Send Back","command.snapToGrid":"Snap To Grid","command.migrateWidget":"Migrate","command.sameWidth":"Same Width","command.sameHeight":"Same Height","connection.error.callback":"internal error: JQuery jsonCallback not setup","connection.error.export":"Unexpected Export Error","connection.error.failed":"{0} request failed ({1}) {2} (URL : {3}).","connection.error.server":"request failed - ensure the server is up and running (URL : {0}).","connection.error.timeout":"request timeout (current setting: {0}ms) - ensure the server is up and running (URL : {1}).",constant:"Constant","constant.c_asMdx":"MDX","constant.c_asMdx.tooltip":"The event accessor 'asMdx'; e.g., @{evt:asMdx}.","constant.c_asFilterInitialSelection":"Filter Initial Selection","constant.c_asFilterInitialSelection.tooltip":"The event accessor 'asFilterInitialSelection'; e.g., @{evt:asFilterInitialSelection}. The initial selection of the filters having a 'on selection' event with this constant name will be automatically setup with this value.","constant.c_caption":"Caption","constant.c_caption.tooltip":"The (default) event accessor 'caption'; e.g., @{evt:caption}.","constant.c_value_json":"Value","constant.c_value_json.tooltip":"Any JSON object.","constant.c_value_str":"Value","constant.c_value_str.tooltip":"A string or any Javascript object using a colon as first character.","constant.caption":"Name","constant.error.duplicated":"duplicated constant name [{0}].","constant.error.syntax.message":"JSON syntax/validation error (please fix the error or CLEAR the text area to CANCEL JSON code editing and switch to the Wizard tab) : {0}","constant.error.syntax.title":"Constants JSON Code","constant.error.type":"internal error : unexpected constant type [{0}]","constant.error.validation.message":"Validation error : {0}","constant.error.validation.title":"Constants Wizard","constant.name":"Name","constant.newConstant":"New Constant","constant.newEvent":"New Event","constant.newJson":"New JSON Object","constant.pending.messageOk":"There is some pending editing; please cancel/commit them first.","constant.pending.title":"Constants Wizard","constant.title":"Constants","contextualMenu.leftButton":"left button","contextualMenu.rightButton":"right button",copy:"Copy Widget",count:"Count",content:"Content",credits:"Credits",crosshair:"Crosshair","crosshair.tooltip":"For scatter charts, line charts, and combo charts.",crosshairs:"Crosshairs",css:"CSS",cssClass:"CSS class",cssClassNames:"CSS class",cssContent:"Content CSS",cssDiv:"Div CSS",cssInput:"Input CSS",cssHeader:"Header CSS","cssMgr.content":"CSS",cssStyle:"CSS Style",cssWidget:"Widget CSS",cube:"Cube",cursor:"Cursor",cursorAlpha:"Cursor Alpha",cursorColor:"Cursor Color",cursorPosition:"Cursor Position",curveType:"Curve Type","customDrillDown.mdxExpressions":"MDX Statements","customDrillDown.mdxExpressions.tooltip":"Each expression is considered as level and used on the drilled axis","d3BulletChart.height":"Height (single chart)","d3BulletChart.margin":"Margin (single chart)","d3BulletChart.ranges":"Quantitative Ranges","d3BulletChart.widgetStyle":"Widget Theme",datalessRegionColor:"No Data Region Color","datasource.error":"Inconsistent request processing : missing a call to the viz.DataSource.login() function.",dateBased:"Date Based Data",dateFormat:"dd/mm/yy","dateFilterQueryBuilderForm.title":"if empty, report default is taken",dashLength:"Dash Length",dayOfWeekLabel:"Day of Week Label",decimalPlaces:"Nb.of Decimals",defaultValue:"Default Value",defaultCellCalculator:"Default Cell Calculator",defaultCellRenderer:"Default Cell Renderer",defaultSelectionMdxMessage:"MDX statement which returns a set of members to preselect",depth3D:"Depth 3D",direction:"Direction",disableAfter:"Disable After (ms)",disableNavigation:"Disable Navigation",displayMode:"Display Mode","dockMenu.arrange":"Arrange","dockMenu.widgetOptions":"Edit",disableSort:"Disable Sort",dragIcon:"Drag Icon",dragIconHeight:"Drag Icon Height",dragIconWidth:"Drag Icon Width",drilldown:"Drilldown",drillDownStrategy:"Navigation Strategy","DrillDownStrategy.children":"Children","DrillDownStrategy.custom":"Custom","DrillDownStrategy.javascript":"Javascript","DrillDownStrategy.topCount":"TopCount","DrillDownStrategy.mdxExpression":"MDX","DrillDownStrategy.userSelect":"User Select",user_select_mdx:"MDX Expression","user_select_mdx.tooltip":"Use $selection for the selection unique name (e.g. 'NON EMPTY $selection' or 'HEAD($selection,25)')",drd_filter:"Filter by","drd_filter.tooltip":"On drilldown the clicked member will be a filter for the generated  MDX",drd_mdx:"MDX Expression","drd_mdx.tooltip":"Use $member for the drilldown unique name (e.g. 'NON EMPTY $member.children')",duration:"Animation Duration (ms)",easing:"Easing",embeddedDiv:"Embedded DIV","embeddedDiv.tooltip":"The ID of the DIV to use when this report is opened in EMBEDDED mode (see Report HTML menu item).",empty:"Empty",emptyMessage:"Empty Message",emptySelectionAllowed:"Allows Empty Selection",emptyText:"Empty Text",enabled:"Enabled",enable:"Enable",enableRegionInteractivity:"Enable Region Interactivity",endAngle:"End Angle",endValue:"End Value","enum.viz.SelectionMode.disabled":"Disabled","enum.viz.SelectionMode.hierarchical_multi":"Hierarchical Multi","enum.viz.SelectionMode.iPad_multi":"iPad Style Multi","enum.viz.SelectionMode.multi":"Multiple Selection","enum.viz.SelectionMode.single":"Single Selection",equalSpacing:"Equal Spacing","equalSpacing.tooltip":"In case your category axis values are Date objects and parseDates is set to true, the chart will parse dates and will place your data points at irregular intervals. However if you want dates to be parsed (displayed on the axis, baloons, etc), but data points to be placed at equal intervals (omiting dates with no data), set equalSpacing to true.","error.creatingRequest":"Error creating request: {0}","error.missingItem":"Missing {0} item for uid {1}","errorMgr.error":"Error while executing : {0}","errorWidget.message":"Uncaught request error: {0}\nDetails:{1}","eval.error":"Error evaluating '{0}'<br/>{1}",eventsDescription:"List of produced (on) and consumed (do) events.","event.ic3buttonClick":"on Button Click","event.ic3buttonClick.tooltip":"Name of the event generated for the actions not explicitly specifying an event. Internal : ic3buttonClick.","event.ic3cellClick":"on Cell Click","event.ic3cellClick.tooltip":"Name of the event generated when a cell is clicked; the event contains the cell information. Internal : ic3cellClick.","event.ic3columnClick":"on Column Click","event.ic3columnClick.tooltip":"Name of the event generated when a column header is clicked; the event contains the column header information. Internal : ic3columnClick.","event.ic3inputChange":"on Input Change","event.ic3inputChange.tooltip":"Name of the event generated when the content of the input field has changed; the event contains the field value. Internal : ic3InputChange.","event.ic3legendClick":"on Legend Click","event.ic3legendClick.tooltip":"Name of the event generated when a legend is clicked; the event contains the legend information. Internal : ic3legendClick.","event.ic3mdxQueryChange":"on MDX Query Change","event.ic3mdxQueryChange.tooltip":"Name of the event generated when the MDX query has changed. The event contains the MDX statement. Note that the query might not be ready for execution yet. Internal : ic3mdxQueryChange.","event.ic3mdxQueryExecution":"on MDX Query Execution","event.ic3mdxQueryExecution.tooltip":"Name of the event generated when the MDX query is ready for execution. The event contains the MDX statement. Internal : ic3mdxQueryExecution.","event.ic3mdxQueryGeneration":"on MDX Query Generation","event.ic3mdxQueryGeneration.tooltip":"Name of the event generated when the MDX query is ready for execution. The event contains the MDX statement. Internal : ic3mdxQueryGeneration.","event.ic3newLabel":"on New Label","event.ic3newLabel.tooltip":"Name of the event generated when the slider label has changed. The event contain either the single value or the bounds of the slider. Internal : ic3newLabel.","event.ic3queryHistorySizeChange":"on Query History Size Change","event.ic3queryHistorySizeChange.tooltip":"Name of the event generated when the history query (e.g., drilldown serie) has changed; the event contains the number of queries in the history. Internal : ic3queryHistorySizeChange.","event.ic3rowClick":"on Row Click","event.ic3rowClick.tooltip":"Name of the event generated when a row header is clicked; the event contains the row header information. Internal : ic3rowClick.","event.ic3selection":"on Selection","event.ic3selection.tooltip":"Name of the event generated with the current selected items. Note that a chart/table can behave as filters and have a selection. Internal : ic3selection.","event.ic3doAddSelection":"do Add Selection","event.ic3doAddSelection.tooltip":"Name of the event that triggers the filter to reset its selection with the content of the event. Internal : ic3doAddSelection.","event.ic3doOpenReport":"do Open Report","event.ic3doOpenReport.tooltip":"Name of the event that triggers the opening of the report specified by this widget. Internal : ic3doOpenReport.","event.ic3doResizeWidget":"do Resize Widget","event.ic3doResizeWidget.tooltip":"Name of the event that triggers the resize of the widget. The value should be two numbers separated with comma. The first is the width, the second is the height. Internal : ic3doResizeWidget.","event.ic3doRowClick":"do Click Row","event.ic3doRowClick.tooltip":"Name of the event that triggers the click of a row of the chart/table. This should be an event as generated by a row click. Note that the connected charts/tables should have consistent row axis. Internal : ic3doRowClick.","event.ic3doSelectAll":"do Select All","event.ic3doSelectAll.tooltip":"Name of the event that triggers the widget to select all items. Internal : ic3doSelectAll","event.ic3doSelectNone":"do Select None","event.ic3doSelectNone.tooltip":"Name of the event that triggers the widget to unselect all items. Internal : ic3doSelectNone","event.ic3doSetMdxContent":"do Set MDX Query.","event.ic3doSetMdxContent.tooltip":"Name of the event that triggers the widget to reset the MDX query with the content of the event. Internal : ic3doSetMdxContent.","event.ic3doSetSelection":"do Set Selection","event.ic3doSetSelection.tooltip":"Name of the event that triggers the filter to set its selection to the content of the event. Internal : ic3doSetSelection. ","event.ic3exportAmChart":"do Export Chart","event.ic3exportAmChart.tooltip":"Name of the event that triggers the export of the chart. Internal : ic3exportAmChart. Use 'png', 'jpg' or 'svg' as event value to export as the desired file extension.","event.ic3exportToExcel":"do Export To Excel","event.ic3exportToExcel.tooltip":"Name of the event that triggers the export to Excel of the chart/table. Internal : ic3exportToExcel.","event.ic3filterToDefault":"do Reset To Initial Selection","event.ic3filterToDefault.tooltip":"Name of the event that triggers the filter to reset its initial selection. Internal : ic3filterToDefault.","event.ic3fireMdxQueryExecution":"do Execute MDX Query","event.ic3fireMdxQueryExecution.tooltip":"Name of the event that triggers the 'on MDX Query Execution' event. Internal : ic3fireMdxQueryExecution.","event.ic3fireMdxQueryGeneration":"do Fire MDX Query Generation","event.ic3fireMdxQueryGeneration.tooltip":"Name of the event that triggers the 'on MDX Query Generation' event. Internal : ic3fireMdxQueryGeneration.","event.ic3navigate":"on Navigate","event.ic3navigate.tooltip":"Name of the event generated when drill down on the chart. Internal : ic3navigate","event.ic3toggleMdxQueryGenerationMode":"do Toggle MDX Query Generation Mode","event.ic3toggleMdxQueryGenerationMode.tooltip":"Name of the event to toggle the MDX query generation mode (i.e., deferred vs. immediate). Internal : ic3toggleMdxQueryGenerationMode.","event.ic3switchColumnsRows":"do Switch Columns/Rows","event.ic3switchColumnsRows.tooltip":"Name of the event to switch the columns/rows content. Internal : ic3switchColumnsRows.","event.ic3queryBack":"do Previous Query","event.ic3queryBack.tooltip":"Name of the event that triggers the execution of the previous MDX query of the chart/table. Internal : ic3queryBack.","event.ic3queryRefresh":"do Refresh Query","event.ic3queryRefresh.tooltip":"Name of the event that triggers the execution of the MDX query of the chart/table. Internal : ic3queryRefresh.","eventHandler.error.bind":"Unable to bind event type [{0}] to {1}","eventMgr.consumer":"Consumer","eventMgr.error.build":"The report could not be successfully built due to previous error(s).","eventMgr.error.noEvent":"Event handler without event binder!,  widgetAdapter ({0})","eventMgr.error.notFired":"Parameter {0} is not fired by any event\nRequested Events : {{1}} generated events : {{2}}","eventMgr.event":"Event Name (P/C Types)","eventMgr.eventCaption":"Caption","eventMgr.eventDescription":"Description","eventMgr.eventName":"Name","eventMgr.eventType":"Type","eventMgr.producer":"Producer","eventMgr.missingParamWarning":"Missing value for parameter: {0}","eventMgr.missingParamWarning.grouped":"Missing value for parameter(s): {{join}}",eventName:"Event Name",eventValue:"Event Value",expand:"Expand",expandToPreselection:"Expand to Initial Selection",expression:"Expression",fallingColor:"Falling Color",family:"Family",file:"File",fill:"Fill Color",fillAlpha:"Fill opacity",fillAlphas:"Fill opacity",fillColor:"Fill color",fillOpacity:"Fill opacity","filter.addDefaultMember":"Add Default member","filter.defaultMemberCaption":"Default Member Caption","filter.maxMemberCount":"Max Member Count","filter.memberCaptionFormatter":"Member caption formatter","filter.memberCaptionFormatter.tooltip":"Can be $caption$ for caption, $key$ for key, also $name$, $uname$, ...","filter.memberIdFormatter":"Member id formatter","filter.memberIdFormatter.tooltip":"Can be $caption$ for caption, $key$ for key, also $name$, $uname$, ...","filter.preSelection":"Initial Selection","filter.preSelection.tooltip":"Can be either a list of names (2010,2011), a valid MDX statement ( [Calendar].[Year].[2010]) or ALL to select all items. An MDX expression starting with { is not pre-processed on the server side.","filter.useALLMemberForAll":"Use All member if all items are selected","filter.useDefaultMemberIfEmpty":"Use Default Member if No Selection",filter:"Include Filter",filterCss:"Filter Style",filterHierarchies:"Filter...",filterInfo:"Filter Info Renderer","FilterInfoRenderer.custom":"Custom","FilterInfoRenderer.default":"Default","FilterInfoRenderer.separator":"Separator",filterMode:"Filter Mode","filterMode.tooltip":"If set to true, the generated MDX will remove children if their parent is set. This is an expected behaviour if the widget is used as a filter and allows to reduce the size of the generated MDX","filterQueryType.MDX_HIERARCHIES":"Mdx Hierarchies","filterQueryType.MDX_LEVELS":"Mdx Levels","filterQueryType.MDX_MEMBERS":"Mdx Members","filters.icCube":"icCube Filters",finalCategory:"Final Category",finalValue:"Final Value",finalXValue:"Final X Value",applyInstantly:"Auto Apply Selection",fireChangeOnSelect:"Auto Apply Selection",fireCollapseOnClosed:"Collapse Hidden",fireOnInputChange:"Fire on Input Change",fireOnRefresh:"Fire Query Mode","fireOnRefresh.tooltip":"The default behavior is to fire/execute the MDX query as soon as it had been changed (and all the events/parameters are available).",first:"First",firstRowNumber:"First Row Number",fitToContainer:"Fit to Container","fixedLayout.backgroundCss":"Background","fixedLayout.autoRefresh":"Refresh Period","fixedLayout.autoRefresh.tooltip":"Every Refresh Period seconds the report is checking if the schema has been updated and the report is automatically refreshed if required.","fixedLayout.css":"CSS","fixedLayout.error.render":"Unexpected error while rendering a widget {0} ({1})","fixedLayout.fitToHeight":"Fit To Height","fixedLayout.fitToWidth":"Fit To Width","fixedLayout.fontResizing":"Font (Zoom)","fixedLayout.fontResizing.tooltip":"The optional zoom (1 means 100%) to apply when resizing the fonts","fixedLayout.grid":"Snap To Grid","fixedLayout.height":"Height (px)","fixedLayout.minHeight":"Min. Height (px)","fixedLayout.maxHeight":"Max. Height (px)","fixedLayout.minWidth":"Min. Width (px)","fixedLayout.maxWidth":"Max. Width (px)","fixedLayout.ratio":"Ratio","fixedLayout.ratio.tooltip":"Allows for defining the height from the width (or the height from the width) according to the ratio value. Ignored if both the width and the height are specified.","fixedLayout.removeBox.single.message":"Are you sure to delete '{0}' ?","fixedLayout.removeBox.single.title":"Widget : {0}","fixedLayout.removeBox.message":"Are you sure to delete the selected widgets?","fixedLayout.removeBox.title":"Delete widgets ","fixedLayout.resizePolicy":"Resizing Behavior","fixedLayout.resizePolicy.tooltip":"On screen resizing (i.e., does not apply when printing).","fixedLayout.sizeIndicator":"Size","fixedLayout.theme":"Theme","fixedLayout.width":"Width","fixedLayoutBox.error.div":"Embedded DIV not found for widget '{0}' (id:{1})",floating:"Floating",focused:"Focused",folder:"Folder",followPointer:"Follow pointer",font:"Font",fontFamily:"Font Family",fontName:"Font Name",fontSize:"Font Size",footerFormat:"Footer Format",format:"Format",forceCheckbox:"Force Checkbox","form.advanced":"Advanced Properties","form.data":"Data Properties",formula:"Formula",fullWidth:"Full Width",funnel:"Funnel Chart",good:"Good","google.duration":"Duration (ms)","google.ic3extraOptions":"Extra Options","google.ic3extraOptions.tooltip":"Starting with a colon, a Javascript object specifying missing configuration properties:\ne.g., : { vAxis : { textPosition: 'none'} }","googleTable.ic3widgetStyle":"Table Theme",graph:"Graph",graphFillAlpha:"Graph Fill Alpha",graphFillColor:"Graph Fill Color",graphLineAlpha:"Graph Line Alpha",graphLineColor:"Graph Line Color",graphs:"Graphs",graphType:"Graph Type",gizmoFormat:"Format","gizmoFormat.tooltip":"Format string (e.g. '#,###.00' )",gridAlpha:"Grid Aplha",gridColor:"Grid Color",gridCount:"Grid Count",gridInside:"Grid Inside",gridLineColor:"Grid line color",gridLineDashStyle:"Grid line dash style",gridLineWidth:"Grid line width",gridLines:"Grid Lines",gridlines:"Grid Lines",gridPosition:"Grid Position",gridThickness:"Grid Thickness",groupWidth:"Group Width",guide:"Guide",guides:"Guides","gviConfiguration.error.load":"could not retrieve the widget templates ({0})",gviTableHook:"MDX Result Processor","gviRequest.error.param":"Trying to set an empty parameter for key: {0}","gviRequest.error.shouldNot":"Should not be here",hAxis:"Horizontal Axis",head:"Head",header:"Header",headerCell:"Header Cell",headerFormat:"Header format",headerCssClass:"Header CSS class",headerRow:"Header Row",height:"Height",hideCaption:"Hide Caption",hideOniPhone:"Hide on iPhone",hideResizeGrips:"Hide Resize Grips",hierarchyDefaultCaption:"Hierarchy Default Caption","hierarchy.measures":"Measures","hint.reportSelector":"Report Name or ID","hint.reportSelector.selectIdButton":"Select ID","hint.reportSelector.selectNameButton":"Select Name","historyButton.history":"History ({0})","historyButton.noHistory":"No History",hollowIsRising:"Hollow Is Rising",hoverTableRow:"Hover Table Row",href:"URL",html:"HTML","htmlTemplateAdapter.html":"Content","htmlTemplateAdapter.html.tooltip":"Any valid html with replacement tags, @{ColumnName}, @{0},@{-1},@{1:0}","htmlTemplateAdapter.ic3widgetStyle":"Widget Theme","htmlTemplateWidget.error.label":"Column label '{0}' not found",ic3arrows:"Arrows",ic3ChartType:"Chart Type",ic3chartType:"Chart Type",ic3ColorField:"Color Field","ic3ColorField.tooltip":"Use '$column0' for first column, '$column1' as second and so on",ic3ColumnWidthField:"Column Width Field","ic3ColumnWidthField.tooltip":"Use '$column0' for first column, '$column1' as second and so on",ic3EndField:"End Field","ic3EndField.tooltip":"Use '$column0' for first column, '$column1' as second and so on",ic3extraOptions:"Extra Options",ic3GoogleError:"Widget Error",ic3Roles:"Column Roles",ic3StartField:"Start Field","ic3StartField.tooltip":"Use '$column0' for first column, '$column1' as second and so on",ic3Theme:"Theme",ic3valueAxes:"Value Axes",ic3widgetStyle:"Chart Theme",iconClass:"Icon CSS class",idx:"Column Idx",ignoreCustomColors:"Ignore Custom Colors","ignoreCustomColors.tooltip":"If you have column type graph in your scrollbar, and this graph has custom colors for one or more columns in data provider, those columns will be colored with this custom color. However you might not want this in some cases. Set this property to true to use scrollbar's graph colors.",ignoreHiddenSeries:"Ignore hidden series",includeAllValues:"Include All Values","includeAllValues.tooltip":"If you set it to true, minimum and maximum of value axis will not change while zooming/scrolling.",initialCategory:"Initial Category",initialValue:"Initial Value",initialXValue:"Initial X Value",initialClicked:"Initial Clicked",initialHtml:"Initial Html",innerRadius:"Inner Radius","inputAdapter.defaultPlaceholder":"Type here...","inputAdapter.submit":"Submit",inputPlaceholder:"Empty Text",inputWidth:"Input Width",inside:"Labels Inside",interpolateNulls:"Interpolate Nulls",inverseSelection:"Excluding",isHtml:"is Html",isStacked:"Stacked",italic:"Italic",item:"Item",items:"Item(s)",itemClass:"Item Class",itemCss:"Item Style",itemCssClass:"Item Class",itemCssStyle:"Item Style",itemTooltip:"Item Tooltip",javascriptEditorDialogTitle:"Javascript","javascriptMgr.consumeEventError":"Javascript error in `consumeEvent`: {0}","javascriptMgr.invalidConsumeEvent":"Invalid javascript: `consumeEvent` should be a function","javascriptMgr.invalidScript":"Invalid javascript: {0}","javascriptMgr.js":"Code","javascriptMgr.js.tooltip":"Javascript code reacting on events that allows for custom processing.",javascriptTooltip:"Starting with a colon, a Javascript object specifying missing configuration properties.",json:"Code","jsTree.alert":"missing parent node (corrupted data table)","juiFormBeanSetter.error":"{0} type is not compatible with meta object : {1}","juiFormRenderers.error.missingNode":"internal error : missing parent node (corrupted data table)","juiFormRenderers.mandatory":"the field is mandatory","juiMessages.mandatory":"Mandatory field",keepAspectRatio:"Keep Aspect Ratio",keepDrilldownState:"Keep Navigation State on Refresh",label:"Label",labelFormat:"Label format",labelInLegend:"Label In Legend",labelOffset:"Label Offset",labelPadding:"Label Padding",labelPosition:"Label Position",labelRadius:"Label Radius",labelRotation:"Label Rotation","labelRotation.tooltip":"Rotation angle of a label. Only horizontal axis' values can be rotated. If you set this for vertical axis, the setting will be ignored. Possible values from -90 to 90.",labels:"Labels",labelsEnabled:"Labels Enabled",labelText:"Label Text","labelText.tooltip":"You can use tags like [[value]], [[title]], [[fValue]], [[description]], [[percents]], [[open]] or [[category]].",labelWidth:"Label Width",layout:"Layout",left:"Left",leftIconName:"Button Icon",legend:"Legend",legendPosition:"Legend Position",lineColor:"Line color",lineThickness:"Line thickness",lineWidth:"Line Width",link:"Link",loading:"Loading",locale:"Locale",lockedHeaders:"Lock Headers",logScale:"Log Scale",mdx:"MDX Query",mdxEditorHint:"F11 - fullscreen, CTR+SPACE - autocompletion, dot '.' - continue autocompletion, autocompletion on '@' retrieves events",mdxExpression:"MDX Statement",mdxExpressionDialogTitle:"Edit MDX Statement","mdxItemsBuilder.initialSelection":"Initial Selection","mdxItemsBuilder.initialSelection.tooltip":"The name or unique name of the item you want to be selected by default.",mdxMdxExpressionMessage:"MDX Statement:","mdxQuery.allMembers":"All Members (with calc. members)","mdxQuery.allMembers.tooltip":"All members (including calculated members) of this hierarchy","mdxQuery.defaultMember":"Default Member","mdxQuery.defaultMember.tooltip":"The default member of the hierarchy (most likely the ALL member if present)","mdxQuery.firstNotAllLevelAllMembers":"First (Not All) Level All Members","mdxQuery.firstNotAllLevelAllMembers.tooltip":"All members (including calculated members) of the first level (not all) of this hierarchy","mdxQuery.firstNotAllLevelMembers":"First (Not All) Level Members","mdxQuery.firstNotAllLevelMembers.tooltip":"All members (without calculated members) of the first level (not all) of this hierarchy","mdxQuery.hierarchy":"Hierarchy","mdxQuery.hierarchize":"Hierarchy Order","mdxQuery.hierarchize.tooltip":"Sort members according to the natural order of the hierarchy","mdxQuery.members":"All Members","mdxQuery.members.tooltip":"All members (including calculated members) of the first level (not all) of this hierarchy","mdxQuery.membersOf":"Members of","mdxQuery.membersOfLevel":"Members of Level","mdxQuery.nonEmpty":"Non Empty","mdxQuery.nonEmpty.tooltip":"?","mdxQuery.order":"Order","mdxQuery.order.tooltip":"?","mdxQuery.topBottom":"Top/Bottom","mdxQuery.topBottom.tooltip":"?","mdxQueryBuilderAdapter.autocompleteMembersCacheSize":"Hierarchies Pane Width (%)","mdxQueryBuilderAdapter.autocompleteMembersCacheSize.tooltip":"Max. number of element in the autocomplete widget selecting members","mdxQueryBuilderAdapter.error.mdx":"MDX error : the COLUMNS axis must be specified.","mdxQueryBuilderAdapter.error.query":"internal error: unrecognized query entity!","mdxQueryBuilderAdapter.layout_hierarchiesPaneWidth":"Hierarchies Pane Width (%)","mdxQueryBuilderAdapter.layout_hierarchiesPaneWidth.tooltip":"Size in percent of the hierarchies (i.e., left) pane (e.g, 0.5, 50)","mdxQueryBuilderAdapter.query_cube":"Cube","mdxQueryBuilderAdapter.query_fireChangeOnStart":"Fire change on start","mdxQueryBuilderAdapter.query_noSelectedMemberMdxExpr":"No Selected Member MDX","mdxQueryBuilderAdapter.query_noSelectedMemberMdxExpr.tooltip":"The MDX statement used when no member is explicitly selected for a hierarchy other than [Measures]","mdxQueryBuilderAdapter.query_queryGenerationMode":"Query Generation Mode","mdxQueryBuilderAdapter.query_queryGenerationMode.tooltip":"Mode immediate : the query is generated as soon as it is ready for execution. Mode deferred : wait for an event that trigger the MDX generation.","mdxQueryBuilderAdapter.query_requestCssCellProperty":"Cell Format (icCube)","mdxQueryBuilderAdapter.query_requestCssCellProperty.tooltip":"Request the CSS cell properties required to format cell values","mdxQueryBuilderAdapter.query_requestFormatStringCellProperty":"Cell Format (Excel)","mdxQueryBuilderAdapter.query_requestFormatStringCellProperty.tooltip":"Request the FORMAT_STRING cell properties used by Export to Excel","mdxQueryBuilderAdapter.query_withSlicer":"Slicer","mdxQueryBuilderAdapter.query_withSubQuery":"SubQuery",mdxStatement:"Mdx Statement","mdxTree.alert":"missing parent node (corrupted data table)","mdxTree.title":"Members Selection Tree",magnifyingGlass:"Magnifying Glass","mainReport.cube":"Cube","mainReport.deleteReport":"Delete Report : {0}","mainReport.dialog.constants":"Constants (JS)","mainReport.dialog.css":"CSS","mainReport.dialog.export":"Export To HTML","mainReport.dialog.js":"Javascript","mainReport.dialog.layout":"Layout","mainReport.dialog.logout":"Logout","mainReport.dialog.newReport":"New Report","mainReport.dialog.openReport":"Open a report","mainReport.dialog.permalinkId":"Report PermaLink (id)","mainReport.dialog.permalinkName":"Report PermaLink (name)","mainReport.dialog.renameMove":"Rename/Move Report","mainReport.dialog.reportHtml":"Report HTML","mainReport.dialog.reportIds":"Report IDs / Names","mainReport.dialog.reportJson":"Report JSON","mainReport.dialog.saveAs":"Save As","mainReport.dialog.schema":"Select Schema/Cube","mainReport.dialog.selectSchema":"Select Schema...","mainReport.dialog.schemaError":"Could not retrieve the schema/cube information ({0}), select another","mainReport.error.container":"icCube report container error : matching [{0}] elements in the HTML document (expecting:1)","mainReport.error.export":"Could not retrieve the HTML source code of the report ({0})","mainReport.error.import":"Invalid report: {0}","mainReport.error.info":"Could not retrieve the schema/cube information ({0})","mainReport.error.init":"Application (blank) initialization error - please contact your support ({0}).","mainReport.error.invalidJSON":"invalid JSON data ({0})","mainReport.error.open":"Could not open successfully the report '{0}' ({1})","mainReport.error.restore":"Could not restore successfully the report '{0}' ({1})","mainReport.error.retrieveFolders":"Could not retrieve the list of report folders - please contact your support ({0}).","mainReport.error.save":"Could not save the report ({0})","mainReport.error.saveSnapshot":"Could not save the report snapshot ({0})","mainReport.error.apply":"Could not apply the changes : please refresh your browser ({0})","mainReport.export.title":"Report HTML","mainReport.export.message":"Please save the report first.","mainReport.eventNames":"Available Events","mainReport.eventUsage":"Report Event Status","mainReport.fileName":"File Name","mainReport.filePath":"Directory","mainReport.globalFilter.on":"Global Filter On","mainReport.globalFilter.off":"Global Filter Off","mainReport.info.export":"{0} exported","mainReport.info.modified":"The report might have been modified.","mainReport.info.reportList":"Could not retrieve the list of reports - please contact your support ({0}).","mainReport.info.retrieveFolders":"retrieving report folder names","mainReport.info.retrieveNames":"retrieving report names","mainReport.info.revert":"retrieving report names","mainReport.info.saved":"Report {0} saved","mainReport.info.snapshotSaved":"Snapshot {0} saved","mainReport.infoDialog.close":"Close","mainReport.infoDialog.entity.id":"Id","mainReport.infoDialog.entity.name":"Name","mainReport.infoDialog.entity.off":"Off","mainReport.infoDialog.entity.on":"On","mainReport.infoDialog.link":"PermaLink","mainReport.infoDialog.link.tooltip":"The permaLink as created from the configuration above","mainReport.infoDialog.linkBy":"PermaLink By","mainReport.infoDialog.menu":"Menu","mainReport.infoDialog.message":"The report permaLink is not available yet; please save the report first.","mainReport.infoDialog.mode":"Mode","mainReport.infoDialog.name":"Report Name","mainReport.infoDialog.name.tooltip":"The name of the report including its path.","mainReport.infoDialog.openLink":"Open link","mainReport.infoDialog.copy":"Copy link","mainReport.infoDialog.params":"Parameter(s)","mainReport.infoDialog.title":"Report Information","mainReport.infoDialog.url":"Reporting URL","mainReport.infoDialog.uuid":"Report ID","mainReport.label.cancel":"Done","mainReport.label.ok":"Open","mainReport.message.delete":"Are you sure to delete the report [{0}]?","mainReport.message.modified":"The report might have been modified; do you want to save it?","mainReport.notifications":"Notifications","mainReport.openingReport":"Opening Report : {0}","mainReport.print":"Print","mainReport.print.dpi":"DPI","mainReport.print.dpi.tooltip":"wkhtmltopdf --dpi option : 96, ...","mainReport.print.fitToPage":"Fit To Page","mainReport.print.fontResizing":"Font (Zoom)","mainReport.print.fontResizing.tooltip":"The optional zoom (1 means 100%) to apply when resizing the fonts","mainReport.print.keepAspectRatio":"Keep Aspect Ratio","mainReport.print.orientation":"Orientation","mainReport.print.report":"Print Report","mainReport.print.reportBatch":"Print Report (Batch)","mainReport.print.size":"Size","mainReport.print.testPage":"Print Test Page","mainReport.print.timeout":"Timeout","mainReport.print.timeout.tooltip":"Leave empty (or zero) for using the server side default value.","mainReport.print.title":"Print Report","mainReport.print.zoom":"Zoom","mainReport.print.zoom.tooltip":"wkhtmltopdf --zoom option : 1.1, ...","mainReport.print.notEnabled":"The print server is not available. Please contact your system administrator.","mainReport.question.clearData":"Do you want to continue?","mainReport.question.modified":"The report has been modified; do you want to save it?","mainReport.question.logout":"Do you really want to log out?","mainReport.report":"Report","mainReport.aReport":"Report : {0}","mainReport.report.tooltip":"Select a report to display its unique ID.","mainReport.saveSnapshot":"Save Snapshot","mainReport.schema":"Schema","mainReport.selectSchema":"please select a schema","mainReport.title":"Report : {0}","mainReport.uuid":"Report ID","mainReport.uuid.tooltip":"The unique report ID within an icCube instance; see permaLink (name) for portable link across several icCube servers.","mainReport.version":"Version","mainReport.version.reporting":"icCube Reporting : {0}","mainReport.version.server":"icCube Server : {0}","mainReport.warning.ids":"Multiple IDs #{0}",mandatory:"Mandatory",marginLeft:"Margin Left",marginRight:"Margin Right",marker:"Marker",markerColumns:"Marker columns",markerOpacity:"Marker Opacity",markerType:"Marker Type","markerType.tooltip":"Legend marker type. You can set legend marker (key) type for individual graphs.",max:"Max",maxAlternation:"Max Alternation",maxAxisMemberCount:"Max Member Count on Axis","maxAxisMemberCount.tooltip":"The max number of members to show on axis change. Set to -1 for no limit.",maxColumns:"Max Number of Columns",maximumColor:"Maximum Color",maximum:"Maximum","maximumColor.tooltip":"Works with 'column' chart type",maxLabelWidth:"Label Width",maxMemberCount:"Max. Member Count",maxSize:"Max Size",maxTextLines:"Max Text Lines",maxValue:"Max Value",measure:"Measure",memberExp:"MDX Member Expr.","memberExp.tooltip":"An expression to build the MDX member",members:"Members",menu:"Menu","menu.admin":"Admin","topMenu.charts":"Charts","menu.close":"Close","menu.configuration":"Configuration","menu.constants":"Constants","menu.css":"Report CSS","menu.delete":"Delete","menu.editingReporting":"Editing/Reporting","menu.embedded":"Embedded","menu.exportReport":"Export","menu.eventNames":"Available Events","menu.eventUsage":"Report Event Status","menu.back":"Back","menu.file":"File","menu.filters":"MDX Filters","menu.html":"Report HTML (embedded)","menu.info":"Info","menu.importReport":"Import","menu.js":"Report Javascript","menu.json":"Report Code","menu.layout":"Report Layout","menu.mode":"Mode : {0}","menu.notifications":"Notifications","menu.refresh":"Refresh","menu.renameMove":"Rename/Move...","menu.reportIds":"Report IDs / Names","menu.reportInfo":"Report Information","menu.reporting":"Reporting","menu.save":"Save","menu.saveAs":"Save As...","menu.schemaCube":"Schema / Cube","menu.snapshot":"Snapshot","menu.version":"Version","menu.hideNotes":"Hide Notes","menu.showNotes":"Show Notes","topMenu.filtersAndTools":"Filters & Tools",menuVisibility:"User Menu","menuVisibility.axisXChange":"Change Axis X","menuVisibility.axisXChange.tooltip":"Comma separated list of hierarchy names you want to allow to change to.\nSet `none` or leave empty to disable.\nSet `all` to allow all hierarchies","menuVisibility.axisYChange":"Change Axis Y","menuVisibility.axisYChange.tooltip":"Comma separated list of hierarchy names you want to allow to change to.\nSet `none` or leave empty to disable.\nSet `all` to allow all hierarchies","menuVisibility.back":"Back / Forward","menuVisibility.chartData":"Show Data","menuVisibility.exportExcel":"Download (xls)","menuVisibility.filter":"Filter","menuVisibility.filter.tooltip":"Comma separated list of hierarchy names you want to allow as filter.\nSet `none` or leave empty to disable.\nSet `all` to allow all hierarchies","menuVisibility.others":"Others","menuVisibility.reset":"Reset","menuVisibility.widget":"Widget Options",meta:"Meta",methodBody:"Method Body","migrateWidgetDialog.message":"Please choose a widget type to migrate to: ","migrateWidgetDialog.title":"Migrate",min:"Min",minimum:"Minimum",minimumColor:"Minimum Color","minimumColor.tooltip":"Works with 'column' chart type",minorGridLineColor:"Minor grid line color",minorGridLineDashStyle:"Minor grid line dash style",minorGridLines:"Minor Gridlines",minorGridlines:"Minor Gridlines",minorGridLineWidth:"Minor grid line width",minSize:"Min Size",minTextSpacing:"Min Text Spacing",minValue:"Min Value",monthLabel:"Month Label",moreMessage:"More Items Message","multiSelect.applySelection":"Apply",multiSelection:"Multiple Selection",multiSelectionSize:"Multiple Selection Size",n:"Name (Event)","n.tooltip":"Constants can be used using the notation @{name}",nailAlpha:"Nail Opacity",nailRadius:"Nail Radius","navigation.hierarchySearchSuffix":"hier.","navigation.levelSearchSuffix":"level","navigation.noResults":"No Results",name:"Name",neckHeight:"Neck Height",neckWidth:"Neck Width",negativeColor:"Negative color","new":"New",newFormField:"New",negColor:"Neg. Color",noChildren:"No Children",noIcons:"Hide Icons",none:"None",nonEmptyOnColumns:"Remove Empty Columns",nonEmptyOnRows:"Remove Empty Rows","notificationMgr.id":"ID","notificationMgr.message":"Message","notificationMgr.type":"Type","notificationMgr.widget":"Widget",oddTableRow:"Odd Table Row",offset:"Offset",oneBalloonOnly:"Single tooltip",ok:"OK",onlyRefresh:"Only Refresh",onWholeTable:"On Whole Table",opacity:"Opacity",open:"Open",saveAs:"Save as",saveReport:"Save report",moveReport:"Move report",openReportBlankTarget:"Open in New Window","openReportBlankTarget.tooltip":"Open the report in a new window or in this window (default).",openWithHiddenParams:"Open with Hidden Parameters","openWithHiddenParams.tooltip":"The parameters are not visible in the URL. Allows longer parameter list (default).",oppositeAxis:"Opposite Axis","oppositeAxis.tooltip":"By default, scrollbar is in the opsite side of plot area from the axis. If you set this property to false, scrollbar will be placed next to category/value axis. However it won't adjust it's position regarding axis labels, so you might need to use offset property to move scrollbar away from labels.",option:"Option",optionsGenerator:"Options Generator f(uiOptions)",optionsHook:"Options Processor","order.ascendant":"Ascendant","order.ascendantKeepingHierarchy":"Asc keeping hier.","order.descendant":"Descendant","order.descendantKeepingHierarchy":"Desc keeping hier.",orientation:"Orientation",overflow:"Overflow",page:"Paging",pageSize:"Page Size",pan:"Pan",param:"Parameter",params:"Parameters",paste:"Paste Widget","pasteWidgetDialog.invalid":"Invalid JSON string","pasteWidgetDialog.message":"Paste here: ","pasteWidgetDialog.title":"Paste Widget","picker.ic3widgetStyle":"Style",pie:"Pie Chart",pieAlpha:"Pie Alpha",pieHole:"Pie Hole","pieHole.tooltip":"If between 0 and 1, displays a donut chart. The hole with have a radius equal to 'value' times the radius of the chart.","pivotTable.ic3extraOptions":"Extra Options","pivotTable.ic3extraOptions.tooltip":"Starting with a colon, a Javascript object specifying missing configuration properties:\ne.g., : { beforeRowPrintLabel : function(label, node) {} }","pivotTable.reloadChildren":"Reload","pivotTable.widgetStyle":"Table Theme",plotBackgroundColor:"Plot background color",plotBackgroundImage:"Plot background image",plotBorderWidth:"Plot border width",plotBorderColor:"Plot border color",plotOptions:"Plot options",pointFormat:"Point format",pointShape:"Point Shape",pointSize:"Point Size",polar:"Polar",poor:"Poor",position:"Position",posColor:"Pos. Color",preselected:"(Pre)Selected",preSelection:"Default Value","print.error":"Internal Error: {0}",properties:"Properties","queryBuilder.formTitle":"Query Wizard","queryBuilder.plainCodeFormTitle":"Query Code","queryBuilderMeasuresFormBase.delete.message":"Do you want to delete the calculated measure '{0}'?","queryBuilderMeasuresFormBase.delete.title":"Delete Calculated Measure","queryBuilderMeasuresFormBase.error":"Could not update the calculated measure '{0}'","queryBuilderMeasuresFormBase.error.duplicated":"Duplicated calculated measure","queryBuilderMeasuresFormBase.error.existing":"Existing measure","queryBuilderMeasuresFormBase.error.missingName":"Missing name","queryBuilderMeasuresFormBase.info.created":"Calculated measure '{0}' created","queryBuilderMeasuresFormBase.info.updated":"Calculated measure '{0}' updated","queryBuilderWizardForm.cssCellProperties":"Cell Format (icCube)","queryBuilderWizardForm.cssCellProperties.tooltip":"Request the CSS cell properties required to format cell values","queryBuilderWizardForm.error.column":"MDX query wizard needs at least to define a column","queryBuilderWizardForm.error.unsupported":"Unsupported option {0}","queryBuilderWizardForm.formatStringCellProperties":"Cell Format (Excel)","queryBuilderWizardForm.formatStringCellProperties.tooltip":"Request the FORMAT_STRING cell properties used by Export to Excel","queryBuilderWizardForm.title":"You might change the report default cube","queryEditor.fireEvent":"Execute MDX with CTRL-E","queryEditor.fireEvent.tooltip":"The 'on MDX Query Execution' event is fired when pressing CTRL-E (this widget must have the focus).","queryEditor.fireEventOnStart":"Execute MDX on Start","queryEditor.fireEventOnStart.tooltip":"The 'on MDX Query Execution' event is fired when the widget is initially displayed.","queryEditor.ic3widgetStyle":"Widget Style","queryEditor.initialMdx":"Initial MDX Statement","queryEditor.showBottomMessage":"Show Edition Help Message","queryEditor.showBottomMessage.tooltip":"Display below the widget several edition hints (e.g., activate full screen, ...).","queryToolbar.label.cube":"Cube: ","queryToolbar.label.type":"Query Type: ",radar:"Radar Chart",radarCategoriesEnabled:"Categories Enabled",radius:"Radius",ranges:"Ranges",rangesKind:"Ranges Kind",redo:"Redo",refresh:"Refresh",region:"Region",renderer:"Renderer",report:"Report","reportBrowser.button.delete":"Delete","reportBrowser.button.edit":"Rename","reportBrowser.button.newFolder":"New folder","reportBrowser.button.open":"Open","reportBrowser.button.rename":"Rename\\Move report","reportBrowser.button.save":"Save report","reportBrowser.button.saveSnapshot":"Save snapshot","reportBrowser.button.search":"Search","reportBrowser.dialog.delete.message":"Are you sure to delete '{0}' ?","reportBrowser.dialog.delete.report":"Delete Report","reportBrowser.dialog.delete.folder":"Delete Directory","reportBrowser.dialog.rename.message":"The report '{0}' exists; do you want to replace it?","reportBrowser.dialog.rename.title":"Rename/Move Report : {0}","reportBrowser.dialog.unsaved.title":"Unsaved Report","reportBrowser.dialog.unsaved.message":"Please save the report first.","reportBrowser.error.delete":"Could not delete the report ({0})","reportBrowser.error.missingNode":"internal error : missing parent node ({0})","reportBrowser.error.newFolder":"error creating new folder ({0})","reportBrowser.error.reportList":"Could not retrieve the list of reports - please contact your support ({0}).","reportBrowser.error.rename":"Could not rename the report ({0})","reportBrowser.folder.shared":"Shared","reportBrowser.folder.user":"Home","reportBrowser.folder.users":"Users","reportBrowser.info.deleted":"{0} deleted","reportBrowser.info.renamed":"{0} renamed/moved and saved","reportBrowser.label.id":"Id","reportBrowser.label.name":"Name","reportBrowser.newFolder":"New folder","reportBrowser.label.saveMode":"Save mode",reportId:"Report ID","reporting.fatalError":"Application (GVI) initialization error - please contact your support ({0}).","reportMgr.assert":"Already there {0}",reportName:"Report Name","reportName.tooltip":"Either the full path or a relative (to the current report) path of the report to open.","reportParam.name":"Name","reportParam.name.tooltip":"Name of the event/constant in the report to open that will receive the parameter value.","reportParam.param":"Parameter","reportParam.params":"Parameters","reportParam.value":"Value","reportParam.value.tooltip":"Use the event accessor asReportParam (e.g., @{country:asReportParam}) to send the whole event; any other type is allowed (string, array of strings, etc...).","reportParams.error.url":"Invalid URL report parameters ({0})","reportParams.error.unmarshal":"Could not unmarshal URL report parameters ({0}) ({1})",reportPath:"Report Path",reportUuid:"Report ID","reportWidgetAdapter.nonExistingReportError":"Non Existing Report Error","reportWidgetAdapter.nonExistingReportError.tooltip":"A message to display if the report is not available or not accessible because of insufficient access rights.",resizeEnabled:"Resize Enabled",resolution:"Resolution",reverseCategories:"Reverse H. Axis",right:"Right",risingColor:"Rising Color",role:"Role",rotate:"Rotate",rotation:"Rotation",rowHeader:"Row Header",rowNumberCell:"Row Number Cell",rtl:"Right To Left",rtlTable:"Right To Left",run:"Run",sankey:"Sankey","sankey.enableInteractivity":"Enable Interactivity","sankey.forceIFrame":"Force iframe","sankey.iterations":"Iterations",satisfactory:"Satisfactory",second:"Second","serializable.alert.missingId":"missing classId","serializable.alert.restore":"{0} cannot be restored: {1}",schema:"Schema",scrollbarHeight:"Height",scrollbarVisibility:"Scrollbar Visibility","scrollbarVisibility.onHover":"On Hover","scrollbarVisibility.hidden":"Hidden","scrollbarVisibility.visible":"Visible",scrollDuration:"Scroll Duration",scrollLeftStartPosition:"Scroll Left Start",selected:"Selected",selectedBackgroundAlpha:"Selected Background Alpha",selectedBackgroundColor:"Selected Background Color",selectedGraphFillAlpha:"Selected Graph Fill Alpha",selectedGraphFillColor:"Selected Graph Fill Color",selectedGraphLineAlpha:"Selected Graph Line Alpha",selectedGraphLineColor:"Selected Graph Line Color",selectedItemCss:"Selected Item Style",selectedTableHeaderCell:"Selected Header Cell",selectedTableRow:"Selected Table Row",selectionAlpha:"Selection Alpha",selectionMode:"Selection Mode",selectionTarget:"Selection Target",selectWithoutZooming:"Select Without Zooming",serial:"Serial Chart",serie:"Serie",series:"Series",seriesType:"Series Type",setMinMax:"Use MDX Min/Max",shared:"Shared",showBalloon:"Show Balloon",showBalloonAt:"Show Balloon At",showButton:"Show",showColorCode:"Show Color Code",showFirstLabel:"Show First Label",showHeaderRowTitle:"Header Row Title",showLastLabel:"How Last Label",showRowNumber:"Show Row Number",showTextEvery:"Show Text Every","simpleTable.widgetStyle":"Table Theme",singleFace:"Single Face",size:"Size",sizeAxis:"Size Axis",slantedText:"Slanted Text",slantedTextAngle:"Slanted Text Angle","slider.ic3widgetStyle":"Slider Style","slider.range":"Range Slider",sliderMargin:"Slider Margin (px)",sliderWidth:"Slider Width (px)","snapshot.error":"Internal Error: {0}",sort:"Sort",sortAscending:"Sort Ascending",sortColumn:"Sort Column",spacingLeft:"Spacing left",spacingTop:"Spacing top",spanHeaders:"Span Headers",stacking:"Stacking",staggerLines:"Text lines",startAngle:"Start Angle",startDuration:"Animate Duration",startPage:"Start Page",startValue:"Start Value",startWidth:"Start Width",step:"Show Text Every",stroke:"Stroke Color",strokeWidth:"Stroke Width",subtitle:"Subtitle",subtitles:"Subtitles",suggestionLength:"Suggestion Length",switchRowsColumnsOnSingleAxis:"Switch Columns/Rows if Single Axis",switchable:"Switchable",symbol:"Symbol",table:"Table","table.grid":"SlickGrid Options","table.grid.tooltip":"Starting with a colon, a Javascript object specifying missing configuration properties; e.g., : {rowHeight:20}",tableCell:"Table Cell",tableCss:"Table CSS",tableHeaderCell:"Row Header Cell","tableInfoGrid.search":"Search",tableRow:"Table Row","TableTargetColumn.adhoc":"Ad-Hoc Expression","TableTargetColumn.adhoc.tooltip":"User defined Javascript expression based on the column index. The first data column is 1, last headers ends at 0.","TableTargetColumn.default":"Default","TableTargetColumn.header":"Header","TableTargetColumn.even":"Even Columns","TableTargetColumn.items":"Indices","TableTargetColumn.items.tooltip":"One or more column indices separated by a comma. The first data column is 1, last headers ends at 0.","TableTargetColumn.list":"List of Columns","TableTargetColumn.odd":"Odd Columns","TableTargetColumn.predicate":"Predicate","TableTargetColumn.predicate.tooltip":"A boolean expression that returns true if this column options apply to the column index passed as parameter. The first data column is 1, last headers ends at 0.","TableTargetColumn.target":"Target","TableTargetColumn.target.tooltip":"The column(s) these options apply to.",targetAdapterClass:"Widget",targetAxisIndex:"Axis",templateClass:"Template Type",templateDefinition:"Widget Options",templateName:"Name",templatePath:"Path (Menu)",text:"Text",textPosition:"Text Position",textStyle:"Text Style","theme.warn.missingDefault":"Missing default theme name","theme.warn.unknown":"Unknown theme [{0}]","theme.warn.unknownAmChartStyle":"Unknown AmChart widget style [{0}]","theme.warn.unknownButtonStyle":"Unknown button widget style [{0}]","theme.warn.unknownContextMenuStyle":"Unknown context menu widget style [{0}]","theme.warn.unknownDropdownStyle":"Unknown dropdown widget style [{0}]","theme.warn.unknownD3BulletStyle":"Unknown D3Bullet widget style [{0}]","theme.warn.unknownGoogleStyle":"Unknown Google widget style [{0}]","theme.warn.unknownHtmlBoxStyle":"Unknown html box widget style [{0}]","theme.warn.unknownHtmlTemplateStyle":"Unknown html template widget style [{0}]","theme.warn.unknownInputStyle":"Unknown input widget style [{0}]","theme.warn.unknownJquiAutocompleteStyle":"Unknown jQueryUI Autocomplete style [{0}]","theme.warn.unknownJquiPickerStyle":"Unknown jQueryUI Date Picker style [{0}]","theme.warn.unknownJquiSliderStyle":"Unknown jQueryUI Slider style [{0}]","theme.warn.unknownMultiSelectStyle":"Unknown multi select widget style [{0}]","theme.warn.unknownPivotTableStyle":"Unknown pivot table widget style [{0}]","theme.warn.unknownReportStyle":"Unknown Report style [{0}]","theme.warn.unknownQueryBuilderStyle":"Unknown query builder widget style [{0}]","theme.warn.unknownQueryEditorStyle":"Unknown query editor widget style [{0}]","theme.warn.unknownSimpleTableStyle":"Unknown simple table widget style [{0}]","theme.warn.unknownTreeFilterStyle":"Unknown tree filter widget style [{0}]",tickColor:"Tick Color",tickLength:"Tick Length",tickPosition:"Tick Position","tinyMce.content":"Insert your text here","tinyMce.html":"HTML/Text",title:"Title",titleTextStyle:"Title Text Style",top:"Top",topText:"Top Text",toCategory:"To Category",tooltip:"Tooltip",tooltipOnHeaders:"Show Tooltip on Headers",toValue:"To Value",toAngle:"To Angle","treeFilter.alert":"internal error : missing parent node (corrupted data table)",Trendline:"Trend Line",trendline:"Trend Line",trendLine:"Trend Line",trendlines:"Trendlines",trendLines:"Trendlines",trigger:"Trigger",type:"Type",undo:"Undo",unit:"Unit",unitPosition:"Unit Position",uniqueName:"Full Name",updateOnReleaseOnly:"Update On Release Only","updateOnReleaseOnly.tooltip":"Specifies if the chart should be updated while dragging/resizing the scrollbar or only at the moment when user releases mouse button.",url:"URL",useNavButtons:"Navigation Buttons",useNotificationSystem:"Reporting Notification",uuid:"UUID",v:"Value",userMenuEnabled:"Show user menu",validator:"Validator","validator.greaterThanMax":'"{0}" is greater than "{1}"',"Validator.javascript":"Javascript","validator.lessThanMin":'"{0}" is less than "{1}"',"validator.notNumber":'"{0}" is not a number',"Validator.number":"number validator",value:"Value",valueAlign:"Value Align",valueAxis:"Value Axis",valueBalloonsEnabled:"Value Balloons Enabled",valuePrefix:"Value prefix",valueRepresents:"Value Represents",values:"Values",valueSuffix:"Value suffix",valueText:"Value Text",valueWidth:"Value Width",vAxis:"Vertical Axis",vAxes:"Vertical Axes",vDateFormat:"Visual Date Format","vDateFormat.tooltip":"JQuery only, date format",verticalAlign:"Vertical align",viewWindow:"View Window",viewWindowMode:"View Window Mode",visibility:"Visibility",visible:"Visible",visibleInLegend:"Visible In Legend","viz.error.additional":" Additional Information : {0}","viz.error.call":"internal error : viz.ConnectionJsonCallback was not called","viz.error.id":"missing id for container","viz.error.idNull":"divId cannot be null","viz.error.matching":"internal : matching [{0}] div(s) for id [{1}] in the HTML document (expecting:1)","viz.error.request":"Request Error : Message : {0}","viz.error.requestFailure":"Request Failure : Message : {0}","widget.autoComplete":"AutoComplete","widget.bulletChart":"Bullet Chart","widget.buttonList":"Buttons","widget.bigTable":"Big Table","widget.combo":"Drop-down","widget.contextualMenu":"Contextual Menu","widget.datePicker":"Date Picker","widget.embeddedReport":"Embedded Report","widget.genericGoogleChart":"Generic Chart","widget.globalFilter":"Global Filter","widget.googleCalendar":"Calendar","widget.googleCombo":"Combo","widget.googleGeo":"Google Geo Chart","widget.googleSankey":"Sankey","widget.googleTable":"Table","widget.googleMap":"Google Map","widget.googleRegionsMap":"Google Regions","widget.genericTable":"Table","widget.htmlTable":"Simple HTML Table","widget.htmlTemplate":"HTML Template","widget.input":"Input","widget.jQueryButtonList":"Buttons (jQUI)","widget.mdxEditor":"Query Editor","widget.menu":"Accordion","widget.multiSelect":"Multi Select","widget.pivotTable":"Pivot Table","widget.queryBuilder":"Query Builder","widget.queryBuilder.tooltip":"Mdx Query Builder","widget.reportLauncher":"Report Launcher","widget.slider":"Slider","widget.table":"Table","widget.html":"Text/HTML","widget.tree":"Tree","widget.toolbar":"Toolbar","widget.hierarchyMultiSelect":"Multi Filter","widget.selectControl":"MDX Filter","widget.actionsSelectControl":"Select control","widget.error.field":"'{0}' is not a valid field, valid ones : name,uniqueName","widget.error.implement":"entity widget should implement 'ic3selection' function","widgetAdapter.error.onVizRequestExecuted":"Error while rendering widget: {0}","widgetAdapter.error.unbind":"Widget {0} without unbind method",widgetBackgroundClass:"Background Style","widgetGroup.action":"Actions","widgetGroup.amCharts":"amCharts","widgetGroup.D3":"D3","widgetGroup.filter-iccube":"icCube","widgetGroup.filter-jqueryui":"jQuery UI","widgetGroup.googlevis":"Google","widgetGroup.html":"HTML","widgetGroup.htmltemplate":"icCube","widgetGroup.mdx":"MDX","widgetGroup.report":"Report","widgetGroup.table":"icCube","widgetGroup.toolbar":"Toolbar",widgetMessage:"Widget Message",widgetStyle:"Widget Style",widgetsList:"Widgets",width:"Width","widgetTemplateCtMgr.error.duplicatedId":"internal error : duplicated template uid ({0} : {1})","widgetTemplateCtMgr.error.missingId":"internal error : missing template uid ({0})","widgetTemplateCtMgr.error.missingItem":"Missing {0} item for uid {1}",x:"X",xAxis:"Horizontal Axis",xy:"XY Chart",y:"Y",yAxis:"Vertical Axis",yearLabel:"Year Label",zIndex:"z-index",zoom:"Zoom",zoomable:"Enable zoom",zoomFactor:"Zoom Factor",zooming:"Zooming",zoomToIndexes:"Zoom to Indexes",zoomToLast:"Zoom to Last","zoomToLast.tooltip":"By default if 'Zoom to Indexes' is set it will zoom to the first indexes.",zoomType:"Zoom type","toolbar.addNote":"Add Note","toolbar.saveSnapshot":"Save Snapshot",node:"Node",nodePadding:"Node Padding","note.delete":"Delete","note.hide":"Hide",calcMemberMdxExpressionMessage:"Calculated Member Statement:",filterMdxExpressionMessage:"MDX Set Statement:","Google.tooltip":"Google Visualization charts do not work offline",fireOnBlur:"Fire event on blur",isRange:"Range",preSelectionFrom:"Default From Value",preSelectionTo:"Default To Value",pickerRenderer:"Calendar Renderer","pickerRenderer.tooltip":"The renderer used to choose a date. 'UseBrowser' option will use Html5 if available (Chrome,Edge,Tablets); if not JQuery is used (IE,Firefox, Safari...)",separator:"Separator",fromPlaceholder:"Empty From Text","fromPlaceholder.tooltip":"JQuery only, text when input is empty",toPlaceholder:"Empty To Text","toPlaceholder.tooltip":"JQuery only, text when input is empty",numberOfMonths:"Number of Months","numberOfMonths.tooltip":"JQuery only, number of months showed by the rendered"},"en");
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){function g(h){if(h.meta&&!$.isArray(h.meta)){if(h.type!=="array"){throw a.babylon.localize("juiFormBeanSetter.error",h.type,h.name)
}return true}return false}a._isFieldDescriptorArray=g;var f=(function(){function h(j,i,k){this.strictTypes=k;this.propName=i.name;this.propType=i.type;this._bean=j;this.isArray=g(i)}h.prototype.ascendantItemArray=function(){return null};h.prototype.ascendantObject=function(){return null
};h.prototype.registerRenderer=function(i){this.renderer=i};h.prototype.createArraySetter=function(j,i){return new e(this,j,i)};h.prototype.createInnerSetter=function(i){var j;if(i.type===juiForm_FieldRendererType.GIZMO){j=new d(this,i);j.createInnerSetter=function(k){return a.jUIFormGizmoBeanSetter.prototype.createInnerSetter.call(j,k)
}}else{j=new d(this,i)}return j};h.prototype.bean=function(i){return this._bean};h.prototype.val=function(j){if(typeof j=="undefined"){var i=this.bean();if(i==null){return null}var l=i[this.propName];if(this.isArray&&l!=null){l=this._valArray(i,l)}return l}else{i=this.bean(true);
var k=this._convertFromString(j);return i[this.propName]=k}};h.prototype._valArray=function(i,j){if(j==null){return i[this.propName]=[]}return j};h.prototype._createEmptyObject=function(){if(this.isArray){return this.val([])}else{return this.val({})}};h.prototype._convertFromString=function(k){switch(this.propType){case juiForm_FieldRendererType.INTEGER:var j=parseInt(k);
if(isNaN(j)){if(this.strictTypes){throw"Can't convert '"+k+"' to integer"}else{return k}}return j;case juiForm_FieldRendererType.NUMERIC:var j=parseFloat(k);if(isNaN(j)){if(this.strictTypes){throw"Can't convert '"+k+"' to float"}else{return k}}return j;case juiForm_FieldRendererType.BOOLEAN:return a.asBoolean(k);
case juiForm_FieldRendererType.GIZMO:if(typeof k==="string"&&k.length>0){return{type:k}}}if(typeof k==="string"){var i=$.trim(k);return i.length===0?null:i}else{return k}};return h}());a.jUIFormBeanSetter=f;var d=(function(h){__extends(i,h);function i(k,j){h.call(this,null,j,k.strictTypes);
this.parent=k}i.prototype.ascendantItemArray=function(){return this.parent.ascendantItemArray()};i.prototype.ascendantObject=function(){return this.parent};i.prototype.bean=function(j){var k=this.parent.val();if(j&&k==null){k=this.parent._createEmptyObject()
}return k};i.prototype.registerRenderer=function(k){h.prototype.registerRenderer.call(this,k);k.parent(this.parent?this.parent.renderer:null);var j=this.parent;while(j!=null){j.renderer.addChildRenderer(k);j=j instanceof i?j.parent:undefined}};return i}(f));
a.jUIFormEmbeddedBeanSetter=d;var e=(function(h){__extends(i,h);function i(l,k,j){h.call(this,l,k);this.idx=j;this.isNew=j<0}i.prototype.ascendantItemArray=function(){return this};i.prototype.createInnerSetter=function(j){return h.prototype.createInnerSetter.call(this,j)
};i.prototype.val=function(j){if(typeof j=="undefined"){var l=this.bean();return l==null||this.idx<0?null:l[this.idx]}else{var k=this._convertFromString(j);if(k==null){l=this.bean();if(l==null){return null}}else{l=this.bean(true)}if(this.idx<0){this.idx=l.length
}return l[this.idx]=k}};return i}(d));a.jUIFormArrayItemBeanSetter=e;var c=(function(h){__extends(i,h);function i(){h.apply(this,arguments)}i.prototype.createInnerSetter=function(j){return new b(this,j)};return i}(f));a.jUIFormGizmoBeanSetter=c;var b=(function(i){__extends(h,i);
function h(){i.apply(this,arguments)}h.prototype.bean=function(j){var k=this.parent.val();if(j){if(k&&k.options==null){k.options={}}}return k};h.prototype.val=function(k){var l;if(typeof k=="undefined"){var j=this.bean();if(j==null){return null}l=j&&j.options?j.options[this.propName]:null
}else{if(!a.isEmptyString(k)){l=this._convertFromString(k)}else{l=undefined}j=this.bean(true);if(j){if(l){j.options[this.propName]=l}else{delete j.options[this.propName]}}}return l};return h}(d));a.jUIFormGizmoEmbeddedBeanSetter=b})(ic3||(ic3={}));function juiForm_openMdxExpressionEditor__(d,a,c){var b={statement:d.val()};
var e={guts:function(){return b},gutsMeta:function(){return[{name:"message",tag:"",message:a.message||ic3.babylon.localize("mdxMdxExpressionMessage"),type:juiForm_FieldRendererType.MESSAGE},{name:"statement",tag:"",type:juiForm_FieldRendererType.MDX,afterEditorRender:function(f){f.cm.mdxAutocomplete(c);
f.cm.setHeight(100)}},{name:"hint",tag:"",message:ic3.babylon.localize("mdxEditorHint"),type:juiForm_FieldRendererType.MESSAGE,style:"font-size: 10px;"}]},refreshHtmlFromGuts:function(f){b=f}};ic3.dialogForGuts(c,ic3.babylon.localize("mdxExpressionDialogTitle"),e,{ic3okCallback:function(){d.val(b.statement);
d.attr("title",b.statement||"")}})}function juiForm_openMdxExpressionEditor(e,c){var a=e.fieldDescriptor();var b={statement:e.valueFromForm()};var d={guts:function(){return b},gutsMeta:function(){return[{name:"message",tag:"",message:a.message||ic3.babylon.localize("mdxMdxExpressionMessage"),type:juiForm_FieldRendererType.MESSAGE},{name:"statement",tag:"",type:juiForm_FieldRendererType.MDX,afterEditorRender:function(g){g.cm.mdxAutocomplete(c);
g.cm.setHeight(100)}},{name:"hint",tag:"",message:ic3.babylon.localize("mdxEditorHint"),type:juiForm_FieldRendererType.MESSAGE,style:"font-size: 10px;"}]},refreshHtmlFromGuts:function(g){b=g}};var f=ic3.babylon.localizeFormFieldLabel(a.name,a.path);ic3.dialogForGuts(c,f,d,{ic3okCallback:function(){var g=b.statement;
e.setWidgetValue(g);e.setTooltip(g||"")}})}function juiForm_openJavascriptEditor(f,c,b){var d=f.fieldDescriptor();var e={code:f.valueFromForm()};var h=[];if(c){h.push({name:"message",tag:"",message:d.signature,type:juiForm_FieldRendererType.MESSAGE},{name:"message",tag:"",message:"{",type:juiForm_FieldRendererType.MESSAGE})
}else{var i=ic3.babylon.localizeFormFieldTooltip(d.name,d.path,d.tooltip)||ic3.babylon.localize("javascriptTooltip");h.push({name:"message",tag:"",message:i,type:juiForm_FieldRendererType.MESSAGE})}h.push({name:"code",tag:"",type:juiForm_FieldRendererType.JAVASCRIPT,lint:c,afterEditorRender:function(j){j.cm.mdxAutocomplete(b);
j.cm.setHeight(150)}});if(c){h.push({name:"message",tag:"",message:"}",type:juiForm_FieldRendererType.MESSAGE})}var a={guts:function(){return e},gutsMeta:function(){return h},refreshHtmlFromGuts:function(j){e=j}};var g=ic3.babylon.localizeFormFieldLabel(d.name,d.path);
ic3.dialogForGuts(b,g,a,{ic3okCallback:function(){f.setWidgetValue(e.code)}})}var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var juiForm_FieldRenderer=(function(){function a(b,c,e,d){this.classID="juiForm_FieldRenderer";this.$form=c;this.rowId=e;this._fieldDescriptor=b;this._beanGutsProp=d;d.registerRenderer(this)}a.prototype.canHaveEventHints=function(){var b=this.fieldDescriptor();
var c=b.type;return c!==juiForm_FieldRendererType.EVENT_DEFINITION&&c!==juiForm_FieldRendererType.BOOLEAN&&c!==juiForm_FieldRendererType.ONE_OF_MANY_ENTITIES&&c!==juiForm_FieldRendererType.ONE_OF_MANY_ENTITIES_TREE&&c!==juiForm_FieldRendererType.MANY_OF_MANY_ENTITIES&&c!==juiForm_FieldRendererType.OBJECT&&c!==juiForm_FieldRendererType.ARRAY
};a.prototype.afterDOMRendering=function(c,b){};a.prototype.onDialogOpen=function(){};a.prototype.canBeResized=function(){return false};a.prototype.onResizeStop=function(b){};a.prototype.onShow=function(){};a.prototype.fieldDescriptor=function(){return this._fieldDescriptor
};a.prototype.isCollapsible=function(){return this.hasChildren()};a.prototype.beanGutsProp=function(){return this._beanGutsProp};a.prototype.parent=function(b){if(b==null){return this._parent}this._parent=b};a.prototype.depth=function(){return this._parent==null?0:this._parent.depth()+1
};a.prototype.lastChildOrThis=function(){if(this.children==null||this.children.length===0){return this}return this.children[this.children.length-1]};a.prototype.addChildRenderer=function(b){if(this.children==null){this.children=[]}this.children.push(b)};a.prototype.removeChildren=function(){this.children=null
};a.prototype.nextVisibleInput=function(){var b=this.$row();do{b=b.next()}while(b.length>0&&!b.is(":visible"));if(b.length===0){return this.$row().parent().find(".ic3-input:visible:first")}return b.find(".ic3-input")};a.prototype.hasChildren=function(){return this.children&&this.children.length>0
};a.prototype.forEachChild=function(c,b){if(b){c(-1,this)}ic3.each(this.children,function(d,e){c(d,e)})};a.prototype.isArray=function(){return false};a.prototype.$row=function(){return this.$form.find("#"+this.rowId)};a.prototype.$input=function(){return this.$form.find("#"+this.rowId+" .ic3-input")
};a.prototype.canSetWidgetValue=function(){return this.$input().length>0};a.prototype.setWidgetValue=function(b){var c=this.$input();c.val(b);c.change()};a.prototype.setTooltip=function(b){this.$input().attr("title",b)};a.prototype.appendWidgetValue=function(b){var c=this.$input();
c.val(c.val()+b);c.change()};a.prototype.refreshToBean=function(){try{this._cleanUpError();var c=this.valueFromForm();var d=ic3.isEmptyString(c);if(this.fieldDescriptor().mandatory&&d){this._assertMandatoryOnNull()}if(!d){this._validateBeanWithMetaValidator(c)
}this.valueToBean(c);return true}catch(b){this._addError(b);return false}};a.prototype._assertMandatoryOnNull=function(){var d=this.beanGutsProp();var c=d.ascendantObject();if(c===null){c=d.ascendantItemArray();if(c&&c.isNew){return}c=c?c.parent:null}if(c){var b=c.renderer;
var e=b.valueFromForm();if(!ic3.isEmptyString(e)){throw ic3.babylon.localize("juiFormRenderers.mandatory")}else{if(b.fieldDescriptor().mandatory){return b._assertMandatoryOnNull()}}}else{throw ic3.babylon.localize("juiFormRenderers.mandatory")}};a.prototype._validateBeanWithMetaValidator=function(d){var c=this.fieldDescriptor().validator;
if(c){var b=c(d);if(!ic3.isEmptyString(b)){throw b}}};a.prototype.valueFromForm=function(){var b=this.$input().val();return b};a.prototype.valueToBean=function(b){this._beanGutsProp.val(b)};a.prototype.onBeforeRefreshToForm=function(b){};a.prototype.refreshToForm=function(){var b=this._beanGutsProp.val();
this.$input().val(b)};a.prototype.isValid=function(){return this.error==null};a.prototype._cleanUpError=function(){this.error=null;this.$form.find("#"+this.rowId).removeClass("ic3-on-error ic3-child-on-error").find(".ic3-form-error").html("<span class='ui-icon ic3-form-none'></span>");
var b=this.parent();while(b!=null){b.$row().removeClass("ic3-child-on-error");b=b.parent()}};a.prototype._addError=function(b){this.error=b;this.$form.find("#"+this.rowId).addClass("ic3-on-error").find(".ic3-form-error").html("<span class='ic3-error-notice' title='"+ic3.escapeAttribute(b)+"'></span>");
var c=this.parent();while(c!=null){c.$row().addClass("ic3-child-on-error");c=c.parent()}};a.prototype.overrideEventHints=function(b){return b};a.prototype.eventHintCaption=function(b){return"@{"+b.name+"}"};a.prototype.eventHintValue=function(b){return b.lexeme
};return a}());var juiForm_DefaultRenderer=(function(a){__extends(b,a);function b(c,d,f,e){a.call(this,c,d,f,e);this.classID="juiForm_DefaultRenderer"}b.prototype.canvas=function(e,c){var d=c.readonly?" readonly='readonly'":"";e.append("<input class='ic3-input' "+d+"/>")
};return b}(juiForm_FieldRenderer));var juiForm_DefaultAppendingRenderer=(function(a){__extends(b,a);function b(c,d,f,e){a.call(this,c,d,f,e);this.classID="juiForm_DefaultAppendingRenderer"}b.prototype.setWidgetValue=function(d){var f=this.$input();var e=f.val();
var c=ic3.isEmptyString(e)?"":this._fieldDescriptor.separator||" ";this.appendWidgetValue(c+d)};b.prototype.appendWidgetValue=function(c){var d=this.$input();d.val(d.val()+c);d.change()};return b}(juiForm_DefaultRenderer));var juiForm_ReportParamValueRenderer=(function(a){__extends(b,a);
function b(c,d,f,e){a.call(this,c,d,f,e);this.classID="juiForm_ReportParamValueRenderer"}b.prototype.eventHintValue=function(c){return"@{"+c.name+":asReportParam}"};return b}(juiForm_DefaultRenderer));var juiForm_DoEventRenderer=(function(b){__extends(a,b);
function a(c,d,f,e){b.call(this,c,d,f,e);this.classID="juiForm_DoEventRenderer"}a.prototype.eventHintValue=function(c){return c.name};return a}(juiForm_DefaultRenderer));var juiForm_EventNameRenderer=(function(b){__extends(a,b);function a(c,d,f,e){b.call(this,c,d,f,e);
this.classID="juiForm_EventNameRenderer"}a.prototype.canvas=function(e,c){var d=c.readonly?" readonly='readonly'":"";e.append("<input class='ic3-input' "+d+"/>")};a.prototype.overrideEventHints=function(c){var d=[];ic3.each(ic3.ReportEvents,function(f,e){d.push({lexeme:f,name:f})
});return d};a.prototype.eventHintCaption=function(c){return c.name};return a}(juiForm_FieldRenderer));var juiForm_TextAreaRenderer=(function(a){__extends(b,a);function b(c,d,f,e){a.call(this,c,d,f,e);this.classID="juiForm_TextAreaRenderer"}b.prototype.canBeResized=function(){return true
};b.prototype.onResizeStop=function(e){var d=this.$row().find("textarea");var c=d.height();d.height(c+e)};b.prototype.canvas=function(d,c){var e=c.textareaRows?c.textareaRows:3;d.append("<textarea rows='"+e+"' class='ic3-input'/>")};return b}(juiForm_FieldRenderer));
var juiForm_PermaLinkRenderer=(function(a){__extends(b,a);function b(c,d,f,e){a.call(this,c,d,f,e);this.classID="juiForm_PermaLinkRenderer";this.valueFactory=c.valueFactory}b.prototype.canvas=function(d,c){d.append("<input class='ic3-input' readonly='readonly'/>")
};b.prototype.onBeforeRefreshToForm=function(c){c.applyCallback()};b.prototype.refreshToForm=function(){var c=this.valueFactory();this.$input().val(c)};return b}(juiForm_FieldRenderer));var juiForm_CodeMirrorRenderer=(function(a){__extends(b,a);function b(d,h,c,e,g,f){a.call(this,c,e,g,f);
this.internalDivId_=d;this.mode_=h}b.prototype.canBeResized=function(){return true};b.prototype.onResizeStop=function(f){var d=this.$row().find(".CodeMirror");var c=d.height();var e=c+f;d.height(e);this.cm.setHeight(e);this._setCodeMirrorWidth()};b.prototype.canvas=function(d,c,e){d.append("<div class='ic3-code-mirror' id='"+this.internalDivId_+"'/>");
this.rowId=e};b.prototype.onDialogOpen=function(){this._setCodeMirrorWidth()};b.prototype.afterDOMRendering=function(g,f){var d=this.fieldDescriptor();var e=d.completion;var h=d.lint===true;var i=f.find("#"+this.rowId);var c=i.find("#"+this.internalDivId_);
this.cm=new ic3.CodeMirrorWidget(c,this.mode_,{fullscreen:true,completion:e,lint:h});if(d.eventHint){this.cm.mdxAutocomplete(g)}this._setCodeMirrorWidth();if(d.afterEditorRender){d.afterEditorRender(this)}};b.prototype._computeInputWidth=function(){var k=this.$form;
var j=k.find("#"+this.rowId);var i=j.find(".ic3-form-colexp").outerWidth();var h=j.find(".ic3-form-label").outerWidth();var f=j.find(".ic3-form-error").outerWidth();var e=j.find(".ic3-form-default-icon").outerWidth();var d=6+2;var c=k.width();var g=c-i-h-f-e-d;
return g};b.prototype._setCodeMirrorWidth=function(){var c=this._computeInputWidth();this.cm.cm.setSize(c,null);this.cm.cm.refresh()};b.prototype.refreshToForm=function(){var c=this._beanGutsProp.val();return this.cm.setValue(c)};b.prototype.valueFromForm=function(){return this.cm.getValue()
};b.prototype.canSetWidgetValue=function(){return this.cm!=null};b.prototype.setWidgetValue=function(c){this.cm.setValue(c);this.refreshToBean()};b.prototype.appendWidgetValue=function(c){this.cm.setValue(this.cm.getValue()+c);this.refreshToBean()};return b
}(juiForm_FieldRenderer));var juiForm_HtmlRenderer=(function(a){__extends(b,a);function b(c,d,f,e){a.call(this,"html","html",c,d,f,e);this.classID="juiForm_HtmlRenderer"}return b}(juiForm_CodeMirrorRenderer));var juiForm_JsonRenderer=(function(b){__extends(a,b);
function a(c,d,f,e){b.call(this,"json","json",c,d,f,e);this.classID="juiForm_JsonRenderer"}return a}(juiForm_CodeMirrorRenderer));var juiForm_JavascriptRenderer=(function(b){__extends(a,b);function a(c,d,f,e){b.call(this,"javascript","javascript",c,d,f,e);this.classID="juiForm_JavascriptRenderer"
}return a}(juiForm_CodeMirrorRenderer));var juiForm_TextAreaWithEditorRenderer=(function(b){__extends(a,b);function a(c,d,f,e){b.call(this,c,d,f,e);this.classID="juiForm_TextAreaWithEditorRenderer"}a.prototype.afterDOMRendering=function(e,d){var g=d.find("#"+this.rowId+" .ic3-input");
g.addClass("ic3-javascript-input");var f=$('<div class="ic3-form-helper ui-icon ic3-form-edit-js"></div>');g.before(f);var c=this;f.click(function(){c.handleEditButtonClick(c,e)})};a.prototype.handleEditButtonClick=function(d,c){};a.prototype.canBeResized=function(){return false
};return a}(juiForm_TextAreaRenderer));var juiForm_JavascriptPreviewRenderer=(function(b){__extends(a,b);function a(c,d,f,e,g){b.call(this,c,d,f,e);this.classID="juiForm_JavascriptFunctionRenderer";this.isFunction=g}a.prototype.handleEditButtonClick=function(d,c){juiForm_openJavascriptEditor(d,this.isFunction,c)
};return a}(juiForm_TextAreaWithEditorRenderer));var juiForm_CssRenderer=(function(a){__extends(b,a);function b(c,d,f,e){a.call(this,"css","css",c,d,f,e);this.classID="juiForm_CssRenderer"}return b}(juiForm_CodeMirrorRenderer));var juiForm_MdxRenderer=(function(b){__extends(a,b);
function a(c,d,f,e){b.call(this,"mdx","mdx",c,d,f,e);this.classID="juiForm_MdxRenderer"}return a}(juiForm_CodeMirrorRenderer));var juiForm_BigTextAreaRenderer=(function(b){__extends(a,b);function a(c,d,f,e){b.call(this,c,d,f,e);this.classID="juiForm_BigTextAreaRenderer"
}a.prototype.canBeResized=function(){return true};a.prototype.onResizeStop=function(e){var d=this.$row().find("textarea");var c=d.height();d.height(c+e)};a.prototype.canvas=function(d,c){d.append("<textarea rows='25' class='ic3-input'/>")};return a}(juiForm_FieldRenderer));
var juiForm_EmbeddedRenderer=(function(a){__extends(b,a);function b(c,d,f,e){a.call(this,c,d,f,e);this.classID="juiForm_EmbeddedRenderer"}b.prototype.canvas=function(d,c){var e=c.readonly?" disabled='disabled'":"";d.append("<input class='ic3-input'"+e+"/>")
};b.prototype.refreshToForm=function(){var d=this._beanGutsProp.val();var c=d?JSON.stringify(d):null;this.$input().val(c)};b.prototype.valueFromForm=function(){var c=this.$input().val();var d=c?JSON.parse(c):null;return d};return b}(juiForm_FieldRenderer));
var juiForm_ArrayRenderer=(function(b){__extends(a,b);function a(c,d,f,e){b.call(this,c,d,f,e);this.classID="juiForm_ArrayRenderer"}a.prototype.isArray=function(){return true};a.prototype.isCollapsible=function(){return true};a.prototype.canvas=function(d,c){var e=c.readonly?" disabled='disabled'":"";
d.append("<input class='ic3-input' "+e+"/>")};a.prototype.refreshToForm=function(){var d=this._beanGutsProp.val();var c=d?JSON.stringify(d):null;this.$input().val(c)};a.prototype.valueFromForm=function(){var c=this.$input().val();var d=c?JSON.parse(c):null;
return d};return a}(juiForm_FieldRenderer));var juiForm_BooleanRenderer=(function(b){__extends(a,b);function a(c,d,f,e){b.call(this,c,d,f,e);this.classID="juiForm_BooleanRenderer"}a.prototype.canvas=function(d,c){if(c.mandatory){this.checkbox=true;d.append("<input class='ic3-input' type='checkbox' />")
}else{this.checkbox=false;d.append("<select class='ic3-input'><option value='none'></option><option value='true'>yes</option><option value='false'>no</option></select>")}};a.prototype.refreshToForm=function(){var c=this._beanGutsProp.val();if(this.checkbox){this.$input().prop("checked",c)
}else{this.$input().val((c===true)?"true":(c===false)?"false":undefined)}};a.prototype.valueFromForm=function(){if(this.checkbox){var d=this.$row().find(".ic3-input:checked").val()!==undefined}else{var c=this.$input().val();d=(c==="true")?true:(c==="false")?false:undefined
}return d};return a}(juiForm_FieldRenderer));var juiForm_oneOfManyEntitiesRenderer=(function(b){__extends(a,b);function a(c,d,f,e){b.call(this,c,d,f,e);this.classID="juiForm_oneOfManyEntitiesRenderer"}a.prototype.canvas=function(d,c){d.append("<select class='ic3-input'>");
if(c.entities&&c.entities.depends&&c.entities.entities){}else{this.entities=c.entities;this._setOptions(d)}d.append("</select>")};a.prototype._setOptions=function(e){var c=this.fieldDescriptor();var d=c.disabled?"<option disabled='disabled' selected='selected'>"+c.disabled+"</option>":"";
d+=c.mandatory?"":"<option></option>";if(this.entities){this.entities.forEach(function(g,f){d+="<option value='"+ic3.escapeAttribute(g.uniqueName)+"'>"+ic3.escapeHTML(ic3.caption(g))+"</option>"})}if(e){e.append(d)}else{this.$input().html(d)}};a.prototype.refreshToForm=function(){var c=this._beanGutsProp.val();
if(c&&c.uniqueName){this.$input().val(c.uniqueName)}};a.prototype.refreshEntities=function(c){this._cleanUpError();this.entities=c;this._setOptions()};a.prototype.valueFromForm=function(){var c=this.$input().val();var d=this.entities.getEntityByUniqueName(c);
return d};return a}(juiForm_FieldRenderer));var juiForm_oneOfManyEntitiesTreeRenderer=(function(a){__extends(b,a);function b(c,d,f,e){a.call(this,c,d,f,e);this.classID="juiForm_oneOfManyEntitiesTreeRenderer"}b.prototype.canBeResized=function(){return true};
b.prototype.onResizeStop=function(e){var d=this.$row().find("ul.dynatree-container");var c=d.height();d.height(c+e)};b.prototype.canvas=function(d,c){this.entities=c.entities;d.append('<div class="ic3-form-tree"><select class="ic3-input" style="display:none"></select> </div>')
};b.prototype.afterDOMRendering=function(f,e){var d=this;this.$tree=e.find("#"+this.rowId+" .ic3-form-tree");this.$tree.dynatree({debugLevel:0,onActivate:function(g){d.$input().change()},onDblClick:function(h){try{d.onTreeDblClick_(h)}catch(g){}return false
}});var c=this.$row().find("ul.dynatree-container");c.height("250px");this.populateTree_()};b.prototype.onTreeDblClick_=function(d){if(d.data.isFolder){return}var c=this.fieldDescriptor();if(c.onDblClick){c.onDblClick()}};b.prototype.populateTree_=function(){var c=this.$tree.dynatree("getRoot");
c.removeChildren();c.addChild(this.createDynaTreeNodes_(this.entities));var d=this._fieldDescriptor;var g=d.entitiesVisiblePath;if(g&&$.isArray(g)&&g.length>0){var f=this.lookupFirstExistingNode_(c,this.entities,g);if(f){if(!f.data.isFolder){var e=f.getParent();
if(e){e.activate();e.expand(true);e.focus()}}}}};b.prototype.lookupFirstExistingNode_=function(c,h,g){for(var e=g.length-1;e>-1;e--){var d=g[e];var i=h.lookupByNameOrUniqueName(d.uniqueName);if(i!==null&&!$.isArray(i)){var f=this.lookupNode_(c,i);if(f){return f
}}}return null};b.prototype.lookupNode_=function(d,c){var e=null;d.visit(function(f){if(f.data.ic3idx==c){e=f;return false}return true},false);return e};b.prototype.createDynaTreeNodes_=function(j){var i={};var f=[];for(var d=0;d<j.size();d++){var e=j.getEntityAt(d);
var g={ic3idx:d,title:e.name,isFolder:e.type==viz.MdxEntityDataType.REPORT_FOLDER,unselectable:e.type==viz.MdxEntityDataType.REPORT_FOLDER};var h=e.parentRowId;if(h>-1){var c=i[h];if(c){if(!c.children){c.children=[]}c.children.push(g);i[d]=g}else{alert(ic3.babylon.localize("juiFormRenderers.error.missingNode"))
}}else{i[d]=g;f.push(g)}}return f};b.prototype.selectedRowIds_=function(){var d=this.$tree.dynatree("getRoot");var c=d.tree;var e=c.getActiveNode();return e?[e.data.ic3idx]:[]};b.prototype.refreshToForm=function(){var e=this._beanGutsProp.val();if(e&&e.uniqueName){var f=this.entities.getEntityRowIdByNameOrUniqueName(e.uniqueName);
if(f!=null){var d=this.$tree.dynatree("getRoot");var c=d.tree;c.visit(function(g){if(g.data.ic3idx==f){g.activate();g.makeVisible();return false}return true},true)}}};b.prototype.refreshEntities=function(c){this._cleanUpError();this.entities=c;this.populateTree_()
};b.prototype.valueFromForm=function(){var c=this.selectedRowIds_();var d=this.entities.getEntitiesAt(c);if(d&&d.length==1){return d[0]}};return b}(juiForm_FieldRenderer));var juiForm_manyOfManyEntitiesRenderer=(function(a){__extends(b,a);function b(c,d,f,e){a.call(this,c,d,f,e);
this.classID="juiForm_manyOfManyEntitiesRenderer"}b.prototype.canvas=function(d,c){d.append("<div class='ic3-items ic3-input'>");var e=c.entities;if(e){this.entities=c.entities;e.forEach(function(g,f){d.append("<div class='ic3-item'>");d.append("<input type='checkbox' value='"+ic3.escapeAttribute(g.uniqueName)+"' name='"+ic3.escapeAttribute(g.name)+"'</input>");
d.append("<span title='"+ic3.escapeAttribute(g.uniqueName)+"'>"+ic3.escapeHTML(g.name)+"</span>");d.append("</div>")})}d.append("</div>")};b.prototype.refreshToForm=function(){var c=this._beanGutsProp.val();function d(e){return c&&ic3.arrayLookup(c,"uniqueName",e)
}this.$form.find("#"+this.rowId+" div.ic3-item input").each(function(){var e=$(this).val();if(d(e)){$(this).prop("checked",true)}else{$(this).prop("checked",false)}})};b.prototype.valueFromForm=function(){var d=this.entities;if(!d){return null}var c=[];this.$form.find("#"+this.rowId+" div.ic3-item input:checked").each(function(){var e=$(this).val();
var f=d.getEntityByUniqueName(e);if(f){c.push(f)}});return c.length>0?c:null};return b}(juiForm_FieldRenderer));var juiForm_MessageRenderer=(function(b){__extends(a,b);function a(c,d,f,e){b.call(this,c,d,f,e);this.classID="juiForm_messageRenderer"}a.prototype.canvas=function(d,c){var e=c.style?"style='"+c.style+"'":"";
d.append("<span "+e+">"+c.message+"<span/>")};return a}(juiForm_FieldRenderer));var juiForm_MdxExpressionRenderer=(function(a){__extends(b,a);function b(c,d,f,e){a.call(this,c,d,f,e);this.classID="juiForm_MdxExpressionRenderer"}b.prototype.handleEditButtonClick=function(d,c){juiForm_openMdxExpressionEditor(d,c)
};return b}(juiForm_TextAreaWithEditorRenderer));var juiForm_StyleRenderer=(function(b){__extends(a,b);function a(c,d,f,e){b.call(this,c,d,f,e);this.classID="juiForm_StyleRenderer"}a.prototype.updateDefaults=function(e){var d=this,g=d._beanGutsProp.val(),c=d.fieldDescriptor().adapter,f="";
$.each(e,function(h,l){var k=l.fieldDescriptor().name;var j=d.$form.find("#"+l.rowId+" .ic3-form-default-icon").get(0);if(f[k]!==undefined){var i=typeof f[k]=="string"?f[k]:JSON.stringify(f[k]);$(j).html("<div title='"+i+"'></div>").click(function(){l.setWidgetValue(i)
})}else{$(j).empty()}})};return a}(juiForm_DefaultRenderer));var juiForm_GizmoRenderer=(function(a){__extends(b,a);function b(c,d,f,e){a.call(this,c,d,f,e);this.classID="juiForm_GizmoRenderer"}b.prototype.canvas=function(d,c){d.append("<div class='ic3-autocomplete-container' contenteditable='false'><div class='ic3-input' contenteditable='true'></div><span class='ic3-param-info'></span></div>")
};b.prototype.afterDOMRendering=function(e,d){var c=this.$form.find("#"+this.rowId+" .ic3-autocomplete-container");var g=this.$input();var f=function(){var h=g.val();if(h=="<br>"||h==""){g.css("width","5px")}else{g.css("width","auto")}};c.on("click",function(){f();
g.focus()});g.keyup(f);g.change(f);g.focusout(function(){f()});g.keypress(function(h){return h.which!=13})};b.prototype.$paramInfoSpan=function(){return this.$form.find("#"+this.rowId+" .ic3-param-info")};b.prototype.isCollapsible=function(){return true};b.prototype.valueFromForm=function(){return this.$input().val().replace(/(<([^>]+)>)/ig,"")
};b.prototype.refreshToForm=function(){var c=this._beanGutsProp.val();if(c){this.$input().val(c.type)}};b.prototype.setParamInfo=function(){var d=this;var f=this._beanGutsProp.bean();var g=f?f[this._fieldDescriptor.name]:undefined;var e="";if(g&&g.options){e+=" (";
var c=$.map(g.options,function(i,h){return[h]});$.each(g.options,function(h,i){e+=ic3.babylon.localize(h)+":"+d._getEllipsis(i,15);c[c.length-1]==h||(e+=", ")});e+=")"}this._setParamInfoValue(d._getEllipsis(e,100))};b.prototype.clearParamInfo=function(){this._setParamInfoValue("")
};b.prototype._setParamInfoValue=function(c){this.$paramInfoSpan().text(c);this.$paramInfoSpan().attr("title",c)};b.prototype._getEllipsis=function(d,c){return(d&&d.length>c)?d.substr(0,c-1)+"...":d};return b}(juiForm_DefaultRenderer));var juiForm_FieldRendererType={DEFAULT:"default",DEFAULT_APPENDING:"default-appending",MDX:"mdx",HTML:"html",JSON:"json",JAVASCRIPT:"javascript",EXTRA_OPTIONS:"extra-options",JAVASCRIPT_FUNCTION:"javascript-function",CSS:"css",BOOLEAN:"boolean",BOOLEAN_TEXT:"textboolean",TEXTAREA:"textarea",PERMALINK:"permalink",SEPARATOR:"separator",TEXT:"text",MESSAGE:"message",INTEGER:"integer",NUMERIC:"numeric",COLOR:"color",ONE_OF_MANY_ENTITIES:"oneOfManyEntities",ONE_OF_MANY_ENTITIES_TREE:"oneOfManyEntitiesTree",MANY_OF_MANY_ENTITIES:"manyOfManyEntities",CSS_CLASS:"cssClass",CSS_STYLE:"cssStyle",EVENT_DEFINITION:"eventDefinition",EVENT_NAME:"eventName",ARRAY:"array",OBJECT:"object",GIZMO:"gizmo",MDX_EXPRESSION:"mdxExpression",DO_EVENT:"doEvent",REPORT_PARAM_VALUE:"reportParamValue",STYLE:"style"};
var juiForm_FieldRendererFactories={};juiForm_FieldRendererFactories[juiForm_FieldRendererType.DEFAULT]=function(a,b,d,c){return new juiForm_DefaultRenderer(a,b,d,c)};juiForm_FieldRendererFactories[juiForm_FieldRendererType.DEFAULT_APPENDING]=function(a,b,d,c){return new juiForm_DefaultAppendingRenderer(a,b,d,c)
};juiForm_FieldRendererFactories[juiForm_FieldRendererType.REPORT_PARAM_VALUE]=function(a,b,d,c){return new juiForm_ReportParamValueRenderer(a,b,d,c)};juiForm_FieldRendererFactories[juiForm_FieldRendererType.DO_EVENT]=function(a,b,d,c){return new juiForm_DoEventRenderer(a,b,d,c)
};juiForm_FieldRendererFactories[juiForm_FieldRendererType.EVENT_NAME]=function(a,b,d,c){return new juiForm_EventNameRenderer(a,b,d,c)};juiForm_FieldRendererFactories[juiForm_FieldRendererType.MDX]=function(a,b,d,c){return new juiForm_MdxRenderer(a,b,d,c)};
juiForm_FieldRendererFactories[juiForm_FieldRendererType.HTML]=function(a,b,d,c){return new juiForm_HtmlRenderer(a,b,d,c)};juiForm_FieldRendererFactories[juiForm_FieldRendererType.JSON]=function(a,b,d,c){return new juiForm_JsonRenderer(a,b,d,c)};juiForm_FieldRendererFactories[juiForm_FieldRendererType.JAVASCRIPT]=function(a,b,d,c){return new juiForm_JavascriptRenderer(a,b,d,c)
};juiForm_FieldRendererFactories[juiForm_FieldRendererType.JAVASCRIPT_FUNCTION]=function(a,b,d,c){return new juiForm_JavascriptPreviewRenderer(a,b,d,c,true)};juiForm_FieldRendererFactories[juiForm_FieldRendererType.EXTRA_OPTIONS]=function(a,b,d,c){return new juiForm_JavascriptPreviewRenderer(a,b,d,c,false)
};juiForm_FieldRendererFactories[juiForm_FieldRendererType.CSS]=function(a,b,d,c){return new juiForm_CssRenderer(a,b,d,c)};juiForm_FieldRendererFactories[juiForm_FieldRendererType.BOOLEAN]=function(a,b,d,c){return new juiForm_BooleanRenderer(a,b,d,c)};juiForm_FieldRendererFactories[juiForm_FieldRendererType.BOOLEAN_TEXT]=juiForm_FieldRendererFactories[juiForm_FieldRendererType.DEFAULT];
juiForm_FieldRendererFactories[juiForm_FieldRendererType.PERMALINK]=function(a,b,d,c){return new juiForm_PermaLinkRenderer(a,b,d,c)};juiForm_FieldRendererFactories[juiForm_FieldRendererType.TEXTAREA]=function(a,b,d,c){return new juiForm_TextAreaRenderer(a,b,d,c)
};juiForm_FieldRendererFactories[juiForm_FieldRendererType.ONE_OF_MANY_ENTITIES]=function(a,b,d,c){return new juiForm_oneOfManyEntitiesRenderer(a,b,d,c)};juiForm_FieldRendererFactories[juiForm_FieldRendererType.ONE_OF_MANY_ENTITIES_TREE]=function(a,b,d,c){return new juiForm_oneOfManyEntitiesTreeRenderer(a,b,d,c)
};juiForm_FieldRendererFactories[juiForm_FieldRendererType.MANY_OF_MANY_ENTITIES]=function(a,b,d,c){return new juiForm_manyOfManyEntitiesRenderer(a,b,d,c)};juiForm_FieldRendererFactories[juiForm_FieldRendererType.MESSAGE]=function(a,b,d,c){return new juiForm_MessageRenderer(a,b,d,c)
};juiForm_FieldRendererFactories[juiForm_FieldRendererType.GIZMO]=function(a,b,d,c){return new juiForm_GizmoRenderer(a,b,d,c)};juiForm_FieldRendererFactories[juiForm_FieldRendererType.MDX_EXPRESSION]=function(a,b,d,c){return new juiForm_MdxExpressionRenderer(a,b,d,c)
};juiForm_FieldRendererFactories[juiForm_FieldRendererType.STYLE]=function(a,b,d,c){return new juiForm_StyleRenderer(a,b,d,c)};var ic3;(function(b){function a(e,h,d,g,i){var c={value_:g};var f={guts:function(){return{value:c.value_}},gutsMeta:function(){return[{name:"value",label:d,type:juiForm_FieldRendererType.TEXT,canHaveEvent:false,validator:function(j){return(b.isEmptyString(j))?b.babylon.localize("juiMessages.mandatory"):null
}}]},refreshHtmlFromGuts:function(j){c.value_=j.value}};b.dialogForGuts(e,h,f,{ic3okCallback:function(){i(c.value_)}})}b.prompt=a})(ic3||(ic3={}));(function(a){a.widget("ic3.ic3autocomplete",{options:{events:[],items:[]},_create:function(){var l=this.options.events;
var g=this.options.renderer;var e=g.$row();var d=g.fieldDescriptor();var m=this;m._resetActiveCount();if(d.type===juiForm_FieldRendererType.GIZMO&&d.gizmoType){var b=ic3.GizmoFactoryPark.getAvailable(d.gizmoType);if(d.addEmptyHint){b.unshift({value:"",caption:"none"})
}}else{if(typeof d.hintsValues==="function"){b=d.hintsValues()}else{b=d.hintsValues}if(d.type===juiForm_FieldRendererType.BOOLEAN_TEXT&&b==null){b=["yes","no"]}}var c=b&&b.length>0;var n=l.length>0&&m._canHaveEvents(g);if(c||n){var j=c?"ui-icon-transferthick-e-w":"ui-icon-transfer-e-w";
var i="ui-icon "+j;var h=e.find(".ic3-input");m._addInputClass(h);h.before('<div class="ic3-form-helper '+i+'"></div>');var k=h.parent().find(".ic3-form-helper:not(.ic3-form-edit-js)");k.one("click",function(){m._initialize(h,k)});var f=m.options.items=[];if(c&&f.length>0){f.push({caption:"--",value:"--"})
}ic3.each(b,function(o,p){if(p.caption!=null&&p.value!=null){f.push({caption:p.caption,value:p.value,type:"hint"})}else{if(typeof p==="string"){f.push({caption:p,value:p,type:"hint"})}else{f.push({caption:p.name,value:p.name,type:"hint",setter:p.setter})}}});
if(n&&f.length>0){f.push({caption:"--",value:"--",disabled:true})}if(n){ic3.each(l,function(o,p){f.push({caption:g.eventHintCaption(p),value:g.eventHintValue(p),type:"event"})})}}},_initialize:function(d,c){d.autocomplete({source:this.options.items,minLength:0,appendTo:d.parent(),select:a.proxy(this._select,this),open:function(){var e=a(d.parent(".ic3-autocomplete-container"));
if(e.length>0){e.find(".ui-menu").width(e.width())}}});if(d.data("uiAutocomplete")){d.data("uiAutocomplete")._renderItem=function(e,f){return a("<li>").attr("data-value",f.value).addClass(f.disabled?"ui-state-disabled":"").attr("style",f.disabled?"pointer-events: none;":"").append(a("<a>").text(f.caption)).appendTo(e)
}}var b=function(){d.trigger("focus");d.autocomplete("search","")};b();c.on("click",b)},_select:function(c,e){var d=this.options.renderer;var b=e.item;this._resetActiveCount();if(b&&b.type=="hint"){if(d.canSetWidgetValue()){if(b.setter){b.setter(a.proxy(d.setWidgetValue,d))
}else{d.setWidgetValue(b.value)}}}else{if(b&&b.type=="event"&&c.key!="Enter"){if(d.canSetWidgetValue()){d.appendWidgetValue((b.value))}}}return false},_resetActiveCount:function(){var b=this.options.renderer;b.activeCount=0},_canHaveEvents:function(c){var b=c.fieldDescriptor();
if(typeof b.canHaveEvent!=="undefined"){return b.canHaveEvent}return b.readonly!==true&&c.canHaveEventHints()},_addInputClass:function(b){if(b.prop("tagName")==="TEXTAREA"){b.addClass("ic3-javascript-input")}else{b.addClass("ic3-autocomplete-input")}}})})(jQuery);
(function(b){var a=b.fn.val;b.fn.val=function(){if(b(this).is("*[contenteditable=true]")){return b.fn.html.apply(this,arguments)}return a.apply(this,arguments)}})(jQuery);(function(a){a.widget("ic3.calculatedMembersAccordion",{options:{},_create:function(){this.widgetEventPrefix="ic3";
this.$div=this.element;var n=this;var o=this.options;var c=this.context=this.options.context;var b=this.$editor=o.$editor;var e=this.$selection=b.$selection;var j=this.query=o.query;var h=this.cubeName=o.query.cubeName();var k=this.hierarchy=o.hierarchy;var l=this.isMeasures()?"Measures":"Members";
this.$div.append("<h3 class='ic3-calc-members-accordion-header'>Calculated "+l+" (Query)</h3><div class='ic3-calc-members-accordion'>   <div class='ic3-toolbar'>       <div class='ic3-create'><span class='ic3-caption'>new</span></div>   </div>   <div class='ic3-calc-members'>       <ul>       </ul>   </div></div>");
var d=this.$payload=this.$div.find(".ic3-calc-members-accordion");d.find(".ic3-create").click(function(){n._createCalcMember()});var i=this.allCalcMembers=[];ic3.each(j.calcMembers(k.uniqueName()),function(p,q){i.push(q)});var g=this.allCalcMembersUNames={};
a.each(i,function(p,q){g[q.uniqueName]=q});var f="";a.each(i,function(p,s){var r=n._createMdxEntity(s);var q=b.$selection.hierarchySelection("isMdxEntitySelected",r.uniqueName)?"ic3-selected":null;f+=e.hierarchySelection("createMdxEntityMarkup",h,k,r,q,n._extraHtml())
});var m=this.$calcMembers=d.find(".ic3-calc-members ul");m.html(f);m.find("li").draggable({connectToSortable:".ic3-hierarchy-selection ul",containment:"#"+o.$dialogContainer.attr("id"),revert:"invalid",forceHelperSize:false,appendTo:"#"+o.$dialogContainer.attr("id")+" .ic3-panes",helper:ic3.helperClone,scroll:false});
this._bindActions()},isMeasures:function(){return this.hierarchy.isMeasures()},_extraHtml:function(){return"<span class='ic3-delete'>delete</span><span class='ic3-edit'>edit</span>"},_bindActions:function(){var b=this;var c=this.$calcMembers;c.find(".ic3-edit").unbind();
c.find(".ic3-edit").click(function(){var d=a(this).parent().parent();b._editCalcMember(d)});c.find(".ic3-delete").unbind();c.find(".ic3-delete").click(function(){var d=a(this).parent().parent();b._deleteCalcMember(d)})},_createMdxEntity:function(b){return{name:b.name,uniqueName:b.uniqueName,type:vizMdxEntityDataType.MEASURE,subType:vizMdxEntityDataSubType.CALCULATED}
},_createCalcMember:function(){var b=this;this._doEditCalcMember(null,function(c){b._doCreateCalcMember(c)})},_fixUniqueName:function(c){var b;if(this.isMeasures()){b="[Measures].["+ic3.escapeMdxName(c.name)+"]"}else{b=this.hierarchy.uniqueName()+"."+c.name
}return{uniqueName:b,name:c.name,formula:c.formula,type:vizMdxEntityDataType.MEASURE,subType:vizMdxEntityDataSubType.CALCULATED}},_doCreateCalcMember:function(b){var d=this._fixUniqueName(b);this._registerCalcMember(d);var e=this.$selection;var i=this.$calcMembers;
var g=this.cubeName;var h=this.hierarchy;var c=this._createMdxEntity(d);var f=e.hierarchySelection("createMdxEntityMarkup",g,h,c,null,this._extraHtml());i.append(f);var j=this.options;i.find("li").draggable({connectToSortable:".ic3-hierarchy-selection ul",containment:"#"+j.$dialogContainer.attr("id"),revert:"invalid",forceHelperSize:false,appendTo:"#"+j.$dialogContainer.attr("id")+" .ic3-panes",helper:ic3.helperClone,scroll:false});
this._bindActions()},_editCalcMember:function(e){var b=e.attr("ic3uniqueName");var d=this.allCalcMembersUNames[b];if(d){var c=this;this._doEditCalcMember(d,function(f){c._registerCalcMember(c._fixUniqueName(f))})}},_doEditCalcMember:function(e,g){var b=this;
var f=!e?{}:a.extend({},e);if(ic3.isEmptyString(f.formula)){f.formula=" "}var c=[{name:"name",label:"Name",type:juiForm_FieldRendererType.TEXT,tooltip:(!this.hierarchy.isMeasures())?"MDX unique name without hierarchy name (e.g., [2012].[Dec vs. Jan])":"",mandatory:true,readonly:(e!=null)},{name:"formula",label:"Formula",tooltip:"F11 - fullscreen, CTR+SPACE - autocompletion, dot '.' - continue autocompletion, autocompletion on '@' retrieves events",type:juiForm_FieldRendererType.MDX,eventHint:true,completion:{contextType:"cube",contextValue:this.cubeName,emptyToken:"measures"},mandatory:true}];
var d={guts:function(){return f},gutsMeta:function(){return c},refreshHtmlFromGuts:function(h){f=h}};ic3.dialogForGuts(this.context,"Calculated "+(this.hierarchy.isMeasures()?"Measure":"Member"),d,{wrappingClass:"ic3-h-selection-editor",ic3okCallback:function(){g&&g(f)
}})},_registerCalcMember:function(d){var e=false;var c=this.allCalcMembers;for(var b=0;b<c.length;b++){if(c[b].uniqueName==d.uniqueName){c[b]=d;e=true}}if(!e){c.push(d)}this.allCalcMembersUNames[d.uniqueName]=d},_deleteCalcMember:function(f){var b=f.attr("ic3uniqueName");
var d=this.allCalcMembers;for(var c=0;c<d.length;c++){var e=d[c];if(e.uniqueName==b){d.splice(c,1)}}delete this.allCalcMembersUNames[b];f.remove();this.$selection.hierarchySelection("removeMdxEntity",null,b)},validate:function(){return true},applyChanges:function(){this.query.calcMembers(this.hierarchy.uniqueName(),this.allCalcMembers)
},destroy:function(){this.$div.empty();a.Widget.prototype.destroy.call(this)}})})(jQuery);(function(a){a.widget("ic3.ic3dialog",{options:{wrappingClass:""},_create:function(){var b=this.options;var c=b.open;b.open=function(g,h){a(".ui-widget-overlay").addClass("ic3-jui-app").css("zIndex",ic3.zIndexConst.dialogOverlay);
a(".ui-dialog").css("zIndex",ic3.zIndexConst.dialog);c&&c(g,h)};var e=b.autoOpen!==false;b.autoOpen=false;var d=b.wrappingClass||"";delete b.wrappingClass;var f=a("<div class='ic3-jui-app "+d+"'></div>").uniqueId();this.element.wrap(f);b.appendTo="#"+f.attr("id");
if(a.isArray(b.position)){b.position={my:"left top",at:"left+"+b.position[0]+" top+"+b.position[1]}}this.element.dialog(b);if(e){this.element.dialog("open")}},close:function(b){this.element.dialog("close")},destroy:function(){var b=this.element.parent(".ui-dialog");
b.hide().unwrap();a.Widget.prototype.destroy.call(this)}});a.widget("ic3.ic3dialogForReports",{options:{wrappingClass:""},_create:function(){var b=this.options;var c=b.open;b.open=function(g,h){a(".ui-widget-overlay").css("zIndex",ic3.zIndexConst.dialogOverlay);
a(".ui-dialog").css("zIndex",ic3.zIndexConst.dialog);c&&c(g,h)};var e=b.autoOpen!==false;b.autoOpen=false;var d=b.wrappingClass||"";delete b.wrappingClass;var f=a("<div class='"+d+"'></div>").uniqueId();this.element.wrap(f);b.appendTo="#"+f.attr("id");if(a.isArray(b.position)){b.position={my:"left top",at:"left+"+b.position[0]+" top+"+b.position[1]}
}this.element.dialog(b);if(e){this.element.dialog("open")}},close:function(b){this.element.dialog("close")},destroy:function(){var b=this.element.parent(".ui-dialog");b.hide().unwrap();a.Widget.prototype.destroy.call(this)}})})(jQuery);(function(a){a.widget("ic3.eventsAccordion",{options:{},_create:function(){this.widgetEventPrefix="ic3";
this.$div=this.element;var l=this;var m=this.options;var c=this.context=this.options.context;var b=this.$editor=m.$editor;var f=this.$selection=b.$selection;var j=this.hierarchy=m.hierarchy;this.$div.append("<h3 class='ic3-events-accordion-header'>Events</h3><div class='ic3-events-accordion'></div>");
var e=this.$payload=this.$div.find(".ic3-events-accordion");var h=m.query.cubeName();var i=c.gviConfiguration().schemaInfo();var d=i.levels(h,j.uniqueName());var k=c.eventsProducedInReport(true);var g="<ul>";a.each(k,function(n,q){var p={name:q.name,uniqueName:q.lexeme,type:vizMdxEntityDataType.EVENT};
var o=b.$selection.hierarchySelection("isMdxEntitySelected",p.uniqueName)?"ic3-selected":null;g+=f.hierarchySelection("createMdxEntityMarkup",h,j,p,o)});g+="</ul>";e.html(g);e.find("li").draggable({connectToSortable:".ic3-hierarchy-selection ul",containment:"#"+m.$dialogContainer.attr("id"),revert:"invalid",forceHelperSize:false,appendTo:"#"+m.$dialogContainer.attr("id")+" .ic3-panes",helper:ic3.helperClone,scroll:false})
},destroy:function(){this.$div.empty();a.Widget.prototype.destroy.call(this)}})})(jQuery);(function(a){a.widget("ic3.form",{options:{validateOnChange:false,eventTipsToInputs:true,strictTypes:false},_init:function(){},_create:function(){var i=this;this.widgetEventPrefix="ic3";
var f=this.options.formType?this.options.formType+"-":"";this.formRowPrefix="ic3-"+f+"form-row-";this.renderers={};a.each(this.options.groups,function(l,k){k.values=a.extend(true,{},k.values)});var g=this.formId=ic3.uniqueId("ic3-form");var d="<form class='ic3-form' id='"+g+"'></form>";
this.element.html(d);var j=this.$form=a("#"+g);var c=i.options.groups;var e=new viz.StringBuilder();e.append("<table cellpadding='0' cellspacing='0'>");var h=this._appendEntityFields(e,c);e.append("</table>");j.html(e.asString());if(h.advanced){this._addAdvancedGroup()
}if(h.data){this._addDataGroup()}var b=this._availableEvents();a.each(this.renderers,function(k,l){i._rowAddDecoration(l,b)});this._refreshFormFromFields(true,true);a.each(this.renderers,function(k,l){i._rowAddChangeHandler(l)});this.resizeStartHeight_=-1;this.resizeRenderers_=[];
a.each(this.renderers,function(k,l){if(l.canBeResized()){i.resizeRenderers_.push(l)}})},_addAdvancedGroup:function(){this._addGroup("advanced")},_addDataGroup:function(){this._addGroup("data")},_addGroup:function(e){var c=this.$form.find(".ic3-form-"+e+"-row").first();
var d=ic3.uniqueId(this.formRowPrefix);var b=a("<tr id="+d+"></tr>").html('<td class="ic3-form-colexp ic3-'+e+'-group-colexp"><span class="ui-icon"></span></td><td class="ic3-'+e+'-group" colspan="4"><span>Group name</span>').click(a.proxy(this._handleShowGroup,this,e));
b.insertBefore(c);this._handleShowGroup(e)},_handleShowGroup:function(f){var c=this._getGroupRows(f);var e=this.$form.find(".ic3-"+f+"-group-colexp span");var d=!e.hasClass("ic3-form-expand");var b=this;c.each(function(){var g=a(this);if(d){b._hideGroupRow(g)
}else{b._showGroupRow(g)}});d?e.addClass("ic3-form-expand"):e.removeClass("ic3-form-expand")},_showGroupRow:function(b){b.show();var c=!a(b.find("span")[0]).hasClass("ic3-form-expand");var d=b.next(".ic3-form-item-child");while(c&&d.length){d.show();d=d.next(".ic3-form-item-child")
}},_hideGroupRow:function(b){b.hide();var c=b.next(".ic3-form-item-child");while(c.length){c.hide();c=c.next(".ic3-form-item-child")}},_isChildRow:function(b){return b.hasClass("ic3-form-item-child")},_getGroupRows:function(b){return this.$form.find("tr.ic3-form-"+b+"-row").not(".ic3-codemirror-row").not(".ic3-form-item-child")
},onDialogOpen:function(){a.each(this.renderers,function(b,c){c.onDialogOpen()})},onDialogResizeStop:function(b){a.each(this.resizeRenderers_,function(c,d){d.onResizeStop(b)})},onShow:function(){a.each(this.resizeRenderers_,function(b,c){c.onShow()})},_rowAddDecoration:function(c,b){this._rowAddDepends(c);
this._rowAddCollapse(c);c.afterDOMRendering(this.options.context,this.$form);this._addAutocomplete(c,b)},_rowAddDepends:function(g){var c=this;var e=g.fieldDescriptor();if(e.dependsOn&&e.dependsOn.depends){var d=e.dependsOn.depends;var b=c._formFieldRenderer(d);
var f=b.beanGutsProp().val();if(f){e.dependsOn.onChange(g,f)}b.$input().change(function(){var h=b.valueFromForm();if(h===""){b.activeCount=0}e.dependsOn.onChange(g,h)})}},_rowAddChangeHandler:function(d){var b=this;var c;d.$input().change(function(h){if(typeof b.options.onChange__==="function"){b.options.onChange__()
}if(!b.refreshingFormFromFields){b._trigger("change");var g=d.refreshToBean();if(g){b._refreshArrays(d);var f=d.classID=="juiForm_StyleRenderer";b._refreshFormFromFields(false,f);if(b.options.validateOnChange){b.validate(true)}if(c&&c.keyCode==9){var i=d.nextVisibleInput();
i.focus();c=null}}}}).bind("keydown",function(f){c=f})},_rowAddCollapse:function(g,h){var j=this;var i=g.$row().find(".ic3-form-colexp");if(g.isCollapsible()){var c=j._isFieldDescriptorGizmo(g._fieldDescriptor);if(c){i.html("<span class='ui-icon ic3-form-none' />")
}else{i.html("<span class='ui-icon ic3-form-expand' />")}g.forEachChild(function(k,l){l.$row().hide()});var b=function(){if(!c||(c&&g.activeCount>0)){var k=a(this).find(".ic3-form-expand").length==1;a(this).find("span").toggleClass("ic3-form-expand");g.expanded=k;
g.forEachChild(function(m,p){var l=p.$row();var o=p.parent();var n=j.isActive(p);if(k&&n){if(o==g||o.expanded){l.show()}else{l.hide()}}else{l.hide()}});if(c){k?g.clearParamInfo():g.setParamInfo()}}};i.unbind().click(b);if(c){g.$row().unbind("gizmoChanged").on("gizmoChanged",function(){if(a(this).find(".ic3-form-expand").length==1&&a(this).is(":visible")){i.trigger("click")
}})}}else{i.html("<span class='ui-icon ic3-form-none'></span>")}if(!h){var e=g.hasChildren();if(e){g.$row().addClass("ic3-form-item-parent")}var d=g.depth();if(d>0){g.$row().addClass("ic3-form-item-child");var f=new Array(d+1).join("&nbsp;&nbsp;");g.$row().find(".ic3-form-label span.ic3-form-label-caption").parent().prepend("<span>"+f+"</span>")
}}},_availableEvents:function(){return this.options.eventTipsToInputs?this.options.context.eventsProducedInReport(true):[]},_addAutocomplete:function(c,b){b=c.overrideEventHints(b);var d=c.$row().find(".ic3-input");d.ic3autocomplete({events:b,renderer:c})},_editFieldValue:function(c,g){var e={value:g.valueFromForm()};
var f={guts:function(){return e},gutsMeta:function(){return[{name:"value",label:"Value",type:juiForm_FieldRendererType.JAVASCRIPT,canHaveEvent:false}]},refreshHtmlFromGuts:function(h){e=h}};var d=this;var b=ic3.babylon.localizeFormFieldLabel(c.name,c.path,c.tag);
ic3.dialogForGuts(d.options.context,b,f,{ic3okCallback:function(){if(g.canSetWidgetValue()){g.setWidgetValue(e.value)}}})},_refreshArrays:function(k){if(k.isArray()){return this._refreshArrayOnChange(k)}var g=k.beanGutsProp().ascendantItemArray();if(g==null){return null
}var p=this;if(g.isNew){delete g.isNew;var n=g.renderer;var l=n.$row().find(".ic3-form-label span.ic3-form-label-caption");var o=ic3.babylon.localizeFormFieldLabel("newFormField",null,"New");l.html(l.html().replace(new RegExp(o+"$"),""+g.idx));var f=g.parent;
var b=f.renderer.fieldDescriptor().meta;var i=new viz.StringBuilder();var m=p.rowIndex;var h=p._createFieldDescriptorForArray(b,"New");var q=f.createArraySetter(h,-1);p.rowIndex=p._createFormRowCanvas(i,h,q,p.rowIndex);var j=i.asString();n.lastChildOrThis().$row().after(j);
var d=p._availableEvents(p);var c=this.renderers[m];c.forEachChild(function(r,s){p._rowAddDecoration(s,d);p._rowAddChangeHandler(s);if(r>=0){s.$row().hide()}},true)}else{var e=this._cleanUpObject(g.val());if(e!=null){return}k=g.parent.renderer;this._refreshArrayOnChange(k)
}},_refreshArrayOnChange:function(i){var j=this;i.forEachChild(function(l,m){m.$row().remove();ic3.arrayRemove(j.renderers,m)});i.removeChildren();var e=new viz.StringBuilder();var g=i.beanGutsProp();var c=i.fieldDescriptor().meta;var b=g.val();ic3.arrayRemoveNulls(b);
ic3.each(b,function(l,o){var m=j._createFieldDescriptorForArray(c,l);var n=g.createArraySetter(m,l);j.rowIndex=j._createFormRowCanvas(e,m,n,j.rowIndex)});var f=j._createFieldDescriptorForArray(c,"New");var k=g.createArraySetter(f,-1);j.rowIndex=j._createFormRowCanvas(e,f,k,j.rowIndex);
var h=e.asString();i.$row().after(h);var d=j._availableEvents(j);i.forEachChild(function(l,m){j._rowAddDecoration(m,d);j._rowAddChangeHandler(m)})},_createFieldDescriptorForArray:function(d,c){var b=a.extend(true,{},d);b.name=b.name+" "+c;var e=c;if(e=="New"){e=ic3.babylon.localizeFormFieldLabel("newFormField",null,"New")
}var f=ic3.babylon.localizeFormFieldLabel(d.name,d.path,d.tag);b.label=f+" "+e;return b},_refreshFormFromFields:function(d,c){var b=this;a.each(this.options.groups,function(f,e){b._cleanUpObject(e.values)});try{this.refreshingFormFromFields=true;a.each(this.renderers,function(e,g){g.onBeforeRefreshToForm(b);
g.refreshToForm();if(c&&g.updateDefaults){g.updateDefaults(b.renderers)}var f=d||g.$row().find(".ic3-form-expand").length==1;if(f&&g.setParamInfo){g.setParamInfo()}else{g.clearParamInfo&&g.clearParamInfo()}})}finally{this.refreshingFormFromFields=false}},_allRenderersAreValid:function(){var b=true;
a.each(this.renderers,function(c,d){b=b&&d.isValid()});return b},_refreshFieldsFromForm:function(){var b=this;var c=true;b.$form.find("td.ic3-on-error").removeClass("ic3-on-error");a.each(b.renderers,function(d,e){if(b.isActive(e)){c=e.refreshToBean()&&c}});
return c},_appendEntityFields:function(e,b){var d=this;var g=0;var f=this.options.strictTypes;var c={advanced:false,data:false};a.each(b,function(i,h){a.each(h.meta,function(l,j){if(j.visible!==false){if(j.type===juiForm_FieldRendererType.SEPARATOR){g=d._createSeparator(e,g)
}else{j.styleField&&(j.adapter=h.bean);var k=d._createBeanSetter(h.values,j,f);g=d._createFormRowCanvas(e,j,k,g);c.advanced=c.advanced||j.advanced;c.data=c.data||j.dataField}}})});this.rowIndex=g;return c},_createSeparator:function(b,d){var c=this.formRowPrefix+d;
b.append("<tr id='"+c+"'>");b.append("<td colspan='6'>");b.append("<hr class='ic3-form-separator'>");b.append("</td>");b.append("</tr>");b.append("</tr>");return ++d},_createFormRowCanvas:function(d,b,c,e){if(this._isFieldDescriptorObject(b)){e=this._createFormRowCanvasForObject(d,b,c,e)
}else{if(ic3._isFieldDescriptorArray(b)){e=this._createFormRowCanvasForArray(d,b,c,e)}else{if(this._isFieldDescriptorGizmo(b)){e=this._createFormRowCanvasForGizmo(d,b,c,e)}else{e=this._createSimpleFormRowCanvas(d,b,c,e)}}}return e},_createFormRowCanvasForObject:function(e,b,d,f){var c=this;
f=this._createSimpleFormRowCanvas(e,b,d,f);a.each(b.meta,function(g,h){var i=d.createInnerSetter(h);f=c._createFormRowCanvas(e,h,i,f)});return f},_createFormRowCanvasForArray:function(e,d,g,h){var i=this;h=this._createSimpleFormRowCanvas(e,d,g,h);var c=d.meta;
var b=g.val();ic3.each(b,function(k,n){var l=i._createFieldDescriptorForArray(c,k);var m=g.createArraySetter(l,k);h=i._createFormRowCanvas(e,l,m,h)});var f=i._createFieldDescriptorForArray(c,"New");var j=g.createArraySetter(f,-1);i.rowIndex=h=i._createFormRowCanvas(e,f,j,h);
return h},_getLabelText:function(d){var c=d.label;if(!c){c=ic3.babylon.localizeFormFieldLabel(d.name,d.path,d.tag)}var b;if(d.labelHref){b="<a href='"+d.labelHref+"' target='_blank'>"+ic3.escapeHTML(c)+"</a>"}else{b=ic3.escapeHTML(c)}return b},_createFieldLabel:function(d,c){d.append("<td class='ic3-form-colexp'></td>");
d.append("<td class='ic3-form-label'>");d.append("<span class='ic3-form-label-caption'>"+this._getLabelText(c)+"</span>");var b=ic3.babylon.localizeFormFieldTooltip(c.name,c.path,c.tooltip);if(!ic3.isEmptyString(b)){d.append("<span class='ic3-form-tooltip' title='"+ic3.escapeAttribute(b)+"'></span>")
}else{if(c.type===juiForm_FieldRendererType.JAVASCRIPT_FUNCTION){if(!ic3.isEmptyString(c.signature)){d.append("<span class='ic3-form-tooltip' title='"+ic3.escapeAttribute(c.signature)+"'></span>")}}}d.append("</td>");d.append("<td class='ic3-form-error'><span class='ui-icon ic3-form-none'></span></td>");
d.append("<td class='ic3-form-default-icon'>");d.append("</td>")},_getRender:function(b,e,f){var d=this.$form;if(this._isFieldDescriptorObject(b)){return new juiForm_EmbeddedRenderer(b,d,f,e)}if(ic3._isFieldDescriptorArray(b)){return new juiForm_ArrayRenderer(b,d,f,e)
}if(this._isFieldDescriptorMessage(b)){return new juiForm_MessageRenderer(b,d,f,e)}if(this._isFieldDescriptorJavascriptFunction(b)){return new juiForm_JavascriptPreviewRenderer(b,d,f,e,true)}if(this._isFieldDescriptorExtraOptions(b)){return new juiForm_JavascriptPreviewRenderer(b,d,f,e,false)
}var c=juiForm_FieldRendererFactories[b.type];if(!c){c=juiForm_FieldRendererFactories[juiForm_FieldRendererType.DEFAULT]}return c(b,d,f,e)},_createSimpleFormRowCanvas:function(e,b,d,h){var g=this.formRowPrefix+h;var f=this._getRender(b,d,g);this.renderers[h]=f;
e.append("<tr id='"+g+"' class='"+this._getGroupClass(b)+"'>");this._createFieldLabel(e,b);var c="";if(b.mandatory&&b.type!=juiForm_FieldRendererType.BOOLEAN){c="ic3-form-mandatory"}e.append("<td class='ic3-form-input "+c+"'>");f.canvas(e,b,g);e.append("</td>");
e.append("</tr>");return ++h},_getGroupClass:function(c){var b="";if(c.advanced){b="ic3-form-advanced-row"}else{if(c.dataField){b="ic3-form-data-row"}}return b},_createFormRowCanvasForJavascriptType:function(e,c,d,h){var g=this.formRowPrefix+h;var f=this._getRender(c,d,g);
this.renderers[h]=f;e.append("<tr id='"+g+"' class='ic3-codemirror-row'>");this._createFieldLabel(e,c);e.append("<td class='ic3-form-input'>");e.append("<table cellspacing='0' cellpadding='0'><tbody>");e.append("<tr>");e.append("<td class='ic3-back-button-container'>");
f.backButton(e);e.append("</td>");e.append("<td class='ic3-form-toolbar-signature'>");f.signatureOnToolbarCanvas(e,c);e.append("</td>");e.append("</tr>");e.append("</tbody></table>");f.canvas(e,c,g);e.append("</td>");e.append("</tr>");++h;var b=this.formRowPrefix+h;
e.append("<tr id='"+b+"' class='"+this._getGroupClass(c)+"'>");this._createFieldLabel(e,c);e.append("<td class='ic3-form-input'>");f.inputCanvas(e,b);e.append("</td>");e.append("</tr>");return ++h},_createFormRowCanvasForGizmo:function(e,b,d,g){var c=this;g=this._createSimpleFormRowCanvas(e,b,d,g);
var f=ic3.GizmoFactoryPark.getAvailable(b.gizmoType);ic3.each(f,function(h,i){ic3.each(i.paramsMeta,function(j,k){var l=a.extend({dependsOn:{depends:b,onChange:function(q,p){var s=q.$row();var o=q.parent();var r=o.$row();var n=r.find(".ic3-form-colexp span");
if((p.type||p)===i.value){c.setActive(q,true);if(r.css("display")!=="none"&&o.expanded){s.show();if(q.isCollapsible()){c._refreshArrays(q)}}}else{c.setActive(q,false);q.forEachChild(function(t,u){u.$row().hide()});s.hide()}if(o.activeCount){n.removeClass("ic3-form-none");
if(!o.expanded){n.addClass("ic3-form-expand")}r.trigger("gizmoChanged")}else{n.addClass("ic3-form-none");n.removeClass("ic3-form-expand")}}}},k);var m=d.createInnerSetter(l);g=c._createFormRowCanvas(e,l,m,g)})});return g},setActive:function(c,d){var b=c.parent();
d&&b.activeCount++;return c.active=d},isActive:function(b){return b.active!==false},_cleanUpObject:function(b){var c=this;var d=a.isArray(b);ic3.each(b,function(f,g){var e=c._formFieldRenderer(f);if(e&&c._isFieldDescriptorGizmo(e.fieldDescriptor())){g&&g.options&&c._cleanUpObject(g.options)
}if(d||e){if(d||!ic3.startsWith(f,"_")){if(g==null||(typeof g==="string"&&ic3.isEmptyString(g))||(typeof g==="object"&&a.isEmptyObject(g))){delete b[f]}else{var h=c._cleanUpObject(g);if(h===null){delete b[f]}}}}});if(d){ic3.arrayRemoveNulls(b);if(b.length==0){return null
}}else{if(typeof b==="object"){if(ic3.objectIsEmpty(b)){return null}}}return b},_formFieldRenderer:function(b){var c=null;a.each(this.renderers,function(d,e){if(typeof b=="string"){if(e.fieldDescriptor().name===b){c=e}}else{if(b===e.fieldDescriptor()){c=e}}});
return c},validate:function(b){var d=this._refreshFieldsFromForm();if(d&&this.options.formValidator){var c=this.options.formValidator(this.options.groups);if(c){d=false}}if(d&&b){this._cleanupAllGroups();this.applyCallback()}return d?this.options.groups:null
},_cleanupAllGroups:function(){var c=this;var b=this.options.groups;a.each(b,function(e,d){c._cleanUpObject(d.values)})},applyCallback:function(){var b=this.options.groups;a.each(b,function(d,c){c.beanSetter.call(c.bean,c.values)})},destroy:function(){this.element.empty();
a.Widget.prototype.destroy.call(this)},_createBeanSetter:function(c,b,d){var e;if(this._isFieldDescriptorGizmo(b)){e=new ic3.jUIFormGizmoBeanSetter(c,b,d)}else{e=new ic3.jUIFormBeanSetter(c,b,d)}return e},_isFieldDescriptorObject:function(b){if(b.meta&&a.isArray(b.meta)){if(b.type==="array"){throw"Array type is not compatible with meta arrays : "+b.name
}return true}return false},_isFieldDescriptorJavascriptFunction:function(c){var b=false;if(c.type===juiForm_FieldRendererType.JAVASCRIPT_FUNCTION){b=true}return b},_isFieldDescriptorExtraOptions:function(c){var b=false;if(c.type===juiForm_FieldRendererType.EXTRA_OPTIONS){b=true
}return b},_isFieldDescriptorMessage:function(c){var b=false;if(c.type===juiForm_FieldRendererType.MESSAGE){b=true}return b},_isFieldDescriptorGizmo:function(c){var b=false;if(c.type===juiForm_FieldRendererType.GIZMO){b=true}return b},setModel:function(){var b=this.options.groups;
for(var d=0;d<b.length;d++){var f=b[d];var e=arguments[d];for(var c=0;c<f.meta.length;c++){var g=f.meta[c].name;if(e){f.values[g]=e[g]}else{delete f.values[g]}}}this._refreshFormFromFields()}})})(jQuery);(function(a){a.widget("ic3.formDialog",{options:{},_create:function(){var k=this;
this.context=this.options.form.context;this.widgetEventPrefix="ic3";var j=a("body");var c=ic3.uniqueId("ic3-dialog-container");j.append("<div id='"+c+"'><div class='ic3-dialog-form'></div></div>");this.$dialogContainer=j.find("#"+c);this.$formContainer=this.$dialogContainer.find(".ic3-dialog-form");
this.$formContainer.form(this.options.form);var i=(typeof this.options.dialog.modal==="undefined")?true:this.options.dialog.modal;k.destroyOnOk_=(typeof this.options.dialog.destroyOnOk==="undefined")?true:this.options.dialog.destroyOnOk;var h={};var m=(typeof this.options.dialog.showOk==="undefined")?true:this.options.dialog.showOk;
if(m){var g=this.options.dialog.okLabel||"OK";h[g]=function(){k.onOkClick()}}if(typeof this.options.dialog.extraButton!=="undefined"){var d=this.options.dialog.extraButton;if(d){h[d.caption]=function(){d.callback();k.destroy()}}}var b=(typeof this.options.dialog.showCancel==="undefined")?true:this.options.dialog.showCancel;
if(b){var f=this.options.dialog.cancelLabel||"Cancel";h[f]=function(){k.destroy()}}var e={wrappingClass:this.options.dialog.wrappingClass,modal:i,buttons:h,minWidth:600,open:function(n,o){k.$formContainer.form("onDialogOpen")},resizeStart:function(n,o){k.resizeStartHeight_=k.$formContainer.outerHeight()
},resizeStop:function(o,p){var r=k.resizeStartHeight_;if(r==-1){return}var n=k.$formContainer.outerHeight();var q=n-r;k.$formContainer.form("onDialogResizeStop",q)},close:function(n,o){k.destroy()}};var l=a.extend(this.options.dialog,e);this.$dialogContainer.ic3dialog(l)
},onOkClick:function(){var b=this;try{if(b.$formContainer.form("validate",true)){if(this.destroyOnOk_){b.destroy()}if(b.options.dialog.ic3okCallback){try{b.options.dialog.ic3okCallback()}catch(c){b.context.errorMgr().addError("Unexpected FORM error ("+c.toString()+")",null,c)
}}}}catch(c){b.context.errorMgr().addError("Unexpected validation error ("+c.toString()+")",null,c)}},destroy:function(){this.$dialogContainer.ic3dialog("destroy").remove();a.Widget.prototype.destroy.call(this);if(this.options.destroy){this.options.destroy()
}}})})(jQuery);(function(a){a.widget("ic3.hierarchyContainer",{options:{},_create:function(){this.widgetEventPrefix="ic3";this.$div=this.element;this.$availableHierarchies=this.$div;var b=this;this.$div.droppable({activate:function(){},deactivate:function(){},over:function(){},out:function(){},accept:function(c){return b._onAccept(c)
},drop:function(c,d){return b._onDrop(c,d)}})},_onAccept:function(b){return true},_onDrop:function(e,f){var d=f.draggable.attr("id");var c=this.options;var b=c.builder;var g=b.removeHierarchyByGUID(d);b.stopEvent="ignore";if(g){b.refreshUIFromQuery();b.onQueryChange()
}},refreshFromQuery:function(){this.$availableHierarchies.empty();var f=this.options.builder;var i=f.availableHierarchiesByGUID;var e=f.availableHierarchiesByUName;var h="";var g=f.schemaInfo();var d=f.query().cubeName();var c=g.dimensionHierarchies(d,true);
a.each(c,function(j,m){var l="";if(m.uniqueName=="[Measures]"){var n=f.query().cubeCaption();l="<span class='ic3-cube'>"+ic3.escapeHTML("("+n+")")+"</span>"}h+="<div class='ic3-dimension'><span class='ic3-caption'>"+ic3.escapeHTML(m.name)+"</span>"+l+"</div>";
var k=m.hierarchies;h+="<ul>";a.each(k,function(o,q){var p=ic3.uniqueId("ic3-available-hierarchy");h+="<li id='"+p+"' class='ic3-hierarchy'><span class='ic3-caption'>"+ic3.escapeHTML(q.name)+"</span></li>";i[p]=q;e[q.uniqueName]=q});h+="</ul>"});this.$availableHierarchies.html(h);
var b=this.$div;a.each(i,function(k,j){b.find("#"+k).draggable({connectToSortable:".ic3-query-hierarchies",containment:f.layout().$builder(),revert:"invalid",forceHelperSize:false,helper:"clone",scroll:false})})},destroy:function(){this.$availableHierarchies&&this.$availableHierarchies.empty();
a.Widget.prototype.destroy.call(this)}})})(jQuery);(function(a){a.widget("ic3.hierarchySelection",{options:{},_create:function(){this.widgetEventPrefix="ic3";this.$div=this.element;var n=this;var o=this.options;var c=this.context=this.options.context;var b=this.$editor=o.$editor;
var k=this.hierarchy=o.hierarchy;this.$div.append("<div class='ic3-hierarchy-selection'>   <div class='ic3-hierarchy-selection-toolbar'>       <div class='ic3-selected-member'>Selected "+(k.isMeasures()?"Measures":"Members")+"</div>       <div class='ic3-clear-selection'>Clear</div>   </div>   <div class='ic3-hierarchy-selection-content'>       <ul>       </ul>   </div></div>");
var e=this.$payload=this.$div.find(".ic3-hierarchy-selection");var j=o.query;var h=o.query.cubeName();var i=c.gviConfiguration().schemaInfo();var f=this.$selection=e.find("ul");var l=this.options.hierarchy.selection()||[];var m=k.isMeasures()||i.lookupHierarchyInCube(h,k.uniqueName());
var g="";a.each(l,function(p,r){var q=null;if(!m||(!j.defineCalcMember(r.uniqueName)&&i.isMissing(h,r))){q="ic3-missing"}g+=n.createMdxEntityMarkup(h,k,r,q)});f.append(g);var d=e.find(".ic3-clear-selection");d.click(function(){n.removeAllMdxEntities()});f.sortable({containment:"#"+o.$dialogContainer.attr("id"),placeholder:"ic3-placeholder",scroll:false,forceHelperSize:false,stop:function(p,q){return n._onStop(p,q)
}})},_onStop:function(c,d){var b=this;d.item.find("span:not(.ic3-caption,.ic3-caption-ex)").remove();this.$payload.find("li:not(.ic3-placeholder):not([id])").each(function(){a(this).attr("id",ic3.uniqueId());b.selectedFlag(true,a(this).attr("ic3uniqueName"))
})},onResizeStop:function(){var b=this.$payload;var d=b.find(".ic3-hierarchy-selection-toolbar");var c=b.find(".ic3-hierarchy-selection-content");var f=d.outerHeight();var e=b.height()-f;c.css("height",e)},createMdxEntityMarkup:function(d,h,g,m,c){var e=m?" class='"+m+"'":"";
var b=g.name;var i=g.uniqueName;var f=g.type;var j=this.createCaption(d,h,g);var l=this.createExtraCaption(d,h,g);var k=this.createTooltip(h,g);return"<li"+e+" id='"+ic3.uniqueId()+"' ic3name='"+ic3.escapeAttribute(b)+"' ic3uniqueName='"+ic3.escapeAttribute(i)+"' ic3type='"+ic3.escapeAttribute(f)+"' title='"+ic3.escapeAttribute(k)+"'><div><span class='ic3-caption'>"+ic3.escapeHTML(j)+"</span>"+(ic3.isEmptyString(l)?"":"<span class='ic3-caption-ex'>"+ic3.escapeHTML(l)+"</span>")+""+(ic3.isEmptyString(c)?"":c)+"</div></li>"
},createCaption:function(b,c,f){var g=f&&ic3.mdxQueryExpressions.valueById(f.name);if(g){return g.caption()}if(f.type==vizMdxEntityDataType.LEVEL){var e=this.context;var d=e.gviConfiguration().schemaInfo();var h=d.lookupLevel(b,f.uniqueName);if(h!=null){return ic3.caption(h)
}return f.uniqueName}return f.name},createExtraCaption:function(b,d,h){var f=this.context;var e=f.gviConfiguration().schemaInfo();var c;var g;if(h.type==vizMdxEntityDataType.LEVEL){g=e.levelMembersCount(b,h.uniqueName)}else{if(h.uniqueName==ic3.mdxQueryExpressions.members.mdx()){g=e.hierarchyMembersCount(b,d.uniqueName())
}else{if(h.uniqueName==ic3.mdxQueryExpressions.allMembers.mdx()){g=e.hierarchyAllMembersCount(b,d.uniqueName())}}}if(g>-1){c=" ("+g+")"}return c},createTooltip:function(b,c){if(c.uniqueName==ic3.mdxQueryExpressions.members.mdx()){return ic3.mdxQueryExpressions.members.tooltip()
}if(c.uniqueName==ic3.mdxQueryExpressions.allMembers.mdx()){return ic3.mdxQueryExpressions.allMembers.tooltip()}return c.uniqueName},selectedFlag:function(d,b){var c=this.$editor.$div;if(!d){if(!b){c.find(".ic3-selection-accordion ul li[ic3uniqueName].ic3-selected").removeClass("ic3-selected")
}else{c.find(".ic3-selection-accordion ul li[ic3uniqueName].ic3-selected").each(function(){if(a(this).attr("ic3uniqueName")==b){a(this).removeClass("ic3-selected")}})}}else{if(!b){c.find(".ic3-selection-accordion ul li[ic3uniqueName]").addClass("ic3-selected")
}else{c.find(".ic3-selection-accordion ul li[ic3uniqueName]").each(function(){if(a(this).attr("ic3uniqueName")==b){a(this).addClass("ic3-selected")}})}}},removeAllMdxEntities:function(){this.selectedFlag(false);this.$selection.find("li:not(.ic3-placeholder)").remove();
this.$selection.sortable("refresh")},removeMdxEntity:function(d,c){this.selectedFlag(false,c);var b=this.$selection;if(d){b.find("#"+d).remove()}else{b.find("li").each(function(){if(a(this).attr("ic3uniqueName")==c){a(this).remove()}})}b.sortable("refresh")
},addMdxEntity:function(c,d){this.selectedFlag(true,d.uniqueName);var b=this.options.query.cubeName();this.$selection.append(this.createMdxEntityMarkup(b,c,d));this.$selection.sortable("refresh")},isMdxEntitySelected:function(b){var c=false;this.$selection.find("li[ic3uniqueName]").each(function(){if(a(this).attr("ic3uniqueName")==b){c=true
}});return c},validate:function(){return true},applyChanges:function(){var b=[];this.$selection.find("li[ic3uniqueName]").each(function(){var c=a(this);b.push({name:c.attr("ic3name"),uniqueName:c.attr("ic3uniqueName"),type:c.attr("ic3type")})});this.options.hierarchy.selection(b)
},destroy:function(){this.$payload&&this.$payload.remove();a.Widget.prototype.destroy.call(this)}})})(jQuery);(function(a){a.widget("ic3.hierarchySelectionEditor",{options:{},_create:function(){this.widgetEventPrefix="ic3";this.$div=this.element;this.$div.append("<div class='ic3-panes'>   <div class='ic3-selectors-pane'>   </div>   <div class='ic3-selection-pane'>   </div> </div>");
var b=this.$payload=this.$div.find(".ic3-panes");this.$selection=b.find(".ic3-selection-pane").hierarchySelection(a.extend({$editor:this},this.options));this.$accordion=b.find(".ic3-selectors-pane").selectionAccordion(a.extend({$editor:this},this.options))},onOpen:function(){this.onResizeStop()
},onResizeStop:function(){this.$accordion.selectionAccordion("onResizeStop");this.$selection.hierarchySelection("onResizeStop")},validate:function(){var b=true;b=this.$selection.hierarchySelection("validate")&&b;b=this.$accordion.selectionAccordion("validate")&&b;
return b},applyChanges:function(){this.$selection.hierarchySelection("applyChanges");this.$accordion.selectionAccordion("applyChanges")},destroy:function(){this.$payload&&this.$payload.remove();a.Widget.prototype.destroy.call(this)}})})(jQuery);(function(a){a.widget("ic3.levelsAccordion",{options:{},_create:function(){this.widgetEventPrefix="ic3";
this.$div=this.element;var k=this;var l=this.options;var c=this.context=this.options.context;var b=this.$editor=l.$editor;var f=this.$selection=b.$selection;var j=this.hierarchy=l.hierarchy;this.$div.append("<h3 class='ic3-levels-accordion-header'>Levels</h3><div class='ic3-levels-accordion'></div>");
var e=this.$payload=this.$div.find(".ic3-levels-accordion");var h=l.query.cubeName();var i=c.gviConfiguration().schemaInfo();var d=i.levels(h,j.uniqueName());var g="<ul>";a.each(d,function(o,p){var n={name:p.name,uniqueName:p.uniqueName,type:vizMdxEntityDataType.LEVEL};
var m=b.$selection.hierarchySelection("isMdxEntitySelected",n.uniqueName)?"ic3-selected":null;g+=f.hierarchySelection("createMdxEntityMarkup",h,j,n,m)});g+="</ul>";e.html(g);e.find("li").draggable({connectToSortable:".ic3-hierarchy-selection ul",containment:"#"+l.$dialogContainer.attr("id"),revert:"invalid",forceHelperSize:false,appendTo:"#"+l.$dialogContainer.attr("id")+" .ic3-panes",helper:ic3.helperClone,scroll:false})
},destroy:function(){this.$div.empty();a.Widget.prototype.destroy.call(this)}})})(jQuery);(function(a){a.widget("ic3.measuresAccordion",{options:{},_create:function(){this.widgetEventPrefix="ic3";this.$div=this.element;var p=this;var q=this.options;var c=this.context=this.options.context;
var b=this.$editor=q.$editor;var f=this.$selection=b.$selection;var m=this.hierarchy=q.hierarchy;this.$div.append("<h3 class='ic3-measures-accordion-header'>Measures</h3><div class='ic3-measures-accordion'></div>");var e=this.$payload=this.$div.find(".ic3-measures-accordion");
var j=q.query.cubeName();var l=c.gviConfiguration().schemaInfo();var i=l.measures(j);var d=[];a.each(i,function(s,t){var r=t.measureGroupName;if(!ic3.isEmptyString(r)){d.push(r)}});var h="Default Measure Group";var o="Calculated Measures (Cube)";d.push(h);d.push(o);
var k={};a.each(i,function(s,t){var r=t.measureGroupName;if(t.subType==vizMdxEntityDataSubType.CALCULATED){r=o}else{if(ic3.isEmptyString(r)){r=h}}var u=k[r];if(!u){u=k[r]={name:r,measures:[]}}u.measures.push(t)});var n=0;a.each(k,function(r,s){if(s.measures.length>0){++n
}});var g="";a.each(k,function(r,s){if(n>1){g+="<div class='ic3-measure-group'>"+ic3.escapeHTML(s.name)+"</div>"}g+="<ul>";a.each(s.measures,function(t,w){var v={name:w.name,uniqueName:w.uniqueName,type:vizMdxEntityDataType.MEASURE};var u=b.$selection.hierarchySelection("isMdxEntitySelected",v.uniqueName)?"ic3-selected":null;
g+=f.hierarchySelection("createMdxEntityMarkup",j,m,v,u)});g+="</ul>"});e.html(g);e.find("li").draggable({connectToSortable:".ic3-hierarchy-selection ul",containment:"#"+q.$dialogContainer.attr("id"),revert:"invalid",forceHelperSize:false,appendTo:"#"+q.$dialogContainer.attr("id")+" .ic3-panes",helper:ic3.helperClone,scroll:false})
},destroy:function(){this.$div.empty();a.Widget.prototype.destroy.call(this)}})})(jQuery);(function(a){a.widget("ic3.membersAccordion",{options:{},_create:function(){this.widgetEventPrefix="ic3";this.$div=this.element;var o=this;var f=this.options;var c=this.context=this.options.context;
var k=this.$editor=f.$editor;var q=this.$selection=k.$selection;var h=this.hierarchy=f.hierarchy;this.$div.append("<h3 class='ic3-members-accordion-header'>Members</h3><div class='ic3-members-accordion'>   <div style='display:none' class='ic3-select-members'><span class='ic3-caption' title='"+ic3.mdxQueryExpressions.members.tooltip()+"'>"+ic3.mdxQueryExpressions.members.caption()+"</span></div>   <div style='display:none' class='ic3-select-all-members'><span class='ic3-caption' title='"+ic3.mdxQueryExpressions.allMembers.tooltip()+"'>"+ic3.mdxQueryExpressions.allMembers.caption()+"</span></div>   <div style='display:none' class='ic3-separator'></div>   <table class='ic3-search-member' cellpadding='0' cellspacing='0' border='0'>       <tr>         <td>               <div class='ic3-search-member-header'>Search</div>         </td>         <td>               <div class='ic3-search-member-content'></div>         </td>       </tr>       <tr>         <td>               <div class='ic3-search-level-member-header'>From Level</div>         </td>         <td>               <div class='ic3-search-level-member-content'></div>         </td>       </tr>   </table></div>");
var e=this.$payload=this.$div.find(".ic3-members-accordion");var p=f.queryEntity;if(p.isAxis()){var l=e.find(".ic3-select-members");l.show();l.click(function(){q.hierarchySelection("addMdxEntity",h,{name:ic3.mdxQueryExpressions.members.id,uniqueName:ic3.mdxQueryExpressions.members.mdx(),type:vizMdxEntityDataType.OTHER})
});var m=e.find(".ic3-select-all-members");m.show();m.click(function(){q.hierarchySelection("addMdxEntity",h,{name:ic3.mdxQueryExpressions.allMembers.id,uniqueName:ic3.mdxQueryExpressions.allMembers.mdx(),type:vizMdxEntityDataType.OTHER})});e.find(".ic3-separator").show()
}var r=c.gviConfiguration().schemaInfo();var j=r.levels(i,h.uniqueName());var g="<select>";g+='<option value="" selected="selected"></option>';a.each(j,function(u,v){var t={name:v.name,uniqueName:v.uniqueName,type:vizMdxEntityDataType.LEVEL};g+='<option value="'+ic3.escapeAttribute(v.uniqueName)+'">'+ic3.escapeHTML(v.name)+"</option>"
});g+="</select>";e.find(".ic3-search-level-member-content").html(g);var i=f.query.cubeName();var n=(f.options?f.options.autocompleteMembersCacheSize:null)||1024;var b=function(u,t){var x=h.uniqueName()+".allMembers";var w=e.find(".ic3-search-level-member-content select").val();
if(!ic3.isEmptyString(w)){x=w+".allMembers"}var v=new viz.GetMembersGviRequest(i,x,n,u);v.addNullableParameter(vizParamConstants.maxMemberCount,t);return v};var s=this.autocomplete=viz.filters.createAutoComplete(e.find(".ic3-search-member-content"),{cacheSize:n,cssClass:{cssStyle:"font-size:12px"}},{conn:c.gviConnection(),request:b});
s.bind(vizEventType.onSelection,function(t){if(!t){return}q.hierarchySelection("addMdxEntity",h,{name:t.caption(),uniqueName:t.asMdx(),type:vizMdxEntityDataType.MEMBER})});var d=function(){var t=new viz.QueryManager(c.gviConnection());t.addResultWidget(s);t.executeRequest(b())
};e.find(".ic3-search-level-member-content select").change(function(){d()});d()},destroy:function(){this.autocomplete&&this.autocomplete.destroy();this.$div.empty();a.Widget.prototype.destroy.call(this)}})})(jQuery);(function(a){a.widget("ic3.postProcessingAccordion",{options:{},_create:function(){this.widgetEventPrefix="ic3";
this.$div=this.element;var n=this;var e=this.options;var c=this.context=this.options.context;var k=this.$editor=e.$editor;var t=this.$selection=k.$selection;var i=this.hierarchy=e.hierarchy;this.$div.append("<h3 class='ic3-post-processing-accordion-header'>Top/Bottom/Order/...</h3><div class='ic3-post-processing-accordion'>   <table>       <tr id='ic3-top-bottom-row'>           <td><input id='ic3-top-bottom-switch' type='checkbox'/></td>           <td>"+ic3.mdxQueryExpressions.topBottom.caption()+"</td>           <td class='ic3-form-error'></td>           <td>               <select id='ic3-top-bottom-type' class='ic3-input-tag'>                   <option value='TopCount'>Top</option>                   <option value='BottomCount'>Bottom</option>                   <option value='TopPercent'>Top %</option>                   <option value='BottomPercent'>Bottom %</option>               </select>               <input id='ic3-top-bottom-n' class='ic3-input-tag' type='text' size='4'/>               <select id='ic3-top-bottom-expr'/>           </td>\n       </tr>\n       <tr id='ic3-order-row'>           <td><input id='ic3-order-switch' type='checkbox'/></td>           <td>"+ic3.mdxQueryExpressions.order.caption()+"</td>           <td class='ic3-form-error'></td>           <td>               <select id='ic3-order-type' class='ic3-input-tag'>                   <option value='basc'>Ascendant</option>                   <option value='bdesc'>Descendant</option>                   <option value='asc'>Asc. Keeping Hierarchy</option>                   <option value='desc'>Desc. Keeping Hierarchy</option>               </select>               <select id='ic3-order-expr'/>           </td>\n       </tr>\n       <tr id='ic3-non-empty-row'>           <td><input id='ic3-non-empty-switch' type='checkbox'/></td>           <td>"+ic3.mdxQueryExpressions.nonEmpty.caption()+"</td>           <td class='ic3-form-error'></td>           <td>               <select id='ic3-non-empty-expr'/>           </td>\n       </tr>\n       <tr>           <td><input id='ic3-hierarchize' type='checkbox'/></td>           <td title='"+ic3.mdxQueryExpressions.hierarchize.tooltip()+"'>"+ic3.mdxQueryExpressions.hierarchize.caption()+"</td>       </tr>\n   </table></div>");
var f=this.$hierarchize=this.$div.find("#ic3-hierarchize");var q=this.$topBottomRow=this.$div.find("#ic3-top-bottom-row");var u=this.$topBottomSwitch=this.$div.find("#ic3-top-bottom-switch");var v=this.$topBottomType=this.$div.find("#ic3-top-bottom-type");var x=this.$topBottomN=this.$div.find("#ic3-top-bottom-n");
var s=this.$topBottomExpr=this.$div.find("#ic3-top-bottom-expr");u.change(function(){n._cleanupTopBottomError()});v.change(function(){n._cleanupTopBottomError()});x.change(function(){n._cleanupTopBottomError()});s.change(function(){n._cleanupTopBottomError()
});var j=e.query.cubeName();var w=c.gviConfiguration().schemaInfo();var b=w.measures(j);a.each(b,function(y,z){s.append("<option value='"+ic3.escapeAttribute(z.uniqueName)+"'>"+ic3.escapeHTML(z.name)+"</option>")});var m=this.$orderRow=this.$div.find("#ic3-order-row");
var l=this.$orderSwitch=this.$div.find("#ic3-order-switch");var r=this.$orderType=this.$div.find("#ic3-order-type");var p=this.$orderExpr=this.$div.find("#ic3-order-expr");l.change(function(){n._cleanupOrderError()});r.change(function(){n._cleanupOrderError()
});p.change(function(){n._cleanupOrderError()});p.append("<option value='"+ic3.escapeAttribute("$currentMemberName$")+"'>"+ic3.escapeHTML("<name>")+"</option>");a.each(b,function(y,z){p.append("<option value='"+ic3.escapeAttribute(z.uniqueName)+"'>"+ic3.escapeHTML(z.name)+"</option>")
});var h=this.$nonEmptyRow=this.$div.find("#ic3-non-empty-row");var g=this.$nonEmptySwitch=this.$div.find("#ic3-non-empty-switch");var d=this.$nonEmptyExpr=this.$div.find("#ic3-non-empty-expr");g.change(function(){n._cleanupNonEmptyError()});d.change(function(){n._cleanupNonEmptyError()
});a.each(b,function(y,z){d.append("<option value='"+ic3.escapeAttribute(z.uniqueName)+"'>"+ic3.escapeHTML(z.name)+"</option>")});var o=i.postProcessors()||[];a.each(o,function(y,z){if(z.id==ic3.mdxQueryExpressions.hierarchize.id){f.attr("checked","checked")
}else{if(z.id==ic3.mdxQueryExpressions.topBottom.id){u.attr("checked","checked");v.val(z.type);x.val(z.n);s.val(z.expr)}else{if(z.id==ic3.mdxQueryExpressions.order.id){l.attr("checked","checked");r.val(z.type);p.val(z.expr)}else{if(z.id==ic3.mdxQueryExpressions.nonEmpty.id){g.attr("checked","checked");
d.val(z.expr)}}}}})},_cleanupTopBottomError:function(){this.$topBottomRow.removeClass("ic3-on-error").find(".ic3-form-error").empty()},_addTopBottomError:function(b){this.$topBottomRow.addClass("ic3-on-error").find(".ic3-form-error").html("<span class='ui-icon ui-icon-notice' title='"+ic3.escapeAttribute(b)+"'></span>")
},_cleanupOrderError:function(){this.$orderRow.removeClass("ic3-on-error").find(".ic3-form-error").empty()},_addOrderError:function(b){this.$orderRow.addClass("ic3-on-error").find(".ic3-form-error").html("<span class='ui-icon ui-icon-notice' title='"+ic3.escapeAttribute(b)+"'></span>")
},_cleanupNonEmptyError:function(){this.$nonEmptyRow.removeClass("ic3-on-error").find(".ic3-form-error").empty()},_addNonEmptyError:function(b){this.$nonEmptyRow.addClass("ic3-on-error").find(".ic3-form-error").html("<span class='ui-icon ui-icon-notice' title='"+ic3.escapeAttribute(b)+"'></span>")
},validate:function(){var b,d,c;if(this.$topBottomSwitch.attr("checked")){b=this.$topBottomType.val();if(ic3.isEmptyString(b)){this._addTopBottomError("missing type");return false}d=this.$topBottomN.val();if(!ic3.isInt(d)){this._addTopBottomError("invalid/missing N value");
return false}c=this.$topBottomExpr.val();if(ic3.isEmptyString(c)){this._addTopBottomError("missing measure");return false}}if(this.$orderSwitch.attr("checked")){b=this.$orderType.val();if(ic3.isEmptyString(b)){this._addOrderError("missing type");return false
}c=this.$orderExpr.val();if(ic3.isEmptyString(c)){this._addOrderError("missing measure");return false}}if(this.$nonEmptySwitch.attr("checked")){c=this.$nonEmptyExpr.val();if(ic3.isEmptyString(c)){this._addNonEmptyError("missing measure");return false}}return true
},applyChanges:function(){var b,e,c;var d=[];if(this.$topBottomSwitch.attr("checked")){b=this.$topBottomType.val();e=this.$topBottomN.val();c=this.$topBottomExpr.val();d.push({id:ic3.mdxQueryExpressions.topBottom.id,type:b,n:e,expr:c,mdxStatement:ic3.mdxQueryExpressions.topBottom.mdx(b,e,c)})
}if(this.$orderSwitch.attr("checked")){b=this.$orderType.val();c=this.$orderExpr.val();d.push({id:ic3.mdxQueryExpressions.order.id,type:b,expr:c,mdxStatement:ic3.mdxQueryExpressions.order.mdx(b,c)})}if(this.$nonEmptySwitch.attr("checked")){c=this.$nonEmptyExpr.val();
d.push({id:ic3.mdxQueryExpressions.nonEmpty.id,expr:c,mdxStatement:ic3.mdxQueryExpressions.nonEmpty.mdx(c)})}if(this.$hierarchize.attr("checked")){d.push({id:ic3.mdxQueryExpressions.hierarchize.id,mdxStatement:ic3.mdxQueryExpressions.hierarchize.mdx()})}this.hierarchy.postProcessors(d)
},destroy:function(){this.$div.empty();a.Widget.prototype.destroy.call(this)}})})(jQuery);(function(a){a.widget("ic3.queryBuilderAxis",{options:{},_create:function(){this.widgetEventPrefix="ic3";this.$div=this.element;var j=this.options;var g=j.builder;var e=j.entity;
var c=this.$header=this.$div.find(".ic3-header");c.html("<span class='ic3-title'></span><span class='ic3-option'></span>");var h=this.$title=this.$div.find(".ic3-header .ic3-title");var b=this.$option=this.$div.find(".ic3-header .ic3-option");h.html(e.typeCaption());
if(e.isSlicer()){b.hide()}var d=this.$content=this.$div.find(".ic3-content");d.append("<ul class='ic3-query-hierarchies'></ul>");var f=this.$hierarchies=this.$div.find(".ic3-query-hierarchies");var i=this;f.sortable({placeholder:"ic3-placeholder",connectWith:".ic3-query-hierarchies",containment:g.layout().$builder(),forceHelperSize:false,activate:function(){},deactivate:function(){},over:function(){},out:function(){},remove:function(k,l){return i._onRemove(k,l)
},receive:function(k,l){return i._onReceive(k,l)},start:function(k,l){return i._onStart(k,l)},stop:function(k,l){return i._onStop(k,l)}});if(!this._isEnabled()){this._hide()}},_isEnabled:function(){var d=this.options;var c=d.builder;var e=c.query();var b=d.entity;
return b.isAxis()||(b.isSubQuery()&&e.withSubQuery())||(b.isSlicer()&&e.withSlicer())},_hide:function(){this.$div.hide();this.hidden=true},_show:function(){this.$div.show();this.hidden=false},refreshFromQuery:function(){var e=this;var f=this.options;var d=f.builder;
var h=d.query();if(this._isEnabled()&&this.hidden){this._show()}else{if(!this._isEnabled()&&!this.hidden){this._hide()}}var i=this.$option;i.unbind();var g=this.$hierarchies;g.find(".ic3-hierarchy:not(.ui-sortable-placeholder)").remove();if(this.hidden){return
}var c=f.entity;if(c.isAxis()){i.html("("+(c.nonEmpty()?"Hide Empty":"Show Empty")+")");i.attr("title",(c.nonEmpty()?"Hide items with no data on ":"Show items with no data on ")+c.type());i.click(function(){d.onNonEmptyAxisToggle(c)})}else{if(c.isSubQuery()){i.html("("+(c.nonVisual()?"Non Visual":"Visual")+")");
i.attr("title",(c.nonVisual()?"Do not filter facts data":"Filter facts data"));i.click(function(){d.onNonVisualSubQueryToggle()})}}var b=f.entity.hierarchies();a.each(b,function(j,l){var k=l.guid();g.append("<li id='"+k+"' ic3uniqueName='"+ic3.escapeAttribute(l.uniqueName())+"' class='ic3-hierarchy'><div><span class='ic3-caption'>"+ic3.escapeHTML(l.name(h))+"</span><span class='ic3-action ui-icon ui-icon-triangle-1-s'></span></div></li>");
g.find("#"+k+" .ic3-action").click(function(){e._onQueryHierarchySelector(a(this),l)})});g.sortable("refresh");g.find(".ic3-hierarchy").each(function(){var j=a(this).attr("ic3uniqueName");if(!d.lookupAvailableHierarchyByUniqueName(j)){a(this).addClass("ic3-missing")
}})},_onRemove:function(b,c){},_onReceive:function(c,j){if(this.hidden){return}var m=this;var n=this.options;var f=n.builder;var g=f.query();var h=j.item.attr("id");var i=f.lookupAvailableHierarchyByGUID(h);if(i){if(f.acceptHierarchy(n.entity,i.uniqueName)){var e=ic3.mdxHierarchyFactory(f.context,i);
f.stopEvent="force-refresh-ui";n.entity.appendHierarchy(e);this.$div.find(".ic3-hierarchy").each(function(){var p=a(this);if(!p.attr("id")){var o=e.guid();p.attr("id",o);p.attr("ic3uniqueName",ic3.escapeAttribute(e.uniqueName()));p.css("width","");p.html("<div><span class='ic3-caption'>"+ic3.escapeHTML(e.name(g))+"</span><span class='ic3-action ui-icon ui-icon-triangle-1-s'></span></div>");
p.find(".ic3-action").click(function(){m._onQueryHierarchySelector(a(this),e)})}})}else{f.stopEvent="ignore";this.$div.find(".ic3-hierarchy").each(function(){if(!a(this).attr("id")){a(this).remove()}})}return}var d=j.sender;if(d){var b=j.item.attr("ic3uniqueName");
var l=d.parents(".ic3-query-entity").queryBuilderAxis("queryEntity");var k=n.entity;if(!f.acceptMovingHierarchy(l,k,b)){f.stopEvent="ignore";j.sender.sortable("cancel")}}},_onStart:function(b,c){},_onStop:function(d,e){if(this.hidden){return}var c=this.options;
var b=this.options.builder;if(b.stopEvent=="ignore"){}else{if(b.syncQueryFromUI()||b.stopEvent=="force-refresh-ui"){b.onQueryChange()}}delete b.stopEvent},_onQueryHierarchySelector:function(g,d){var f=g.parents(".ic3-query-entity").queryBuilderAxis("queryEntity");
var b=this.options.builder;var e=b.query();var c={autocompleteMembersCacheSize:b.options.autocompleteMembersCacheSize};ic3.MdxQueryHierarchySelection.editHierarchy(b.context,c,e,f,d,function(h){if(h){b.onQueryChange()}})},guids:function(){if(this.hidden){return[]
}var b=[];this.$hierarchies.find("li").each(function(){var c=a(this).attr("id");if(c&&c.indexOf("ic3")==0){b.push(c)}});return b},queryEntity:function(){return this.options.entity},destroy:function(){this.$header&&this.$header.empty();this.$content&&this.$content.empty();
a.Widget.prototype.destroy.call(this)}})})(jQuery);(function($){$.widget("ic3.selectMenu",{options:{title:"Unspecified",extraTitle:null,icon_class:""},_create:function(){this.$div=this.element;this.widgetEventPrefix="ic3";var styles={div:"",select:""};
/*@cc_on
             @if (@_jscript_version < 9)
             this._hackStyles(styles);
             @end
             @*/
;
this.$div.html("<div class='ic3-select-menu' "+styles.div+"><select "+styles.select+"></select><span><span class='ic3-select-menu-title'>"+this.options.title+"</span>"+(this.options.extraTitle?("<span class='ic3-select-menu-extratitle'>"+this.options.extraTitle+"</span>"):"")+"<span class='ic3-select-menu-icon "+this.options.icon_class+"'></span></span></div>");
this.$selector=this.$div.find("select")},_hackStyles:function(styles){styles.div="style='overflow:hidden'";styles.select="style='width:auto; float: right;'"},_hackOptionsWidth:function(){var el;this.$selector.each(function(){el=$(this);el.data("origWidth",el.outerWidth())
}).mouseenter(function(){$(this).css("width","auto")}).bind("blur change",function(){el=$(this);el.css("width",el.data("origWidth"))})},values:function(values,captionProp,idProp){var self=this;captionProp=captionProp?captionProp:"caption";idProp=idProp?idProp:"guid";
var withEmptyOption=this._withEmptyOption();var html=!withEmptyOption?"":"<option style='display:none'></option>";for(var i=0;i<values.length;i++){var id=ic3.prop(values[i],idProp);var caption=ic3.prop(values[i],captionProp);var disabled=values[i].disabled?' disabled="true" ':"";
html+="<option value='"+id+"'"+disabled+">"+ic3.escapeHTML(caption)+"</option>"}self.$selector.html(html);self.$selector.get(0).selectedIndex=withEmptyOption?0:-1;self.$selector.unbind("change");self.$selector.change(function(){var selectedValue=$(this).val();
if(!selectedValue){return}var item=ic3.arrayLookup(values,idProp,selectedValue);if(item.handler){item.handler.call(item)}self._trigger("set",{type:"set"},[item]);self.$selector.get(0).selectedIndex=withEmptyOption?0:-1})},disable:function(id){this.$selector.find("option[value="+id+"]").attr("disabled",true)
},enable:function(id){this.$selector.find("option[value="+id+"]").removeAttr("disabled")},_withEmptyOption:function(){return true},isMenuMode:function(){return this.options.mode&&this.options.mode=="menu"},destroy:function(){$.Widget.prototype.destroy.call(this)
}})})(jQuery);(function(a){a.widget("ic3.selectionAccordion",{options:{},_create:function(){this.widgetEventPrefix="ic3";this.$div=this.element;var m=this;var o=this.options;var d=this.context=this.options.context;var c=this.$editor=o.$editor;var f=this.$selection=c.$selection;
var i=this.hierarchy=o.hierarchy;this.$div.append("<div class='ic3-selection-accordion'></div>");var e=this.$payload=this.$div.find(".ic3-selection-accordion");var g=o.query.cubeName();var h=d.gviConfiguration().schemaInfo();var j=i.isMeasures()||h.lookupHierarchyInCube(g,i.uniqueName());
var l=d.eventsProducedInReport(true);var n=l&&l.length>0;var k=o.queryEntity;if(i.isMeasures()){this.$measures=e.measuresAccordion(a.extend({},o));this.$calculateMeasures=e.calculatedMembersAccordion(a.extend({},o));if(n){this.$events=e.eventsAccordion(a.extend({},o))
}}if(!i.isMeasures()&&j){if(k.isAxis()){this.$levels=e.levelsAccordion(a.extend({},o))}this.$members=e.membersAccordion(a.extend({},o));this.$calculatedMembers=e.calculatedMembersAccordion(a.extend({},o));if(n){this.$events=e.eventsAccordion(a.extend({},o))
}this.$postProcessing=e.postProcessingAccordion(a.extend({},o))}var b=this.$accordion=e.accordion({collapsible:true,heightStyle:"fill"});b.droppable({drop:function(p,q){return m._onDrop(p,q)}})},_onDrop:function(d,e){var b=this;var f=e.draggable;var c=f&&f.attr("id");
if(c){b.$selection.hierarchySelection("removeMdxEntity",c,f.attr("ic3uniqueName"))}},onResizeStop:function(){this.$accordion.accordion("refresh")},validate:function(){var b=true;if(this.$calculateMeasures){b=this.$calculateMeasures.calculatedMembersAccordion("validate")&&b
}if(this.$calculatedMembers){b=this.$calculatedMembers.calculatedMembersAccordion("validate")&&b}if(this.$postProcessing){b=this.$postProcessing.postProcessingAccordion("validate")&&b}return b},applyChanges:function(){this.$calculateMeasures&&this.$calculateMeasures.calculatedMembersAccordion("applyChanges");
this.$calculatedMembers&&this.$calculatedMembers.calculatedMembersAccordion("applyChanges");this.$postProcessing&&this.$postProcessing.postProcessingAccordion("applyChanges")},destroy:function(){this.$payload&&this.$payload.remove();a.Widget.prototype.destroy.call(this)
}})})(jQuery);(function(a){var b="ic3-sorted-sub-list";a.widget("ic3.sortedList",{options:{icon_down:"ui-icon ui-icon-carat-1-s",icon_up:"ui-icon ui-icon-carat-1-n",icon_delete:"ui-icon ui-icon-trash",useDragDrop:true,useNavigationArrows:true,selectionDiv:null,allowSubLists:false,cls:"",sortableOptions:undefined},_setOption:function(c,d){a.Widget.prototype._setOption.apply(this,arguments)
},_create:function(){this.widgetEventPrefix="ic3";this.element.html("<div class='ic3-sorted-list "+this.options.cls+"'></div>");this.$div=this.element.find(".ic3-sorted-list");if(this.options.useDragDrop){var c=this;this.$div.sortable(a.extend({update:function(){c._trigger("change",{type:"change"})
}},this.options.sortableOptions))}},connectWith:function(c){if(this.options.useDragDrop){this.$div.sortable("option","connectWith",c)}},clear:function(){this.$div.empty()},doInsertValue:function(j,l,i,d,g){var m=this;var c=ic3.prop(l,"guid");var n=ic3.prop(l,"caption");
var e=l.cssClass?" "+l.cssClass:"";var h="<div id='"+c+"' class='ic3-sorted-item"+e+"'>";if(this.options.useNavigationArrows){h+="<span class='up "+this.options.icon_up+"'></span><span class='down "+this.options.icon_down+"'></span>"}h+="<span class='click'>"+ic3.escapeHTML(n)+"</span><span class='delete "+this.options.icon_delete+"'></span></div>";
var f=j.children().size();if(i===0){j.prepend(h)}else{if(i===f){j.append(h)}else{j.children().eq(i).before(h)}}var k=j.find("#"+c);if(d){l[d]=function(o){k.children(".click").text(ic3.escapeHTML(o));return k}}if(g){m.clearSelection();k.addClass("ic3-selected-item")
}k.children(".click").click(function(){if(m._trigger("select",{type:"select"},l)!==false){m.clearSelection();if(m.options.selectionDiv){a(this).parent().addClass("ic3-selected-item")}}});k.find(".delete").click(function(){var o=false;if(k.hasClass("ic3-selected-item")){m.clearSelection();
o=true}var p=a(this).parent();p.remove();m._trigger("delete",{type:"delete",wasSelected:o},l)});k.find(".down").click(function(){var p=a(this).parent();var o=p.next();if(o.length!==0){p.insertAfter(o);m._trigger("change",{type:"change"})}else{m._trigger("missdown",{type:"missdown"},[l,p])
}});k.find(".up").click(function(){var p=a(this).parent();var o=p.prev();if(o.length!==0){p.insertBefore(o);m._trigger("change",{type:"change"})}else{m._trigger("missup",{type:"missup"},[l,p])}});return k},insertValue:function(e,j,h,k){var d=this.doInsertValue(this.$div,j,e,k,h);
var c=j.items;if(this.options.allowSubLists&&ic3.isArray(c)){var g=this._createSubItemsContainer(d);for(var f=0;f<c.length;f++){g.sortedList("addValue",c[f],false,k)}}return d},insertSubValue:function(e,f){var g=this.$div.find("#"+e.parentId);var d=g.find(".ic3-sorted-sublist-ct");
var c;if(d.length==0){c=this._createSubItemsContainer(g)}else{c=a(d[0])}c.sortedList("addValue",e,false,f)},_createSubItemsContainer:function(e){var c=a("<div class='ic3-sorted-sublist-ct'>");c.appendTo(e);var d=a.extend({sortableOptions:{connectWith:"."+b}},this.options);
d.cls=b+(this.options.cls?" "+this.options.cls:"");c.sortedList(d);return c},addValue:function(d,c,e){return this.insertValue(this.$div.children().size(),d,c,e)},removeValue:function(d){var e=ic3.prop(d,"guid");var c=this.$div.find("#"+e);if(c.length>0){c.remove();
this._trigger("delete",{type:"delete"},d)}},appendTo:function(c){this.$div.append(c)},prependTo:function(c){this.$div.prepend(c)},values:function(){var d=[];var c=this;this.$div.children().each(function(){var f=a(this).attr("id");if(c.options.allowSubLists){var e={id:f,items:a(this).find(".ic3-sorted-sublist-ct").sortedList("values")};
d.push(e)}else{d.push(f)}});return d},getSelectedValues:function(){var c=[];this.$div.find(".ic3-selected-item").each(function(){var d=a(this).attr("id");c.push(d)});return c},clearSelection:function(){if(this.options.selectionDiv){this.options.selectionDiv.find(".ic3-selected-item").removeClass("ic3-selected-item")
}},contains:function(d){var e=ic3.prop(d,"guid");var c=false;this.$div.find("div").each(function(){var f=a(this).attr("id");if(f===e){c=true}});return c},selectItem:function(e){var f=ic3.prop(e,"guid");var c=this.$div.find("#"+f);var d=c.children(".click");
d.click()},destroy:function(){a.Widget.prototype.destroy.call(this)}})})(jQuery);var ic3;(function(a){var b=(function(){function c(d){this.context=d}c.prototype.execute=function(){return this.doExecute()};c.prototype.doExecute=function(){throw"Abstract method!"
};c.getDisplayNameTag=function(){throw"Abstract method!"};return c}());a.Command=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(e){d.call(this,e)}c.prototype.execute=function(){if(d.prototype.execute.call(this)!==false){this.context.updateHistory(this)}};c.prototype.undo=function(){throw"Abstract method!"};c.prototype.redo=function(){this.doExecute()
};return c}(a.Command));a.UndoableCommand=b})(ic3||(ic3={}));var ic3;(function(a){(function(d){d[d.WIDGET_TEMPLATE=0]="WIDGET_TEMPLATE";d[d.LOCALIZATION=1]="LOCALIZATION";d[d.THEME=2]="THEME"})(a.AppLocalEntityType||(a.AppLocalEntityType={}));var b=a.AppLocalEntityType;
var c=(function(){function e(f){this.context=f;this.storage={};this.cache={}}e.prototype.getType=function(f){return e.types[f]};e.prototype.sendRequest=function(g,i,h){var f=function(j,k){return(_.isFunction(i)&&i(_.isFunction(h)?h(j,k):j,k))};this.context.gviConnection().sendRequest(g,{onError:function(j){return f(null,j)
},onFailure:function(j){return f(null,j)},onSuccess:function(l){var j;try{j=g.extractResult(l)}catch(k){}f(j)}});return g};e.prototype.sendResult=function(f,g){return _.defer(function(){return _.isFunction(g)&&g(f)})};e.splitPath=function(f,g){return _.concat([f],(g||"").split("/"))
};e.buildPath=function(g,f,h){return _.get(this.namePathMapping,[g,f],(_.isString(h)?_.trim(h," /")+"/":"")+_.snakeCase(f)+".json")};e.prototype.getStorageEntity=function(g,h){var f=_.get(this.storage,e.splitPath(g,h));return f?_.pickBy(f,function(j,i){return i.indexOf("__")
}):undefined};e.prototype.setStorageEntity=function(f,h,g){return _.set(this.storage,e.splitPath(f,h),g)};e.prototype.getCacheEntity=function(f,g){return _.get(this.cache,e.splitPath(f,g),this.getStorageEntity(f,g))};e.prototype.setCacheEntity=function(f,h,g){return _.set(this.cache,e.splitPath(f,h),g)
};e.prototype.unsetCacheEntity=function(f,g){return _.unset(this.cache,e.splitPath(f,g))};e.prototype.hasWriteAccess=function(f,g){return this.context.userInfo().hasEntityWriteAccess(f)&&!this.isStorageEntity(f,g)};e.prototype.isStorageEntity=function(f,g){return !!this.getStorageEntity(f,g)
};e.prototype.listStorageEntities=function(f,h){var g=_.get(this.storage,e.splitPath(f,h),[]);return _.map(g,function(j,i){return({path:h+"/"+i,caption:_.get(j,"__caption",_.startCase(i))})})};e.prototype.listEntities=function(f,g,i){var h=this;return this.sendRequest(new viz.ListAppLocalEntityNamesGviRequest(this.getType(f)),i,function(j){_.forEach(j,function(k){return _.set(e.namePathMapping,[f,k.caption],k.path)
});return _.concat(h.listStorageEntities(f,g),j||[])})};e.prototype.getEntity=function(g,h,j){var i=this;var f=this.getCacheEntity(g,h);return f?this.sendResult(f,j):this.sendRequest(new viz.GetAppLocalEntityGviRequest(this.getType(g),h),j,function(l){var k=l&&l.json;
if(k){i.setCacheEntity(g,h,k)}return k})};e.prototype.saveEntity=function(g,i,f,h,j){if(this.hasWriteAccess(g,i)){this.setCacheEntity(g,i,h);return this.sendRequest(new viz.SaveAppLocalEntityGviRequest(this.getType(g),i,f,JSON.stringify(h)),j)}};e.prototype.deleteEntity=function(f,g,h){if(this.hasWriteAccess(f,g)){this.unsetCacheEntity(f,g);
return this.sendRequest(new viz.DeleteAppLocalEntityGviRequest(this.getType(f),g),h)}};e.prototype.moveEntity=function(g,f,h,i){return this.hasWriteAccess(g,f)&&this.hasWriteAccess(g,h)&&this.sendRequest(new viz.MoveAppLocalEntityGviRequest(this.getType(g),f,h),i)
};e.prototype.copyEntity=function(h,f,i,g,j){return this.hasWriteAccess(h,f)&&this.hasWriteAccess(h,i)&&this.sendRequest(new viz.CopyAppLocalEntityGviRequest(this.getType(h),f,i,g),j)};e.prototype.fetchEntities=function(f,i){var h=this;var g=0;if(f.length<=0){_.defer(function(){return _.isFunction(i)&&i(h.cache)
})}return _.map(f,function(l,j){var k=l.type,m=l.path;h.context.entityMgr().getEntity(k,m,function(n,o){if(++g===f.length&&_.isFunction(i)){i(h.cache)}})})};e.types=(d={},d[b.WIDGET_TEMPLATE]=viz.GviConstants.AppLocalEntityType.widgetTemplate,d[b.LOCALIZATION]=viz.GviConstants.AppLocalEntityType.localization,d[b.THEME]=viz.GviConstants.AppLocalEntityType.theme,d);
e.namePathMapping={};return e;var d}());a.EntityMgr=c;a.EntityPath={STYLE_PRESET:"stylePresets"}})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(){d.call(this);this.undoStack=[];this.redoStack=[]}c.prototype.fireHistoryUpdate=function(){this.fireEvent("historyupdate",this)};c.prototype.update=function(e){this.undoStack.push(e);if(e instanceof a.UndoableCommand){this.redoStack.length=0
}this.fireHistoryUpdate()};c.prototype.clear=function(){this.undoStack.length=0;this.redoStack.length=0};c.prototype.undo=function(){if(this.undoStack.length>0){var e;do{e=this.undoStack.pop();this.redoStack.push(e)}while(!(e instanceof a.UndoableCommand)&&this.undoStack.length>0);
if(e){e.undo()}this.fireHistoryUpdate()}};c.prototype.redo=function(){if(this.redoStack.length>0){var e;do{e=this.redoStack.pop();this.undoStack.push(e)}while(!(e instanceof a.UndoableCommand)&&this.redoStack.length>0);if(e){e.redo()}this.fireHistoryUpdate()
}};c.prototype.canUndo=function(){for(var e=this.undoStack.length-1;e>=0;e--){if(this.undoStack[e] instanceof a.UndoableCommand){return true}}return false};c.prototype.canRedo=function(){for(var e=this.redoStack.length-1;e>=0;e--){if(this.redoStack[e] instanceof a.UndoableCommand){return true
}}return false};c.prototype.isModified=function(){var h=this.undoStack.length;var i=this.redoStack.length;var f=h==0&&this.hasOnlyUndoableCommand(this.redoStack);var e=h>0&&!(this.undoStack[h-1] instanceof a.UndoableCommand);var g=i>0&&!(this.redoStack[i-1] instanceof a.UndoableCommand);
return f||e||g};c.prototype.hasOnlyUndoableCommand=function(e){for(var f=0;f<e.length;f++){var g=e[f];if(!(g instanceof a.UndoableCommand)){return false}}return true};return c}(viz.EventHandler));a.HistoryMgr=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a=(function(d){__extends(c,d);function c(e){d.call(this,e);this.eventsMap={};this.queryManagersMap={};this.classID="ic3.GlobalFilter"
}c.prototype.registerQueryManager=function(e,f){this.queryManagersMap[f]=e};c.prototype.registerEvent=function(f,e){this.eventsMap[f]=e.asMdx()};c.prototype.unregisterEvent=function(e){delete this.eventsMap[e]};c.prototype.consumeEvent=function(f,g,e){if(e.isGlobalFilter&&e.isGlobalFilter()){this.registerEvent(g,e);
this.context.eventMgr().fireMainEvent("ic3-report-global-filter")}};c.prototype.doFilter=function(){var e=this;this.context.mdxQueriesMgr().forEachMdxQuery(function(f,i){var h=e.buildMdx(i.mdxStatement());var j=i._adapter.uid();var g=e.queryManagerByAdapterId(j);
g&&g.executeRequest(new viz.MdxGviRequest(h))})};c.prototype.buildMdx=function(f){var e=new viz.StringBuilder(f);c.addGlobalFilterBlock(e);e.append("\n").append(this.buildFilterMdx());return e.asString()};c.prototype.buildFilterMdx=function(){var e="";$.each(this.eventsMap,function(f,g){e+=b.MdxConst.FILTER_MDX+" "+g+"\n"
});return e};c.prototype.queryManagerByAdapterId=function(e){return this.queryManagersMap[e]};c.addGlobalFilterBlock=function(e){e.append(c.GLOBAL_FILTER_BLOCK)};c.GLOBAL_FILTER_BLOCK="\n/*ic3globalFilter*/";return c}(b.Serializable));b.GlobalFilter=a})(ic3||(ic3={}));
var ic3;(function(a){var e=(function(){function f(g,h){this.context=g;this.server=d();this._schemaName=null;this._dsSettings=h||{}}f.prototype.ready=function(h){var l=this;var g=this;var k=this.gviConnection();var j=new viz.QueryManager(k);var i=new viz.GetReportingMetaInfoGviRequest();
j.addResultWidget({onVizRequestExecuted:function(o){try{var m=i.extractResult(o);a.Context.meta=m.appPerms.meta;a.PRINTING_PAPER_SIZES=m.paperSizes;a.PRINTING_PAPER_RATIOS=m.paperRatios;g._versionInfo=m.versionInfo;g._appPerms=m.appPerms;g._localesInfo=new a.LocalesMetaInfo(m.localesInfo);
g._environmentInformation=m.envInfo;g._userInfo=new a.UserMetaInfo(m.userInfo);if(!g._userInfo.isReportAuthorized()){throw"not authorized"}g._schemasInfo=m.schemasInfo;g._cubesInfo=m.cubesInfo;g._schemaInfo=m.schemaInfo?new a.SchemaMetaInfo(m.schemaInfo):null;
l.context.onUserInfoAvailable();a.callMethod(h,"onVizRequestExecuted")}catch(n){a.callMethod(h,"onError",n)}},onError:function(m){a.callMethod(h,"onError",m);return false},onFailure:function(m){a.callMethod(h,"onFailure",m);return false}});j.executeRequest(i)
};f.prototype.schemaName=function(g){if(g){this._schemaInfo=null;return this._schemaName=g}return this._schemaName};f.prototype.gviConnection=function(){if(!this.conn){var h=$.extend({},viz.GlobalConnectionSettings,this._dsSettings);if(a.isUndefined(h.url)){h.url=this.server
}if(!h.userName){h.userName="ic3-fake-user";h.userPassword="?";h.userNameCheck=false}this.logSettings(h);var g=(this.dataSource=new viz.DataSource(h));g.login({onSuccess:function(j,i){g.authUserName=j;g.authUserRole=i}});this.conn=new viz.Connection(this.dataSource,null)
}this.conn.schemaName=this._schemaName;return this.conn};f.prototype.logSettings=function(g){a.logMsg("---------------------------------------------------------------------------------------------");a.logMsg("[ic3-gvi] Connection Settings :");a.logMsg("                        - URL : "+g.url);
a.logMsg("              - (default) URL : "+this.server);a.logMsg("                - (local) URL : "+this._dsSettings.url);a.logMsg("               - (global) URL : "+viz.GlobalConnectionSettings.url);a.logMsg("                    User Name : "+g.userName);
a.logMsg("          - (local) User Name : "+this._dsSettings.userName);a.logMsg("         - (global) User Name : "+viz.GlobalConnectionSettings.userName)};f.prototype.actualDataSourceSettings=function(){if(this.dataSource){return this.dataSource.actualSettings()
}return{}};f.prototype.authUserName=function(){return this.dataSource.authUserName?this.dataSource.authUserName:"-"};f.prototype.authUserRole=function(){return this.dataSource.authUserRole?this.dataSource.authUserRole:"-"};f.prototype.userInfo=function(){return this._userInfo
};f.prototype.localesInfo=function(){return this._localesInfo};f.prototype.versionInfo=function(){return this._versionInfo.raw};f.prototype.environmentInformation=function(){return this._environmentInformation};f.prototype.isPrintServerEnabled=function(){return this._appPerms&&this._appPerms.printServer
};f.prototype.allSchemas=function(){return new viz.MdxEntityData(this._schemasInfo)};f.prototype.allCubes=function(h){var g=a.arrayLookup(this._cubesInfo,"schema",h);return new viz.MdxEntityData(g?g.cubes:[])};f.prototype.schemaInfo=function(g){return g?this._schemaInfo=g:this._schemaInfo
};return f}());a.GviConfiguration=e;function d(){var f=document.location;var k=f.href;if(k.indexOf("ic3report-idea-dev.html")!=-1||k.indexOf("ic3report-test.html")!=-1){return"http://localhost:8282/icCube/gvi"}var i=k.indexOf("/icCube/");if(i!=-1){var h=k.substring(0,i);
return h+"/icCube/gvi"}var g=document.createElement("a");g.href=f;var l=g.protocol;var j=g.host;return l+"//"+j+"/icCube/gvi"}function b(){var f=document.location;var g=f.href;if(g.indexOf("file:")==0){return 30000}return 60000}a.getGlobalTimeout=b;function c(){return{userName:"demo",userPassword:"demo",userNameCheck:false}
}a.getDemoDataSourceSettings=c})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;
(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,ic3GviActionConstants.cancelActiveRequests);this.addParameter(ic3GviParamConstants.timestamp,(new Date()).valueOf());this.addParameter(ic3GviParamConstants.windowUId,f.windowUId());this.addNullableParameter(ic3GviParamConstants.widgetUId,e)
}return c}(viz.GviRequest));a.CancelActiveRequestsGviRequest=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(){this.topics_={}}c.prototype.publish=function(e,f){var d=this.topics_[e];if(d&&d.subscribers.length>0){$.each(d.subscribers,function(g,h){h(f)
})}};c.prototype.subscribe=function(f,d){var e=this.topics_[f];if(!e){e=this.topics_[f]={name:f,subscribers:[]}}d._ic3subscriberId=a.uniqueId();e.subscribers.push(d)};return c}());a.MessagingService=b})(ic3||(ic3={}));var ic3;(function(d){function e(l){var m=new d.Context(l);
$.each(ic3globals.plugins,function(n,o){o.registerBabylonTags&&o.registerBabylonTags(d.babylon)});m.messagingService(new d.MessagingService());m.gviConfiguration(new d.GviConfiguration(m,l.dsSettings));m.notificationMgr(new d.NotificationMgr(m));m.eventMgr(new d.EventMgr(m));
m.errorMgr(new d.ErrorMgr(m));m.reportMgr(new d.ReportMgr(m));c(m);return m}d.setupContext=e;function c(m){var l=m.reportMgr();l.register(new d.FixedLayoutFactory(m));l.register(new d.SelectControlAdapterFactory(m));l.register(new d.DatePickerAdapterFactory(m));
l.register(new d.ActionSelectControlAdapterFactory(m));l.register(new d.InputAdapterFactory(m));l.register(new d.TinyMCEAdapterFactory(m));l.register(new d.ReportWidgetAdapterFactory(m));l.register(new d.ReportLauncherWidgetAdapterFactory(m));l.register(new d.MdxQueryEditorAdapterFactory(m));
l.register(new d.GenericTableAdapterFactory(m));l.register(new d.WidgetTemplateAdapterFactory(m));d.WidgetTemplateAdapterFactory.getEntityFactories(m).map(function(n){return l.register(n)});if(ic3globals.libs.amCharts){l.register(new d.AmChartsAdapterSerialFactory(m));
l.register(new d.AmChartsAdapterPieFactory(m));l.register(new d.AmChartsAdapterXYFactory(m));l.register(new d.AmChartsAdapterOHLCFactory(m));l.register(new d.AmChartsAdapterFunnelFactory(m));l.register(new d.AmChartsAdapterRadarFactory(m));l.register(new d.AmChartsAdapterGanttFactory(m));
l.register(new d.AmChartsAdapterWaterfallFactory(m));l.register(new d.AmChartsAdapterGaugeFactory(m));l.register(new d.AmComboSerialLineChartFactory(m))}if(ic3globals.libs.GoogleViz){l.register(new d.GoogleChartsAdapterGenericFactory(m));l.register(new d.GoogleChartsAdapterTableFactory(m));
l.register(new d.GoogleChartsAdapterComboFactory(m));l.register(new d.GoogleChartsAdapterSankeyFactory(m));l.register(new d.GoogleChartsAdapterCalendarFactory(m));l.register(new d.GoogleChartsAdapterGeoFactory(m))}if(ic3globals.libs.GoogleMaps){l.register(new d.GoogleMapAdapterFactory(m));
l.register(new d.GoogleRegionsMapAdapterFactory(m))}_.each(ic3globals.plugins,function(n){if(_.isFunction(n.registerWidgetFactories)){n.registerWidgetFactories(l)}})}d.setupReportManager=c;function a(){if(navigator.languages){return navigator.languages[0]}else{if(navigator.userLanguage){return navigator.userLanguage
}else{return navigator.language}}}d.getNavigatorLocale=a;function f(p,o,n){var m=[];m.push({group:"?",values:o.guts(),meta:o.gutsMeta(),bean:o,beanSetter:o.refreshHtmlFromGuts});var l=$.extend({validateOnChange:true,context:o.context,groups:m},n);return p.form(l)
}d.formForGuts=f;function h(o,q,p,m){var l=[];l.push({group:"?",values:p.guts(),meta:p.gutsMeta(),bean:p,beanSetter:p.refreshHtmlFromGuts});var n=$.extend({title:d.escapeHTML(q),height:"auto"},m);return $("body").formDialog({dialog:n,form:{context:o,groups:l,validateOnChange:m.validateOnChange,formValidator:m.formValidator}})
}d.dialogForGuts=h;function i(m){var l=document.createElement("input");l.type="file";l.style.display="none";l.onchange=function(o){var n=o.target.files;if(n&&n.length>0){g(n[0],m)}document.body.removeChild(l)};document.body.appendChild(l);l.click()}d.openFile=i;
function g(m,n){if(m instanceof File){var l=new FileReader();l.onload=function(o){return n(o.target.result,m)};l.onerror=function(o){return n(null,m)};l.readAsText(m)}else{throw new Error("Non-File object!")}}d.loadFile=g;function b(p,n,o){var m=new Blob([].concat(p),{type:o||"application/octet-stream"});
var l=document.createElement("a");l.href=URL.createObjectURL(m);l.style.display="none";l.download=n;document.body.appendChild(l);l.click();setTimeout(function(){document.body.removeChild(l);URL.revokeObjectURL(l.href)},1000)}d.saveFile=b;function k(n,m){var l=document.createElement("a");
l.href=n;l.style.display="none";l.download=m;document.body.appendChild(l);l.click();setTimeout(function(){document.body.removeChild(l)},1000)}d.saveDataUrl=k;function j(m){var l=[];for(var n=1;n<arguments.length;n++){l[n-1]=arguments[n]}return m.replace(/{(\d+)}/g,function(p,o){return(typeof l[o]!=="undefined"?l[o]:p)
})}d.format=j})(ic3||(ic3={}));var ic3;(function(b){(function(d){d[d.ERROR=0]="ERROR";d[d.WARNING=1]="WARNING";d[d.INFO=2]="INFO";d[d.DEBUG=3]="DEBUG"})(b.LogLevel||(b.LogLevel={}));var a=b.LogLevel;var c=(function(){function d(){this.appenders=[]}d.formatMessage=function(h){var e=[];
for(var g=1;g<arguments.length;g++){e[g-1]=arguments[g]}for(var f=0;f<e.length;f++){if(h.indexOf("{}")>-1){h=h.replace("{}",e[f])}else{return h}}return h};d.prototype.provideLevelMethod=function(f,g){var e=this;return function(j){var h=[];for(var k=1;k<arguments.length;
k++){h[k-1]=arguments[k]}var i={date:new Date(),message:_.isError(j)?j.message:j.toString(),level:g,info:f,args:h};_.forEach(e.appenders,function(l){return l.log(_.cloneDeep(i))})}};d.prototype.addAppender=function(e){this.appenders.push(e)};d.prototype.getLogger=function(e){return{error:this.provideLevelMethod(e,a.ERROR),warning:this.provideLevelMethod(e,a.WARNING),info:this.provideLevelMethod(e,a.INFO),debug:this.provideLevelMethod(e,a.DEBUG)}
};return d}());b.LoggerFactory=c})(ic3||(ic3={}));var ic3;(function(a){var d=(function(){function f(h,g){var i=this;this.newImportantMessagesCounter=0;this.messages=[];this.config={delay:500,level:a.LogLevel.DEBUG};this.notifyWidgets=_.throttle(function(){var j=i.context.mainReport();
if(!j){return}if(j.hasBottomPanel()){j.setBottomPanel(React.createElement(a.BottomConsole,{items:i.getMessages()}))}else{j.refreshAllButContent()}},this.config.delay);this.context=h;this.config=$.extend(this.config,g)}f.prototype.showConsole=function(g){this.context.mainReport().setBottomPanel(React.createElement(a.BottomConsole,{items:this.getMessages(),widgets:g}))
};f.prototype.getAllMessages=function(){this.newImportantMessagesCounter=0;return this.messages};f.prototype.getNewImportantMessagesCount=function(){return this.newImportantMessagesCounter};f.prototype.getMessages=function(){var g=this;return _.filter(this.getAllMessages(),function(h){return h.level<=g.config.level
})};f.prototype.clearMessages=function(){this.messages.length=0;this.notifyWidgets()};f.prototype.log=function(g){g.message=a.LoggerFactory.formatMessage.apply({},[g.message].concat(g.args));if(g.level<=a.LogLevel.ERROR){this.newImportantMessagesCounter++}this.messages.unshift(g);
this.notifyWidgets()};return f}());a.BottomConsoleAppender=d;var c=(function(){function f(h,g){this.config={level:a.LogLevel.DEBUG};this.context=h;this.config=$.extend(this.config,g)}f.prototype.log=function(h){if(h.level<=this.config.level){var g=a.LoggerFactory.formatMessage.apply({},[h.message].concat(h.args));
switch(h.level){case a.LogLevel.ERROR:console.error(g);break;case a.LogLevel.WARNING:console.warn(g);break;case a.LogLevel.INFO:console.info(g);break;case a.LogLevel.DEBUG:console.log(g);break;default:}}};return f}());a.BrowserConsoleAppender=c;var e=(function(){function f(h,g){this.config={level:a.LogLevel.DEBUG,filter:function(i){return _.includes([a.LogLevel.INFO],i.level)
}};this.context=h;_.assign(this.config,g)}f.prototype.log=function(h){if(!this.context.mainReport()){return}var i=this.context.mainReport().reportMode();if(i===a.MainReportMode.EDITING_REPORTING&&h.level<=this.config.level&&this.config.filter(h)){var g=a.LoggerFactory.formatMessage.apply({},[h.message].concat(h.args));
this.context.mainReport().addNotification(g,h.level)}};return f}());a.NotificationsAppender=e;var b=(function(){function f(h,g){this.config={level:a.LogLevel.ERROR};this.context=h;_.assign(this.config,g)}f.prototype.log=function(h){if(this.context.mainReport()){var g=this.context.mainReport().layout();
if(h.level<=this.config.level&&g){_.map(g.getBoxes(),function(i){if(i.guid()===h.info.uid){i.pushMessages([h])}})}}};return f}());a.WidgetMessageAppender=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(d){this.context=d}c.prototype.evaluateString=function(g,f){var e=_.isObject(f)?f:{};
var d=this;var h=this.context.mainReport();return _.isString(g)?g.replace(/@\{([^!:}]+)(:([^!}]+))?(!([^}]+)?)?}/g,function(j){if(!e.hasOwnProperty(j)){var i=c.matchToPlaceholderDefinition([arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]]);
e[j]=d.getPlaceholderValue(i);if(_.isUndefined(e[j])){d.context.notificationMgr().notifyDebug("eventMgr.missingParamWarning",i.name)}}return e[j]}).replace(/@d\{([^\s]*)}/g,function(j,i){return h.l(i)}):g};c.prototype.getPlaceholderValue=function(e){var d=this.context.eventMgr().eventObject(e.name);
if(_.isUndefined(d)||_.isNull(d)||!_.isObject(d)){return _.isString(d)&&d.toString()||e.defaultValue}if(_.isString(e.getter)&&!_.isEmpty(e.getter)){if(e.getter==="this"){return d.toString()}var f=_.get(d,e.getter);if(_.isFunction(f)){return f.call(d)}else{if(_.isString(f)){return f
}}return f.toString()}if(d.fireMdxByDefault===true&&_.isFunction(d.asMdx)){return d.asMdx()}if(_.isUndefined(d.caption)||_.isNull(d.caption)){return undefined}if(_.isFunction(d.caption)){return d.caption()}return d.caption.toString()};c.getPlaceholderDefinitions=function(g){if(_.isEmpty(g)){return{}
}var f={};var e=/@\{([^!:}]+)(:([^!}]+))?(!([^}]+)?)?}/g;var d;while((d=e.exec(g))!==null){if(!f.hasOwnProperty(d[0])){f[d[0]]=c.matchToPlaceholderDefinition(d)}}return f};c.matchToPlaceholderDefinition=function(d){var e={lexeme:d[0],name:d[1]};if(_.isString(d[3])){e.getter=d[3]
}if(_.isString(d[4])){e.defaultValue=_.isString(d[5])?d[5]:""}return e};return c}());a.PlaceholdersEvaluator=b})(ic3||(ic3={}));var ic3;(function(ic3){var JavaScriptEvaluator=(function(){function JavaScriptEvaluator(context){this.context=context}JavaScriptEvaluator.prototype.evaluateString=function(value){var evaluatedFunction=undefined;
try{eval("evaluatedFunction = function(context){ var args=[].slice.call(arguments, 1); "+value+" }")}catch(error){this.context.notificationMgr().notifyWarning("Cannot parse '"+value+"' "+error)}return evaluatedFunction};return JavaScriptEvaluator}());ic3.JavaScriptEvaluator=JavaScriptEvaluator
})(ic3||(ic3={}));var ic3;(function(ic3){var ExpressionEvaluator=(function(){function ExpressionEvaluator(context){this.context=context}ExpressionEvaluator.prototype.evaluateString=function(value){var compiled;try{compiled=math.compile(value)}catch(e){return value
}return function(context){try{return compiled.eval(context)}catch(error){return compiled}}};return ExpressionEvaluator}());ic3.ExpressionEvaluator=ExpressionEvaluator})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(d){this.placeholdersEvaluator=new a.PlaceholdersEvaluator(d);
this.expressionEvaluator=new a.ExpressionEvaluator(d);this.javaScriptEvaluator=new a.JavaScriptEvaluator(d);this.context=new a.ReportingContextForEvaluation(d)}c.prototype.evaluate=function(d){var e=this;if(_.isUndefined(d)||_.isNull(d)||_.isFunction(d)){return d
}if(_.isString(d)){return this.placeholdersEvaluator.evaluateString(d)}if(_.isArray(d)){return _.map(d,function(f){return e.evaluate(f)})}if(_.isObject(d)){return this.evaluateObject(d)}return d};c.prototype.evaluateObject=function(f){var h=this;if(f.classID!=null){return f
}if(_.isString(f.evaluationType)){var g=_.cloneDeep(f);var d=void 0;if(f.evaluationType==="EXPRESSION"){d=this.placeholdersEvaluator.evaluateString(f.expression)}else{if(f.evaluationType==="JS"){var e=this.placeholdersEvaluator.evaluateString(f.jsFunctionBody);
d=this.javaScriptEvaluator.evaluateString(e)}}if(_.isFunction(d)){g.evalFunction=d;if(g.contextType==="REPORTING"){g.value=c.convertValue(g.evalFunction(this.context),g.valueType)}}else{g.value=c.convertValue(d,g.valueType)}return g}return _.transform(f,function(i,k,j){i[j]=h.evaluate(k)
},{})};c.convertValue=function(d,e){if(_.isUndefined(d)||_.isNull(d)){return d}if(e==="NUMBER"){return parseFloat(d)}return d};return c}());a.Evaluator=b})(ic3||(ic3={}));var ic3;(function(a){function c(d){return($.isNumeric(d)?d+"px":d)}a.toFontSize=c;var b=(function(){function d(){}d.TEXT=function(e,f){if(_.isNumber(e)&&!_.isNaN(e)){return $.formatNumber(e,{format:f,locale:"us"})
}else{if(_.isString(e)&&!_.isEmpty(e)){return d.TEXT(parseFloat(e),f)}else{if(_.isDate(e)){return moment(e).format(f)}}}return""};d.relative=function(l,m,f){var k=_.trim(l," /").split("/");var n=_.trim(m," /").split("/");var j=[],e=[],g=[];var h=0;while(k[h]){if(k[h]==n[h]){j.push(k[h]);
k.shift();n.shift()}else{break}h++}for(var h=Math.max(k.length,n.length)-1;h>=0;h--){if(!k[h]){g.unshift(n[h])}if(!n[h]){e.push("..")}if(k[h]&&n[h]){if(k[h]==n[h]){j.push(k[h])}else{e.push("..");g.unshift(n[h])}}}if(e.length==0){e.unshift(".")}if(j.length<1){e=[""]
}return e.concat(g,f).join("/")};d.absolute=function(i,h,f){var g=h.split("/"),e=i.split("/");_.forEach(g,function(j){if(j==".."){e.pop()}else{if(j=="."){}else{e.push(j)}}});e.push(f);return e.join("/")};d.buildAxesIndexes=function(e,h,g,f,i){if(a.IcCubeMdxBuilder.hasMeasuresAxis(h,e)){if(e.getAxes().getAxisCount()>2){return[[g],i==null?_.times(e.getAxes().getAxis(1).getTupleCount()):[i],f==null?_.times(e.getAxes().getAxis(2).getTupleCount()):[f]]
}else{return[[g],f==null?_.times(e.getAxes().getAxis(1).getTupleCount()):[f]]}}else{if(e.getAxes().getAxisCount()>1){return[i==null?_.times(e.getAxes().getAxis(0).getTupleCount()):[i],f==null?_.times(e.getAxes().getAxis(1).getTupleCount()):[f]]}else{return[f==null?_.times(e.getAxes().getAxis(0).getTupleCount()):[f]]
}}};return d}());a.UtilityFunctions=b})(ic3||(ic3={}));(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;
(function(a){var c=(function(){function e(f){this.reportingContext=f}e.prototype.TEXT=function(f,g){return a.UtilityFunctions.TEXT.apply(this,arguments)};e.prototype.setLocale=function(f){if(this.reportingContext.gviConfiguration().localesInfo().getLocale(f)){this.reportingContext.mainReport().setLocale(f)
}else{this.reportingContext.notificationMgr().notifyWarning("Unsupported locale specified : "+f)}};e.prototype.eventValue=function(f){return this.reportingContext.eventMgr().getEventValue(f)};e.prototype.l=function(h){var f=[];for(var i=1;i<arguments.length;
i++){f[i-1]=arguments[i]}return(g=this.reportingContext.mainReport()).l.apply(g,[h].concat(f));var g};e.prototype.fireEvent=function(h){var f=[];for(var i=1;i<arguments.length;i++){f[i-1]=arguments[i]}return(g=this.reportingContext.eventMgr()).fireEvent.apply(g,[h].concat(f));
var g};e.prototype.getUserInfo=function(){return this.reportingContext.userInfo()};e.prototype.getReportInfo=function(){return this.reportingContext.mainReport().state.reportInfo};return e}());a.ReportingContextForEvaluation=c;var b=(function(f){__extends(e,f);
function e(g,h){f.call(this,g.reportingContext);this.widgetAdapter=h}return e}(c));a.WidgetContext=b;var d=(function(){function e(){}e.evaluate=function(h,g,j,f){var i=this;if(_.isUndefined(h)||_.isNull(h)||_.isFunction(h)){return h}if(_.isArray(h)){return _.map(h,function(k){return i.evaluate(k,g,j,f)
})}if(_.isObject(h)){return e.evaluateObject(h,g,j,f)}if(_.isString(h)){return _.isUndefined(g[h])?h:g[h]}return h};e.evaluateObject=function(i,h,l,g){var k=this;if(i.classID!=null){return i}if(_.isString(i.evaluationType)){if(!_.isUndefined(i.value)){return i.value
}if(_.isFunction(i.evalFunction)){if(e.isContextSuitable(l,i.contextType)){var j=e.createPublicContext(h,l);var f=i.evalFunction.apply(i,[j].concat(g));return _.isUndefined(f)?i:f}}}return _.transform(i,function(m,o,n){m[n]=k.evaluate(o,h,l,g)},{})};e.createPublicContext=function(f,g){switch(g){case"REPORTING":return new a.PublicReportingContext(f);
case"WIDGET":return new a.PublicWidgetContext(f);case"DATA":return new a.PublicTableContext(f);case"CELL":return new a.PublicCellContext(f)}};e.isContextSuitable=function(g,f){if(g===f){return true}if(g==="WIDGET"&&f==="REPORTING"){return true}if(g==="DATA"&&(f==="WIDGET"||f==="REPORTING")){return true
}if(g==="CELL"&&(f==="WIDGET"||f==="REPORTING"||f==="DATA")){return true}return false};e.setCellContext=function(f,g,h){if(g===void 0){g=0}if(h===void 0){h=0}f.__proto__=a.CellContext.prototype;f.setCoordinates(h,g);return f};return e}());a.ContextEvaluator=d
})(ic3||(ic3={}));(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(c){(function(d){d[d.TABLE=0]="TABLE";
d[d.ROW=1]="ROW";d[d.COLUMN=2]="COLUMN";d[d.CELL=3]="CELL"})(c.EvalScope||(c.EvalScope={}));var a=c.EvalScope;var b=(function(e){__extends(d,e);function d(h,f,g){e.call(this,h,h.widgetAdapter);this.mdxResultTable=f;this.request=g;if(f.getAxes().getAxisCount()>0){this.axisIndices=c.IcCubeMdxBuilder.getMdxAxisIndices(f,g);
this.hasMeasuresAxis=c.IcCubeMdxBuilder.hasMeasuresAxis(g,f);this.columnsCount=this.axisIndices.columnsAxis<0?1:this.mdxResultTable.getAxes().getAxis(this.axisIndices.columnsAxis).getTupleCount();this.rowsCount=this.axisIndices.rowsAxis<0?0:this.mdxResultTable.getAxes().getAxis(this.axisIndices.rowsAxis).getTupleCount();
this.columnsIndices=_.times(this.columnsCount);this.rowsIndices=_.times(this.rowsCount)}this.membersCache={};this.aggregationCache=this.aggregationCache||[];this.rebindFunctions();this.rebindProperties()}d.Orphan=function(f,g){return new d({widgetAdapter:null},f,g)
};d.prototype.define=function(g,f){Object.defineProperty(this,g,{configurable:true,get:f})};d.prototype.assertAnyIndex=function(g){var f=[];for(var h=1;h<arguments.length;h++){f[h-1]=arguments[h]}if(!_.reduce(f,function(k,j){return k||j!=null},false)){throw new Error(g+" function requires valid coordinates!")
}};d.prototype.assertAllIndexes=function(g){var f=[];for(var h=1;h<arguments.length;h++){f[h-1]=arguments[h]}if(!_.reduce(f,function(k,j){return k&&j!=null},true)){throw new Error(g+" function requires valid coordinates!")}};d.prototype.rebindFunctions=function(){var f=this;
this.getValue=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.ValueFunction.apply(f,[["VALUE"]].concat(g))};this.getFValue=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.ValueFunction.apply(f,[["FORMATTED_VALUE","VALUE"]].concat(g))
};this.getProperty=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.ValueFunction.apply(f,[[]].concat(g))};this.MaxInTable=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.MinMaxValueFunction.apply(f,["max",a.TABLE].concat(g))
};this.MinInTable=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.MinMaxValueFunction.apply(f,["min",a.TABLE].concat(g))};this.MaxInColumn=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.MinMaxValueFunction.apply(f,["max",a.COLUMN].concat(g))
};this.MinInColumn=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.MinMaxValueFunction.apply(f,["min",a.COLUMN].concat(g))};this.MaxInRow=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.MinMaxValueFunction.apply(f,["max",a.ROW].concat(g))
};this.MinInRow=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.MinMaxValueFunction.apply(f,["min",a.ROW].concat(g))};this.PercentageRow=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.PercentageFunction.apply(f,[a.ROW].concat(g))
};this.PercentageCol=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.PercentageFunction.apply(f,[a.COLUMN].concat(g))};this.PercentageTable=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.PercentageFunction.apply(f,[a.TABLE].concat(g))
};this.RankingSmallLargeRow=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.RankingFunction.apply(f,[a.ROW,false].concat(g))};this.RankingLargeSmallRow=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]
}return f.RankingFunction.apply(f,[a.ROW,true].concat(g))};this.RankingSmallLargeColumn=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.RankingFunction.apply(f,[a.COLUMN,false].concat(g))};this.RankingLargeSmallColumn=function(){var g=[];
for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.RankingFunction.apply(f,[a.COLUMN,true].concat(g))};this.RankingSmallLargeTable=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.RankingFunction.apply(f,[a.TABLE,false].concat(g))
};this.RankingLargeSmallTable=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.RankingFunction.apply(f,[a.TABLE,true].concat(g))};this.ZoomValue=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.ZoomValueFunction.apply(f,g)
};this.RowLabel=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.LabelFunction.apply(f,[a.ROW].concat(g))};this.ColumnLabel=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.LabelFunction.apply(f,[a.COLUMN].concat(g))
};this.PivotRowLabel=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.PivotLabelFunction.apply(f,[a.ROW].concat(g))};this.PivotColumnLabel=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.PivotLabelFunction.apply(f,[a.COLUMN].concat(g))
};this.fireRowClick=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.ClickFunction.apply(f,[a.ROW].concat(g))};this.fireColumnClick=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.ClickFunction.apply(f,[a.COLUMN].concat(g))
};this.fireCellClick=function(){var g=[];for(var h=0;h<arguments.length;h++){g[h-0]=arguments[h]}return f.ClickFunction.apply(f,[a.CELL].concat(g))}};d.prototype.rebindProperties=function(){var g=this;this.define("Max Value",function(){return g.MaxInTable()
});this.define("Min Value",function(){return g.MinInTable()});if(c.IcCubeMdxBuilder.hasMeasuresAxis(this.request,this.mdxResultTable)){var f=this.mdxResultTable.getAxes().getAxis(0);_.map(_.times(f.getTupleCount()),function(h){var j=f.getMemberCaption(h,0);
g.define("Max "+j,function(){return g.MaxInTable(j)});g.define("Min "+j,function(){return g.MinInTable(j)})})}};d.prototype.getAxisMemberIndex=function(f,j){var k=this;var h=f>=0&&f<this.mdxResultTable.getAxes().getAxisCount()&&(f!==this.axisIndices.measuresAxis||c.IcCubeMdxBuilder.hasMeasuresAxis(this.request,this.mdxResultTable));
if(!h){return}var m=function(){var o=[];for(var p=0;p<arguments.length;p++){o[p-0]=arguments[p]}return JSON.stringify(o)};var g=this.mdxResultTable.getAxes().getAxis(f);var i=_.times(g.getTupleCount());var l;if(_.isNumber(j)){l=j}else{if(_.isString(j)){var n=m(f,j);
l=this.membersCache[n];if(l==null&&/\[.*\]/.exec(j)){_.forEach(i,function(p){var o=g.getMemberUniqueName(p,0);if(_.endsWith(o,j)){k.membersCache[n]=l=p;return false}})}if(l==null){_.forEach(i,function(p){var o=g.getMemberCaption(p,0);if(o===j){k.membersCache[n]=l=p;
return false}else{k.membersCache[m(f,o)]=p}})}}}return l};d.prototype.getMeasureIndex=function(h){var f;if(c.IcCubeMdxBuilder.hasMeasuresAxis(this.request,this.mdxResultTable)){if(_.isNumber(h)){f=h}else{if(!this.tableMeasuresCache){var i=this.mdxResultTable.getAxes().getAxis(0);
var g=_.times(i.getTupleCount());this.tableMeasuresCache=_.reduce(g,function(k,j){k[i.getMemberCaption(j,0)]=k[i.getMemberUniqueName(j,0)]=j;return k},{})}f=this.tableMeasuresCache[h]||0}}return f};d.prototype.measuresCaptions=function(){var f=this;if(this.hasMeasuresAxis){return _.times(this.mdxResultTable.getAxes().getAxis(0).getTupleCount(),function(g){return f.getMeasureCaption(g)
})}};d.prototype.axisName=function(h){var g=this.mdxResultTable;var j=g.getAxes();var i=c.IcCubeMdxBuilder.hasMeasuresAxis(this.request,this.mdxResultTable)?1:0;var f=(i+h);if(f<j.getAxisCount()){return j.getAxis(f).getMemberLevelCaption(0,0)}return""};d.prototype.axisUniqueName=function(h){var g=this.mdxResultTable;
var j=g.getAxes();var i=c.IcCubeMdxBuilder.hasMeasuresAxis(this.request,this.mdxResultTable)?1:0;var f=(i+h);if(f<j.getAxisCount()){return j.getAxis(f).getMemberUniqueName(0,0)}return""};d.prototype.getMemberValue=function(g,f,i){if(i===void 0){i=0}var h=this.mdxResultTable.getAxes().getAxis(g);
return h==null?null:h.getMemberValue(f,i)};d.prototype.getMemberCaption=function(g,f,i){if(i===void 0){i=0}var h=this.mdxResultTable.getAxes().getAxis(g);return h==null?null:h.getMemberCaption(f,i)};d.prototype.getMemberUniqueName=function(g,f,i){if(i===void 0){i=0
}var h=this.mdxResultTable.getAxes().getAxis(g);return h==null?null:h.getMemberUniqueName(f,i)};d.prototype.getMemberParentUniqueName=function(g,f,i){if(i===void 0){i=0}var h=this.mdxResultTable.getAxes().getAxis(g);return h==null?null:h.getMemberParentUniqueName(f,i)
};d.prototype.getMemberLevelCaption=function(g,f,i){if(i===void 0){i=0}var h=this.mdxResultTable.getAxes().getAxis(g);return h==null?null:h.getMemberLevelCaption(f,i)};d.prototype.getMemberLevelUniqueName=function(g,f,i){if(i===void 0){i=0}var h=this.mdxResultTable.getAxes().getAxis(g);
return h==null?null:_.split(h.getMemberUniqueName(f,i),".").slice(0,-1).join(".")};d.prototype.getMemberAxisColor=function(g,f,i){if(i===void 0){i=0}var h=this.mdxResultTable.getAxes().getAxis(g);return h==null?null:h.getMemberColor(f,i)};d.prototype.getMemberLevelDepth=function(g,f,i){if(i===void 0){i=0
}var h=this.mdxResultTable.getAxes().getAxis(g);return h==null?null:h.getMemberLevelDepth(f,i)};d.prototype.getMemberChildrenCount=function(g,f,i){if(i===void 0){i=0}var h=this.mdxResultTable.getAxes().getAxis(g);return h==null?null:h.getMemberChildrenCount(f,i)
};d.prototype.getMemberHierarchyCaption=function(f,h){if(h===void 0){h=0}var g=this.mdxResultTable.getAxes().getAxis(f);return g==null?null:g.getMeta().getHierarchyCaption(h)};d.prototype.getMemberHierarchyUniqueName=function(f,h){if(h===void 0){h=0}var g=this.mdxResultTable.getAxes().getAxis(f);
return g==null?null:g.getMeta().getHierarchyUniqueName(h)};d.prototype.getMeasureCaption=function(f){if(this.hasMeasuresAxis){return this.getMemberCaption(0,f,0)}};d.prototype.LabelFunction=function(j,h,i){if(_.isFinite(i)){var g=this.mdxResultTable.getAxes().getAxis(i);
return _.times(g.getTupleLength(),function(l){return g.getMemberCaption(h,l)}).join(", ")}switch(j){case a.ROW:this.assertAnyIndex("rowLabel",h);var f=this.mdxResultTable.getAxes().getAxis(this.axisIndices.rowsAxis);return _.times(f.getTupleLength(),function(l){return f.getMemberCaption(h,l)
}).join(", ");case a.COLUMN:this.assertAnyIndex("columnLabel",h);if(this.axisIndices.columnsAxis<0){return c.IcCubeMdxBuilder.getDefaultMeasure(this.mdxResultTable)}else{var k=this.mdxResultTable.getAxes().getAxis(this.axisIndices.columnsAxis);return _.times(k.getTupleLength(),function(l){return k.getMemberCaption(h,l)
}).join(", ")}}};d.prototype.PivotLabelFunction=function(g,h,f){switch(g){case a.ROW:this.assertAllIndexes("PivotRowLabel",h,f);return this.mdxResultTable.getAxes().getAxis(this.axisIndices.rowsAxis).getMemberCaption(h,f);case a.COLUMN:this.assertAllIndexes("PivotColumnLabel",h,f);
return this.axisIndices.columnsAxis<0?c.IcCubeMdxBuilder.getDefaultMeasure(this.mdxResultTable):this.mdxResultTable.getAxes().getAxis(this.axisIndices.columnsAxis).getMemberCaption(f,h)}};d.prototype.ValueFunction=function(m,l,h,f,j){this.assertAnyIndex("Value",l,h,f);
f=_.isString(f)||_.isNumber(f)?f:"defaultMeasure";j=_.isArray(j)?j:_.isString(j)?[j]:m.slice();var i=this.mdxResultTable.getAxes();var n=this.mdxResultTable.getCells();var g;if(c.IcCubeMdxBuilder.hasMeasuresAxis(this.request,this.mdxResultTable)){var k=this.getMeasureIndex(f);
g=i.getAxisCount()>2?[k,h,l]:[k,l]}else{g=i.getAxisCount()>1?[h,l]:[l]}var o;do{o=n.getCellProperty(j.shift(),g)}while(!o&&j.length>0);return o};d.prototype.MinMaxValueFunction=function(t,p,m,k,j){var n=null;var g=null;var s=null;if(p===a.TABLE){g=m;s=k}else{n=m;
g=k;s=j}g=_.isString(g)||_.isNumber(g)?g:"defaultMeasure";s=_.isString(s)?s:"VALUE";var r=null;var o=null;if(p!==a.TABLE){r=p===a.ROW?n:null;o=p===a.COLUMN?n:null}var h=_.find(this.aggregationCache,{fixedColumnIndex:o,fixedRowIndex:r,measure:g,property:s});
if(_.isObject(h)&&_.isNumber(h[t])){return h[t]}var u=Number.MAX_VALUE;var f=_.lt;if(t==="max"){u=Number.MIN_VALUE;f=_.gt}var v=u;var q=this.getMeasureIndex(g);var l=c.UtilityFunctions.buildAxesIndexes(this.mdxResultTable,this.request,q,r,o);c.IcCubeMdxBuilder.processValues(this.mdxResultTable,l,s,function(w){if(_.isNumber(w)&&f(w,v)){v=w
}});if(v===u){return null}if(_.isObject(h)){h[t]=v}else{var i={fixedColumnIndex:o,fixedRowIndex:r,measure:g,property:s};i[t]=v;this.aggregationCache.push(i)}return v};d.prototype.PercentageFunction=function(k,m,j,f,n){this.assertAnyIndex("percentage",m,j);f=_.isString(f)||_.isNumber(f)?f:"defaultMeasure";
n=_.isString(n)?n:"VALUE";var o=this.getValue(m,j,f,n);if(k!==a.TABLE){m=k===a.ROW?m:null;j=k===a.COLUMN?j:null}var g=_.find(this.aggregationCache,{fixedColumnIndex:j,fixedRowIndex:m,measure:f,property:n});if(_.isObject(g)&&_.isNumber(g.sum)){return o/g.sum
}var i=0;var l=this.getMeasureIndex(f);var h=c.UtilityFunctions.buildAxesIndexes(this.mdxResultTable,this.request,l,m,j);c.IcCubeMdxBuilder.processValues(this.mdxResultTable,h,n,function(p){i+=p});if(_.isObject(g)){g.sum=i}else{this.aggregationCache.push({fixedColumnIndex:j,fixedRowIndex:m,measure:f,property:n,sum:i})
}return o/i};d.prototype.RankingFunction=function(k,h,m,j,f,n){this.assertAnyIndex("percentage",m,j);f=_.isString(f)||_.isNumber(f)?f:"defaultMeasure";n=_.isString(n)?n:"VALUE";var p=this.getValue(m,j,f,n);if(k!==a.TABLE){m=k===a.ROW?m:null;j=k===a.COLUMN?j:null
}var g=_.find(this.aggregationCache,{fixedColumnIndex:j,fixedRowIndex:m,measure:f,property:n});if(_.isObject(g)&&_.isNumber(g.sortedValues)){return h?g.sortedValues.length-g.sortedValues.indexOf(p):g.sortedValues.indexOf(p)}var o=[];var l=this.getMeasureIndex(f);
var i=c.UtilityFunctions.buildAxesIndexes(this.mdxResultTable,this.request,l,m,j);c.IcCubeMdxBuilder.processValues(this.mdxResultTable,i,n,function(q){o.push(q)});o=_.uniq(o);o.sort();if(_.isObject(g)){g.sortedValues=o}else{this.aggregationCache.push({fixedColumnIndex:j,fixedRowIndex:m,measure:f,property:n,sortedValues:o})
}return h?o.length-o.indexOf(p):o.indexOf(p)};d.prototype.ZoomValueFunction=function(h,l,f,i,j){this.assertAnyIndex("ZoomValue",h,l);var m=j?parseFloat(j):this.getValue(h,l);if(_.isNaN(m)||_.isNull(m)||_.isUndefined(m)){return null}f=parseFloat(f);i=parseFloat(i);
if(_.isNumber(f)&&!_.isNaN(f)&&_.isNumber(i)&&!_.isNaN(i)){var n=(m-f)/(i-f);if(n>0){if(n<1){return n}else{return 1}}else{return 0}}else{var g=f||this.MinInTable();var k=i||this.MaxInTable();if(_.isNumber(k)&&!_.isNaN(k)&&_.isNumber(g)&&!_.isNaN(g)){return d.prototype.ZoomValueFunction.call(this,h,l,g,k,m)
}else{return null}}};d.prototype.ClickFunction=function(h,g,f){var i=this.widgetAdapter.widget;switch(h){case a.ROW:this.assertAnyIndex("fireRowClick",g);return i.fireRowClick(i.getCoordinates(g,0,this.mdxResultTable));case a.COLUMN:this.assertAnyIndex("fireColumnClick",g);
return i.fireColumnClick(i.getCoordinates(0,g,this.mdxResultTable));case a.CELL:this.assertAnyIndex("fireCellClick",g,f);return i.fireCellClick(i.getCoordinates(g,f,this.mdxResultTable))}};return d}(c.WidgetContext));c.TableContext=b})(ic3||(ic3={}));(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(e,g,f){d.call(this,e,e.mdxResultTable,e.request);this.rowIndex=g;this.columnIndex=f}c.prototype.setCoordinates=function(o,m){var k=this;
this.rowIndex=o;this.columnIndex=m;var q=this.mdxResultTable.getCells();var h;var e={};if(a.IcCubeMdxBuilder.hasMeasuresAxis(this.request,this.mdxResultTable)){h=this.mdxResultTable.getAxes().getAxisCount()>2?[m,o]:[o];var j=this.mdxResultTable.getAxes().getAxis(0);
_.times(j.getTupleCount(),function(t){var v=[t].concat(h);var u=j.getMemberCaption(t,0);var s=j.getMemberUniqueName(t,0);e[u]=e[s]=_.transform(q.getPropertyNames(),function(x,w){x[w]=q.getCellProperty(w,v)},{});e[s].index=t;e[s].caption=u;k[u]=e[s].FORMATTED_VALUE||e[s].VALUE||(e[s].ERROR_CODE?a.IcCubeMdxBuilder.ERROR_MARKER+e[s].ERROR_DESCRIPTION:null)
});e.Value=e[j.getMemberCaption(0,0)];this["Value"]=this["RawValue"]=this[j.getMemberCaption(0,0)]}else{h=this.mdxResultTable.getAxes().getAxisCount()>1?[m,o]:[o];if(h.length>1){var l=this.mdxResultTable.getAxes().getAxis(this.axisIndices.columnsAxis);var f=_.times(l.getTupleLength()+1,function(s){return l.getMemberLevelCaption(h[0],s)
});var r=f.indexOf("MeasuresLevel");var i=l.getMemberCaption(this.columnIndex,r);var n=l.getMemberUniqueName(this.columnIndex,r);if(r<0){i=a.IcCubeMdxBuilder.getDefaultMeasure(this.mdxResultTable);n="[Measures]["+i+"]"}e[i]=e[n]=_.transform(q.getPropertyNames(),function(t,s){t[s]=q.getCellProperty(s,h)
},{});this[i]=e[n].VALUE||(e[n].ERROR_CODE?a.IcCubeMdxBuilder.ERROR_MARKER+e[n].ERROR_DESCRIPTION:null);e.Value=e[n];this["Value"]=e[n].FORMATTED_VALUE||this[i];this["RawValue"]=e[n].VALUE}else{var p=this.mdxResultTable.getSlicer();var g=p.getMemberCaption(0,p.getTupleLength()-1);
var n=p.getMemberUniqueName(0,p.getTupleLength()-1);e[g]=e[n]=_.transform(q.getPropertyNames(),function(t,s){t[s]=q.getCellProperty(s,h)},{});e[n].caption=g;this[g]=e[n].VALUE||(e[n].ERROR_CODE?a.IcCubeMdxBuilder.ERROR_MARKER+e[n].ERROR_DESCRIPTION:null);e.Value=e[n];
this["Value"]=e[n].FORMATTED_VALUE||this[g];this["RawValue"]=e[n].VALUE}}this["measures"]=e;this["Pivot Column Label"]=this.PivotColumnLabel(this.rowIndex,this.columnIndex);this["Pivot Row Label"]=this.PivotRowLabel(this.rowIndex,this.columnIndex);this["Column Label"]=this.ColumnLabel(this.columnIndex);
this["Row Label"]=this.RowLabel(this.rowIndex);this.rebindFunctions();this.rebindProperties()};c.prototype.rebindFunctions=function(){var g=this;var e=function(){var f=[];for(var h=0;h<arguments.length;h++){f[h-0]=arguments[h]}return _.find(f,function(i){return _.isNumber(i)
},null)};this.aggregationCache=this.aggregationCache||[];this.getValue=function(j,h){var f=[];for(var i=2;i<arguments.length;i++){f[i-2]=arguments[i]}return g.ValueFunction.apply(g,[["VALUE"],e(j,g.rowIndex),e(h,g.columnIndex)].concat(f))};this.getFValue=function(j,h){var f=[];
for(var i=2;i<arguments.length;i++){f[i-2]=arguments[i]}return g.ValueFunction.apply(g,[["FORMATTED_VALUE","VALUE"],e(j,g.rowIndex),e(h,g.columnIndex)].concat(f))};this.MaxInRow=function(h){var f=[];for(var j=1;j<arguments.length;j++){f[j-1]=arguments[j]}return g.MinMaxValueFunction.apply(g,["max",a.EvalScope.ROW,e(h,g.rowIndex)].concat(f))
};this.MinInRow=function(h){var f=[];for(var j=1;j<arguments.length;j++){f[j-1]=arguments[j]}return g.MinMaxValueFunction.apply(g,["min",a.EvalScope.ROW,e(h,g.rowIndex)].concat(f))};this.MaxInColumn=function(h){var f=[];for(var j=1;j<arguments.length;j++){f[j-1]=arguments[j]
}return g.MinMaxValueFunction.apply(g,["max",a.EvalScope.COLUMN,e(h,g.columnIndex)].concat(f))};this.MinInColumn=function(h){var f=[];for(var j=1;j<arguments.length;j++){f[j-1]=arguments[j]}return g.MinMaxValueFunction.apply(g,["min",a.EvalScope.COLUMN,e(h,g.columnIndex)].concat(f))
};this.MaxInTable=function(){var f=[];for(var h=0;h<arguments.length;h++){f[h-0]=arguments[h]}return g.MinMaxValueFunction.apply(g,["max",a.EvalScope.TABLE].concat(f))};this.MinInTable=function(){var f=[];for(var h=0;h<arguments.length;h++){f[h-0]=arguments[h]
}return g.MinMaxValueFunction.apply(g,["min",a.EvalScope.TABLE].concat(f))};this.PercentageRow=function(h){var f=[];for(var j=1;j<arguments.length;j++){f[j-1]=arguments[j]}return g.PercentageFunction.apply(g,[a.EvalScope.ROW,e(h,g.rowIndex),g.columnIndex].concat(f))
};this.PercentageCol=function(h){var f=[];for(var j=1;j<arguments.length;j++){f[j-1]=arguments[j]}return g.PercentageFunction.apply(g,[a.EvalScope.COLUMN,g.rowIndex,e(h,g.columnIndex)].concat(f))};this.PercentageTable=function(){var f=[];for(var h=0;h<arguments.length;
h++){f[h-0]=arguments[h]}return g.PercentageFunction.apply(g,[a.EvalScope.TABLE,g.rowIndex,g.columnIndex].concat(f))};this.RankingSmallLargeRow=function(h){var f=[];for(var j=1;j<arguments.length;j++){f[j-1]=arguments[j]}return g.RankingFunction.apply(g,[a.EvalScope.ROW,false,e(h,g.rowIndex),g.columnIndex].concat(f))
};this.RankingLargeSmallRow=function(h){var f=[];for(var j=1;j<arguments.length;j++){f[j-1]=arguments[j]}return g.RankingFunction.apply(g,[a.EvalScope.ROW,true,e(h,g.rowIndex),g.columnIndex].concat(f))};this.RankingSmallLargeColumn=function(h){var f=[];for(var j=1;
j<arguments.length;j++){f[j-1]=arguments[j]}return g.RankingFunction.apply(g,[a.EvalScope.COLUMN,false,g.rowIndex,e(h,g.columnIndex)].concat(f))};this.RankingLargeSmallColumn=function(h){var f=[];for(var j=1;j<arguments.length;j++){f[j-1]=arguments[j]}return g.RankingFunction.apply(g,[a.EvalScope.COLUMN,true,g.rowIndex,e(h,g.columnIndex)].concat(f))
};this.RankingSmallLargeTable=function(){var f=[];for(var h=0;h<arguments.length;h++){f[h-0]=arguments[h]}return g.RankingFunction.apply(g,[a.EvalScope.TABLE,false,g.rowIndex,g.columnIndex].concat(f))};this.RankingLargeSmallTable=function(){var f=[];for(var h=0;
h<arguments.length;h++){f[h-0]=arguments[h]}return g.RankingFunction.apply(g,[a.EvalScope.TABLE,true,g.rowIndex,g.columnIndex].concat(f))};this.ZoomValue=function(){var f=[];for(var h=0;h<arguments.length;h++){f[h-0]=arguments[h]}return g.ZoomValueFunction.apply(g,[g.rowIndex,g.columnIndex].concat(f))
};this.RowLabel=function(f){return g.LabelFunction(a.EvalScope.ROW,e(f,g.rowIndex))};this.ColumnLabel=function(f,h){return g.LabelFunction(a.EvalScope.COLUMN,e(f,g.columnIndex),h)};this.PivotRowLabel=function(h,f){return g.PivotLabelFunction(a.EvalScope.ROW,e(h,g.rowIndex),e(f,g.columnIndex))
};this.PivotColumnLabel=function(h,f){return g.PivotLabelFunction(a.EvalScope.COLUMN,e(h,g.rowIndex),e(f,g.columnIndex))};this.fireRowClick=function(f){return g.ClickFunction(a.EvalScope.ROW,e(f,g.rowIndex))};this.fireColumnClick=function(f){return g.ClickFunction(a.EvalScope.COLUMN,e(f,g.columnIndex))
};this.fireCellClick=function(h,f){return g.ClickFunction(a.EvalScope.CELL,e(h,g.rowIndex),e(f,g.columnIndex))}};c.prototype.rebindProperties=function(){var e=this;this.define("Max Value",function(){return e.MaxInTable()});this.define("Min Value",function(){return e.MinInTable()
});this.define("Row Max Value",function(){return e.MaxInRow(e.rowIndex)});this.define("Row Min Value",function(){return e.MinInRow(e.rowIndex)});this.define("Column Max Value",function(){return e.MaxInColumn(e.columnIndex)});this.define("Column Min Value",function(){return e.MinInColumn(e.columnIndex)
});_(this.measures).map("caption").uniq().each(function(g,f){e.define("Max "+g,function(){return e.MaxInTable(g)});e.define("Min "+g,function(){return e.MinInTable(g)});e.define("Row Max "+g,function(){return e.MaxInRow(e.rowIndex,g)});e.define("Row Min "+g,function(){return e.MinInRow(e.rowIndex,g)
});e.define("Column Max "+g,function(){return e.MaxInColumn(e.columnIndex,g)});e.define("Column Min "+g,function(){return e.MinInColumn(e.columnIndex,g)})})};c.prototype.getMeasureIndex=function(e){if(_.isFinite(e)){return e}return _.isObject(this.measures[e])?this.measures[e].index:0
};c.prototype.OffsetValue=function(e,h,g,i){var j=_.isNumber(e)?this.rowIndex+e:this.rowIndex;var f=_.isNumber(h)?this.columnIndex+h:this.columnIndex;return this.getValue(j,f,g,i)};return c}(a.TableContext));a.CellContext=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var c=(function(){function f(g){this.context=g}f.prototype.TEXT=function(g,h){return this.context.TEXT(g,h)};f.prototype.setLocale=function(g){return this.context.setLocale(g)
};f.prototype.eventValue=function(g){return this.context.eventValue(g)};f.prototype.l=function(i){var g=[];for(var j=1;j<arguments.length;j++){g[j-1]=arguments[j]}return(h=this.context).l.apply(h,[i].concat(g));var h};f.prototype.fireEvent=function(i){var g=[];
for(var j=1;j<arguments.length;j++){g[j-1]=arguments[j]}return(h=this.context).fireEvent.apply(h,[i].concat(g));var h};f.prototype.getUserName=function(){return this.context.getUserInfo().getName()};f.prototype.getUserLocale=function(){return this.context.getUserInfo().getLocale()
};f.prototype.getUserPermissions=function(){return this.context.getUserInfo().reportPermissions()};f.prototype.getReportId=function(){return this.context.getReportInfo().reportUuid};f.prototype.getReportName=function(){return this.context.getReportInfo().reportName
};f.prototype.getReportPermaLink=function(){return this.context.getReportInfo().reportPermaLink};f.prototype.getReportFolderId=function(){return this.context.getReportInfo().reportFolderUuid};f.prototype.getReportFolderPath=function(){return this.context.getReportInfo().reportFolderPath
};return f}());b.PublicReportingContext=c;var d=(function(f){__extends(g,f);function g(h){f.call(this,h);this.context=h}return g}(c));b.PublicWidgetContext=d;var a=(function(g){__extends(f,g);function f(h){g.call(this,h);this.context=h}Object.defineProperty(f.prototype,"axisIndices",{get:function(){return this.context.axisIndices
},enumerable:true,configurable:true});Object.defineProperty(f.prototype,"hasMeasuresAxis",{get:function(){return this.context.hasMeasuresAxis},enumerable:true,configurable:true});Object.defineProperty(f.prototype,"columnsCount",{get:function(){return this.context.columnsCount
},enumerable:true,configurable:true});Object.defineProperty(f.prototype,"columnsIndices",{get:function(){return this.context.columnsIndices},enumerable:true,configurable:true});Object.defineProperty(f.prototype,"rowsCount",{get:function(){return this.context.rowsCount
},enumerable:true,configurable:true});Object.defineProperty(f.prototype,"rowsIndices",{get:function(){return this.context.rowsIndices},enumerable:true,configurable:true});f.prototype.getTable=function(){return this.context.mdxResultTable};f.prototype.getRequest=function(){return this.context.request
};f.prototype.rowLabel=function(i){var h=this.mapIndexes({row:i});return this.context.RowLabel(h.row)};f.prototype.columnLabel=function(i){var h=this.axisIndices.rowsAxis===0?0:(this.axisIndices.rowsAxis-1);var j=this.context.getAxisMemberIndex(h,i);return this.context.ColumnLabel(j,h)
};f.prototype.memberValue=function(i,h,j){return this.context.getMemberValue(i,h,j)};f.prototype.memberCaption=function(i,h,j){return this.context.getMemberCaption(i,h,j)};f.prototype.memberUniqueName=function(i,h,j){return this.context.getMemberUniqueName(i,h,j)
};f.prototype.memberParentUniqueName=function(i,h,j){return this.context.getMemberParentUniqueName(i,h,j)};f.prototype.memberHierarchyCaption=function(h,i){return this.context.getMemberHierarchyCaption(h,i)};f.prototype.memberHierarchyUniqueName=function(h,i){return this.context.getMemberHierarchyUniqueName(h,i)
};f.prototype.memberLevelCaption=function(i,h,j){return this.context.getMemberLevelCaption(i,h,j)};f.prototype.memberLevelUniqueName=function(i,h,j){return this.context.getMemberLevelUniqueName(i,h,j)};f.prototype.memberLevelDepth=function(i,h,j){return this.context.getMemberLevelDepth(i,h,j)
};f.prototype.memberChildrenCount=function(i,h,j){return this.context.getMemberChildrenCount(i,h,j)};f.prototype.measureCaption=function(h){return this.context.getMeasureCaption(h)};f.prototype.cellValue=function(k,j,i){var h=this.mapIndexes({row:k,column:j,measure:i});
return this.context.getValue(h.row,h.column,h.measure)};f.prototype.cellFValue=function(k,j,i){var h=this.mapIndexes({row:k,column:j,measure:i});return this.context.getFValue(h.row,h.column,h.measure)};f.prototype.cellProperty=function(k,l,j,i){var h=this.mapIndexes({row:l,column:j,measure:i});
return this.context.getProperty(h.row,h.column,h.measure,k)};f.prototype.maxInRow=function(k,i,j){var h=this.mapIndexes({row:k,measure:i});return this.context.MaxInRow(h.row,h.measure,j)};f.prototype.minInRow=function(k,i,j){var h=this.mapIndexes({row:k,measure:i});
return this.context.MinInRow(h.row,h.measure,j)};f.prototype.maxInColumn=function(j,i,k){var h=this.mapIndexes({column:j,measure:i});return this.context.MaxInColumn(h.column,h.measure,k)};f.prototype.minInColumn=function(j,i,k){var h=this.mapIndexes({column:j,measure:i});
return this.context.MinInColumn(h.column,h.measure,k)};f.prototype.maxInTable=function(i,j){var h=this.mapIndexes({measure:i});return this.context.MaxInTable(h.measure,j)};f.prototype.minInTable=function(i,j){var h=this.mapIndexes({measure:i});return this.context.MinInTable(h.measure,j)
};f.prototype.percentageRow=function(k,i,j){var h=this.mapIndexes({row:k,measure:i});return this.context.PercentageRow(h.row,h.measure,j)};f.prototype.percentageCol=function(j,i,k){var h=this.mapIndexes({column:j,measure:i});return this.context.PercentageCol(h.column,h.measure,k)
};f.prototype.percentageTable=function(i,j){var h=this.mapIndexes({measure:i});return this.context.PercentageTable(h.measure,j)};f.prototype.rankingSmallLargeRow=function(k,i,j){var h=this.mapIndexes({row:k,measure:i});return this.context.RankingSmallLargeRow(h.row,h.measure,j)
};f.prototype.rankingLargeSmallRow=function(k,i,j){var h=this.mapIndexes({row:k,measure:i});return this.context.RankingLargeSmallRow(h.row,h.measure,j)};f.prototype.rankingSmallLargeColumn=function(j,i,k){var h=this.mapIndexes({column:j,measure:i});return this.context.RankingSmallLargeColumn(h.column,h.measure,k)
};f.prototype.rankingLargeSmallColumn=function(j,i,k){var h=this.mapIndexes({column:j,measure:i});return this.context.RankingLargeSmallColumn(h.column,h.measure,k)};f.prototype.rankingSmallLargeTable=function(i,j){var h=this.mapIndexes({measure:i});return this.context.RankingSmallLargeTable(h.measure,j)
};f.prototype.rankingLargeSmallTable=function(i,j){var h=this.mapIndexes({measure:i});return this.context.RankingLargeSmallTable(h.measure,j)};f.prototype.zoomValue=function(m,k,j,i,l){var h=this.mapIndexes({row:m,column:k});return this.context.ZoomValue(h.row,h.column,j,i,l)
};f.prototype.fireRowClick=function(i){var h=this.mapIndexes({row:i});return this.context.fireRowClick(h.row)};f.prototype.fireColumnClick=function(i){var h=this.mapIndexes({column:i});return this.context.fireColumnClick(h.column)};f.prototype.fireCellClick=function(j,i){var h=this.mapIndexes({row:j,column:i});
return this.context.fireCellClick(h.row,h.column)};f.prototype.mapIndexes=function(l){var n=this;var i=this.axisIndices,h=i.rowsAxis,k=i.columnsAxis,j=i.measuresAxis;var m={row:h,column:k,measure:j};if(this.hasMeasuresAxis&&k<0){l.measure=l.column;delete l.column
}return _.mapValues(l,function(p,o){return n.context.getAxisMemberIndex(m[o],p)})};return f}(d));b.PublicTableContext=a;var e=(function(f){__extends(g,f);function g(h){f.call(this,h);this.context=h}g.prototype.getRowIndex=function(){return this.context.rowIndex
};g.prototype.getColumnIndex=function(){return this.context.columnIndex};g.prototype.getMeasures=function(){return this.context.measures};g.prototype.rowLabel=function(i){var h=this.mapIndexes({row:i});return this.context.RowLabel(h.row)};g.prototype.columnLabel=function(i){var h=this.axisIndices.rowsAxis===0?0:(this.axisIndices.rowsAxis-1);
var j=this.context.getAxisMemberIndex(h,i);return this.context.ColumnLabel(j,h)};g.prototype.cellValue=function(k,j,i){var h=this.mapIndexes({row:k,column:j,measure:i});return this.context.getValue(h.row,h.column,h.measure)};g.prototype.cellFValue=function(k,j,i){var h=this.mapIndexes({row:k,column:j,measure:i});
return this.context.getFValue(h.row,h.column,h.measure)};g.prototype.cellProperty=function(k,l,j,i){var h=this.mapIndexes({row:l,column:j,measure:i});return this.context.getProperty(h.row,h.column,h.measure,k)};g.prototype.getValue=function(h){return this.cellValue(this.getRowIndex(),this.getColumnIndex(),h)
};g.prototype.getFValue=function(h){return this.cellFValue(this.getRowIndex(),this.getColumnIndex(),h)};g.prototype.getProperty=function(i,h){return this.cellProperty(i,this.getRowIndex(),this.getColumnIndex(),h)};g.prototype.maxInRow=function(k,i,j){var h=this.mapIndexes({row:k,measure:i});
return this.context.MaxInRow(h.row,h.measure,j)};g.prototype.minInRow=function(k,i,j){var h=this.mapIndexes({row:k,measure:i});return this.context.MinInRow(h.row,h.measure,j)};g.prototype.maxInColumn=function(j,i,k){var h=this.mapIndexes({column:j,measure:i});
return this.context.MaxInColumn(h.column,h.measure,k)};g.prototype.minInColumn=function(j,i,k){var h=this.mapIndexes({column:j,measure:i});return this.context.MinInColumn(h.column,h.measure,k)};g.prototype.maxInTable=function(i,j){var h=this.mapIndexes({measure:i});
return this.context.MaxInTable(h.measure,j)};g.prototype.minInTable=function(i,j){var h=this.mapIndexes({measure:i});return this.context.MinInTable(h.measure,j)};g.prototype.percentageRow=function(k,i,j){var h=this.mapIndexes({row:k,measure:i});return this.context.PercentageRow(h.row,h.measure,j)
};g.prototype.percentageCol=function(j,i,k){var h=this.mapIndexes({column:j,measure:i});return this.context.PercentageCol(h.column,h.measure,k)};g.prototype.percentageTable=function(i,j){var h=this.mapIndexes({measure:i});return this.context.PercentageTable(h.measure,j)
};g.prototype.rankingSmallLargeRow=function(k,i,j){var h=this.mapIndexes({row:k,measure:i});return this.context.RankingSmallLargeRow(h.row,h.measure,j)};g.prototype.rankingLargeSmallRow=function(k,i,j){var h=this.mapIndexes({row:k,measure:i});return this.context.RankingLargeSmallRow(h.row,h.measure,j)
};g.prototype.rankingSmallLargeColumn=function(j,i,k){var h=this.mapIndexes({column:j,measure:i});return this.context.RankingSmallLargeColumn(h.column,h.measure,k)};g.prototype.rankingLargeSmallColumn=function(j,i,k){var h=this.mapIndexes({column:j,measure:i});
return this.context.RankingLargeSmallColumn(h.column,h.measure,k)};g.prototype.rankingSmallLargeTable=function(i,j){var h=this.mapIndexes({measure:i});return this.context.RankingSmallLargeTable(h.measure,j)};g.prototype.rankingLargeSmallTable=function(i,j){var h=this.mapIndexes({measure:i});
return this.context.RankingLargeSmallTable(h.measure,j)};g.prototype.zoomValue=function(m,k,j,i,l){var h=this.mapIndexes({row:m,column:k});return this.context.ZoomValue(h.row,h.column,j,i,l)};g.prototype.offsetValue=function(i,k,j,l){var h=this.mapIndexes({measure:j});
return this.context.OffsetValue(i,k,h.measure,l)};g.prototype.fireRowClick=function(i){var h=this.mapIndexes({row:i});return this.context.fireRowClick(h.row)};g.prototype.fireColumnClick=function(i){var h=this.mapIndexes({column:i});return this.context.fireColumnClick(h.column)
};g.prototype.fireCellClick=function(j,i){var h=this.mapIndexes({row:j,column:i});return this.context.fireCellClick(h.row,h.column)};return g}(a));b.PublicCellContext=e})(ic3||(ic3={}));var ic3;(function(ic3){ic3.Environment={DEVELOPMENT:"development",PRODUCTION:"production"};
var Context=(function(){function Context(options){this.systemLocalization=new ic3.LocalizationsContainer(ic3.SystemLocalizationEn);this.themesRepository=new ic3.ThemesRepository(this,ic3.ThemeElegant);this.lastRefreshTimestamp=null;this.LoggerFactory=new ic3.LoggerFactory();
this.evaluator=new ic3.Evaluator(this);this.systemLocalization.load(ic3.SystemLocalizationFr);this.systemLocalization.load(ic3.SystemLocalizationRu);this.themesRepository.loadTheme(ic3.ThemeDark);this.themesRepository.loadTheme(ic3.ThemeClassic);this.bottomConsoleAppender=new ic3.BottomConsoleAppender(this);
this.LoggerFactory.addAppender(this.bottomConsoleAppender);this.LoggerFactory.addAppender(new ic3.BrowserConsoleAppender(this,{level:ic3.LogLevel.INFO}));this.LoggerFactory.addAppender(new ic3.NotificationsAppender(this,{level:ic3.LogLevel.INFO}));this.LoggerFactory.addAppender(new ic3.WidgetMessageAppender(this));
this.mdxRequestManager_=new viz.MdxRequestManager(this);this.userPersistentData_=new ic3.UserPersistentData(this);this.entityMgr_=new ic3.EntityMgr(this);this.noticesLevel_=ic3.NoticeLevel.INFO;if(options&&options.noticesLevel!=null){this.noticesLevel_=ic3.NoticeLevel[options.noticesLevel.toUpperCase()]
}this.requestCancelingAllowed_=options.requestCancelingAllowed!==false;this.environment_=options.environment||ic3.Environment.PRODUCTION;this.windowUId_=this.generateWindowUId();this.i18n=new ic3.I18n(ic3.getNavigatorLocale(),this.systemLocalization)}Context.prototype.onUserInfoAvailable=function(){this.getI18n().setSelectedLocale(this.userPersistentData().getSystemLocale())
};Context.prototype.getI18n=function(){return this.i18n};Context.prototype.l=function(message){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}return(_a=this.i18n).l.apply(_a,[message].concat(args));var _a};Context.prototype.getThemesRepository=function(){return this.themesRepository
};Context.prototype.isPrintServerEnabled=function(){return this.gviConfiguration_&&this.gviConfiguration_.isPrintServerEnabled()};Context.prototype.mdxRequestManager=function(){return this.mdxRequestManager_};Context.prototype.userPersistentData=function(){return this.userPersistentData_
};Context.prototype.entityMgr=function(){return this.entityMgr_};Context.prototype.noticesLevel=function(noticesLevel){return noticesLevel?this.noticesLevel_=noticesLevel:this.noticesLevel_};Context.prototype.evalArray=function(array){if(array==null){return array
}var self=this;var newArray=[];$.each(array,function(idx,value){newArray.push(self.evalObject(value))});return newArray};Context.prototype.evalObject=function(object,metaGuts){if(object==null){return object}var self=this;if(ic3.isArray(object)){var narray=[];
$.each(object,function(idx,value){var valueType=typeof value;if(valueType==="string"){if(!ic3.isEmptyString(value)){narray.push(self.eval(value))}}else{if(valueType=="number"){narray.push(value)}else{narray.push(self.evalObject(value,metaGuts.meta))}}});ic3.arrayRemoveNulls(narray);
return narray}else{if(ic3.isObject(object)){var newObject={};$.each(object,function(key,value){if(value!=null&&!ic3.startsWith(key,"ic3_")){var valueType=typeof value;if(valueType==="string"){if(!ic3.isEmptyString(value)){newObject[key]=self.eval(value)}}else{var meta=ic3.arrayLookup(metaGuts,"name",key);
if(meta&&valueType==="object"){newObject[key]=self.evalObject(value,meta.meta)}else{newObject[key]=value}}if(metaGuts){meta=ic3.arrayLookup(metaGuts,"name",key);if(meta){var gutsPostEval=meta.gutsPostEval||ic3.GutsEvalHelper.getGutsPostEval(meta,newObject[key]);
if(ic3.isFunction(gutsPostEval)){newObject[key]=gutsPostEval(newObject[key])}if(meta.type===juiForm_FieldRendererType.GIZMO){newObject[key]=ic3.GizmoFactoryPark.getInstance(meta.gizmoType,newObject[key].type,newObject[key].options)}}}}});return newObject}else{return this.eval(object)
}}};Context.prototype.eval=function(value){if(typeof value!=="string"){return value}value=this.eventMgr().replaceParams(value);if(typeof value!=="string"){return value}return this._eval(value)};Context.prototype.evalMdx=function(mdxStatement){var eventAccessors=this.getParametersList(mdxStatement),eventMgr=this.eventMgr();
_.forEach(eventAccessors,function(eventAccessor){var value=eventMgr.eventObject(eventAccessor.name);if(value!=null){if(_.isFunction(value.asMdx)){mdxStatement=ic3.replaceAll(mdxStatement,eventAccessor.lexeme,value.asMdx())}else{if(_.isString(value)){mdxStatement=ic3.replaceAll(mdxStatement,eventAccessor.lexeme,value)
}}}});return mdxStatement};Context.prototype._eval=function(value){var ic3reporting=this.reporting_;try{return ic3.evalExpression(value,ic3reporting)}catch(error){this.notificationMgr().notifyError("eval.error",[value,error]);throw error}};Context.prototype.evalEsc=function(value){return ic3.escapeHTML(this.eval(""+value))
};Context.prototype.gviConfiguration=function(config){return config==null?this.gviConfiguration_:(this.gviConfiguration_=config)};Context.prototype.userInfo=function(){return this.gviConfiguration().userInfo()};Context.prototype.messagingService=function(messagingService){return messagingService==null?this.messagingService_:(this.messagingService_=messagingService)
};Context.prototype.notificationMgr=function(notificationMgr){return notificationMgr==null?this.notificationMgr_:(this.notificationMgr_=notificationMgr)};Context.prototype.eventMgr=function(eventMgr){return eventMgr==null?this.eventMgr_:(this.eventMgr_=eventMgr)
};Context.prototype.errorMgr=function(errorMgr){return errorMgr==null?this.errorMgr_:(this.errorMgr_=errorMgr)};Context.prototype.reportMgr=function(reportMgr){return reportMgr==null?this.reportMgr_:(this.reportMgr_=reportMgr)};Context.prototype.mainReport=function(mainReport){return mainReport==null?this.mainReport_:(this.mainReport_=mainReport)
};Context.prototype.getEvaluator=function(){return this.evaluator};Context.prototype.$mainReportContainer=function(){return $(this.mainReport().getContainer())};Context.prototype.reporting=function(reporting){return reporting==null?this.reporting_:(this.reporting_=reporting)
};Context.prototype.cubeName=function(){return this.mainReport().cubeName()};Context.prototype.widgetMgr=function(){return this.mainReport_.widgetMgr()};Context.prototype.mdxQueriesMgr=function(){return this.mainReport_.mdxQueriesMgr()};Context.prototype.layout=function(){return this.mainReport_.layout()
};Context.prototype.constantMgr=function(){return this.mainReport_.constantMgr()};Context.prototype.calcMeasureMgr=function(){return this.mainReport_.calcMeasureMgr()};Context.prototype.globalFilter=function(){return this.mainReport_.globalFilter()};Context.prototype.eventsProducedInReport=function(filterOutSpecialEvent){return this.eventMgr_?this.eventMgr_.eventsProduced(filterOutSpecialEvent):[]
};Context.prototype.gviConnection=function(){return this.gviConfiguration().gviConnection()};Context.prototype.executeRequest=function(request,callback){var configuration=this.gviConfiguration();var conn=configuration.gviConnection();var queryMgr=new ic3.QueryManagerWithNotifications(conn,this);
queryMgr.addResultWidget(callback);queryMgr.executeRequest(request)};Context.prototype.getParametersList=function(guts,parameters,path){parameters=parameters?parameters:[];if(guts==null||guts.classID!=null){return parameters}if(typeof guts==="string"){var accessors=ic3.eventAccessors(guts,path);
if(accessors&&accessors.length>0){parameters=parameters.concat(accessors)}return parameters}else{if(guts instanceof Array||guts instanceof Object){var self=this;$.each(guts,function(idx,item){parameters=self.getParametersList(item,parameters,path?path:idx)})
}}var keys={};var uniques=[];ic3.each(parameters,function(idx,item){if(!keys[item.lexeme]){keys[item.lexeme]=1;uniques.push(item)}});return uniques};Context.prototype.eventObject=function(paramName){var eventMgr=this.eventMgr();return eventMgr.eventObject(paramName)
};Context.prototype.isReportEmbedded=function(){var reportMode=this.mainReport().reportMode();return reportMode==ic3.MainReportMode.EMBEDDED};Context.prototype.isReportEditingOnly=function(){var reportMode=this.mainReport().reportMode();return reportMode==ic3.MainReportMode.EDITING
};Context.prototype.isReportModeling=function(){var reportMode=this.mainReport().reportMode();return(reportMode==ic3.MainReportMode.EDITING_REPORTING||reportMode==ic3.MainReportMode.EDITING)&&!this.isReportWithSnapshot()};Context.prototype.isReportOnly=function(){var reportMode=this.mainReport().reportMode();
return reportMode==ic3.MainReportMode.REPORTING||reportMode==ic3.MainReportMode.EMBEDDED||this.isReportWithSnapshot()};Context.prototype.isReportWithWidgets=function(){var reportMode=this.mainReport().reportMode();return reportMode==ic3.MainReportMode.EDITING_REPORTING||reportMode==ic3.MainReportMode.REPORTING||reportMode==ic3.MainReportMode.EMBEDDED
};Context.prototype.isReportWithSnapshot=function(){return this.mainReport().isReportWithSnapshot()};Context.prototype.reload=function(){this.mainReport().reload();ic3.removeListenerBrowserPageVisibility(this.refreshListener);this._needsRefresh=false};Context.prototype.clearWidgetsCache=function(){if(!_.isNull(this.mainReport())){_.forEach(this.mainReport().widgetMgr().guts().items,function(adapter){adapter.clearCachedAdapterData&&adapter.clearCachedAdapterData()
})}};Context.prototype.refreshReport=function(){if(ic3globals.request&&ic3globals.request.cache&&ic3globals.request.cache.enabled){this.gviConfiguration().gviConnection().requestCache.clearCache();ic3.ColorEvaluator.clearCategoriesCache()}this.clearWidgetsCache();
this.mainReport().refreshReport();ic3.removeListenerBrowserPageVisibility(this.refreshListener);this._needsRefresh=false};Context.prototype.rebuildAll=function(){this.mainReport().rebuildAll();ic3.removeListenerBrowserPageVisibility(this.refreshListener);this._needsRefresh=false
};Context.prototype.refreshData=function(){var _this=this;if(ic3.browserPageVisibility()){this._needsRefresh=false;var request_1=new viz.GviSchemaLastUpdate();this.gviConnection().sendRequest(request_1,{onSuccess:function(gviTable){var result=request_1.extractResult(gviTable);
var doRefresh=_this.lastRefreshTimestamp!=null&&result.timestamp!=_this.lastRefreshTimestamp;_this.lastRefreshTimestamp=result.timestamp;if(doRefresh){_this.mainReport().refreshData()}}})}else{ic3.browserPageVisibility(this.refreshListener);this._needsRefresh=true
}};Object.defineProperty(Context.prototype,"refreshListener",{get:function(){if(!this._refreshListener){this._refreshListener=function(){if(this._needsRefresh){this.refreshData()}};this._refreshListener=this._refreshListener.bind(this)}return this._refreshListener
},enumerable:true,configurable:true});Context.prototype.save=function(){this.mainReport().save()};Context.prototype.printReport=function(options){this.mainReport().printReport(options)};Context.prototype.logout=function(){this.mainReport().logout()};Context.prototype.saveSnapshot=function(){this.mainReport().saveSnapshot()
};Context.prototype.saveSelection=function(){this.mainReport().saveSelection()};Context.prototype.changeSchema=function(){this.mainReport().changeSchema()};Context.prototype.applyReportParams=function(reportParams){var params=new ic3.ReportParams(this,reportParams);
if(params.isEmpty()){return}this.constantMgr().applyReportParams(params)};Context.prototype.schemaNameFromReportParams=function(reportParams){var params=new ic3.ReportParams(this,reportParams);if(params.isEmpty()){return null}return params.schemaName()};Context.prototype.updateHistory=function(command){this.mainReport().historyManager().update(command)
};Context.prototype.isForPrinting=function(){return ic3globals.print&&ic3globals.print.active};Context.prototype.isForPrintingInBrowser=function(){return ic3globals.print&&ic3globals.print.active&&ic3globals.print.inBrowser};Context.prototype.getPrintingOptionsJS=function(){if(ic3globals.print&&ic3globals.print.active&&ic3globals.print.optionsJS){try{var options=JSON.parse(ic3globals.print.optionsJS);
return options}catch(ignored){}}return{fitToPage:null,keepAspectRatio:null,fontResizing:null}};Context.prototype.onReportOpening=function(){++Context.openingReportId_};Context.prototype.getOpeningReportId=function(){return Context.openingReportId_};Context.prototype.getHierarchies=function(filters){var gviConf=this.gviConfiguration();
var hierarchyInfos=gviConf.schemaInfo().hierarchies(this.cubeName(),true,filters);hierarchyInfos.sort(function(h1,h2){return h1.name.localeCompare(h2.name)});return new viz.MdxEntityData(hierarchyInfos)};Context.prototype.getLevels=function(hierachyUN){var gviConf=this.gviConfiguration();
var levels=gviConf.schemaInfo().levels(this.cubeName(),hierachyUN);return new viz.MdxEntityData(levels)};Context.prototype.getMeasures=function(){var conf=this.gviConfiguration();var measures=conf.schemaInfo().measures(this.cubeName());measures.sort(function(m1,m2){return m1.name.localeCompare(m2.name)
});return new viz.MdxEntityData(measures)};Context.prototype.windowUId=function(){return this.windowUId_};Context.prototype.requestCancelingAllowed=function(){return this.requestCancelingAllowed_};Context.prototype.isDevEnvironment=function(){return this.environment_===ic3.Environment.DEVELOPMENT
};Context.prototype.generateWindowUId=function(){function s4(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()};Context.openingReportId_=-1;return Context}());ic3.Context=Context
})(ic3||(ic3={}));var ic3;(function(ic3){ic3.GutsEvalHelper=function(){var getJsSignature=function(signature){return signature.slice(0,signature.indexOf(":"))};return{getGutsPostEval:function(meta,value){switch(meta.type){case juiForm_FieldRendererType.JAVASCRIPT_FUNCTION:if(typeof value=="string"){return function(body){return eval("("+getJsSignature(meta.signature)+"{"+body+"})")
}}case juiForm_FieldRendererType.BOOLEAN_TEXT:return function(val){return ic3.asBoolean(val)}}return null}}}()})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var c={SAFE:"SAFE",DEV:"DEV"};var d=(function(){function e(f){this.context=f;this.errorCount=0;this._executionMode=c.SAFE}e.prototype.addFatalError=function(g,i,h){this.logError(h);
++this.errorCount;var f=this.context.notificationMgr();f.notifyFatalError.apply(f,[g].concat(i))};e.prototype.addError=function(f,h,i,g){this.logError(g);++this.errorCount;this.context.notificationMgr().notifyError(f,h,i)};e.prototype.addGviError=function(f,g){++this.errorCount;
this.context.notificationMgr().notifyGviError(f,g)};e.prototype.logError=function(f){if(f&&window.console){window.console.error(f);if(b.IE_VERSION<10&&typeof f.stack!=="undefined"){window.console.error(f.stack)}}};e.prototype.forceError=function(f,h,g){this.logError(g);
this.context.notificationMgr().notifyError(f,[],h)};e.prototype.addWarning=function(g){var h=[];for(var i=1;i<arguments.length;i++){h[i-1]=arguments[i]}var f=this.context.notificationMgr();f.notifyWarning.apply(f,arguments)};e.prototype.hasError=function(){return this.errorCount>0
};e.prototype.executionMode=function(f){return f?this._executionMode=f:this._executionMode};e.prototype.safeExecute=function(g,h){if(this.executionMode()==c.SAFE){try{h();return true}catch(f){this.addError("errorMgr.error",[g],undefined,f);return false}}else{h();
return true}};e.prototype.getLocalErrorMgr=function(){return new a(this)};return e}());b.ErrorMgr=d;var a=(function(f){__extends(e,f);function e(g){f.call(this,null);this.decorated=g;this.localErrorCount=0}e.prototype.addFatalError=function(g,i,h){this.decorated.addFatalError(g,i,h);
++this.localErrorCount};e.prototype.addError=function(g,i,j,h){this.decorated.addError(g,i,j,h);++this.localErrorCount};e.prototype.addWarning=function(g){var h=[];for(var i=1;i<arguments.length;i++){h[i-1]=arguments[i]}this.decorated.addWarning(g,h)};e.prototype.hasError=function(){return this.localErrorCount>0
};e.prototype.safeExecute=function(g,h){return this.decorated.safeExecute(g,h)};return e}(d));b.LocalErrorMgr=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){b.ReportEvents={"ic3-report-reload":{handler:function(d){d.reload()}},"ic3-report-refresh":{handler:function(d){d.refreshReport()}},"ic3-report-global-filter":{handler:function(d){d.globalFilter().doFilter()
}},"ic3-report-save":{handler:function(d){d.save()}},"ic3-logout":{handler:function(d){d.logout()}},"ic3-save-snapshot":{handler:function(d){d.saveSnapshot.call(d)}},"ic3-save-selection":{handler:function(d){d.saveSelection.call(d)}},"ic3-change-schema":{handler:function(d){d.changeSchema.call(d)
}},"ic3-print-report":{handler:function(d){d.printReport.call(d,{})}}};var a=(function(){function d(e){this.mdxRequestManager_=e.mdxRequestManager();this.timeOut=null;this.callbacks={};this.afterCallbackAction_=null}d.prototype.clear=function(){if(this.timeOut){clearTimeout(this.timeOut)
}this.timeOut=null;this.callbacks={};this.afterCallbackAction_=null};d.prototype.addRequest=function(e,f){this.addWidgetRequestOnParam(null,null,e,f)};d.prototype.addWidgetRequest=function(f,e,g){this.addWidgetRequestOnParam(null,f,e,g)};d.prototype.addWidgetRequestOnParam=function(i,g,e,h){var f=this;
this.callbacks[e.ouid()]={mdx:e,mgr:h};this.mdxRequestManager_.onMdxRequestAdded(i,g,e);this.setTimeout_()};d.prototype.setTimeout_=function(){if(this.timeOut==null){var e=this;this.timeOut=setTimeout(function(){e.callback_()},4)}};d.prototype.callback_=function(){var e=0;
b.each(this.callbacks,function(f,h){var i=h.mgr;var g=h.mdx;if(i){i.executeRequest(g)}else{g.fireOnChangeEvent()}++e});this.afterCallbackAction_&&this.afterCallbackAction_();this.callbacks={};this.afterCallbackAction_=null;this.timeOut=null;b.logMsg("[ic3-collector] all sent ("+e+")")
};d.prototype.executeAfterCallback=function(e){this.afterCallbackAction_=e;this.setTimeout_()};return d}());b.EventMgrPool=a;var c=(function(d){__extends(e,d);function e(f){d.call(this);this.context=f;this._eventValues={};this._ajaxCollector=new a(f)}e.prototype.getSnapshot=function(){return _.pick(this,e.snapshotProps)
};e.prototype.setSnapshot=function(f){_.assign(this,f)};e.prototype.executeAfterAjaxCollectorCallback=function(f){this._ajaxCollector.executeAfterCallback(f)};e.prototype.fireExternalEvent=function(f,h){var g;if(h instanceof viz.event.Event){g=h}else{if(h==null){g=new viz.event.EmptySelectionEvent()
}else{g=new viz.event.ValueEvent(h)}}this.fireEvent(f,g);this.fireMainEvent(f)};e.prototype.fireMainEvent=function(f){var g=b.ReportEvents[f];if(g&&g.handler){g.handler(this.context)}};e.prototype._addWidgetParam=function(g,i,h){var f=this.context.getParametersList(i);
$.each(f,function(j,k){if(h[k.name]==null){h[k.name]=[]}h[k.name].push({widget:g,consumerEventHandler:g,gutsPath:k.gutsPath,type:vizEventType.onGutsChange})})};e.prototype.setupDefaultValues=function(h){var f=this._eventValues={};var g=this.context.constantMgr();
g.forEachConstantValue(function(j,i){f[j]=i});$.each(h,function(i,j){var k=j.widgetAdapter();if(k){k.forEachProducedEvents(function(n){var m=n.key;if(b.isEmptyString(m)){return}if(n.defaultValue){var l=b.prop(n,"defaultValue");if(!b.isEmptyString(l)){f[m]=l
}}})}})};e.prototype.onClearReport=function(){this._producedEvents=[];this.widgetEventsMap={}};e.prototype.eventsProduced=function(f){var h=this._producedEvents?this._producedEvents:[];if(!f){return h}var g=[];b.each(h,function(i,j){if(!b.ReportEvents[j.name]){g.push(j)
}});return g};e.prototype.eventNamesTableColumns=function(){return[{label:this.context.l("ic3.event_manager.info.event_name"),field:"eventName"},{label:this.context.l("ic3.event_manager.info.event_description"),field:"eventDescription"}]};e.prototype.eventNamesTableRows=function(){var i=this;
var g=this;var h=[];var f=function(m,n){var l=(typeof n=="string")?n:m;var k="ic3.event."+l+".details";var j=i.context.l(k);if(k==j){j=""}var o=false;b.each(h,function(p,q){if(q.eventName==l){o=true}});if(o){return}h.push({id:b.uniqueId(),eventName:l,eventDescription:j})
};b.each(b.ReportEvents,f);b.each(b.ReportJavascriptMgr.Events,f);h.sort(function(n,k){var j=n.eventName;var m=k.eventName;if(j<m){return -1}if(j>m){return 1}return 0});return h};e.prototype.eventUsageTableColumns=function(){return[{label:this.context.l("ic3.event_manager.info.event_type_name"),field:"event"},{label:this.context.l("ic3.event_manager.info.producer"),field:"producer"},{label:this.context.l("ic3.event_manager.info.consumer"),field:"consumer"},{label:this.context.l("ic3.event_manager.info.event_caption"),field:"eventCaption"}]
};e.prototype.eventUsageTableRows=function(){var h=this;var j=[];var g="n/a";function f(k){var l=g;if(k==null){l=g}else{if(typeof k==="string"){l=k}else{if(k.caption){l=b.prop(k,"caption");l=(l==null)?"null":l}else{l=k.toString()}}}return(l.length>80)?(l.substring(0,80)+"..."):l
}function i(m){if(m.getCaptionForEventInfo){return m.getCaptionForEventInfo()}if(m.widget&&m.widget.getCaptionForEventInfo){return m.widget.getCaptionForEventInfo()}if(m.type){return m.type}if(typeof m.binder==="function"){var k=m.binder;if(k.name){var l=k.name;
if(l=="__dbgJsMgr"){return"Report Javascript"}if(l=="__dbgEventMgr"){return"Event Manager"}}}return g}b.each(this.widgetEventsMap,function(l,k){b.each(k,function(m,s){var n=s.producer;var o=s.consumer;var q=n.type?n.type:"-";var p=o.type?o.type:"-";var r=h._eventValues[n.key];
j.push({id:b.uniqueId(),event:n.key+" ( "+q+"/"+p+" )",producer:i(n),consumer:i(o),eventCaption:f(r)})})});return j};e.prototype.consumeEvent=function(g,i,f){var h=b.ReportEvents[i];if(h&&h.handler){h.handler(this.context)}};e.prototype.getBoxes=function(){return this._boxes
};e.prototype.buildEventSkeleton=function(g,m){var o=this;var f=false;var s=this;var p=s.context.mdxRequestManager();g.setMdxRequestManager(p);p.clear();var q=this.context.errorMgr().getLocalErrorMgr();this._ajaxCollector.clear();this._boxes=m;this.setupDefaultValues(m);
$.each(m,function(u,v){var w=v.widgetAdapter();w.clearEvents();if(w.hasNavigation()){var t=w.navigationGuts();t.unbind()}});s.unbind();var h={};$.each(m,function(u,x){var w=x.widgetAdapter();s._addWidgetParam(x,x.guts(),h);s._addWidgetParam(w,w.guts(),h);var t=w.navigationGuts();
if(t){s._addWidgetParam(t,t.guts(),h)}var v=w.builder();if(v){v.eachExpression(function(y){s._addWidgetParam(v,y,h)})}});$.each(m,function(t,u){u.forEachConsumedEvents(function(w,v,x){if(!b.isEmptyString(w)){if(h[w]==null){h[w]=[]}h[w].push({consumerEventHandler:x,type:v})
}})});b.logMsg("[ic3-event] setup produced events");var l={};$.each(m,function(t,u){var v=u.widgetAdapter();v.forEachProducedEvents(function(w){var x=w.key;if(b.isEmptyString(x)){return}if(w.binder==null){q.addError("eventMgr.error.noEvent",[v.name()]);return
}if(l[x]==null){l[x]=[]}w.widget=v;l[x].push(w);b.logMsg("[ic3-event] -  widget evt : "+x)})});var n=this.context.constantMgr();n.forEachConstantValue(function(w,v){s._eventValues[w]=v;var u={key:w,type:vizEventType.onGutsChange,binder:function t(x){n.bind(vizEventType.onGutsChange,function(){var y=n.constantValue(w);
x(y)})},widget:n};if(l[w]==null){l[w]=[]}l[w].push(u);b.logMsg("[ic3-event] - constant evt : "+w)});var r=s.context.mainReport().javascriptMgr();r.unbind();$.each(h,function(u,v){if(l[u]==null){l[u]=[]}l[u].push({key:u,type:null,binder:function t(w){r.bind(u,function(x){w(x)
})}})});this._buildProducedEvents(l);$.each(h,function(v){if(l[v]==null){var t=b.getKeys(h).toString();var u=b.getKeys(l).toString();q.addError("eventMgr.error.notFired",[v,t,u])}});if(q.hasError()){q.addError("eventMgr.error.build");return}$.each(h,function(u){if(l[u]==null){l[u]=[]
}l[u].push({key:u,type:null,binder:function t(v){s.bind(u,function(w){v(w)})}})});var i=this.widgetEventsMap={};$.each(h,function(u,t){$.each(t,function(v,y){var x=o.consumerEventHandler_(y);if(x instanceof viz.core.AbstractWidget){x=x.getEventHandler()}var w=x.guid();
if(i[w]==null){i[w]=[]}$.each(l[u],function(z,A){i[w].push({producer:A,consumer:y})})})});$.each(l,function(t,u){$.each(u,function(v,w){if(b.ReportEvents[t]){var x=w.type;w.binder(function(y){s.consumeEvent(x,t,y)})}})});var j=s.context.mainReport().globalFilter();
var k=function(t){$.each(l,function(u,v){$.each(v,function(w,x){var y=x.type;x.binder(function(z){t.consumeEvent(y,u,z)})})})};if(r&&r.isActive()){k(r)}if(j){k(j)}$.each(i,function(u,t){b.each(t,function(v,A){var z=s.consumerEventHandler_(A.consumer);if(typeof z.consumeEvent==="function"){var y=A.producer.key;
var x=A.consumer.type;var w=A.consumer.gutsPath;A.producer.binder(function(B){s._eventValues[y]=B;var C=s.consumerEventHandler_(A.consumer);C.consumeEvent(x,B,w)})}})});$.each(m,function(t,u){var w=u.widgetAdapter();var v=w.allProducedEventsListener&&w.allProducedEventsListener();
if(v){s._bindAllProducedEventsListenerToEvents(l,v)}});$.each(m,function(D,y){var u=y.widgetAdapter();var F=u.eventMapper();var z=u.builder();if(z&&z.type().isQuery){var x=z;var C=x.validate();if(!C){var E=u.createQueryManager(g);var w=i[x.guid()];var t=u.createRequest(x);
var A=F.fireOnRefreshOnly();s._bindQueryToEvents(y,t,w,A);if(u.hasNavigation()){var B=u.navigationGuts();B.bindWidget(u,E)}u.mgr=E;if(u instanceof b.ChartAdapter){j&&j.registerQueryManager(E,u.uid())}if(F){F.updateHistoryStrategy(E,s._ajaxCollector)}E.bind(viz.EventType.onVizBeforeRequestSend,function(){y.onVizBeforeRequestSend()
});E.bind(viz.EventType.onVizRequestExecuted,function(){y.onVizRequestExecuted()},true);E.bind(viz.EventType.onVizRequestExecutedInError,function(){y.onVizRequestExecuted()});var v=x.handleEmptyAsValue();if(!b.isEmptyString(v)){E.bind(viz.EventType.onVizRequestExecuted,function(G){G.applyEmptyCellAs(v)
},true)}E.addResultWidget(u);if(!f){if(t.isQueryWidget()){E.addQueryBuilderWidget(t);s._ajaxCollector.addWidgetRequest(y,t)}else{E.executeRequest(t)}}else{if(t.isQueryWidget()){E.addQueryBuilderWidget(t)}}}}})};e.prototype.consumerEventHandler_=function(g){var f=g.consumerEventHandler;
return b.isFunction(f)?f():f};e.prototype._bindAllProducedEventsListenerToEvents=function(h,g){g.clearAllEventObjects();var f=this._eventValues||[];$.each(h,function(i,j){$.each(j,function(k,m){var n=m.type;var l=f[i];if(l){g.setEventObject(n,i,l)}m.binder(function(o){g.setEventObject(n,i,o)
})})})};e.prototype._bindQueryToEvents=function(i,f,j,h){var g=this;b.each(j,function(k,o){var m=o.producer;var n=m.key;var l=g._eventValues[n];if(l){f.setEventObject(n,l,"asMdx")}m.binder(function(p){g._eventValues[n]=viz.event.isNull(p)?null:p;f.setEventObject(n,p,"asMdx");
if(h){i.onVizRequestStaledStatus(f.canFireEvent())}else{g._ajaxCollector.addWidgetRequestOnParam(n,i,f)}})})};e.prototype.eventValues=function(){return this._eventValues};e.prototype.eventObject=function(f){return this._eventValues[f]};e.prototype.getEventValue=function(g){var h=this._eventValues[g];
var f;if(h){if(h.fireMdxByDefault===true&&typeof h.asMdx==="function"){f=h.asMdx()}else{if(typeof h.caption==="function"){f=h.caption()}else{if(typeof h.caption!=="undefined"){f=h.caption}}}}return f};e.prototype.replaceParams=function(g){var f=this;var j=this.context.getParametersList(g);
if(j.length===1){var h=j[0];var i=f._value(h);if(g.length!==h.lexeme.length){g=b.replaceAll(g,h.lexeme,i)}else{g=i}}else{if(j.length>0){$.each(j,function(k,l){var m=f._value(l);g=b.replaceAll(g,l.lexeme,m)})}}return g};e.prototype._value=function(j){var g=j.name;
var i=this._eventValues[g];if(viz.event.isNull(i)){var f=j.defaultValue;if(f!=null){return f}else{this.context.errorMgr().addWarning("eventMgr.missingParamWarning",g);return""}}var h=j.getter;if(h){i=h(i)}else{if(i){if(i.fireMdxByDefault===true&&typeof i.asMdx==="function"){i=i.asMdx()
}else{if(typeof i.caption==="function"){i=i.caption()}else{if(typeof i.caption!=="undefined"){i=i.caption}}}}}return i};e.prototype._buildProducedEvents=function(g){var f=this._producedEvents=[];b.each(g,function(i,h){f.push({name:i,lexeme:"@{"+i+"}"})});this._producedEvents=b.uniqueArray(this._producedEvents)
};e.prototype.unbind=function(){d.prototype.unbind.call(this)};e.prototype.getState=function(){var f={eventValues:{}};b.each(this._eventValues,function(g,h){f.eventValues[g]=b.EventSerializable.createSerializable(h)});return f};e.prototype.setState=function(f){if(b.isUndefined(f)){f={eventValues:{}}
}this._eventValues=f.eventValues};e.snapshotProps=["_boxes","_eventValues","_ajaxCollector","_producedEvents","widgetEventsMap"];return e}(viz.EventHandler));b.EventMgr=c})(ic3||(ic3={}));var ic3;(function(a){a.NoticeLevel={OFF:"Off",FATAL:"Fatal",ERROR:"Error",WARN:"Warn",INFO:"Info",DEBUG:"Debug"};
var b=(function(){function c(d){this.context=d}c.prototype.notifyDebug=function(d){var e=[];for(var f=1;f<arguments.length;f++){e[f-1]=arguments[f]}if(this.isActive(a.NoticeLevel.DEBUG)){this.notify(a.NoticeLevel.DEBUG,{tag:d,args:e})}};c.prototype.notifyInfo=function(d){var e=[];
for(var f=1;f<arguments.length;f++){e[f-1]=arguments[f]}if(this.isActive(a.NoticeLevel.INFO)){this.notify(a.NoticeLevel.INFO,{tag:d,args:e})}};c.prototype.notifyWarning=function(d){var e=[];for(var f=1;f<arguments.length;f++){e[f-1]=arguments[f]}if(this.isActive(a.NoticeLevel.WARN)){this.notify(a.NoticeLevel.WARN,{tag:d,args:e})
}};c.prototype.notifyError=function(d,e,f){if(this.isActive(a.NoticeLevel.ERROR)){this.doNotifyError({tag:d,args:e},f)}};c.prototype.notifyGviError=function(d,f){if(!this.context.isDevEnvironment()){if(d instanceof viz.GviError){var e=d.getAdditionalInformation();
if(e==="GVI_AUTO_CANCEL"||e==="GVI_CANCEL"){return}}if(d instanceof viz.GviFailure&&d.getMessage().indexOf("abort")>-1){return}}if(this.isActive(a.NoticeLevel.ERROR)){this.doNotifyError(d,f)}};c.prototype.doNotifyError=function(d,g){var f=a.NoticeLevel.ERROR;
var e=a.isString(d.tag||d.message)?d:this.createNotificationMessage(d);this.notify(f,e,g)};c.prototype.notifyFatalError=function(d){var e=[];for(var f=1;f<arguments.length;f++){e[f-1]=arguments[f]}if(this.isActive(a.NoticeLevel.FATAL)){this.notify(a.NoticeLevel.FATAL,{tag:d,args:e})
}};c.prototype.notify=function(h,e,g){var d=this.context.LoggerFactory.getLogger({uid:g,instance:"Notification Mgr"});var f=e.tag?this.translateMessage(e):e.message;switch(h){case a.NoticeLevel.FATAL:d.error(f);break;case a.NoticeLevel.ERROR:d.error(f);break;
case a.NoticeLevel.WARN:d.warning(f);break;case a.NoticeLevel.INFO:d.info(f);break;case a.NoticeLevel.DEBUG:d.debug(f);break;default:}};c.prototype.createNotificationMessage=function(e){var f;if(e.getAdditionalInformation){var d=e.getAdditionalInformation();
f={message:e+(d&&d.length>0?" Details : "+d:"")}}else{f={message:""+e}}return f};c.prototype.translateMessage=function(d){var e=[d.grouped?d.tag+".grouped":d.tag];if(d.args){e.push.apply(e,d.args)}return a.babylon.localize.apply(a.babylon,e)};c.prototype.isActive=function(f){var d=a.NoticeLevel;
var h=this.context.noticesLevel();var g=(e={},e[d.FATAL]=[d.FATAL],e[d.ERROR]=[d.FATAL,d.ERROR],e[d.WARN]=[d.FATAL,d.ERROR,d.WARN],e[d.INFO]=[d.FATAL,d.ERROR,d.WARN,d.INFO],e[d.DEBUG]=[d.FATAL,d.ERROR,d.WARN,d.INFO,d.DEBUG],e);return _.includes(g[f]||[],f);
var e};return c}());a.NotificationMgr=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(d){this.userInfo=d;this.localeCode=_.isString(d.locale)&&!_.isEmpty(d.locale)?d.locale:"en";this.decimalSeparator=_.isString(d.decimalSeparator)?d.decimalSeparator:".";
this.thousandSeparator=_.isString(d.thousandSeparator)?d.thousandSeparator:" "}c.prototype.getName=function(){return this.userInfo.name};c.prototype.getAuthType=function(){return this.userInfo.authType};c.prototype.getLocale=function(){return{localeCode:this.localeCode,decimalSeparator:this.decimalSeparator,thousandSeparator:this.thousandSeparator}
};c.prototype.reportPermissions=function(){return this.userInfo.perms};c.prototype.hasEntityWriteAccess=function(d){switch(d){case a.AppLocalEntityType.WIDGET_TEMPLATE:return this.userInfo.widgetTemplatesPerms=="writer";case a.AppLocalEntityType.LOCALIZATION:return this.userInfo.localizationsPerms=="writer";
case a.AppLocalEntityType.THEME:return this.userInfo.themePerms=="writer";default:return false}};c.prototype.isReportAuthorized=function(){return !a.isEmptyString(this.reportPermissions())};c.prototype.isReportWithSavePermissions=function(){return this.reportPermissions()=="editor"||this.reportPermissions()=="readerSave"
};c.prototype.isReportWithEditingPermissions=function(){return this.reportPermissions()=="editor"||this.reportPermissions()=="editorReader"};return c}());a.UserMetaInfo=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(d){this.localesInfo=_.sortBy(d,[function(e){return !_.includes(["en"],e.locale)
},function(e){return !_.includes(["de","fr","it","es","ru"],e.locale)}]);this.localesMap=_.reduce(d,function(f,e){f[e.locale]=f[e.caption]=e;return f},{})}c.prototype.listLocales=function(){return this.localesInfo};c.prototype.getLocale=function(d){return this.localesMap[d]
};return c}());a.LocalesMetaInfo=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(d){this.schemaInfo=d;this.classID="ic3.SchemaMetaInfo"}c.prototype.name=function(){return this.schemaInfo.name};c.prototype.cubes=function(){var d=[];$.each(this.schemaInfo.cubes,function(f,e){d.push(e.name)
});return d};c.prototype.cube=function(d){return a.arrayLookup(this.schemaInfo.cubes,"name",d)};c.prototype._getCubeInfo=function(d){return a.isEmptyString(d)?this.schemaInfo.cubes[0]:a.arrayLookup(this.schemaInfo.cubes,"name",d)};c.prototype.dimensionHierarchies=function(e,g){var d=this._getCubeInfo(e);
var f=[];if(d){if(g){f.push(this.measuresDimension())}$.each(d.dimensions,function(h,j){var k={name:j.name,uniqueName:j.uniqueName,type:vizMdxEntityDataType.DIMENSION,hierarchies:[]};var i=k.hierarchies;$.each(j.hierarchies,function(l,m){i.push({name:m.name,uniqueName:m.uniqueName,type:vizMdxEntityDataType.HIERARCHY})
});f.push(k)})}return f};c.prototype.hierarchies=function(e,i,h){var d=this._getCubeInfo(e);var g=[];if(d){if(i){var j=this.measuresHierarchy();if(this.filterByName(j,h)){g.push(j)}}var f=this;$.each(d.dimensions,function(k,l){$.each(l.hierarchies,function(m,n){if(f.filterByName(n,h)){g.push({name:n.name,uniqueName:n.uniqueName,type:vizMdxEntityDataType.HIERARCHY})
}})})}return g};c.prototype.filterByName=function(d,f){if(f){for(var e=0;e<f.length;e++){if(f[e].toLowerCase()==d.name.toLowerCase()){return true}}return false}return true};c.prototype.hierarchyMembersCount=function(e,d){var f=this.lookupHierarchy(e,d);return this._membersCount(f)
};c.prototype.hierarchyAllMembersCount=function(e,d){var f=this.lookupHierarchy(e,d);return this._allMembersCount(f)};c.prototype.lookupHierarchy=function(f,e){var g;var d=this._getCubeInfo(f);if(d){$.each(d.dimensions,function(h,i){g=a.arrayLookup(i.hierarchies,"uniqueName",e);
if(g){return false}})}return g};c.prototype.levelMembersCount=function(e,d){var f=this.lookupLevel(e,d);return this._membersCount(f)};c.prototype.lookupLevel=function(i,k){var f=this._getCubeInfo(i);if(f){var d=f.dimensions;for(var l=0;l<d.length;l++){var j=d[l].hierarchies;
for(var h=0;h<j.length;h++){var m=j[h].levels;for(var g=0;g<m.length;g++){var e=m[g];if(e.uniqueName==k){return e}}}}}return null};c.prototype.levels=function(f,e){var d=this._getCubeInfo(f);var h=[];if(d){var g=this.lookupHierarchy(f,e);if(g){$.each(g.levels,function(i,j){h.push({name:j.name,uniqueName:j.uniqueName,type:vizMdxEntityDataType.LEVEL})
})}}return h};c.prototype.measuresDimension=function(){return{name:this._measuresCaption(),uniqueName:"[Measures]",type:vizMdxEntityDataType.DIMENSION,hierarchies:[this.measuresHierarchy()]}};c.prototype.measuresHierarchy=function(){return{name:this._measuresCaption(),uniqueName:a.MdxConst.MeasuresDim,type:vizMdxEntityDataType.HIERARCHY_MEASURE}
};c.prototype._measuresCaption=function(){var d=this.schemaInfo.measuresName;return a.isEmptyString(d)?a.MdxConst.Measures:d};c.prototype.measures=function(e){var d=this._getCubeInfo(e);if(_.isObject(d)){return _.map(d.measures,function(f){return({name:f.name,uniqueName:f.uniqueName,type:viz.MdxEntityDataType.MEASURE,measureGroupName:f.measureGroupName,subType:f.subType})
})}return[]};c.prototype.isMissing=function(d,e){if(e.type==vizMdxEntityDataType.MEASURE){return !this.lookupMeasureInCube(d,e.uniqueName)}else{if(e.type==vizMdxEntityDataType.HIERARCHY){return !this.lookupHierarchyInCube(d,e.uniqueName)}else{if(e.type==vizMdxEntityDataType.LEVEL){return !this.lookupLevelInCube(d,e.uniqueName)
}}}return false};c.prototype.lookupMeasureInCube=function(f,e){var d=this._getCubeInfo(f);var i=d?(d.measures||[]):[];for(var h=0;h<i.length;h++){var g=i[h];if(g.uniqueName==e){return g}}return null};c.prototype.lookupHierarchyInCube=function(h,k){var e=this._getCubeInfo(h);
if(e){var d=e.dimensions;for(var l=0;l<d.length;l++){var f=d[l];var j=f.hierarchies;for(var g=0;g<j.length;g++){var i=j[g];if(i.uniqueName==k){return i}}}}return null};c.prototype.lookupLevelInCube=function(j,l){var f=this._getCubeInfo(j);if(f){var d=f.dimensions;
for(var m=0;m<d.length;m++){var h=d[m];var k=h.hierarchies;for(var i=0;i<k.length;i++){var n=k[i].levels;for(var g=0;g<n.length;g++){var e=n[g];if(e.uniqueName==l){return e}}}}}return null};c.prototype._membersCount=function(d){return this._count(d,"membersCount")
};c.prototype._calcMembersCount=function(d){return this._count(d,"calcMembersCount")};c.prototype._allMembersCount=function(e){var d=this._membersCount(e);var f=this._calcMembersCount(e);return(d>-1)&&(f>-1)?d+f:-1};c.prototype._count=function(d,f){if(!d){return -1
}var e=d[f];return(e===undefined||e===null)?-1:e};return c}());a.SchemaMetaInfo=b})(ic3||(ic3={}));var ic3;(function(c){(function(d){d[d.LAYOUT=0]="LAYOUT";d[d.CHART=1]="CHART";d[d.FILTER=2]="FILTER";d[d.TOOL=3]="TOOL"})(c.ReportFactoryType||(c.ReportFactoryType={}));
var b=c.ReportFactoryType;var a=(function(){function d(f,g,e){this.context=f;this.instanceConstructor=g;this.defaultOptions=e}d.prototype.getQualifiedName=function(){return this.getName()};d.prototype.instance=function(){return new this.instanceConstructor(this.context,this.defaultOptions)
};return d}());c.ReportFactory=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};
var ic3;(function(b){var c=(function(e){__extends(d,e);function d(g,h,f){e.call(this,g,h,f)}d.prototype.getType=function(){return b.ReportFactoryType.LAYOUT};return d}(b.ReportFactory));b.LayoutFactory=c;var a=(function(e){__extends(d,e);function d(g,f){e.call(this,g,f)
}d.prototype.destroy=function(){};return d}(b.Serializable));b.ReportLayout=a})(ic3||(ic3={}));var ic3;(function(b){var a=(function(){function c(d){this.context=d;this.factories=[]}c.prototype.register=function(e){var g=this;var f=e.getType();if(_.isArray(this.factories[f])){if(_.findIndex(this.factories[f],function(h){return h.getId()===e.getId()
})>=0){return false}this.factories[f].push(e)}else{this.factories[f]=[e]}if(e instanceof b.WidgetAdapterFactory){var d=e.getPredefinedEntities();if(d&&_.size(d.items)){_.map(d.items,function(h){g.context.entityMgr().setStorageEntity(d.type,b.EntityMgr.buildPath(d.type,h.__id,d.path),h)
})}}return true};c.prototype.getFactories=function(){var d=[];for(var e=0;e<arguments.length;e++){d[e-0]=arguments[e]}return _.transform(this.factories,function(f,h,g){if(d.length==0||_.includes(d,g)){f.push.apply(f,h)}},[])};return c}());b.ReportMgr=a})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(e){__extends(d,e);
function d(f){e.call(this,f);this.classID="ic3.ReportGuts"}d.prototype.createDefaultGuts=function(f){return $.extend(e.prototype.createDefaultGuts.call(this,f),{schemaName:"",cubeName:"",themeId:a.ThemeElegant.id,ic3Rev:a.migration.MigrationUtils.getLastReportRev(),layout:null,widgetMgr:new a.WidgetAdapterContainerMgr(f),constantMgr:new a.ConstantsMgr(f),cssMgr:new a.CssMgr(f),javascriptMgr:new a.ReportJavascriptMgr(f),calcMeasureMgr:new a.CalcMeasureMgr(f),mdxQueriesMgr:new a.MdxQueriesContainerMgr(f),sets:null,globalFilter:null})
};d.prototype.afterRestoreGuts=function(f){e.prototype.afterRestoreGuts.call(this,f);if(!this.guts_.javascriptMgr){this.guts_.javascriptMgr=new a.ReportJavascriptMgr(this.context)}};d.prototype.schemaName=function(f){return f?this.guts().schemaName=f:this.guts().schemaName
};d.prototype.cubeName=function(f){return f?this.guts().cubeName=f:this.guts().cubeName};d.prototype.getThemeId=function(){return this.guts().themeId};d.prototype.setThemeId=function(f){this.guts().themeId=f};d.prototype.layout=function(f){return f?this.guts().layout=f:this.guts().layout
};d.prototype.widgetMgr=function(){return this.guts_.widgetMgr};d.prototype.globalFilter=function(f){return f?this.guts().globalFilter=f:this.guts().globalFilter};d.prototype.cssMgr=function(){return this.guts_.cssMgr};d.prototype.javascriptMgr=function(){return this.guts_.javascriptMgr
};d.prototype.constantMgr=function(){return this.guts_.constantMgr};d.prototype.mdxQueriesMgr=function(){return this.guts_.mdxQueriesMgr};d.prototype.calcMeasureMgr=function(){return this.guts_.calcMeasureMgr};d.prototype.localizations=function(){if(!_.isArray(this.guts_.customLocalizations)){this.guts_.customLocalizations=[]
}return this.guts_.customLocalizations};d.prototype.getEntities=function(){var f=[];this.widgetMgr().forEach(function(h,g){f=f.concat(g.consumedEntities())});return f};d.prototype.saveState=function(f){var h=this.guts().layout;var g;if(h){g=h.getState(f)}return new c(this.context,g)
};d.prototype.setState=function(g){var f=g.layout();if(f){this.guts().layout.setState(f)}};d.prototype.getLocale=function(){var f=this.layout();return f&&f.guts().locale};return d}(a.Serializable));a.ReportGuts=b;var c=(function(d){__extends(e,d);function e(g,f){d.call(this,g,{layout:f});
this.classID="ic3.ReportState"}e.prototype.eachWidgetState=function(g){var f=this.guts().layout;if(f){f.eachWidgetState(g)}};e.prototype.layout=function(){return this.guts().layout};return e}(a.Serializable));a.ReportState=c})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(e){c.call(this,e);this.classID="ic3.ReportSelectionGuts"}d.prototype.createDefaultGuts=function(e){return{}
};d.prototype.setState=function(e){this.guts().state=e};d.prototype.getState=function(){return this.guts().state};return d}(a.Serializable));a.ReportSelectionGuts=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a=(function(d){__extends(c,d);function c(e){d.call(this,e);this.classID="ic3.ReportSnapshotGuts"}c.prototype.createDefaultGuts=function(e){return{}
};c.prototype.setState=function(e){this.guts().state=e};c.prototype.getState=function(){return this.guts().state};c.prototype.setEventMgrState=function(e){this.guts().eventMgrState=e};c.prototype.getEventMgrState=function(){return this.guts().eventMgrState};
return c}(b.Serializable));b.ReportSnapshotGuts=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(b){var c=(function(){function d(f,e){this.classID="ic3.ReportParams";this.context_=f;this.params_=this.setup_(e)}d.prototype.setup_=function(g){var h={};if($.isPlainObject(g)){h=g}else{if(!b.isEmptyString(g)){b.logMsg("[ic3-report-params] restoring report parameters");
try{h=JSON.parse(g)}catch(e){this.context_.errorMgr().addError("reportParams.error.unmarshal",[g,e.toString()])}if(h==null||$.isArray(h)||typeof h!=="object"){this.context_.errorMgr().addError("reportParams.error.url",[g]);h={}}}}var f={};b.each(h,function(i,j){if(typeof j=="object"&&typeof j.rpe!=="undefined"){f[i]=new a(j);
b.logMsg("[ic3-report-params] - as event : "+i)}else{f[i]=j;b.logMsg("[ic3-report-params] - as object : "+i)}});return f};d.prototype.isEmpty=function(){return b.objectIsEmpty(this.params_)};d.prototype.schemaName=function(){return this.params_.ic3schema};d.prototype.getParamValue=function(e){return this.params_[e]
};d.prototype.forEachParam=function(e){b.each(this.params_,function(f,g){e(f,g)})};return d}());b.ReportParams=c;var a=(function(e){__extends(d,e);function d(f){e.call(this);this.classID="viz.event.ReportParamEvent";this.guts=f}d.prototype.isEmptyEvent=function(){var f=this.guts.nil;
return b.isUndefined(f)?false:f};d.prototype.caption=function(){var f=this.guts.dft;return b.isUndefined(f)?null:f};d.prototype.value=function(){var f=this.guts.val;return b.isUndefined(f)?null:f};d.prototype.asMdx=function(){var f=this.guts.mdx;return b.isUndefined(f)?null:f
};d.prototype.asFilterInitialSelection=function(){var f=this.guts.fis;return b.isUndefined(f)?null:f};return d}(viz.event.Event));b.ReportParamEvent=a})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){c.widget=2000;c.widgetMax=c.widget*5;c.layer=c.widgetMax+1;
c.widgetDDHelper=c.layer+51;c.widgetDDLine=c.widgetDDHelper+1;c.mainMenu=c.widgetDDLine+1;c.bottomConsole=c.mainMenu+1;c.dialogOverlay=c.bottomConsole+1;c.dialog=c.dialogOverlay+1;c.codeMirrorFullscreen=c.dialog+1;c.maxZIndex=9999})(b=a.zIndexConst||(a.zIndexConst={}))
})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);
function d(){c.apply(this,arguments)}d.prototype.render=function(){return(React.createElement("div",{id:"error"},React.createElement("p",{style:{color:"darkred"}},React.createElement("b",null,"An error has occured while connecting to the database!")),React.createElement("p",null,"It can be either connection error to server or your network settings became wrong."),React.createElement("p",null,"Error information: ",React.createElement("i",null,this.props.error))))
};return d}(React.Component));a.ErrorPage=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(d){var e=this;this.context=d;this._onError=function(g,f){if(f.errorCode=="REPORT_REPORT_OPEN_NON_EXISTING"&&g.onNonExistingReport){g.onNonExistingReport(g.report)
}else{e.context.errorMgr().addError("mainReport.error.open",[g.report.name,f.toString()])}a.callMethod(g,"onReportOpeningFinally")}}c.prototype.openReport=function(g){var h=this;var f=this._onError.bind(this,g);var d=new viz.OpenReportGviRequest(g.report.uniqueName,g.report.name);
var e=function(i){if(h.context.mainReport().isEditingMode()){h.context.mainReport().setWindowTitle(i.reportName)}h.setupReportFromJson(g,i,g.report.params)};this.context.notificationMgr().notifyInfo("mainReport.openingReport",g.report.name);this.context.executeRequest(d,{onVizRequestExecuted:function(i){try{var k=d.extractResultEx(i)
}catch(j){f(j);return}if(g.draft){var l=new viz.OpenReportGviRequest(g.draft.uniqueName,g.draft.name);h.context.executeRequest(l,{onVizRequestExecuted:function(m){try{var o=l.extractResultEx(m)}catch(n){f(n);return}k.reportJson=o.reportJson;e(k)},onError:f,onFailure:f})
}else{e(k)}},onError:f,onFailure:f})};c.prototype.setupReportFromJson=function(f,g,e){var h=this;try{this.restoreAndMigrate(g,function(i){h.setupSchema(f,i,g,e)})}catch(d){this.context.errorMgr().addError("mainReport.error.restore",[g.reportName,d.toString()],undefined,d);
a.callMethod(f,"onReportOpeningFinally")}};c.prototype.restoreAndMigrate=function(e,j){var i=this;var d=e.reportJson.report||e.reportJson;var f=e.reportJson.selection||null;var h=a.restoreGuts(f,this.context);var g=a.restoreGuts(e.reportSnapshotJson,this.context);
a.migration.MigrationUtils.migrateReport(d,this.context,function(k){i.context.entityMgr().fetchEntities(k.getEntities(),function(){j({reportName:e.reportName,reportGuts:{report:k,selection:h},reportSnapshotGuts:g})})})};c.prototype.setupSchema=function(e,g,f,d){var j=this;
var i=this.context.mainReport();var h=this.context.schemaNameFromReportParams(d);if(!a.isEmptyString(h)){g.reportGuts.report.schemaName(h)}i.publishEvent(ic3EventType.onReportJSON,g.reportGuts.report);if(g.reportSnapshotGuts){this.setupReport(e,g,f,d)}else{i.commands().selectSchemaCommand.setupSchema({schemaName:g.reportGuts.report.schemaName(),onSuccess:function(){j.setupReport(e,g,f,d)
},onError:function(){a.callMethod(e,"onReportOpeningFinally")}},e.mode==a.MainReportMode.REPORTING,g.reportGuts.report.getLocale())}};c.prototype.setupReport=function(f,h,g,e){var i=this.context.mainReport();var d={isMaster:a.isEmptyString(f.child),report:h.reportGuts.report,reportSelection:h.reportGuts.selection,reportSnapshot:h.reportSnapshotGuts,reportParams:e,reportInfo:g,options:f};
this.context.onReportOpening();if(this.context.mainReport().hasReport()&&f.mode!==a.MainReportMode.EMBEDDED){i.clear()}this.context.applyReportParams(e);if(h.reportSnapshotGuts!=null){this.context.eventMgr().setState(h.reportSnapshotGuts.getEventMgrState())
}i.processOpen(d);a.callMethod(f,"onReportOpeningFinally")};return c}());a.OpenReport=b})(ic3||(ic3={}));var ic3;(function(b){var a=(function(){function c(d){this.context=d}c.prototype.printReport=function(i,f,e){try{if(b.isEmptyString(i)){i="ic3-report"}var g=this.context.mainReport().commands().saveReportCommand;
var h=g.createSnapshotWithEmbedded(i,e);b.printReport(this.context,f,h)}catch(d){this.context.errorMgr().addError("print.error",[d.toString()],undefined,d)}};return c}());b.PrintReport=a})(ic3||(ic3={}));var ic3;(function(b){var a=(function(){function c(d){this.context=d
}c.prototype.createSnapshotWithEmbedded=function(h,f){var d=this.gatherRecursiveEmbeddedReportState("",h,this.createSnapshot(f));var g=this.stringifyState(this.prepareReportState(h,f));var e=d.map(this.stringifyState.bind(this));return{masterSnapshotData:g,embeddedSnapshotData:e}
};c.prototype.serializeStateWithoutSnapshot=function(d){return this.stringifyState(this.prepareReportState(d.report.name(),d))};c.prototype.serializeStateWithSelection=function(e){var d=this.createReportData(e);d.reportGuts.selection=b.saveGuts(this.createSelection(e));
return this.stringifyState(d)};c.prototype.serializeStateWithSnapshot=function(h){var g=this.createReportData(h);var f=this.createSnapshot(h);g.reportSnapshotGuts=b.saveGuts(f);var e=this.gatherRecursiveEmbeddedReportState("",h.reportInfo.reportName,f);var d=this.stringifyState(g);
d.embeddedSnapshotData=e.map(this.stringifyState.bind(this));return d};c.prototype.serializeState=function(e){var d=this.createReportData(e);return this.stringifyState(d)};c.prototype.createReportData=function(d){return{reportName:d.reportInfo.reportName,reportGuts:{report:b.saveGuts(d.report)}}
};c.prototype.prepareReportState=function(f,d){var e=this.createSnapshot(d);return{reportName:f,reportGuts:{report:b.saveGuts(d.report),selection:b.saveGuts(this.createSelection(d))},reportSnapshotGuts:b.saveGuts(e)}};c.prototype.createSnapshot=function(d){var e=new b.ReportSnapshotGuts(this.context);
e.setState(d.report.saveState(viz.StateSaveMode.SNAPSHOT));e.setEventMgrState(this.context.eventMgr().getState());return e};c.prototype.createSelection=function(d){var e=new b.ReportSelectionGuts(this.context);e.setState(d.report.saveState(viz.StateSaveMode.SELECTION));
return e};c.prototype.stringifyState=function(d){return{reportName:d.reportName,report:JSON.stringify(d.reportGuts),reportSnapshot:this.optionalStringify(d.reportSnapshotGuts)}};c.prototype.gatherRecursiveEmbeddedReportState=function(e,d,i){var h=this;var f=[];
var g=e+"/"+d+"/embedded-snapshots";i.getState().eachWidgetState(function(j,l){var n=l.widget||l;if(n instanceof b.ReportWidgetState){var m=n;var p=m.snapshotName();var o=f.length+" - "+p;var k=g+"/"+o;m.snapshotName(k);f.push({reportName:o,reportGuts:{report:m.reportGuts},reportSnapshotGuts:m.reportSnapshotGuts});
f=f.concat(h.gatherRecursiveEmbeddedReportState(g,o,m.reportSnapshotGuts))}});return f};c.prototype.optionalStringify=function(d){return d?JSON.stringify(d):null};return c}());b.SaveReport=a})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(d){this.context=d
}c.prototype.setupSchema=function(f,i,d){var k=this;if(d===void 0){d=null}var j=this.context.gviConnection();j.setSchemaName(f.schemaName);j.setRequestLocale(d);var h=new viz.QueryManager(j);var e=function(l){k.context.errorMgr().addError("mainReport.error.info",[l.toString()]);
a.callMethod(f,"onError")};var g=new viz.GetReportingMetaInfoGviRequest();h.addResultWidget({onVizRequestExecuted:function(o){try{var l=g.extractResult(o)}catch(m){e(k.context.l("ic3.select_schema_dialog.error.invalidJSON",m.toString()));return}var p=l.schemaInfo?new a.SchemaMetaInfo(l.schemaInfo):null;
var n=k.context.gviConfiguration();n.schemaName(p.name());n.schemaInfo(p);a.callMethod(f,"onSuccess")},onError:function(l){if(i){e(l)}else{a.callMethod(f,"onSuccess");k.selectSchema(f.onSuccess,i,f.schemaName)}return false},onFailure:function(l){e(l);return false
}});h.executeRequest(g)};c.prototype.selectSchema=function(g,f,e){var i=this;var h=e?"":this.context.mainReport().schemaName();var d=function(j,k){i.setupSchema({schemaName:j,onSuccess:_.partial(g,j,k)},f)};this.context.mainReport().setModal(React.createElement(a.SelectSchemaDialog,{title:this.context.l("ic3.select_schema_dialog.title"),selectedSchemaId:h,selectedCubeId:this.context.mainReport().cubeName(),onSelect:d}))
};return c}());a.SelectSchema=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};
var ic3;(function(a){a.ItemTypes={WIDGET:"widget",ELEMENT:"arrayElement",MDX_MEMBER:"mdxMember",ITEM:"item"};var b=(function(c){__extends(d,c);function d(f,e){c.call(this,f,e)}d.prototype.createPlaceholderStyles=function(){var e=this.props;if(!e.initialOffset||!e.currentOffset){return{display:"none"}
}return{zIndex:a.zIndexConst.maxZIndex,top:e.currentOffset.y,left:e.currentOffset.x}};d.prototype.renderWidgetPlaceholder=function(){var e=_.merge(this.createPlaceholderStyles(),this.props.item.submenuItem.factory.getInitialSize());return(React.createElement("div",{className:"ic3-drag-layer"},React.createElement("div",{className:"ic3-drag-helper ic3-box-header",style:e},React.createElement("div",{className:"ic3-inner"},this.props.item.submenuItem.label))))
};d.prototype.renderElementPlaceholder=function(){return(React.createElement("div",{className:"ic3-drag-layer"},React.createElement("div",{className:"btn btn-default ic3-drag-helper",style:this.createPlaceholderStyles()},this.props.item.label||"Item "+(this.props.item.idx+1))))
};d.prototype.renderMdxMember=function(){return(React.createElement("div",{className:"ic3-drag-layer"},React.createElement("div",{className:"ic3-drag-helper",style:this.createPlaceholderStyles()},React.createElement(a.MdxMemberComponent,{mdxMember:this.props.item.mdxMember}))))
};d.prototype.renderItem=function(){return(React.createElement("div",{className:"ic3-drag-layer"},React.createElement("div",{className:"ic3-drag-helper",style:this.createPlaceholderStyles()},React.createElement(a.ItemComponent,{item:this.props.item.item}))))
};d.prototype.render=function(){if(!this.props.isDragging){return null}switch(this.props.itemType){case a.ItemTypes.WIDGET:return this.renderWidgetPlaceholder();case a.ItemTypes.ELEMENT:return this.renderElementPlaceholder();case a.ItemTypes.MDX_MEMBER:return this.renderMdxMember();
case a.ItemTypes.ITEM:return this.renderItem();default:return(React.createElement("div",{className:"ic3-drag-layer"},React.createElement("div",{className:"btn btn-default ic3-drag-helper",style:this.createPlaceholderStyles()},"Item")))}};return d}(React.Component));
a.CustomDragLayer=ReactDnD.DragLayer(function(c){return{item:c.getItem(),itemType:c.getItemType(),initialOffset:c.getInitialClientOffset(),currentOffset:c.getClientOffset(),isDragging:c.isDragging()}})(b)})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var d=(function(f){__extends(g,f);function g(h){f.call(this,h)}g.prototype.renderTopPanel=function(){if(this.props.topPanel==null){return null
}return React.createElement("div",{className:"ic3-reporting-top-panel"},this.props.topPanel)};g.prototype.renderLeftPanel=function(){if(this.props.leftPanel==null){return null}return React.createElement("div",{className:"ic3-reporting-left-panel",style:{minWidth:"50px"}},this.props.leftPanel)
};g.prototype.renderBottomPanel=function(){if(this.props.bottomPanel==null){return null}return(React.createElement("div",{className:"ic3-reporting-bottom-panel",style:{zIndex:a.zIndexConst.bottomConsole}},this.props.bottomPanel))};g.prototype.getChildContext=function(){return this.props.reportingContext
};g.prototype.render=function(){var h=this.props.theme.getForComponent("reportContentContainer");return(React.createElement("div",{className:"ic3-reporting-container"},this.renderTopPanel(),React.createElement(a.CustomDragLayer,null),React.createElement("div",{className:"ic3-reporting-middle-panel"},React.createElement("div",null,this.renderLeftPanel()),React.createElement("div",{className:"flexible"},h.wrapReactStyle(React.createElement("div",{className:"ic3-reporting-content"},this.props.content),false),this.renderBottomPanel())),React.createElement("div",{className:"notifications"},_.map(this.props.notifications)),this.props.modals))
};g.childContextTypes={reportingContext:React.PropTypes.object};return g}(React.Component));a.CleanReportingLayout=d;a.ReportingLayout=ReactDnD.DragDropContext(reactDndTouchBackend["default"]({enableMouseEvents:true}))(d);function b(g,f){return{connectDropTarget:g.dropTarget(),isOver:f.isOver()}
}var c={drop:function(h,g){var i=h.mainReport.getContainer().querySelectorAll(".ic3-reporting-top-panel")[0],f=g.getClientOffset();if(i){f.y-=i.getBoundingClientRect().height}return f}};var e=React.createClass({shouldComponentUpdate:function(f,g){return !!f.updateContent
},componentDidMount:function(){this.create()},componentDidUpdate:function(){this.destroy();this.create()},componentWillUnmount:function(){this.destroy()},destroy:function(){this.props.mainReport.layout().destroy()},create:function(){var f=$(ReactDOM.findDOMNode(this)).children().first();
this.props.mainReport.layout().buildInHtml(f)},render:function(){var f=this.props.mainReport.isReportingMode()?"100%":"calc(100% - 50px)";return this.props.connectDropTarget(React.createElement("div",{className:"ic3-reporting-drop-consumer",style:{width:f,height:"100%",position:"absolute"}},React.createElement("div",{className:"ic3-reporting-scroll-provider",style:{width:"100%",height:"100%",position:"relative",overflow:"auto"}})))
}});a.LayoutContainer=ReactDnD.DropTarget(a.ItemTypes.WIDGET,c,b)(e)})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(e){d.call(this,e)}c.prototype.renderMenu=function(){if(this.props.menu==null){return null}return React.createElement("div",{className:"menu"},this.props.menu)};c.prototype.renderControls=function(){if(this.props.controls==null){return null
}return React.createElement("div",{className:"controls"},this.props.controls)};c.prototype.render=function(){return(React.createElement("div",{className:"top-panel"},React.createElement("div",{className:"logo"}),this.renderMenu(),React.createElement(a.EnvironmentInformation,null),this.renderControls()))
};return c}(React.Component));a.TopPanel=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(f,e){c.call(this,f,e)}d.prototype.render=function(){var f=this.context.reportingContext.gviConfiguration().environmentInformation();if(_.isObject(f)){var e={color:d.isDarkBackground(f.color)?"white":"black",backgroundColor:f.color};
return React.createElement("div",{className:"ic3-environment-information",style:e},f.name)}return null};d.isDarkBackground=function(f){var e=a.react.colorpicker.parseCSSColor(f);if(_.isEmpty(e)){return false}var g=Math.sqrt(0.241*e[0]*e[0]+0.691*e[1]*e[1]+0.068*e[2]*e[2]);
return g<130};d.contextTypes={reportingContext:React.PropTypes.object};return d}(React.Component));a.EnvironmentInformation=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e)}c.prototype.createMenuMeta=function(){var e=this.context.reportingContext;var g=e.mainReport();
var f={children:[]};if(g.isReportingMode()){c.pushIfNotNull(f,this.createBackToEditorMenu())}if(_.isNull(e.mainReport().commands().widgetOptionsCommand)&&!g.isReportManagingMode()){c.pushIfNotNull(f,this.createFileMenuMeta())}if(g.isEditingMode()){if(_.isNull(e.mainReport().commands().widgetOptionsCommand)){var h=this.createWidgetsMenu();
if(_.isObject(h[c.FILTERS_AND_TOOLS])){c.pushIfNotNull(f,h[c.FILTERS_AND_TOOLS])}if(_.isObject(h[c.CHARTS])){c.pushIfNotNull(f,h[c.CHARTS])}_.each(h,function(j,i){if(i!=c.FILTERS_AND_TOOLS&&i!=c.CHARTS){c.pushIfNotNull(f,j)}})}c.pushIfNotNull(f,this.createConfigurationMenuMeta());
c.pushIfNotNull(f,this.createInfoMenuMeta())}if(g.isReportManagingMode()){c.pushIfNotNull(f,this.createExitFromReportManagerMenu())}c.pushIfNotNull(f,this.createAdminMenuMeta());return[f]};c.prototype.createExitFromReportManagerMenu=function(){var e=this.context.reportingContext;
var f=e.mainReport();return{label:e.l("ic3.back"),action:function(){f.reportMode(a.MainReportMode.EDITING_REPORTING);f.resetLayoutComponent();if(f.hasReport()){f.rebuildAll()}else{f.refreshAll()}}}};c.prototype.createBackToEditorMenu=function(){var e=this.context.reportingContext;
var h=e.mainReport();var i=e.userInfo().isReportWithEditingPermissions();var g=e.userInfo().isReportWithSavePermissions();var f=h.hasReport();if(i&&g&&f){return{label:e.l("ic3.back"),action:function(){h.reportMode(a.MainReportMode.EDITING_REPORTING);h.rebuildAll()
}}}return null};c.prototype.createFileMenuMeta=function(){var g=this.context.reportingContext;var h=g.mainReport();var k=g.userInfo().isReportWithEditingPermissions();var l=g.userInfo().isReportWithSavePermissions();var i=h.hasReport();var m={label:g.l("ic3.top_menu.file"),submenu:[]};
var n={children:[]};var f={children:[]};var j={children:[]};var e={children:[]};c.pushToGroup(n,{label:g.l("ic3.top_menu.file.new"),action:function(){return h.newReport()}},k);c.pushToGroup(n,{label:g.l("ic3.top_menu.file.open"),action:function(){return h.onOpenReport()
}});c.pushToGroup(f,{label:g.l("ic3.top_menu.file.save"),action:function(){return h.saveReport()}},i&&l);c.pushToGroup(f,{label:g.l("ic3.top_menu.file.save_as"),action:function(){return h.saveAsReport()}},i&&l);c.pushToGroup(e,{label:g.l("ic3.top_menu.file.export"),action:function(){return a.exportReport(h)
}},i&&k);c.pushToGroup(e,{label:g.l("ic3.top_menu.file.import"),action:function(){return a.importReport(h)}},k);c.addNonEmptyGroup(m,n);c.addNonEmptyGroup(m,f);c.addNonEmptyGroup(m,j);c.addNonEmptyGroup(m,e);return m};c.prototype.createConfigurationMenuMeta=function(){var e=this.context.reportingContext;
var i=e.mainReport();var j=e.userInfo().isReportWithEditingPermissions();var g=i.hasReport();if(!g||!j){return null}var h={label:e.l("ic3.top_menu.configuration"),submenu:[]};var f={children:[]};c.pushToGroup(f,{label:e.l("ic3.top_menu.configuration.settings"),action:function(){return i.configureLayout()
}},j&&g);c.pushToGroup(f,{label:e.l("ic3.top_menu.configuration.localization"),action:function(){return i.configureLocalization()}},j&&g);c.pushToGroup(f,{label:e.l("ic3.top_menu.configuration.css"),action:function(){return new a.EditReportCssCommand(e).execute()
}},j&&g);c.pushToGroup(f,{label:e.l("ic3.top_menu.configuration.js"),action:function(){return new a.EditReportJsCommand(e).execute()}},j&&g);c.pushToGroup(f,{label:e.l("ic3.top_menu.configuration.constants"),action:function(){return new a.EditConstantsCommand(e).execute()
}},j&&g);c.pushToGroup(f,{label:e.l("ic3.top_menu.configuration.schema"),action:function(){return i.changeSchema()}},j&&g);c.addNonEmptyGroup(h,f);return h};c.prototype.createInfoMenuMeta=function(){var f=this.context.reportingContext;var k=f.mainReport();var l=f.userInfo().isReportWithEditingPermissions();
var i=k.hasReport();if(!i||!l){return null}var j={label:f.l("ic3.top_menu.info"),submenu:[]};var g={children:[]};var e={children:[]};var h={children:[]};c.pushToGroup(g,{label:f.l("ic3.top_menu.info.report_code"),action:function(){return new a.EditReportCodeCommand(f).execute()
}},l&&i);c.pushToGroup(g,{label:f.l("ic3.top_menu.info.report_html_embedded"),action:function(){return new a.EditReportHtmlCommand(f).execute()}},l&&i);c.pushToGroup(e,{label:f.l("ic3.top_menu.info.event_usage"),action:function(){return k.showEventUsage()}},l&&i);
c.pushToGroup(e,{label:f.l("ic3.top_menu.info.events_info"),action:function(){return k.showEventNames()}},l&&i);c.pushToGroup(h,{label:f.l("ic3.top_menu.info.report_info"),action:function(){return k.showReportInfo()}},l&&i);c.addNonEmptyGroup(j,g);c.addNonEmptyGroup(j,e);
c.addNonEmptyGroup(j,h);return j};c.prototype.createAdminMenuMeta=function(){var e=this.context.reportingContext;var i=e.mainReport();var j=e.userInfo().isReportWithEditingPermissions();var g=i.hasReport();if(!j){return null}var h={label:e.l("ic3.top_menu.admin"),submenu:[]};
var f={children:[]};c.pushToGroup(f,{label:e.l("ic3.top_menu.admin.edit_config_js"),action:function(){return new a.EditConfigJsCommand(e).execute()}},j);c.pushToGroup(f,{label:e.l("ic3.top_menu.admin.edit_common_css"),action:function(){return new a.EditCommonCssCommand(e).execute()
}},j);c.pushToGroup(f,{label:e.l("ic3.top_menu.admin.edit_common_js"),action:function(){return new a.EditCommonJsCommand(e).execute()}},j);c.pushToGroup(f,{label:e.l("ic3.top_menu.admin.reports_manager"),action:function(){return new a.BatchMigrationCommand(e).execute()
}},!g&&e.userInfo().isReportWithSavePermissions());c.pushToGroup(f,{label:e.l("ic3.top_menu.admin.print"),action:function(){return i.printReport({openInBrowser:true})}},j&&g);c.pushToGroup(f,{label:e.l("ic3.top_menu.admin.print_batch"),action:function(){return i.printReport({reportBatch:true,openInBrowser:true})
}},j&&g);c.pushToGroup(f,{label:e.l("ic3.top_menu.admin.print_test"),action:function(){return a.printTestPage(e)}},j&&g);c.pushToGroup(f,{label:e.l("ic3.top_menu.admin.save_snapshot"),action:function(){return i.saveSnapshot()}},j&&g);c.pushToGroup(f,{label:e.l("ic3.top_menu.admin.clear_persistent_data"),action:function(){i.messageBox(e.l("ic3.top_menu.admin.clear_persistent_data"),e.l("ic3.top_menu.admin.clear_persistent_data.question"),{yes:function(){return new a.ClearUserPersistentDataCommand(e).execute()
},no:null})}},j&&g);c.pushToGroup(f,{label:e.l("ic3.top_menu.admin.refresh_report"),action:function(){return new a.RefreshReportCommand(e).execute()}},j&&g);c.pushToGroup(f,{label:e.l("ic3.top_menu.admin.version"),action:function(){return i.showVersion()}},j&&g);
c.addNonEmptyGroup(h,f);return h};c.prototype.createWidgetsMenu=function(){var i=this;var e=this.context.reportingContext;var l=e.reportMgr();var f=e.mainReport();var j=e.userInfo().isReportWithEditingPermissions();var h=f.hasReport();var k=f.isReportWithSnapshot();
if(!h||!j||k){return{}}var o={};var g=l.getFactories(a.ReportFactoryType.FILTER,a.ReportFactoryType.TOOL,a.ReportFactoryType.CHART);var m=_.groupBy(g,function(p){var q=p.getMenuPath();if(q==null||q.length===0){return i.context.reportingContext.l("ic3.undefined")
}return p.getMenuPath()[0]});function n(p){return{label:p.getName(),draggable:true,factory:p,action:function(q,s,r){f.addNewWidget(p,_.merge(p.getInitialSize(),{left:s,top:r}))}}}_.each(m,function(r,q){var p=_.groupBy(r,function(s){var t=s.getMenuPath();if(t==null||t.length<2){return i.context.reportingContext.l("ic3.undefined")
}return s.getMenuPath()[1]});o[q]={label:e.l(q),submenu:_.map(p,function(t){var u=_.groupBy(t,function(v){var w=v.getMenuPath();if(w==null||w.length<3){return"IC3.TOP_LEVEL"}return v.getMenuPath()[2]});var s={children:_.map(u["IC3.TOP_LEVEL"],function(v){return n(v)
})};_.transform(u,function(v,w,x){if(x!="IC3.TOP_LEVEL"){v.push({label:e.l(x),submenu:[{children:_.map(w,function(y){return n(y)})}]})}},s.children);return s})}});return o};c.prototype.render=function(){return React.createElement(a.ReportMenuComponent,{meta:this.createMenuMeta(),isVertical:false})
};c.pushIfNotNull=function(e,f){if(f!=null){e.children.push(f)}};c.addNonEmptyGroup=function(e,f){if(!_.isEmpty(f.children)){e.submenu.push(f)}};c.pushToGroup=function(f,e,g){if(g!==false){f.children.push(e)}};c.FILTERS_AND_TOOLS="ic3.top_menu.filters_and_tools";
c.CHARTS="ic3.top_menu.charts";c.contextTypes={reportingContext:React.PropTypes.object};return c}(React.Component));a.TopMenu=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e)}c.prototype.createControlsMeta=function(){var e=this.context.reportingContext;var h=e.mainReport();
var f={children:[]};var g=this.context.reportingContext.getI18n();if(h.hasReport()&&_.isNull(e.mainReport().commands().widgetOptionsCommand)){f.children.push({icon:"refresh",tooltip:e.l("ic3.top_controls.refresh"),action:function(){e.refreshReport()}})}f.children.push({icon:"bell",tooltip:e.l("ic3.top_controls.notifications"),badge:e.bottomConsoleAppender.getNewImportantMessagesCount()?e.bottomConsoleAppender.getNewImportantMessagesCount().toString():null,action:function(){if(h.hasBottomPanel()){h.resetBottomPanel()
}else{h.setBottomPanel(React.createElement(b.BottomConsole,{items:e.bottomConsoleAppender.getMessages()}))}}});f.children.push({icon:"user",tooltip:e.userInfo().getName()+" / "+e.gviConfiguration().dataSource.authUserRole,classes:"dropdown-left",submenu:[{children:[{label:e.l("ic3.top_controls.user.settings"),action:function(){return new b.EditUserSettingsCommand(e).execute()
}},{label:e.l("ic3.top_controls.user.logout"),action:function(){h.logout()}}]}]});return[f]};c.prototype.render=function(){return React.createElement(b.ReportMenuComponent,{meta:this.createControlsMeta(),isVertical:false})};c.contextTypes={reportingContext:React.PropTypes.object};
return c}(React.Component));b.TopControls=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(b){var a=(function(d){__extends(c,d);function c(f,e){var g=this;d.call(this,f,e);this.update=function(){g.forceUpdate()}}c.prototype.selectedBoxes=function(f){var e=f.layout();return _.has(e,"selectionHandler.selectedBoxes")?_.clone(e.selectionHandler.selectedBoxes):[]
};c.prototype.componentDidMount=function(){var e=this.context.reportingContext.mainReport().layout();e.bind("remove",this.update);e.selectionHandler.bind("selectionchange",this.update)};c.prototype.componentWillUnmount=function(){var e=this.context.reportingContext.mainReport().layout();
e.unbind("remove",this.update);e.selectionHandler.unbind("selectionchange",this.update)};c.prototype.createActionsMenu=function(){var j=this;var f=this.context.reportingContext;var h={children:[]};var e=this.selectedBoxes(f);if(e.length===1){var g=_.first(e).widgetAdapter().eventMapper();
var i=g.getEvent(vizEventType.onSelection)||g.getEvent(vizEventType.onRowClick);if(!b.isEmptyString(i)){c.pushToGroup(h,{label:f.l("ic3.left_menu.actions.filter_add_to_all"),action:function(k){return new b.AddFilterToAllCommand(k.layout(),j.selectedBoxes(k),i).execute()
}});c.pushToGroup(h,{label:f.l("ic3.left_menu.actions.filter_remove_all"),action:function(k){return new b.RemoveAllFilterCommand(k.layout(),j.selectedBoxes(k),i).execute()}})}}if(e.length>0){c.pushToGroup(h,{label:f.l("ic3.left_menu.actions.duplicate"),action:function(k){return new b.DuplicateBoxCommand(k.layout(),j.selectedBoxes(k)).execute()
}});c.pushToGroup(h,{label:f.l("ic3.left_menu.actions.migrate"),action:function(k){var l=j.selectedBoxes(k)[0].widgetAdapter();if(b.WidgetAdapterTypeHelper.isChart(l)){new b.MigrateWidgetCommand(k.layout(),j.selectedBoxes(k)).execute()}},disabled:function(k){var l=j.selectedBoxes(k);
return l.length!==1||!b.WidgetAdapterTypeHelper.isMigratable(l[0].widgetAdapter())}});c.pushToGroup(h,{label:f.l("ic3.left_menu.actions.copy"),action:function(){b.ClipboardHelper.setupCopy(b.ClipboardHelper.createBoxesClipboardData(e))}})}c.pushToGroup(h,{label:f.l("ic3.left_menu.actions.paste"),action:function(k){return new b.PasteBoxCommand(k).execute()
}});if(e.length>0){c.pushToGroup(h,{label:f.l("ic3.left_menu.actions.remove"),icon:"",action:function(k){new b.RemoveBoxCommand(k.layout(),j.selectedBoxes(k)).execute()}})}return h};c.prototype.createModifyMenu=function(){var g=this;var e=this.context.reportingContext;
var f={label:e.l("ic3.left_menu.modify"),children:[]};c.pushToGroup(f,{label:e.l("ic3.left_menu.actions"),icon:"option-horizontal",tooltip:e.l("ic3.left_menu.actions"),submenu:[this.createActionsMenu()]});c.pushToGroup(f,{label:e.l("ic3.left_menu.options"),icon:"cogwheel",tooltip:e.l("ic3.left_menu.options"),action:function(h){new b.WidgetOptionsCommand(h.layout(),g.selectedBoxes(h)[0]).execute()
},disabled:function(h){return g.selectedBoxes(h).length!==1}});return f};c.prototype.createHistoryMenu=function(){var e=this.context.reportingContext;var f={label:e.l("ic3.left_menu.history"),children:[]};c.pushToGroup(f,{label:e.l("ic3.left_menu.history.undo"),icon:"undo",tooltip:e.l("ic3.left_menu.history.undo"),action:function(g){g.mainReport().historyManager().undo()
},disabled:function(g){return !g.mainReport().historyManager().canUndo()}});c.pushToGroup(f,{label:e.l("ic3.left_menu.history.redo"),icon:"redo",tooltip:e.l("ic3.left_menu.history.redo"),action:function(g){g.mainReport().historyManager().redo()},disabled:function(g){return !g.mainReport().historyManager().canRedo()
}});return f};c.prototype.createArrangeMenu=function(){var g=this;var e=this.context.reportingContext;var f={label:e.l("ic3.left_menu.arrange"),children:[]};c.pushToGroup(f,{label:e.l("ic3.left_menu.layer"),icon:"bring-forward",tooltip:e.l("ic3.left_menu.layer.description"),disabled:function(h){return g.selectedBoxes(h).length<1
},submenu:[{children:[{label:e.l("ic3.left_menu.layer.send_back"),action:function(h){return new b.SendBackCommand(h.layout(),g.selectedBoxes(h)).execute()}},{label:e.l("ic3.left_menu.layer.bring_to_front"),action:function(h){return new b.BringToFrontCommand(h.layout(),g.selectedBoxes(h)).execute()
}}]}]});c.pushToGroup(f,{label:e.l("ic3.left_menu.position"),icon:"align-left",tooltip:e.l("ic3.left_menu.position.description"),disabled:function(h){return g.selectedBoxes(h).length<1},submenu:[{children:[{label:e.l("ic3.left_menu.position.align_left"),action:function(h){return new b.AlignLeftCommand(h.layout(),g.selectedBoxes(h)).execute()
}},{label:e.l("ic3.left_menu.position.align_center"),action:function(h){return new b.AlignCenterCommand(h.layout(),g.selectedBoxes(h)).execute()}},{label:e.l("ic3.left_menu.position.align_right"),action:function(h){return new b.AlignRightCommand(h.layout(),g.selectedBoxes(h)).execute()
}},{label:e.l("ic3.left_menu.position.align_top"),action:function(h){return new b.AlignTopCommand(h.layout(),g.selectedBoxes(h)).execute()}},{label:e.l("ic3.left_menu.position.align_middle"),action:function(h){return new b.AlignMiddleCommand(h.layout(),g.selectedBoxes(h)).execute()
}},{label:e.l("ic3.left_menu.position.align_bottom"),action:function(h){return new b.AlignBottomCommand(h.layout(),g.selectedBoxes(h)).execute()}}]}]});c.pushToGroup(f,{label:e.l("ic3.left_menu.center"),icon:"object-align-left",tooltip:e.l("ic3.left_menu.center.description"),disabled:function(h){return g.selectedBoxes(h).length<1
},submenu:[{children:[{label:e.l("ic3.left_menu.center.center_horizontally"),action:function(h){return new b.CenterVerticallyCommand(h.layout(),g.selectedBoxes(h)).execute()}},{label:e.l("ic3.left_menu.center.center_vertically"),action:function(h){return new b.CenterVerticallyCommand(h.layout(),g.selectedBoxes(h)).execute()
}},{label:e.l("ic3.left_menu.center.distribute_horizontally"),action:function(h){return new b.DistributeHorizontallyCommand(h.layout(),g.selectedBoxes(h)).execute()},disabled:function(h){return g.selectedBoxes(h).length<3}},{label:e.l("ic3.left_menu.center.distribute_vertically"),action:function(h){return new b.DistributeVerticallyCommand(h.layout(),g.selectedBoxes(h)).execute()
},disabled:function(h){return g.selectedBoxes(h).length<3}}]}]});return f};c.prototype.createWidgetsMenu=function(){var f=this;var e=this.context.reportingContext;return{label:e.l("ic3.left_menu.widgets"),children:[{label:e.l("ic3.left_menu.widgets"),icon:"pie-chart",tooltip:e.l("ic3.left_menu.widgets"),disabled:function(g){this.layout=g.layout();
return g.layout().getBoxes().length<1},action:function(g){new b.SnapToGridCommand(g.layout(),f.selectedBoxes(g)).execute()},get submenu(){var h=this.layout;if(!h){return null}var g=_.map(h.getBoxes(),function(i){return{label:i.getCaptionForDockMenu(),action:function(j){j.layout().selectionHandler.setSelection([i])
},buttonProps:{onMouseEnter:function(){var j=$("#"+i.guid());if(j.length===1){j.addClass("ic3-highlighted");setTimeout(function(){return j.removeClass("ic3-highlighted")},1000)}}}}});return[{children:g}]}}]}};c.prototype.createMenuMeta=function(){var g=this;
var e=this.context.reportingContext;var f=[];f.push(this.createModifyMenu());f.push(this.createHistoryMenu());f.push(this.createArrangeMenu());f.push({label:e.l("ic3.left_menu.sizing"),children:[{label:e.l("ic3.left_menu.size"),icon:"ruler-alt",tooltip:e.l("ic3.left_menu.sizing"),disabled:function(h){return g.selectedBoxes(h).length<2
},submenu:[{children:[{label:e.l("ic3.left_menu.size.same_width"),action:function(h){return new b.SameWidthCommand(h.layout(),g.selectedBoxes(h)).execute()}},{label:e.l("ic3.left_menu.size.same_height"),action:function(h){return new b.SameHeightCommand(h.layout(),g.selectedBoxes(h)).execute()
}}]}]}]});f.push({label:e.l("ic3.left_menu.magnet"),children:[{label:e.l("ic3.left_menu.magnet.snap_to_grid"),icon:"magnet",tooltip:e.l("ic3.left_menu.magnet.snap_to_grid"),disabled:function(h){return g.selectedBoxes(h).length<1},action:function(h){return new b.SnapToGridCommand(h.layout(),g.selectedBoxes(h)).execute()
}}]});f.push(this.createWidgetsMenu());f.push({label:e.l("ic3.left_menu.mode"),children:[{label:e.l("ic3.left_menu.layout"),icon:"projector",tooltip:e.l("ic3.left_menu.layout.description"),action:function(h){h.mainReport().reportMode(b.MainReportMode.REPORTING);
h.mainReport().rebuildAll()}}]});return f};c.prototype.render=function(){return(React.createElement("div",null,React.createElement(b.ReportMenuComponent,{meta:this.createMenuMeta(),isVertical:true})))};c.pushToGroup=function(f,e,g){if(g!==false){f.children.push(e)
}};c.contextTypes={reportingContext:React.PropTypes.object};return c}(React.Component));b.LeftMenu=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(b){var a=(function(d){__extends(c,d);function c(i,h){var j=this;d.call(this,i,h);this.levelSign={};this.selectionChange=function(k){j.setState({widgets:k})};var e=h.reportingContext.mainReport().layout();this.state={widgets:e?_.clone(e.selectionHandler.selectedBoxes):[],allLevels:false,filterWidgets:i.widgets&&i.widgets.length>0,filterLevels:(g={},g[b.LogLevel.ERROR]=true,g[b.LogLevel.WARNING]=false,g[b.LogLevel.INFO]=true,g[b.LogLevel.DEBUG]=false,g)};
this.levelSign=(f={},f[b.LogLevel.ERROR]="glyphicons glyphicons-exclamation-sign",f[b.LogLevel.WARNING]="glyphicons glyphicons-warning-sign",f[b.LogLevel.INFO]="glyphicons glyphicons-info-sign",f[b.LogLevel.DEBUG]="glyphicons glyphicons-bug",f);var g,f}c.prototype.componentWillMount=function(){var e=this.context.reportingContext.mainReport().layout();
e&&e.selectionHandler.bind("selectionchange",this.selectionChange)};c.prototype.componentWillUnmount=function(){var e=this.context.reportingContext.mainReport().layout();e&&e.selectionHandler.unbind("selectionchange",this.selectionChange)};c.prototype.messageClick=function(f){if(f.info&&f.info.uid){var e=$("#"+f.info.uid);
if(e.length===1){e.addClass("ic3-highlighted");setTimeout(function(){e.removeClass("ic3-highlighted")},1000)}}};c.prototype.renderMessageRow=function(m,l){var h=this;var i=this.state,e=i.filterLevels,f=i.filterWidgets,j=i.widgets;var k=e[m.level];var g=!f||(j.length<=0||(m.info&&_.filter(j,function(n){return n.guid()===m.info.uid
}).length>0));return k&&g?(React.createElement("div",{key:"message-"+l,className:"row message-row",style:m.info&&m.info.uid?{cursor:"pointer"}:null,onClick:function(){return h.messageClick(m)}},React.createElement("div",{className:"console-col type-col"},React.createElement("span",{className:this.levelSign[m.level]})),React.createElement("div",{className:"console-col time-col"},/T(.*)\./.exec(m.date.toJSON())[1]),React.createElement("div",{className:"console-col message-col"},m.dups>0?React.createElement("span",{style:{marginRight:5}},"(",m.dups+1,")"):null,m.message))):null
};c.prototype.toggleFilterWidgets=function(){this.setState({filterWidgets:!this.state.filterWidgets})};c.prototype.toggleFilterLevel=function(h,g){var e=_.clone(this.state.filterLevels);var f;if(g){f=!_.reduce(e,function(i,j){return i&&j},true);e=_.mapValues(this.state.filterLevels,function(i){return f
})}else{e=_.set(e,[h],!e[h]);f=_.reduce(e,function(i,j){return i&&j},true)}this.setState({filterLevels:e,allLevels:f})};c.prototype.isFilterActive=function(e){return this.state.filterLevels[e]};c.prototype.close=function(){this.context.reportingContext.mainReport().resetBottomPanel()
};c.prototype.clearClick=function(){if(this.props.items.length>0){this.context.reportingContext.bottomConsoleAppender.clearMessages()}};c.prototype.renderTab=function(g,e){var f=this;return(React.createElement("button",{type:"button",onClick:function(){return f.toggleFilterLevel(g,false)
},className:classNames("btn","btn-default",{active:this.isFilterActive(g)})},e))};c.prototype.render=function(){var m=this;var k={Errors:b.LogLevel.ERROR,Warnings:b.LogLevel.WARNING,Info:b.LogLevel.INFO,Debug:b.LogLevel.DEBUG};var g=[];for(var j=0,f=0;j<this.props.items.length;
j++){var l=this.props.items[j];var h=this.props.items[j+1];if(h&&_.isEqual(l.info,h.info)&&l.message==h.message){f++}else{var e=_.cloneDeep(l);e.dups=f;g.push(e);f=0}}return(React.createElement("div",{className:"bottom-console"},React.createElement("div",{className:"row filter-panel"},React.createElement("button",{type:"button",className:"btn btn-default btn-xs clear-btn",onClick:this.clearClick.bind(this)},"Clear"),React.createElement("div",{className:"btn-group btn-group-xs",role:"group"},React.createElement("button",{type:"button",className:classNames("btn","btn-default",{active:this.state.filterWidgets}),onClick:function(){return m.toggleFilterWidgets()
}},"Selected widget"),React.createElement("button",{type:"button",className:classNames("btn","btn-default",{active:this.state.allLevels}),onClick:function(){return m.toggleFilterLevel(null,true)}},"All")),React.createElement("div",{className:"btn-group btn-group-xs",role:"group"},_.map(k,this.renderTab.bind(this))),React.createElement("div",{className:"pull-right"},React.createElement("span",{className:"glyphicons glyphicons-remove btn-xs",onClick:this.close.bind(this)}))),React.createElement("div",{className:"row header-row"},React.createElement("div",{className:"console-col type-col"},"Type"),React.createElement("div",{className:"console-col time-col"},"Time"),React.createElement("div",{className:"console-col message-col"},"Message")),React.createElement("div",{className:"row message-container"},React.createElement("div",{className:"col col-sm-12"},_.map(g,this.renderMessageRow.bind(this))))))
};c.contextTypes={reportingContext:React.PropTypes.object};return c}(React.Component));b.BottomConsole=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(f,e){c.call(this,f,e)}d.prototype.render=function(){return(React.createElement("div",{key:"modal"+this.context.reportingContext.mainReport().modalsAmount(),className:classNames("modal",this.props.modalClasses),style:{zIndex:a.zIndexConst.dialogOverlay}},React.createElement("div",{className:"modal-dialog",style:{zIndex:a.zIndexConst.dialog}},React.createElement("div",{className:"modal-header"},this.props.header),React.createElement("div",{className:"modal-body"},this.props.children),React.createElement("div",{className:"modal-footer"},this.props.footer))))
};d.contextTypes={reportingContext:React.PropTypes.object};return d}(React.Component));a.ModalDialog=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var ic3;(function(a){var b=(function(c){__extends(d,c);
function d(f,e){c.call(this,f,e);this.state={fullScreen:false}}d.prototype.renderButton=function(g,e){var f=g.label,j=g.handler,i=g.props,h=g.className;return(React.createElement("button",__assign({},i,{key:e,type:"button",className:classNames("btn btn-primary",h),onClick:j}),f))
};d.prototype.toggleZoom=function(){this.setState({fullScreen:!this.state.fullScreen})};d.prototype.renderHead=function(){var e=this;return[React.createElement("button",{key:"c",type:"button",className:"close header-control",onClick:function(){e.props.onClose()
}},React.createElement("span",{className:"glyphicons glyphicons-remove"})),this.props.resizable?React.createElement("button",{key:"f",type:"button",className:"close header-control resize",onClick:function(){e.toggleZoom()}},React.createElement("span",{className:"glyphicons glyphicons-resize-full"})):null,React.createElement("span",{key:"t"},this.props.title)]
};d.prototype.render=function(){var f=[this.props.leftCornerContent,React.createElement("div",{key:0,className:"pull-left"},_.map(this.props.buttonsLeft,this.renderButton.bind(this))),React.createElement("div",{key:1,className:"pull-right"},_.map(this.props.buttons,this.renderButton.bind(this)))];
var e=[];if(this.state.fullScreen){e.push("full-screen")}return(React.createElement(a.ModalDialog,{header:this.renderHead(),footer:f,modalClasses:classNames(e)},this.props.children))};return d}(React.Component));a.ModalReportingDialog=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){b.sharedServerPlace={placeId:"shared",label:"@d{ic3.file_browser.place.shared}",icon:"glyphicons glyphicons-wifi-alt"};b.homeServerPlace={placeId:"user",label:"@d{ic3.file_browser.place.home}",icon:"glyphicons glyphicons-home"};
b.usersServerPlace={placeId:"users",label:"@d{ic3.file_browser.place.users}",icon:"glyphicons glyphicons-user"};var a=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e)}c.prototype.renderPlace=function(e){var g=this;var f=classNames("predefined-place",e.placeId==this.props.selectedPlaceId?"selected":null);
return(React.createElement("div",{key:e.placeId,className:f,onClick:function(){g.props.onClick(e.placeId)}},React.createElement("span",{className:e.icon}),React.createElement("br",null),React.createElement("span",null,this.context.reportingContext.getEvaluator().evaluate(e.label))))
};c.prototype.render=function(){return React.createElement("div",{className:"predefined-places"},_.map(this.props.places,_.bind(this.renderPlace,this)))};c.contextTypes={reportingContext:React.PropTypes.object};return c}(React.Component));b.ServerPredefinedPlaces=a
})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){(function(e){e[e.SIMPLE_REPORT=0]="SIMPLE_REPORT";
e[e.REPORT_SNAPSHOT=1]="REPORT_SNAPSHOT";e[e.CONTAINER=2]="CONTAINER";e[e.PLACE=3]="PLACE";e[e.UNKNOWN=4]="UNKNOWN"})(a.ServerBrowserNodeType||(a.ServerBrowserNodeType={}));var d=a.ServerBrowserNodeType;a.ServerBrowserNodeTypeTranslated=(b={},b[d.CONTAINER]="ic3.file_browser.folder",b[d.SIMPLE_REPORT]="ic3.file_browser.report",b[d.REPORT_SNAPSHOT]="ic3.file_browser.snapshot",b);
var c=(function(f){__extends(e,f);function e(h,g){f.call(this,h,g);this.state={}}e.prototype.prevent=function(g){g.preventDefault();g.stopPropagation()};e.prototype.componentDidUpdate=function(i,j){var k=this.props.renameSelection;var h=this.refs.input;var g=_.isNull(i.renameSelection)||i.renameSelection!==k;
if(k&&g&&h){h.setSelectionRange(0,h.value.length);h.focus()}};e.prototype.renderNodeName=function(g){return this.props.renameSelection===g?React.createElement("input",{ref:"input",value:this.state.renameInput,onClick:this.prevent.bind(this),onDoubleClick:this.prevent.bind(this),onChange:this.onRenameChange.bind(this),onKeyDown:this.onRenameKeyDown.bind(this),onBlur:this.onRenameCompleted.bind(this)}):g.name
};e.prototype.renderTreeNode=function(j,l){var h=this.props,i=h.selection,k=h.onClick,g=h.onDoubleClick;return(React.createElement("li",{key:j.id,className:_.isObject(i)&&i.id===j.id?"selected":null,onClick:function(){return k(j)},onDoubleClick:function(){return g(j)
}},_.map(_.times(l),function(m){return React.createElement("span",{key:m,className:"indent"})}),React.createElement("span",{className:this.calculateIcon(j)}),this.renderNodeName(j)))};e.prototype.renderTreeNodes=function(h,j,g){var i=this;if(!_.isArray(h)){return g
}_.map(h,function(l){var k=_.reduce(e.hiddenElements,function(m,n){return m&&!n.exec(l.name)},true);if(k){g.push(i.renderTreeNode(l,j))}if(i.isOpened(l)){i.renderTreeNodes(l.children,j+1,g)}});return g};e.prototype.calculateIcon=function(g){switch(g.type){case d.CONTAINER:return this.isOpened(g)?"glyphicons glyphicons-chevron-down":"glyphicons glyphicons-chevron-right";
case d.SIMPLE_REPORT:return"glyphicons glyphicons-pie-chart";case d.REPORT_SNAPSHOT:return"glyphicons glyphicons-picture";case d.UNKNOWN:default:return"glyphicons glyphicons-question-sign"}};e.prototype.isOpened=function(g){return _.isObject(this.props.opened[g.id])||!_.isEmpty(this.props.textFilter)
};e.filterTree=function(g,h){if(_.isEmpty(g)){return g}return _.filter(_.cloneDeep(g),function(i){i.children=e.filterTree(i.children,h);return _.includes(i.name.toLowerCase(),h.toLowerCase())||!_.isEmpty(i.children)})};e.prototype.onCreateFolder=function(m){var j=this.props,k=j.selection,o=j.onCreateFolder;
var n=this.context.reportingContext.l("ic3.file_browser.new_folder");if(k&&o){var g;for(var h=0,l=true;l;++h){g=n+(h>0?" ("+h+")":"");l=_.reduce(k.children,function(i,p){return p.name===g||i},false)}o(k,g,m)}};e.prototype.onRenameStart=function(j){var h=this.props,i=h.selection,k=h.renameSelection,g=h.onRenameClick;
if(k!==i&&i){g(i)}};e.prototype.onRenameKeyDown=function(g){if(g.keyCode===13){this.onRenameCompleted(g)}};e.prototype.onRenameChange=function(g){this.setState({renameInput:g.target.value})};e.prototype.onRenameCompleted=function(k){var i=this.props,l=i.renameSelection,h=i.onRenameNode,g=i.onRenameClick;
var j=this.state.renameInput;if(l){h(l,j,k);g(null)}};e.prototype.onDeleteNode=function(j){var g=this.props,i=g.selection,l=g.onDeleteNode;if(i&&l){var k=this.context.reportingContext.mainReport();var h=this.context.reportingContext.l(a.ServerBrowserNodeTypeTranslated[i.type]);
k.messageBox(this.context.reportingContext.l("ic3.file_browser.delete_header",h||""),this.context.reportingContext.l("ic3.file_browser.delete_confirm",h||"",i.name),{yes:function(){return l(i,j)},no:function(){}})}};e.prototype.componentWillReceiveProps=function(g){if(this.props.renameSelection!==g.renameSelection&&g.renameSelection){this.state.renameInput=g.renameSelection.name
}};e.prototype.renderToolbar=function(){var g=this;return(React.createElement("div",{className:"toolbar"},React.createElement("div",{className:"button glyphicons glyphicons-folder-plus inverted",onClick:this.onCreateFolder.bind(this)}),React.createElement("div",{className:"button glyphicons glyphicons-pencil",onClick:this.onRenameStart.bind(this)}),React.createElement("div",{className:"button glyphicons glyphicons-bin",onClick:this.onDeleteNode.bind(this)}),React.createElement("div",{className:"file-search-box"},React.createElement("div",{className:"glyphicons glyphicons-search"}),React.createElement("input",{type:"text",placeholder:this.context.reportingContext.l("ic3.search"),onChange:function(h){g.props.onSearchChange(h.target.value)
}}))))};e.prototype.render=function(){var i=this.props,g=i.nodes,h=i.textFilter;if(!_.isEmpty(h)){g=e.filterTree(g,this.props.textFilter)}return(React.createElement("div",{className:"file-browser-tree"},this.renderToolbar(),React.createElement("ul",null,this.renderTreeNodes(g,0,[]))))
};e.contextTypes={reportingContext:React.PropTypes.object};e.hiddenElements=[/^\.ic3-backup-/];return e}(React.Component));a.ServerBrowserFileTree=c;var b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e);this.state=_.merge(this.state,{selectionArray:this.props.selectionArray||[]})
}c.prototype.componentWillReceiveProps=function(e){d.prototype.componentWillReceiveProps.call(this,e);this.setState({selectionArray:e.selectionArray})};c.prototype.selectionChanged=function(){this.props.onSelectionChanged(this.state.selectionArray)};c.prototype.nodeSelected=function(h,e,g){if(h.type!=a.ServerBrowserNodeType.CONTAINER){this.props.onClick(h)
}g&&this.prevent(g);var f=this.state.selectionArray;if(e){f=this.deselectNode(h,f)}else{f=this.selectNode(h,f)}this.setState({selectionArray:f});this.props.onSelectionChanged(f)};c.prototype.deselectNode=function(g,e){var h=this;if(g.type==a.ServerBrowserNodeType.CONTAINER){e=_.reduce(g.children,function(i,j){return h.deselectNode(j,i)
},e)}e.splice(_.findIndex(e,{id:g.id}),1);var f=g.parent;while(f){if(this.isSelected(f)){e.splice(_.findIndex(e,{id:f.id}),1);f=f.parent}else{f=null}}return e};c.prototype.selectNode=function(f,e){var g=this;if(f.type==a.ServerBrowserNodeType.CONTAINER){!this.isOpened(f)&&this.props.onClick(f);
_.each(f.children,function(h){return e=g.selectNode(h,e)})}!this.isSelected(f)&&e.push(f);return e};c.prototype.isSelected=function(e){return !!~_.map(this.state.selectionArray,"id").indexOf(e.id)};c.prototype.renderToolbar=function(){var e=this;return(React.createElement("div",{className:"toolbar"},React.createElement("div",{className:"button glyphicons glyphicons-folder-plus inverted",onClick:this.onCreateFolder.bind(this)}),React.createElement("div",{className:"button glyphicons glyphicons-pencil",onClick:this.onRenameStart.bind(this)}),React.createElement("div",{className:"file-search-box"},React.createElement("div",{className:"glyphicons glyphicons-search"}),React.createElement("input",{type:"text",placeholder:this.context.reportingContext.l("ic3.search"),onChange:function(f){e.props.onSearchChange(f.target.value)
}}))))};c.prototype.renderTreeNode=function(i,l){var k=this;var g=this.props,j=g.onClick,e=g.onDoubleClick,h=g.selection,f=this.isSelected(i);return(React.createElement("li",{key:i.id,className:_.isObject(h)&&h.id===i.id?"selected":null,onClick:function(){return j(i)
},onDoubleClick:function(){return e(i)}},_.map(_.times(l),function(m){return React.createElement("span",{key:m,className:"indent"})}),React.createElement("span",{className:classNames("glyphicons",f?"glyphicons-check":"glyphicons-unchecked"),onClick:function(m){return k.nodeSelected(i,f,m)
}}),React.createElement("span",{className:this.calculateIcon(i)}),this.renderNodeName(i)))};c.contextTypes={reportingContext:React.PropTypes.object};return c}(a.ServerBrowserFileTree));a.MultipleSelectionFileTree=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e);this.state={};this.state.roots={}}c.prototype.isFile=function(e){return _.isObject(e)&&_.includes([a.ServerBrowserNodeType.REPORT_SNAPSHOT,a.ServerBrowserNodeType.SIMPLE_REPORT],e.type)
};c.prototype.isContainer=function(e){return _.isObject(e)&&_.includes([a.ServerBrowserNodeType.PLACE,a.ServerBrowserNodeType.CONTAINER],e.type)};c.prototype.errorHandler=function(e){this.context.reportingContext.notificationMgr().notifyError("reportBrowser.error.reportList",[e.toString()])
};c.prototype.processServerStructure=function(f,e,h){var g=this;if(h===void 0){h=true}_.map([a.sharedServerPlace,a.homeServerPlace,a.usersServerPlace],function(i){var j=f.getTableProperty(i.placeId+"UUID");var l=f.getTableProperty(i.placeId+"Path");var k=new viz.MdxEntityData(f,i.placeId);
g.state.roots[i.placeId]=g.parseEntityData(k,{id:j,name:i.placeId,type:a.ServerBrowserNodeType.PLACE,path:l,children:[]},e)});if(h){this.forceUpdate()}};c.prototype.parseEntityData=function(h,o,i){var k={};for(var n=0;n<h.size();++n){var l=h.getEntityAt(n);
var j=k[n]={id:l.uniqueName,name:l.name,type:this.getEntityType(l),path:l.path};if(l.parentRowId<0){j.parent=o;o.children.push(j)}else{var e=k[l.parentRowId];if(!_.isObject(e)){this.errorHandler("Parent node not found for id: "+j.id)}j.parent=e;e.children=(e.children||[]).concat(j)
}}if(i){var m=_.matches(i.matches);var f=_.map(k).concat(o);var g=_.reduce(f,function(q,s){if(m(s)){var r=!i.parent;var p=s;while(!r&&(p=p.parent)){r=p.id===i.parent.id}if(r){q.push(s)}}return q},[]);if(g.length>0){i.handler(o.name,g)}}return o};c.prototype.getEntityType=function(e){switch(e.type){case viz.MdxEntityDataType.REPORT:return a.ServerBrowserNodeType.SIMPLE_REPORT;
case viz.MdxEntityDataType.REPORT_SNAPSHOT:return a.ServerBrowserNodeType.REPORT_SNAPSHOT;case viz.MdxEntityDataType.REPORT_FOLDER:return a.ServerBrowserNodeType.CONTAINER;default:return a.ServerBrowserNodeType.UNKNOWN}};c.prototype.loadServerStructure=function(e){var g=this;
var f=new viz.ListReportNamesGviRequest();this.context.reportingContext.executeRequest(f,{onVizRequestExecuted:function(h){return g.processServerStructure(h,e)},onError:_.bind(this.errorHandler,this),onFailure:_.bind(this.errorHandler,this)})};c.prototype.getAvailablePlaces=function(){var f=[];
if(!_.isEmpty(this.state.roots)){f.push(a.sharedServerPlace,a.homeServerPlace);var e=this.state.roots[a.usersServerPlace.placeId];if(e.children){f.push(a.usersServerPlace)}}return f};c.prototype.componentDidMount=function(){this.loadServerStructure()};c.contextTypes={reportingContext:React.PropTypes.object};
return c}(React.Component));a.ServerBrowser=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e);this.state.selection=null;this.state.renameSelection=null;this.state.selectedPlaceId=a.homeServerPlace.placeId;this.state.openedContainers={}}c.prototype.processServerStructure=function(j,i){d.prototype.processServerStructure.call(this,j,i,false);
var g=this.state,f=g.roots,h=g.selection,e=g.selectedPlaceId;this.state.selection=h||f[e];this.forceUpdate()};c.prototype.loadServerStructure=function(e){var g=this;var f=this.context.reportingContext.userPersistentData().readLastOpenedReportPath();e=_.defaults(e,{matches:f?{id:f.path}:null,handler:function(h,i){var j=i[0];
g.state.selection=j;g.state.selectedPlaceId=h;while(j){g.state.openedContainers[j.id]=j;j=j.parent}}});d.prototype.loadServerStructure.call(this,e)};c.prototype.loadServerStructureOnCreateFolder=function(f,e){var g=this;d.prototype.loadServerStructure.call(this,{matches:{name:e},parent:f,handler:function(h,i){var j=i[0];
g.state.renameSelection=j;while(j=j.parent){g.state.openedContainers[j.id]=j}}})};c.prototype.onCreateFolder=function(h,e){var i=this;var f=this.isFile(h)?h.parent:h;var g=new viz.CreateReportFolderGviRequest(f.id,e,e);this.context.reportingContext.executeRequest(g,{onVizRequestExecuted:function(){return i.loadServerStructureOnCreateFolder(h,e)
},onFailure:this.errorHandler.bind(this),onError:this.errorHandler.bind(this)})};c.prototype.onRenameNode=function(h,f,e){if(e===void 0){e=false}var g=this.isFile(h)?new viz.RenameReportGviRequest(a.asBoolean(e),h.id,h.name,f,h.parent.id,h.parent.name):new viz.RenameReportFolderGviRequest(h.id,f,f);
this.context.reportingContext.executeRequest(g,{onVizRequestExecuted:this.loadServerStructure.bind(this,{matches:{id:h.id}}),onFailure:this.errorHandler.bind(this),onError:this.errorHandler.bind(this)})};c.prototype.onDeleteNode=function(f){var e=this.isFile(f)?new viz.DeleteReportGviRequest(f.id,f.name):new viz.DeleteReportFolderGviRequest(f.id,f.name);
this.context.reportingContext.executeRequest(e,{onVizRequestExecuted:this.loadServerStructure.bind(this),onFailure:this.errorHandler.bind(this),onError:this.errorHandler.bind(this)})};c.prototype.onMoveNode=function(f,e){};c.prototype.onClick=function(e){return this.updateSelection(e)
};c.prototype.onDoubleClick=function(e){return this.isFile(e)&&this.onSubmit(e)};c.prototype.onRenameClick=function(e){this.state.selection=e;this.state.renameSelection=e;this.forceUpdate()};c.prototype.onSubmit=function(e){return this.onClick(e)};c.prototype.updateSelection=function(e,f){if(f===void 0){f=true
}if(e.type==a.ServerBrowserNodeType.CONTAINER){if(_.isObject(this.state.openedContainers[e.id])){delete this.state.openedContainers[e.id]}else{this.state.openedContainers[e.id]=e}}this.state.selection=e;if(f){this.forceUpdate()}};c.prototype.updateSelectedPlace=function(e){this.state.selection=this.state.roots[e];
this.state.selectedPlaceId=e;this.forceUpdate()};c.prototype.renderFileBrowser=function(){var g=this;var e=this.state.roots[this.state.selectedPlaceId];var f=e&&e.children||[];return(React.createElement("div",{className:"file-browser"},React.createElement(a.ServerPredefinedPlaces,{places:this.getAvailablePlaces(),selectedPlaceId:this.state.selectedPlaceId,onClick:this.updateSelectedPlace.bind(this)}),React.createElement(a.ServerBrowserFileTree,{nodes:f,opened:this.state.openedContainers,selection:this.state.selection,renameSelection:this.state.renameSelection,textFilter:this.state.textFilter,onClick:this.onClick.bind(this),onDoubleClick:this.onDoubleClick.bind(this),onRenameClick:this.onRenameClick.bind(this),onCreateFolder:this.onCreateFolder.bind(this),onRenameNode:this.onRenameNode.bind(this),onDeleteNode:this.onDeleteNode.bind(this),onMoveNode:this.onMoveNode.bind(this),onSearchChange:function(h){return g.setState({textFilter:h})
}})))};c.prototype.renderFooter=function(){return null};c.prototype.renderServerBrowser=function(){var e=this.state.roots[this.state.selectedPlaceId];var f=e&&e.children||[];return(React.createElement("div",{className:"server-browser clearfix"},this.renderFileBrowser(),this.renderFooter()))
};c.prototype.renderButtons=function(){var e=this;return{cancel:{label:this.context.reportingContext.l("ic3.cancel"),handler:function(){return e.context.reportingContext.mainReport().clearModal()}}}};c.prototype.getLeftCornerContent=function(){};c.prototype.render=function(){var f=this.renderButtons();
var e=_.map(f);return(React.createElement(a.ModalReportingDialog,{title:this.getTitle(),onClose:f.cancel.handler,buttons:e,leftCornerContent:this.getLeftCornerContent()},this.renderServerBrowser()))};return c}(a.ServerBrowser));a.ReportServerBrowser=b})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);
function d(){c.apply(this,arguments)}d.prototype.getTitle=function(){return this.context.reportingContext.l("ic3.open_report.title")};d.prototype.onSubmit=function(h){var k=this;var m=this.state,o=m.roots,n=m.selection,e=m.selectedPlaceId;var i="users/"+this.context.reportingContext.gviConfiguration().dataSource.authUserName;
var j=_.find(o[a.homeServerPlace.placeId].children,{name:a.getReportBackupName(n.id)});var f=j?{uniqueName:j.id,path:j.path,name:j.name}:null;var l=e;if(this.isFile(n)){this.context.reportingContext.mainReport().clearModal();this.context.reportingContext.userPersistentData().saveLastOpenedReportPath({root:e,path:n.parent.id});
if(l==="user"){l=i}var g={uniqueName:n.id,path:n.path,name:n.name};if(f){this.context.reportingContext.mainReport().messageBox(this.context.reportingContext.l("ic3.command.open.restore.title"),this.context.reportingContext.l("ic3.command.open.restore.message"),{yes:function(){return k.submit(g,f)
},no:function(){return k.submit(g)}})}else{this.submit(g)}}};d.prototype.submit=function(f,e){this.props.onOpen(f,e)};d.prototype.renderButtons=function(){var e=this.state.selection;return _.assign({open:{label:this.context.reportingContext.l("ic3.open"),handler:this.onSubmit.bind(this),props:{disabled:!this.isFile(e)}}},c.prototype.renderButtons.call(this))
};return d}(a.ReportServerBrowser));a.OpenReportServerBrowser=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(){c.apply(this,arguments)}d.prototype.getTitle=function(){return this.context.reportingContext.l("ic3.open_report.create_report_link")};d.prototype.submit=function(f,e){if(this.state.relative){var h=f.path.split("/");
var g=h.pop();f.path=a.UtilityFunctions.relative(this.context.reportingContext.mainReport().reportFolderPath(),h.join("/"),g)}this.props.onOpen(f,e)};d.prototype.getLeftCornerContent=function(){var g=this;var e=function(h){g.setState({relative:h.target.checked})
};var f=_.isString(this.context.reportingContext.mainReport().reportName());return(React.createElement("div",{className:"left-corner-content"},React.createElement("label",{style:{color:!f&&"lightgrey"}},React.createElement("input",{type:"checkbox",disabled:!f,onChange:e,title:!f&&this.context.reportingContext.l("ic3.open_report.save_first")}),"Use Relative Path")))
};return d}(a.OpenReportServerBrowser));a.ReportLinkServerBrowser=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var d=(c={},c[viz.StateSaveMode.SELECTION]="Selection",c[viz.StateSaveMode.SNAPSHOT]="Snapshot",c[viz.StateSaveMode.SIMPLE]="Simple",c);var b=(function(f){__extends(e,f);function e(h,g){f.call(this,h,g);this.state.saveName=this.context.reportingContext.mainReport().reportName();
this.state.saveMode=viz.StateSaveMode.SIMPLE}e.prototype.getTitle=function(){return this.context.reportingContext.l("ic3.save_report_dialog.title")};e.prototype.onSubmit=function(g){f.prototype.onSubmit.call(this,g);return this.onSave()};e.prototype.onSave=function(h){var j=this.state,k=j.selection,g=j.selectedPlaceId,m=j.saveName,i=j.saveMode;
if(_.isObject(k)&&m){var l=this.isFile(k)?k.parent:k;this.context.reportingContext.userPersistentData().saveLastOpenedReportPath({root:g,path:l.id});this.props.onSave({folder:l,name:m,mode:i},h);this.context.reportingContext.mainReport().clearModal()}};e.prototype.onNameChange=function(g){this.state.saveName=g.target.value;
this.forceUpdate()};e.prototype.onModeChange=function(g){this.state.saveMode=parseInt(g.target.value);this.forceUpdate()};e.prototype.updateSelection=function(g){f.prototype.updateSelection.call(this,g,false);if(this.isFile(g)){this.state.saveName=g.name}this.forceUpdate()
};e.prototype.renderButtons=function(){var h=!!this.context.reportingContext.mainReport().reportPermaLink();var g={save:{label:this.context.reportingContext.l("ic3.save_report_dialog.save_as"),handler:this.onSave.bind(this,false),props:{disabled:!this.state.saveName}}};
var i={move:{label:this.context.reportingContext.l("ic3.save_report_dialog.move"),handler:this.onSave.bind(this,true),props:{disabled:!this.state.saveName}}};return _.assign(g,h?i:null,f.prototype.renderButtons.call(this))};e.prototype.renderFooter=function(){var g=this.context.reportingContext;
return(React.createElement("div",{className:"file-options"},React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"name"},g.l("ic3.save_report_dialog.name")),React.createElement("div",null,React.createElement("input",{id:"name",type:"text",className:"form-control",value:this.state.saveName,onChange:this.onNameChange.bind(this)}))),React.createElement("div",{className:"form-group"},React.createElement("label",{labelFor:"saveMode"},g.l("ic3.save_report_dialog.save_mode")),React.createElement("div",null,React.createElement("select",{id:"saveMode",className:"form-control",value:this.state.saveMode,onChange:this.onModeChange.bind(this)},_.map(d,function(i,h){return React.createElement("option",{key:h,value:h},i)
}))))))};return e}(a.ReportServerBrowser));a.SaveReportServerBrowser=b;var c})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var ic3;(function(a){var b=(function(d){__extends(c,d);
function c(){d.apply(this,arguments)}c.prototype.getTitle=function(){return this.context.reportingContext.l("ic3.open_report.title")};c.prototype.onDoubleClick=function(e){};c.prototype.render=function(){return this.renderServerBrowser()};c.prototype.componentWillReceiveProps=function(){this.updateServerStructure()
};c.prototype.updateServerStructure=function(e){var f=this;e=_.defaults(e,{matches:{id:this.state.selectedPlaceId},handler:function(g,h){var i=h[0];f.state.selection=i;f.state.selectedPlaceId=g;while(i){f.state.openedContainers[i.id]=i;i=i.parent}}});d.prototype.loadServerStructure.call(this,e)
};c.prototype.processServerStructure=function(f,e,h){var g=this;if(h===void 0){h=true}_.map([a.sharedServerPlace,a.homeServerPlace,a.usersServerPlace],function(i){var j=f.getTableProperty(i.placeId+"UUID");var l=f.getTableProperty(i.placeId+"Path");var k=new viz.MdxEntityData(f,i.placeId);
g.state.roots[i.placeId]=g.parseEntityData(k,{id:j,name:i.placeId,type:a.ServerBrowserNodeType.PLACE,path:l,children:[]},e)});if(h){this.forceUpdate()}};c.prototype.renderFileBrowser=function(){var i=this;var e=this.state.roots[this.state.selectedPlaceId];var f=e&&e.children||[],g=this.props.multipleSelection?a.MultipleSelectionFileTree:a.ServerBrowserFileTree;
var h={selectionArray:this.props.selectionArray,onSelectionChanged:this.props.selectionChanged};return(React.createElement("div",{className:"file-browser"},React.createElement(a.ServerPredefinedPlaces,{places:this.getAvailablePlaces(),selectedPlaceId:this.state.selectedPlaceId,onClick:this.updateSelectedPlace.bind(this)}),React.createElement(g,__assign({},h,{nodes:f,opened:this.state.openedContainers,selection:this.state.selection,renameSelection:this.state.renameSelection,textFilter:this.state.textFilter,onClick:this.onClick.bind(this),onDoubleClick:this.onDoubleClick.bind(this),onRenameClick:this.onRenameClick.bind(this),onCreateFolder:this.onCreateFolder.bind(this),onRenameNode:this.onRenameNode.bind(this),onDeleteNode:this.onDeleteNode.bind(this),onMoveNode:this.onMoveNode.bind(this),onSearchChange:function(j){return i.setState({textFilter:j})
}}))))};return c}(a.ReportServerBrowser));a.ReportManagerServerBrowser=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(e,d);function e(g,f){var h=this;d.call(this,g,f);this.clear=function(){var i=h.state.timer;h.context.reportingContext.mainReport().clearNotification(h.props.id);if(i){clearInterval(i);h.setState({timer:null})
}};this.state={timer:g.timer}}e.prototype.componentWillReceiveProps=function(f){var g=this.state.timer;if(g!==f.timer){clearInterval(g);this.setState({timer:f.timer})}};e.prototype.render=function(){return(React.createElement("div",{className:"notification",onClick:this.clear},React.createElement("div",{className:classNames("notification-icon","glyphicons",e.icons[this.props.level])}),React.createElement("div",{className:"notification-content"},React.createElement("div",{className:"notification-header"}),React.createElement("div",{className:"notification-message"},this.props.children))))
};e.icons=(c={},c[a.LogLevel.ERROR]="glyphicons-exclamation-sign",c[a.LogLevel.WARNING]="glyphicons-warning-sign",c[a.LogLevel.INFO]="glyphicons-info-sign",c);e.contextTypes={reportingContext:React.PropTypes.object};return e;var c}(React.Component));a.Notification=b
})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);
function c(){d.apply(this,arguments)}c.prototype.render=function(){var g=this.props,e=g.position,f=g.children;return(React.createElement("div",{className:classNames("tooltip",e||"top")},React.createElement("div",{className:"tooltip-arrow"}),React.createElement("div",{className:"tooltip-inner"},f)))
};return c}(React.Component));a.Tooltip=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){var g=this;d.call(this,f,e);this.processSchemas={onVizRequestExecuted:function(i){var h=new viz.MdxEntityData(i);g.state.schemas=_.map(h.getEntities(),function(j){return{id:j.uniqueName,label:j.caption}
});if(g.state.schemas.length==1){g.state.selectedSchemaId=g.state.schemas[0].id}g.forceUpdate();g.loadCubes()}};this.processCubes={onVizRequestExecuted:function(i){var h=new viz.MdxEntityData(i);g.state.cubes=_.map(h.getEntities(),function(j){return{id:j.uniqueName,label:j.caption}
});g.state.selectedCubeId=g.state.cubes.length>0?g.state.cubes[0].id:null;g.forceUpdate()}};this.itemToOption=function(h){return React.createElement("option",{key:h.id,value:h.id},h.id)};this.onChangeSchema=function(h){g.state.selectedSchemaId=h.target.value;
g.forceUpdate();g.loadCubes()};this.onChangeCube=function(h){g.state.selectedCubeId=h.target.value;g.forceUpdate()};this.state={schemas:[],cubes:[],selectedSchemaId:this.props.selectedSchemaId,selectedCubeId:this.props.selectedCubeId}}c.prototype.loadCubes=function(){if(!_.isEmpty(this.state.selectedSchemaId)){var f=new viz.GetCubesGviRequest();
var e=this.context.reportingContext.gviConnection();e.setSchemaName(this.state.selectedSchemaId);var g=new viz.QueryManager(e);g.addResultWidget(this.processCubes);g.executeRequest(f)}};c.prototype.componentDidMount=function(){var e=new viz.GetSchemasGviRequest();
var f=new viz.QueryManager(this.context.reportingContext.gviConnection());f.addResultWidget(this.processSchemas);f.executeRequest(e);this.loadCubes()};c.prototype.render=function(){var g=this;var f={label:this.context.reportingContext.l("ic3.ok"),handler:function(){if(!_.isEmpty(g.state.selectedSchemaId)&&!_.isEmpty(g.state.selectedCubeId)){g.context.reportingContext.mainReport().clearModal();
g.props.onSelect(g.state.selectedSchemaId,g.state.selectedCubeId)}}};var e={label:this.context.reportingContext.l("ic3.cancel"),handler:function(){g.context.reportingContext.mainReport().clearModal()}};return(React.createElement(a.ModalReportingDialog,{title:this.props.title,onClose:e.handler,buttons:[f,e]},React.createElement("div",{className:"form-horizontal"},React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"schemaSelect",className:"col-sm-2 control-label"},this.context.reportingContext.l("ic3.select_schema_dialog.schema")),React.createElement("div",{className:"col-sm-10"},React.createElement("select",{id:"schemaSelect",className:"form-control",value:this.state.selectedSchemaId||"Select schema...",onChange:this.onChangeSchema},_.isEmpty(this.state.selectedSchemaId)?React.createElement("option",{disabled:true,hidden:true},"Select schema..."):null,_.map(this.state.schemas,this.itemToOption)))),React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"cubeSelect",className:"col-sm-2 control-label"},this.context.reportingContext.l("ic3.select_schema_dialog.cube")),React.createElement("div",{className:"col-sm-10"},React.createElement("select",{id:"cubeSelect",className:"form-control",value:this.state.selectedCubeId||"Select cube...",onChange:this.onChangeCube},_.isEmpty(this.state.selectedCubeId)?React.createElement("option",{disabled:true,hidden:true},"Select cube..."):null,_.map(this.state.cubes,this.itemToOption)))))))
};c.contextTypes={reportingContext:React.PropTypes.object};return c}(React.Component));a.SelectSchemaDialog=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(f,e){c.call(this,f,e);this.state={text:this.props.text}}d.prototype.render=function(){var l=this;var e=this.props,j=e.mode,g=e.autocomplete;
var i=this.state.text;var k={label:this.context.reportingContext.l("ic3.ok"),handler:function(){return l.props.onOk(i)}};var h={label:this.context.reportingContext.l("ic3.cancel"),handler:function(){return l.props.onCancel()}};var f=_.isFunction(this.props.onOk)?[k,h]:[h];
return(React.createElement(a.ModalReportingDialog,{title:this.props.title,onClose:h.handler,buttons:f,resizable:true},React.createElement("div",{className:"text-editor"},React.createElement(a.ReactCodeMirror,{mode:j,autocomplete:g,value:i,onChange:function(m){return l.setState({text:m})
}})),React.createElement("div",{className:"comment"},"F11 - fullscreen, SHIFT+SPACE - autocompletion, dot '.' - continue autocompletion, autocompletion on '@' retrieves events")))};d.contextTypes={reportingContext:React.PropTypes.object};return d}(React.Component));
a.TextEditorDialog=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);
function d(f,e){c.call(this,f,e);this.state={searchText:null}}d.prototype.renderRow=function(e){return(React.createElement("tr",null,_.map(this.props.columns,function(f){return React.createElement("td",null,e[f.field])})))};d.prototype.filterData=function(){var e=this;
if(_.isEmpty(this.state.searchText)){return this.props.data}return _.filter(this.props.data,function(g){for(var f=0;f<e.props.columns.length;f++){if(_.includes(g[e.props.columns[f].field].toLowerCase(),e.state.searchText.toLowerCase())){return true}}return false
})};d.prototype.render=function(){var f=this;var e={label:this.context.reportingContext.l("ic3.close"),handler:function(){f.context.reportingContext.mainReport().clearModal()}};return(React.createElement(a.ModalReportingDialog,{title:this.props.title,onClose:e.handler,buttons:[e]},React.createElement("div",{className:"table-dialog"},React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,_.map(this.props.columns,function(g){return React.createElement("th",null,g.label)
}))),React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{colSpan:this.props.columns.length},React.createElement("input",{type:"text",value:this.state.searchText,placeholder:this.context.reportingContext.l("ic3.search"),onChange:function(g){f.setState({searchText:g.target.value})
}}))),_.map(this.filterData(),_.bind(this.renderRow,this)))))))};d.contextTypes={reportingContext:React.PropTypes.object};return d}(React.Component));a.TableDialog=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]
}}}return b};var ic3;(function(b){var a=b.react.Autosuggest;var c=b.react.tags.TagAutosuggest;var d=(function(f){__extends(e,f);function e(h,g){var i=this;f.call(this,h,g);this.state={data:{},openedBranches:{}};_.each(h.meta,function(j){i.state.data[j.valueRef]=_.cloneDeep(h.data[j.valueRef])
})}e.prototype.updateValue=function(i,h){var g=_.set(this.state.data,i.valueRef,h);if(_.isFunction(i.afterChange)){setTimeout(function(){i.afterChange(g,null,null)})}this.forceUpdate()};e.prototype.renderCheckbox=function(h){var j=this;var g=_.get(this.state.data,h.valueRef,h.defaultValue);
var i=_.assign({checked:g,onChange:function(k){return j.updateValue(h,!g)}},h.flags);return(React.createElement("div",{className:"input-group checkbox"},React.createElement("label",null,React.createElement("input",__assign({},i,{type:"checkbox"})))))};e.prototype.renderMultiSelect=function(h){var i=this;
var g=_.get(this.state.data,h.valueRef,[]);return(React.createElement("div",{className:"input-group",style:{overflow:"auto",maxHeight:"320px",display:"block"}},_.map(h.suggestion,function(k){var j=_.find(g,k);var l=_.assign({checked:j,title:k.tooltip,onChange:function(m){if(j){g=_.reject(g,k)
}else{g.push(k)}i.updateValue(h,g)}},h.flags);return(React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",__assign({},l,{type:"checkbox"})),k.label||k)))})))};e.prototype.renderInput=function(i){var j=this;
var g=_.assign({className:"form-control",style:{zIndex:1},placeholder:i.label,onChange:function(k){if(!_.isArray(i.children)){j.updateValue(i,k)}}},i.flags);var h=_.isArray(i.children)?_.find(i.suggestion,{value:_.get(this.state.data,i.valueRef,i.defaultValue)}):_.get(this.state.data,i.valueRef,i.defaultValue);
return(React.createElement("div",{className:"input-group"},_.isEmpty(i.children)&&_.isEmpty(i.suggestion)?null:React.createElement("span",{className:"input-group-addon icon",title:i.detailedInfo},React.createElement("span",{className:"glyphicons glyphicons-show-thumbnails-with-lines"})),React.createElement(a,{inputAttributes:g,value:_.isObject(h)?h.caption:h||"",showWhen:function(){return true
},suggestions:function(k,l){l(null,i.suggestion||[])},suggestionValue:function(k){return _.get(k,"value",k)},suggestionRenderer:function(k){return _.get(k,"caption",k)},onSuggestionSelected:function(k){return j.updateValue(i,_.get(k,"value",k))}}),i.unit==null?null:React.createElement("span",{className:"input-group-addon"},i.unit),i.detailedInfo==null?null:(React.createElement("span",{className:"input-group-addon icon",title:i.detailedInfo},React.createElement("span",{className:"glyphicons glyphicons-question-sign"})))))
};e.prototype.filterSuggestions=function(h,g,i){i(null,_.filter(h.suggestion,function(j){return((""+_.get(j,"caption",j)+_.get(j,"value",j)).toLowerCase().indexOf(g.toLowerCase())>=0)}))};e.prototype.renderSelect=function(j){var k=this;var h=_.assign({className:"form-control",style:{zIndex:1},placeholder:j.label},j.flags);
var g=_.get(this.state.data,j.valueRef);var i=_.get(_.find(j.suggestion,{value:g}),"caption",g)||"";return(React.createElement("div",{className:"input-group"},_.isEmpty(j.suggestion)?null:React.createElement("span",{className:"input-group-addon icon",title:j.detailedInfo},React.createElement("span",{className:"glyphicons glyphicons-show-thumbnails-with-lines"})),React.createElement(c,{inputAttributes:h,value:i,showWhen:function(){return true
},suggestions:this.filterSuggestions.bind(this,j),suggestionValue:function(l){return _.get(l,"caption",l)},suggestionRenderer:function(l){return _.get(l,"caption",l)},onSuggestionSelected:function(l){return k.updateValue(j,l.value)}}),j.unit?React.createElement("span",{className:"input-group-addon"},j.unit):null,j.detailedInfo?React.createElement("span",{className:"input-group-addon icon",title:j.detailedInfo},React.createElement("span",{className:"glyphicons glyphicons-question-sign"})):null))
};e.prototype.renderControl=function(j,i){var k=b.reporting.editor.OptionMetaType;var g=(h={},h[k.SELECT]=this.renderSelect,h[k.MULTISELECT]=this.renderMultiSelect,h[k.BOOLEAN]=this.renderCheckbox,h);return(g[j.type]||this.renderInput).call(this,j,i);var h};
e.prototype.renderCollapseIcon=function(g){if(!_.isEmpty(g.children)){if(this.state.openedBranches[g.valueRef]){return React.createElement("span",{className:"glyphicons glyphicons-chevron-down"})}else{return React.createElement("span",{className:"glyphicons glyphicons-chevron-right"})
}}return React.createElement("span",{className:"glyphicons glyphicons-chevron-right",style:{color:"transparent"}})};e.prototype.renderOptionMeta=function(i,g,k){var j=this;var h=classNames(k===true?"nested":null);return(React.createElement("div",{className:h},React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:i.valueRef,className:"col-sm-4 control-label",onClick:!_.isEmpty(i.children)?function(){j.state.openedBranches[i.valueRef]=!j.state.openedBranches[i.valueRef];
j.forceUpdate()}:null},this.renderCollapseIcon(i),i.label),React.createElement("div",{className:"col-sm-8"},this.renderControl(i,g))),this.state.openedBranches[i.valueRef]?_.map(i.children,function(m,l){return j.renderOptionMeta(m,l,true)}):null))};e.prototype.renderButtons=function(){var k=this;
var g=this.context.reportingContext.mainReport();var j=_.assign((i={},i[this.props.labelOk||this.context.reportingContext.l("ic3.ok")]=function(){return k.props.onOk(k.state.data)},i),this.props.extraButtons,(h={},h[this.context.reportingContext.l("ic3.close")]=null,h));
return _.map(j,function(m,l){return({label:l,handler:function(){g.clearModal();_.isFunction(m)&&m()}})});var i,h};e.prototype.render=function(){var h=this.renderButtons();var g=this.context.reportingContext.mainReport();return(React.createElement(b.ModalReportingDialog,{title:this.props.title,buttons:h,onClose:function(){return g.clearModal()
}},React.createElement("div",{className:"form-horizontal"},_.map(this.props.meta,this.renderOptionMeta.bind(this)))))};e.contextTypes={reportingContext:React.PropTypes.object};return e}(React.Component));b.FormDialog=d})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){var g=this;d.call(this,f,e);this.closeHandler=function(){if(_.isFunction(g.props.onClose)){g.props.onClose(g.getInputValue())
}else{g.context.reportingContext.mainReport().clearModal()}}}c.prototype.getInputValue=function(){return this.refs.dialogInput.value};c.prototype.getButtons=function(){var e=this;return _.map(this.props.buttons,function(g){var h=g.handler;var f=_.omit(g,"handler");
f.handler=function(){h(e.getInputValue())};return f})};c.prototype.render=function(){return(React.createElement(a.ModalReportingDialog,{title:this.props.title,onClose:this.closeHandler,buttons:this.getButtons()},React.createElement("div",{className:"form-horizontal"},React.createElement("div",null,this.props.message),React.createElement("div",null,React.createElement("input",{className:"form-control",ref:"dialogInput",defaultValue:this.props.defaultValue})))))
};c.contextTypes={reportingContext:React.PropTypes.object};return c}(React.Component));a.InputDialog=b})(ic3||(ic3={}));var ic3;(function(b){var d={combinations:[{ctrl:true,key:"s"},{meta:true,key:"s"}],action:function(g){if(g.mainReport().hasReport()){setTimeout(function(){g.mainReport().saveReport()
});return true}return false}};var f={combinations:[{ctrl:true,shift:false,key:"z"},{meta:true,shift:false,key:"z"}],action:function(g){setTimeout(function(){g.mainReport().historyManager().undo()});return true}};var c={combinations:[{ctrl:true,key:"y"},{meta:true,key:"y"},{ctrl:true,shift:true,key:"z"},{meta:true,shift:true,key:"z"}],action:function(g){setTimeout(function(){g.mainReport().historyManager().redo()
});return true}};var a={combinations:[{key:27}],action:function(g){if(g.mainReport().hasModal()){setTimeout(function(){g.mainReport().clearModal()});return true}return false}};var e=(function(){function g(h){var i=this;this.initialized=false;this.keyDownHandler=function(k){if(g.isHotKeyException(k)){return
}if(!_.isNull(i.context.mainReport().commands().widgetOptionsCommand)){return}if(i.handleHotKeys(k)){k.stopPropagation();k.preventDefault();return}if(i.context.mainReport().hasReport()){var j=i.context.mainReport().layout();if(j){j.handleKeyDown(k)}}};this.context=h
}g.prototype.initialize=function(){if(this.initialized){this.destroy()}document.addEventListener("keydown",this.keyDownHandler);this.initialized=true};g.prototype.destroy=function(){document.removeEventListener("keydown",this.keyDownHandler);this.initialized=false
};g.prototype.handleHotKeys=function(h){for(var j=0;j<g.HOT_KEYS.length;j++){var i=g.HOT_KEYS[j];if(g.isHotKeyPressed(h,i)){return i.action(this.context,h)}}return false};g.isHotKeyException=function(h){var j=$(h.target);for(var i=0;i<g.HOT_KEYS_EXCEPTION_DETECTORS.length;
i++){var k=g.HOT_KEYS_EXCEPTION_DETECTORS[i];if(k(j,h)){return true}}return false};g.isHotKeyPressed=function(h,q){var l=String.fromCharCode(h.which).toLowerCase();for(var r=0;r<q.combinations.length;r++){var n=q.combinations[r];var o=_.isUndefined(n.alt)||h.altKey===n.alt;
var j=_.isUndefined(n.ctrl)||h.ctrlKey===n.ctrl;var k=_.isUndefined(n.meta)||h.metaKey===n.meta;var i=_.isUndefined(n.shift)||h.shiftKey===n.shift;var m=_.isNumber(n.key)&&n.key==h.which;var p=_.isString(n.key)&&n.key==l;if((p||m)&&o&&j&&k&&i){return true}}return false
};g.HOT_KEYS_EXCEPTION_DETECTORS=[function(h){return h.closest(".ic3-jui-app, .CodeMirror, .CodeMirror-completions").length!==0},function(h){return h.closest(".ic3-jui-app, .ic3-widget-input").length!==0},function(h){return h.closest(".ic3-jui-app, .ic3-dropdown").length!==0
},function(h){return h.closest(".widget-options").length!==0},function(h){return h.closest(".modal").length!==0},function(h){return h.closest("input").length!==0}];g.HOT_KEYS=[d,f,c,a];return g}());b.MainReportHotKeys=e})(ic3||(ic3={}));var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;
a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var ic3;(function(ic3){ic3.MainReportMode={EDITING_REPORTING:"Editing/Reporting",EDITING:"Layout",REPORTING:"Reporting",EMBEDDED:"Embedded",REPORT_MANAGING:"Report Managing"};
ic3.MainReportMenuMode={ON:"On",OFF:"Off"};ic3.MainReportAuthModes={reader:[ic3.MainReportMode.REPORTING,ic3.MainReportMode.EMBEDDED],readerSave:[ic3.MainReportMode.REPORTING,ic3.MainReportMode.EMBEDDED],editorReader:[ic3.MainReportMode.EDITING_REPORTING,ic3.MainReportMode.EDITING,ic3.MainReportMode.REPORTING,ic3.MainReportMode.EMBEDDED],editor:[ic3.MainReportMode.EDITING_REPORTING,ic3.MainReportMode.EDITING,ic3.MainReportMode.REPORTING,ic3.MainReportMode.EMBEDDED]};
ic3.MainReportDefaultModes={reader:ic3.MainReportMode.REPORTING,readerSave:ic3.MainReportMode.REPORTING,editorReader:ic3.MainReportMode.EDITING_REPORTING,editor:ic3.MainReportMode.EDITING_REPORTING};ic3.DEFAULT_REPORT_LOCALIZATION=ic3.ReportLocalizationEn;var reportingModeCls="ic3-reporting-mode";
var reportContentCls="ic3-report-content";var MainReport=(function(){function MainReport(context){var _this=this;this.reportLocalization=new ic3.LocalizationsContainer(ic3.DEFAULT_REPORT_LOCALIZATION);this.modals=[];this.notifications={};this.processOpen=function(state){_.assign(_this.state,state);
_this.reloadLocalizations();_this.context.applyReportParams(_this.state.reportParams);if(_this.state.reportSnapshot!=null){_this.context.eventMgr().setState(_this.state.reportSnapshot.getEventMgrState())}_this.reportModified_=false;if(!_this.isEmbeddedMode()){if(state.isMaster){_this.cssMgr().reset()
}_this.cssMgr().applyCss(state.options.child)}_this.switchModes(state.options);_this.doRebuildAll(state.reportSnapshot)};this.context=context;this.context.mainReport(this);this.reportLocalization.load(ic3.ReportLocalizationFr);this.reportLocalization.load(ic3.ReportLocalizationRu);
var locale=this.context.userInfo().getLocale();this.i18n=new ic3.I18n(locale.localeCode||ic3.getNavigatorLocale(),this.reportLocalization,context.getI18n());this.reportCommands={selectSchemaCommand:new ic3.SelectSchema(context),openReportCommand:new ic3.OpenReport(context),saveReportCommand:new ic3.SaveReport(context),printCommand:new ic3.PrintReport(context),widgetOptionsCommand:null};
this.mainReportHotKeys=new ic3.MainReportHotKeys(context);this.mainReportHistoryManager=new ic3.HistoryMgr();this._setupPermissions(context);this.state=this._defaultReportState();this._messagingService=this.context.messagingService();this.reportModified_=false
}MainReport.prototype._defaultReportState=function(){return{report:new ic3.ReportGuts(this.context),reportSelection:null,reportInfo:{reportName:"",reportUuid:null,reportPermaLink:null,reportJson:null,reportFolderUuid:null,reportFolderPath:null},options:{mode:ic3.MainReportMode.EDITING_REPORTING},reportSnapshot:null,isMaster:true,reportParams:null}
};MainReport.prototype.getI18n=function(){return this.i18n};MainReport.prototype.getThemeStyleManager=function(){return this.themesStyleManager?this.themesStyleManager:(this.themesStyleManager=new ic3.ThemeStyleManager(this.context))};MainReport.prototype.l=function(message){var args=[];
for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}return(_a=this.i18n).l.apply(_a,[message].concat(args));var _a};MainReport.prototype.getTheme=function(themeId){if(_.isEmpty(themeId)&&_.isObject(_.get(this.state,"report"))){return this.context.getThemesRepository().getThemeContainer(this.state.report.getThemeId())
}return this.context.getThemesRepository().getThemeContainer(themeId)};MainReport.prototype.refreshAllButContent=function(){this.render(false)};MainReport.prototype.refreshAll=function(){this.render(true)};MainReport.prototype.render=function(updateContent){if(updateContent){this.getThemeStyleManager().clearRules()
}var element=React.createElement(ic3.ReportingLayout,{theme:this.getTheme().getThemeProvider("reportingLayout"),reportingContext:{reportingContext:this.context},topPanel:this.renderTopPanel(),bottomPanel:this.renderBottomPanel(),leftPanel:this.renderLeftPanel(),content:this.renderContent(updateContent),notifications:this.notifications,modals:this.modals});
ReactDOM.render(element,this.container)};MainReport.prototype.renderTopPanel=function(){if(this.hideTopPanel||(this.context.isForPrinting()&&!this.context.isForPrintingInBrowser())){return null}return React.createElement(ic3.TopPanel,{menu:React.createElement(ic3.TopMenu,null),controls:React.createElement(ic3.TopControls,null)})
};MainReport.prototype.renderBottomPanel=function(){return this.bottomPanel};MainReport.prototype.renderContent=function(updateContent){var Component;var componentProps;if(this.layoutComponent){Component=this.layoutComponent;componentProps=this.layoutComponentProps
}else{if(this.layout()!=null){Component=ic3.LayoutContainer;componentProps={mainReport:this}}}if(Component){return React.createElement(Component,__assign({updateContent:updateContent},componentProps))}};MainReport.prototype.setLayoutComponent=function(component,props){this.layoutComponent=component;
this.layoutComponentProps=props};MainReport.prototype.resetLayoutComponent=function(){this.layoutComponent=null;this.layoutComponentProps=null};MainReport.prototype.renderLeftPanel=function(){if(this.leftPanel){return this.leftPanel}if(this.isEditingMode()&&this.hasReport()){return React.createElement(ic3.LeftMenu,null)
}};MainReport.prototype.messageBox=function(title,message,customButtons){var _this=this;if(customButtons===void 0){customButtons={ok:null}}var modalIdx;var buttons=_.reduce(["ok","yes","no","cancel"],function(res,key){var callback=customButtons[key];if(!_.isUndefined(callback)){res.push({label:_this.context.l("ic3."+key),props:{disabled:callback===false},handler:function(){_this.clearModal(modalIdx);
_.isFunction(callback)&&callback()}})}return res},[]);modalIdx=this.addModal(React.createElement(ic3.ModalReportingDialog,{title:title,onClose:function(){return _this.clearModal(modalIdx)},buttons:buttons},_.isString(message)?React.createElement("p",null,message):message));
return modalIdx};MainReport.prototype.commands=function(){return this.reportCommands};MainReport.prototype.historyManager=function(){return this.mainReportHistoryManager};MainReport.prototype._setupPermissions=function(context){var userInfo=context.userInfo();
this._authorizedModes=ic3.MainReportAuthModes[userInfo.reportPermissions()];this._defaultMode=ic3.MainReportDefaultModes[userInfo.reportPermissions()];this._withSave=userInfo.isReportWithSavePermissions()};MainReport.prototype.openReport=function(options,onFinallyCallback){var _this=this;
var self=this;this.mainReportHistoryManager.clear();var noticesLevelToRestore=null;if(options.noticesLevel&&options.noticesLevel!==this.context.noticesLevel()){noticesLevelToRestore=this.context.noticesLevel();this.context.noticesLevel(options.noticesLevel)
}options.report=_.defaults(options.report,{uniqueName:"",name:""});options=$.extend({onReportOpeningFinally:function(){if(noticesLevelToRestore){_this.context.noticesLevel(noticesLevelToRestore)}if(onFinallyCallback){var reportStore={setReportState:self.setReportState,getReportState:self.getReportState};
onFinallyCallback(reportStore)}}},options);this.reportCommands.openReportCommand.openReport(options)};MainReport.prototype.setWindowTitle=function(title){if(_.isString(title)&&(title.length>0)){document.title=title}};MainReport.prototype.fireExternalEvent=function(eventName,event){this.context.eventMgr_.fireExternalEvent(eventName,event)
};MainReport.prototype.getContainer=function(){return this.container};MainReport.prototype.setBottomPanel=function(element){this.bottomPanel=element;this.render()};MainReport.prototype.resetBottomPanel=function(){this.bottomPanel=null;this.render()};MainReport.prototype.hasBottomPanel=function(){return this.bottomPanel!=null
};MainReport.prototype.setLeftPanel=function(element){this.leftPanel=element;this.render()};MainReport.prototype.resetLeftPanel=function(){this.leftPanel=null;this.render()};MainReport.prototype.addNotification=function(message,level,timeout){if(level===void 0){level=ic3.LogLevel.INFO
}if(timeout===void 0){timeout=3000}var id=_.uniqueId("notification");var timer=setTimeout(this.clearNotification.bind(this,id),timeout);this.notifications[id]=(React.createElement(ic3.Notification,{key:id,id:id,level:level,timer:timer,timeout:timeout},message));
this.render();return id};MainReport.prototype.clearNotification=function(id){if(this.notifications[id]){delete this.notifications[id]}this.render()};MainReport.prototype.setModal=function(modals){this.modals=_.isArray(modals)?modals:[modals];this.render()};
MainReport.prototype.modalsAmount=function(){return this.modals.length};MainReport.prototype.addModal=function(modal){var idx=this.modals.length;this.modals.push(modal);this.render();return idx};MainReport.prototype.hasModal=function(){return !_.isEmpty(this.modals)
};MainReport.prototype.clearModal=function(idx){if(_.isUndefined(idx)){this.modals=[]}else{this.modals.splice(idx,1)}this.render()};MainReport.prototype.hasReport=function(){return !_.isEmpty(this.state.report.schemaName())};MainReport.prototype.isHideTopPanel=function(){return this.hideTopPanel
};MainReport.prototype.setupBlankApplication=function(options){try{this.doSetupApplication(options.container,this._defaultMode,ic3.NoticeLevel.INFO)}catch(error){this.context.errorMgr().addFatalError("ic3.main_report.error.init",[error.toString()],error);this._resetOnFatalError()
}};MainReport.prototype.setupApplication=function(options){try{var mode=this.calculateReportMode(options.mode);if(options.menu!=="on"){this.hideTopPanel=options.hideTopPanel===true||mode===ic3.MainReportMode.REPORTING||ic3.isFalseValue(options.menu)}var noticesLevel=this._setupRequestedNoticesLevel(options.noticesLevel);
this.doSetupApplication(options.container,mode,noticesLevel)}catch(error){this.context.errorMgr().addFatalError("ic3.main_report.error.init",[error.toString()],error);this._resetOnFatalError()}};MainReport.prototype.doSetupApplication=function(container,reportMode,noticesLevel){this.reportMode(reportMode);
this.context.noticesLevel(noticesLevel);this.setupMainContainers(container);this.setupWindowCloseEvents()};MainReport.prototype.calculateReportMode=function(mode){if(ic3.isEmptyString(mode)){return ic3.MainReportMode.REPORTING}var requested=ic3.MainReportMode[mode.toUpperCase()];
if(!requested){return this._defaultMode}if(!ic3.arrayContains(this._authorizedModes,requested)){return this._defaultMode}return requested};MainReport.prototype._setupRequestedNoticesLevel=function(noticesLevel){if(ic3.isEmptyString(noticesLevel)||!ic3.NoticeLevel[noticesLevel.toUpperCase()]){switch(this.reportMode()){case ic3.MainReportMode.EDITING:case ic3.MainReportMode.EDITING_REPORTING:return ic3.NoticeLevel.INFO;
case ic3.MainReportMode.REPORTING:case ic3.MainReportMode.EMBEDDED:return ic3.NoticeLevel.OFF;default:return ic3.NoticeLevel.OFF}}return ic3.NoticeLevel[noticesLevel.toUpperCase()]};MainReport.prototype.setupMainContainers=function(container){if(this.isEmbeddedMode()){return
}if(_.isElement(container)){this.container=container}else{if(_.isUndefined(container)||_.isNull(container)){this.container=document.createElement("div");this.container.className="ic3-reporting-application";document.getElementsByTagName("body")[0].appendChild(this.container)
}else{this.container=$(container)[0]}}this.mainReportHotKeys.initialize();this.render(true)};MainReport.prototype.setupWindowCloseEvents=function(){var $window=$(window);var self=this;$window.bind("unload",function(){if(self.state.report.cubeName()){self.cancelActiveRequests()
}});if(this._withSave&&this.reportMode()===ic3.MainReportMode.EDITING_REPORTING){$window.bind("beforeunload",function(){var message;if(self.state.report.cubeName()&&self.isReportModified()){message=self.context.l("ic3.main_report.leave_check_message")}return message
})}};MainReport.prototype.widgetMgr=function(){return this.state.report.widgetMgr()};MainReport.prototype.mdxQueriesMgr=function(){return this.state.report.mdxQueriesMgr()};MainReport.prototype.layout=function(){return this.state.report.layout()};MainReport.prototype.cssMgr=function(){return this.state.report.cssMgr()
};MainReport.prototype.javascriptMgr=function(){return this.state.report.javascriptMgr()};MainReport.prototype.globalFilter=function(globalFilter){return this.state.report.globalFilter(globalFilter)};MainReport.prototype.constantMgr=function(){return this.state.report.constantMgr()
};MainReport.prototype.calcMeasureMgr=function(){return this.state.report.calcMeasureMgr()};MainReport.prototype.reportName=function(){return this.state.reportInfo.reportName};MainReport.prototype.reportUUID=function(){return this.state.reportInfo.reportUuid
};MainReport.prototype.reportPermaLink=function(){return this.state.reportInfo.reportPermaLink};MainReport.prototype.reportFolderPath=function(){return this.state.reportInfo.reportFolderPath};MainReport.prototype.reportFolderUuid=function(){return this.state.reportInfo.reportFolderUuid
};MainReport.prototype.reportOptions=function(){return this.state.options};MainReport.prototype.canApplyResizingLogic=function(){return fixLayoutMode(this.context)&&this.context.mainReport().reportMode()==ic3.MainReportMode.REPORTING};MainReport.prototype.reportMode=function(reportMode){return reportMode?this._reportMode=reportMode:this._reportMode
};MainReport.prototype.isEditingMode=function(){return(this.reportMode()==ic3.MainReportMode.EDITING||this.reportMode()==ic3.MainReportMode.EDITING_REPORTING)&&!this.isReportWithSnapshot()};MainReport.prototype.isEmbeddedMode=function(){return this.reportMode()==ic3.MainReportMode.EMBEDDED
};MainReport.prototype.isReportingMode=function(){return this.reportMode()==ic3.MainReportMode.REPORTING};MainReport.prototype.isReportWithSnapshot=function(){return this.state.reportSnapshot!=null};MainReport.prototype.isReportManagingMode=function(){return this.reportMode()==ic3.MainReportMode.REPORT_MANAGING
};MainReport.prototype.switchModes=function(options){if(options.noticesLevel){this.context.noticesLevel(options.noticesLevel)}if(options.mode){this.reportMode(options.mode)}};MainReport.prototype.switchModesAndRebuildAll=function(options){this.switchModes(options);
this.rebuildAll()};MainReport.prototype.saveSnapshot=function(){var self=this;var now=new Date();new ic3.SaveReportAsCommand(self.context,{defaultSaveAsName:self.reportName()+"-snapshot-"+ic3.formatDate(now)+"-"+now.toLocaleTimeString(),saveMode:viz.StateSaveMode.SNAPSHOT}).execute()
};MainReport.prototype.saveSelection=function(){var self=this;var now=new Date();new ic3.SaveReportAsCommand(self.context,{defaultSaveAsName:self.reportName()+"-selection-"+ic3.formatDate(now)+"-"+now.toLocaleTimeString(),saveMode:viz.StateSaveMode.SELECTION}).execute()
};MainReport.prototype._resetOnFatalError=function(){};MainReport.prototype.clear=function(){this.cancelActiveRequests();this.context.eventMgr().onClearReport();ReactDOM.unmountComponentAtNode(this.container);if(this.state.report){this.reportMode(this._defaultMode)
}};MainReport.prototype.refreshData=function(){var _this=this;if(this.state.reportSnapshot==null){var context_1=this.context;var executeRequest=function(idx,item){var adapter=item.getAdapter();var queryManager=adapter.mgr;if(!queryManager||!_this.container.contains(adapter.$container[0])){return
}var query=adapter.createRequest(item).getQuery();if(query.parameters[vizParamConstants.mdx]){query.parameters[vizParamConstants.mdx]=context_1.evalMdx(query.parameters[vizParamConstants.mdx]);if(!_.isEmpty(ic3.PlaceholdersEvaluator.getPlaceholderDefinitions(query.parameters[vizParamConstants.mdx]))){return
}}if(query.parameters[vizParamConstants.membersMdx]){query.parameters[vizParamConstants.membersMdx]=context_1.eval(query.parameters[vizParamConstants.membersMdx]);if(!_.isEmpty(ic3.PlaceholdersEvaluator.getPlaceholderDefinitions(query.parameters[vizParamConstants.membersMdx]))){return
}}queryManager.executeRequest(query)};context_1.mdxQueriesMgr().forEachMdxFilter(executeRequest);context_1.mdxQueriesMgr().forEachMdxQuery(executeRequest)}};MainReport.prototype.rebuildAll=function(snapshot){var _this=this;this.cancelActiveRequests(function(){_this.doRebuildAll(snapshot)
})};MainReport.prototype.doRebuildAll=function(snapshot){var skipBuildEventSkeleton;var cleanupEventValues;if(snapshot!=null){skipBuildEventSkeleton=true;cleanupEventValues=false}if(this.layoutComponent){cleanupEventValues=false}var report=this.state.report;
var javascriptMgr=report.javascriptMgr();var layout=report.layout();javascriptMgr.refresh();this.context.widgetMgr().setupFilterInitialSelectionFromConstants();if(this.isEmbeddedMode()){this._setupEventDefaultValues();layout.buildInEmbeddedHtml()}else{if(cleanupEventValues!==false){this._setupEventDefaultValues()
}this.render(true)}var reportMode=this.reportMode();if(!skipBuildEventSkeleton){switch(reportMode){case ic3.MainReportMode.REPORTING:case ic3.MainReportMode.EDITING_REPORTING:case ic3.MainReportMode.EMBEDDED:layout.buildEventSkeleton();break;default:}}if(reportMode==ic3.MainReportMode.EDITING_REPORTING){this.checkForIdDuplicates()
}if(snapshot){report.setState(snapshot.getState())}else{if(this.state.reportSelection){report.setState(this.state.reportSelection.getState())}}layout.onBuildAllDone();javascriptMgr.onBuildAllDone();this.waitUntilRendered(layout)};MainReport.prototype.reloadLocalizations=function(){var _this=this;
this.reportLocalization.clear();this.reportLocalization.load(ic3.ReportLocalizationRu);_.each(this.state.report.localizations(),function(localization){_this.reportLocalization.load(localization)})};MainReport.prototype.checkForIdDuplicates=function(){var errorMgr=this.context.errorMgr();
var self=this;$("[id]").each(function(){var ids=$("[id='"+this.id+"']");if(ids.length>1&&ids[0]==this){errorMgr.addWarning(self.context.l("ic3.main_report.warning.ids",this.id))}})};MainReport.prototype.waitUntilRendered=function(layout){var _this=this;var mdxRequestManager=this.context.mdxRequestManager();
var isMasterReport=this.state.isMaster;var sequence=ic3.uniqueId();mdxRequestManager.waitForAllRequestsCompleted(sequence,function(){ic3.logMsg("[ic3-request] all-requests-completed (seq:"+sequence+")");layout.waitForAllWidgetsRendered(sequence,function(){ic3.logMsg("[ic3-widget] all-widgets-completed (seq:"+sequence+")");
ic3.logMsg("[ic3-report] rendered (seq:"+sequence+") (is-master:"+isMasterReport+")");_this.publishEvent(viz.EventType.onReportRendered,isMasterReport);window.status=viz.EventType.onReportRendered+":"+isMasterReport;if(isMasterReport&&_this.context.isForPrintingInBrowser()){$("body").css("box-shadow","1px 1px 1px #99cc99");
ic3.printReportInBrowserDone(_this.context)}})})};MainReport.prototype._setupEventDefaultValues=function(){this.state.report.layout().setupEventDefaultValues()};MainReport.prototype.reload=function(){var options={report:{uniqueName:this.reportUUID(),name:this.reportName(),params:this._reportParams},mode:this.reportMode(),hideTopPanel:this.hideTopPanel};
this.openReport(options)};MainReport.prototype.refreshReport=function(){var _this=this;if(!this.hasReport()){return}this.reportCommands.selectSchemaCommand.setupSchema({schemaName:this.schemaName(),onSuccess:function(){_this.rebuildAll()}},this.isReportingMode(),this.state.report.getLocale())
};MainReport.prototype.save=function(){this.saveReport()};MainReport.prototype.printReport=function(options){this.reportCommands.printCommand.printReport(this.reportName(),options,this.state)};MainReport.prototype.logout=function(){var configuration=this.context.gviConfiguration();
var conn=configuration.gviConnection();var mgr=new viz.QueryManager(conn);this.messageBox(this.context.l("ic3.logout_dialog.title"),this.context.l("ic3.logout_dialog.message"),{yes:function(){mgr.addResultWidget({onVizRequestExecuted:function(){window.location.reload(true)
}});mgr.executeRequest(new viz.LogoutGviRequest())},no:null})};MainReport.prototype.reportModifiedCheck=function(successCallback){var _this=this;var _success=function(){return setTimeout(function(){return successCallback()})};if(this._withSave&&this.isReportModified()&&this.state.report.cubeName()){this.messageBox(this.context.l("ic3.report_modified.title",this.reportName()),this.context.l("ic3.report_modified.message"),{yes:function(){return _this.saveReport(function(){return _success()
})},no:function(){return _success()},cancel:null})}else{_success()}};MainReport.prototype.isReportModified=function(){return this.reportModified_||!this.mainReportHistoryManager.isModified()};MainReport.prototype._onReportModified=function(){this.reportModified_=true
};MainReport.prototype.schemaName=function(){return this.state.report.schemaName()};MainReport.prototype.cubeName=function(){return this.state.report.cubeName()};MainReport.prototype.onOpenReport=function(){var _this=this;this.reportModifiedCheck(function(){var onOpenHandler=function(report,draft){return _this.openReport({report:report,draft:draft})
};_this.setModal(React.createElement(ic3.OpenReportServerBrowser,{onOpen:onOpenHandler}))})};MainReport.prototype.saveReport=function(callback){var _this=this;this.executeAndUpdateHistory(new ic3.SaveReportCommand(this.context,{onOK:function(){_this.reportModified_=false;
_.isFunction(callback)&&callback()},onError:function(){_.isFunction(callback)&&callback()}}))};MainReport.prototype.backupReport=function(callback){var backupEnabled=_.get(this.layout(),"guts_.backupEnabled");if(backupEnabled&&this.hasReport()&&this.isEditingMode()&&this.isReportModified()&&this._withSave){this.executeAndUpdateHistory(new ic3.BackupReportCommand(this.context,{onOK:function(){return _.isFunction(callback)&&callback()
},onError:function(){return _.isFunction(callback)&&callback()}}))}};MainReport.prototype.setBackupInterval=function(interval){this.backupInterval=clearInterval(this.backupInterval);if(interval!=null&&interval>0&&false){this.backupInterval=setInterval(this.backupReport.bind(this),1000*interval)
}};MainReport.prototype.updateBackupInterval=function(){if(this.layout()){this.setBackupInterval(this.layout().guts().backupInterval)}};MainReport.prototype.saveAsReport=function(callback){var _this=this;this.executeAndUpdateHistory(new ic3.SaveReportAsCommand(this.context,{onOK:function(){_this.reportModified_=false;
_.isFunction(callback)&&callback()},onError:function(){_.isFunction(callback)&&callback()}}))};MainReport.prototype.isReportPersistent=function(){return this.reportUUID()};MainReport.prototype.publishEvent=function(eventType,eventObject){this._messagingService.publish(eventType,eventObject)
};MainReport.prototype.getReportState=function(){return this.reportCommands.saveReportCommand.createSnapshot(this.state)};MainReport.prototype.setReportState=function(snapshot){if(!snapshot){return}this.rebuildAll(snapshot)};MainReport.prototype.newReport=function(){var _this=this;
this.reportModifiedCheck(function(){var setupNewReport=function(schemaId,cubeId){_this.reportCommands.selectSchemaCommand.setupSchema({schemaName:schemaId,onSuccess:function(){_this.clear();_this.state=_this._defaultReportState();_this.reloadLocalizations();
_this.state.report.schemaName(schemaId);_this.state.report.cubeName(cubeId);_this._onNewLayout(new ic3.FixedLayoutFactory(_this.context))}},_this.isReportingMode())};_this.mainReportHistoryManager.clear();_this.setModal(React.createElement(ic3.SelectSchemaDialog,{title:_this.context.l("ic3.main_report.new_report.title"),onSelect:setupNewReport}))
})};MainReport.prototype.executeAndUpdateHistory=function(cmd){cmd.execute();this.mainReportHistoryManager.update(cmd)};MainReport.prototype.serializeState=function(saveMode){if(saveMode==undefined){saveMode=this.state.reportSelection?viz.StateSaveMode.SELECTION:viz.StateSaveMode.SIMPLE
}switch(saveMode){case viz.StateSaveMode.SIMPLE:return this.reportCommands.saveReportCommand.serializeState(this.state);case viz.StateSaveMode.SNAPSHOT:return this.reportCommands.saveReportCommand.serializeStateWithSnapshot(this.state);case viz.StateSaveMode.SELECTION:default:return this.reportCommands.saveReportCommand.serializeStateWithSelection(this.state)
}};MainReport.prototype.changeSchema=function(){var _this=this;this.reportCommands.selectSchemaCommand.selectSchema(function(schemaName,cubeName){_this._onReportModified();_this.state.report.schemaName(schemaName);_this.state.report.cubeName(cubeName);_this.rebuildAll()
},this.isReportingMode())};MainReport.prototype.onClose=function(withConfirmation){var _this=this;var _close=function(){_this.mainReportHistoryManager.clear();_this.context.gviConfiguration().schemaInfo(null);_this.clear()};if(this._withSave&&withConfirmation){this.messageBox(this.context.l("ic3.report_modified.title",this.reportName()),this.context.l("ic3.report_modified.message"),{yes:function(){return _this.saveReport({onOK:function(){return _close()
}})},no:function(){return _close()},cancel:null})}else{_close()}};MainReport.prototype._onNewLayout=function(factory){var self=this;self.state.reportSnapshot=null;self._onReportModified();var layout=factory.instance();self.state.report.layout(layout);this.render(true);
this.state.report.layout().onBuildAllDone();this.updateBackupInterval()};MainReport.prototype.addNewWidget=function(factory,options){var reportContent=this.container.querySelector(".ic3-reporting-scroll-provider"),offsetTop=reportContent.scrollTop,offsetLeft=reportContent.scrollLeft,grid=this.layout().grid(),defaultOffset=Math.max(Math.floor(10/grid),2)*grid;
options.left=(options.left?options.left:defaultOffset)+offsetLeft;options.top=(options.top?options.top:defaultOffset)+offsetTop;options.left-=options.left%grid;options.top-=options.top%grid;new ic3.AddBoxCommand(this.state.report.layout(),factory,options).execute()
};MainReport.prototype.showEventUsage=function(){this.setModal(React.createElement(ic3.TableDialog,{title:this.context.l("ic3.main_report.event_usage.title"),columns:this.context.eventMgr().eventUsageTableColumns(),data:this.context.eventMgr().eventUsageTableRows()}))
};MainReport.prototype.showEventNames=function(){this.setModal(React.createElement(ic3.TableDialog,{title:this.context.l("ic3.main_report.available_events.title"),columns:this.context.eventMgr().eventNamesTableColumns(),data:this.context.eventMgr().eventNamesTableRows()}))
};MainReport.prototype.showReportInfo=function(){var _this=this;var OptionMetaType=ic3.reporting.editor.OptionMetaType;var reportPermaLink=this.state.reportInfo.reportPermaLink;if(ic3.isEmptyString(this.state.reportInfo.reportPermaLink)){return this.messageBox(this.context.l("ic3.report_info_dialog.title"),this.context.l("ic3.report_info_dialog.error.not_saved"))
}var eventParams={};var paramsAsEntities=[];var permaLink="";var url=!ic3.isEmptyString(reportPermaLink)?reportPermaLink.split("?"):[""];var model={url:url[0],id:this.reportUUID(),name:this.reportFolderPath()+"/"+this.reportName(),params:null,mode:null,menu:null,linkBy:this.context.l("ic3.report_info_dialog.info.name")};
_.map(this.context.eventMgr().eventValues(),function(eventValue,eventName){if(eventValue&&_.isObject(eventValue)){eventParams[eventName]=eventValue;paramsAsEntities.push({label:eventName,tooltip:(eventValue.caption&&eventValue.caption())||eventValue})}});var values={mode:[{caption:ic3.MainReportMode.REPORTING,value:"reporting"},{caption:ic3.MainReportMode.EMBEDDED,value:"embedded"},{caption:ic3.MainReportMode.EDITING_REPORTING,value:"editing_reporting"},{caption:ic3.MainReportMode.EDITING,value:"editing"}],menu:[{caption:this.context.l("ic3.on"),value:"on"},{caption:this.context.l("ic3.off"),value:"off"}]};
var updateLink=function(data){var url=data.url;var params=_.reduce(data.params,function(res,param){res[param.label]=eventParams[param.label].asReportParam();return res},{});var args=_({name:data.name,menu:data.menu,mode:data.mode,params:_.isEmpty(params)?undefined:JSON.stringify(params)}).map(function(val,key){return val&&key+"="+encodeURIComponent(val)
}).filter(_.identity).value().join("&");return data.link=url+(args?"?"+args:"")};var afterChange=function(data){permaLink=updateLink(data);_this.refreshAllButContent()};var meta=[{label:this.context.l("ic3.report_info_dialog.info.url"),valueRef:"url",type:OptionMetaType.TEXT,flags:{readOnly:true}},{label:this.context.l("ic3.report_info_dialog.info.report_name"),valueRef:"name",type:OptionMetaType.TEXT,flags:{readOnly:true}},{label:this.context.l("ic3.report_info_dialog.info.parameters"),valueRef:"params",type:OptionMetaType.MULTISELECT,suggestion:paramsAsEntities,afterChange:afterChange},{label:this.context.l("ic3.report_info_dialog.info.mode"),valueRef:"mode",type:OptionMetaType.SELECT,suggestion:values.mode,afterChange:afterChange},{label:this.context.l("ic3.report_info_dialog.info.menu"),valueRef:"menu",type:OptionMetaType.SELECT,suggestion:values.menu,afterChange:afterChange},{label:this.context.l("ic3.report_info_dialog.info.link"),valueRef:"link",type:OptionMetaType.TEXT,flags:{readOnly:true}}];
permaLink=updateLink(model);var extraButtons={};extraButtons[this.context.l("ic3.report_info_dialog.copy_link")]=function(){var link=document.location.origin+permaLink;ic3.ClipboardHelper.setupCopy(link);_this.context.notificationMgr().notifyInfo(_this.context.l("ic3.top_menu.info.report_info.link_copied"))
};this.setModal(React.createElement(ic3.FormDialog,{title:this.context.l("ic3.report_info_dialog.title"),meta:meta,data:model,extraButtons:extraButtons,labelOk:this.context.l("ic3.report_info_dialog.open_link"),onOk:function(){return window.open(permaLink,"_blank")
}}))};MainReport.prototype.showVersion=function(){var configuration=this.context.gviConfiguration();var ic3Version=this.context.l("ic3.main_report.server_version",configuration.versionInfo());var ic3reportVersion="";if(ic3.ic3version&&!ic3.isEmptyString(ic3.ic3version.kit)){ic3reportVersion=this.context.l("ic3.main_report.reporting_version",ic3.ic3version.kit);
if(ic3.ic3version.rev!=("$rev$")){ic3reportVersion+=" ("+ic3.ic3version.rev+")"}}this.messageBox(this.context.l("ic3.main_report.version.title"),React.createElement("div",null,ic3reportVersion,React.createElement("p",null,ic3Version)))};MainReport.prototype._importJson=function(json){if(!_.isEmpty(json)){var parsedJSON=_.assign(this.state.reportInfo,{reportJson:JSON.parse(json)});
this._onReportModified();this.reportCommands.openReportCommand.setupReportFromJson(this.state.options,parsedJSON,this._reportParams)}};MainReport.prototype.importReportJson=function(json){try{this._importJson(json)}catch(error){this.context.errorMgr().addError("ic3.main_report.error.import",[error.toString()])
}};MainReport.prototype.configureLayout=function(){var _this=this;var layout=this.state.report.layout();var updateLayoutGuts=function(data){var theme=_.find(_this.context.getThemesRepository().getThemesList(),{name:data.theme});var locale=_this.context.gviConfiguration().localesInfo().getLocale(data.locale);
data.locale=locale?locale.locale:data.locale;data.backupInterval=+data.backupInterval;_.extend(_this.layout().guts_,data);_this.state.report.setThemeId(theme?theme.id:null);_this.setBackupInterval(data.backupInterval);_this._onReportModified();_this.refreshReport()
};this.setModal(React.createElement(ic3.FormDialog,{title:this.context.l("ic3.main_report.settings.title"),meta:layout.getOptionsMeta(),data:layout.guts(),onOk:updateLayoutGuts}))};MainReport.prototype.configureLocalization=function(){this.setModal(React.createElement(ic3.LocalizationConfigurationDialog,null))
};MainReport.prototype.cancelActiveRequests=function(callback){if(this.context.requestCancelingAllowed()){this.context.executeRequest(new ic3.CancelActiveRequestsGviRequest(this.context),function(){callback&&callback()})}else{callback()}};MainReport.prototype.refreshInfo=function(reportInfo){this.setWindowTitle(reportInfo.reportName);
$.extend(this.state.reportInfo,reportInfo)};MainReport.prototype.createExportJson=function(){var reportGutsJson=JSON.stringify(ic3.saveGuts(this.state.report));return{name:this.state.reportInfo.reportName,json:reportGutsJson}};MainReport.prototype.setLocale=function(locale,updateWidgets){var _this=this;
if(updateWidgets===void 0){updateWidgets=true}var configuration=this.context.gviConfiguration();var connection=configuration.gviConnection();connection.setRequestLocale(locale);this.getI18n().setSelectedLocale(locale);if(this.hasReport()){this.reportCommands.selectSchemaCommand.setupSchema({schemaName:this.schemaName(),onSuccess:function(){if(updateWidgets){_this.refreshData();
_this.widgetMgr().forEach(function(idx,widgetAdapter){widgetAdapter.update()})}}},this.isReportingMode(),locale)}};MainReport.prototype.getContext=function(){return this.context};return MainReport}());ic3.MainReport=MainReport})(ic3||(ic3={}));var ic3;(function(ic3){var rgba2css=ic3.react.colorpicker.rgba2css;
var gradientColor=ic3.react.colorpicker.gradientColor;var parseCSSColor=ic3.react.colorpicker.parseCSSColor;var interpolateHSV=ic3.react.colorpicker.interpolateHSV;var interpolateRGB=ic3.react.colorpicker.interpolateRGB;var ColorEvaluator=(function(){function ColorEvaluator(cellContext,evaluatedProps,pureProps){this.cellContext=cellContext;
this.props=evaluatedProps;this.pureProps=pureProps||evaluatedProps;if(cellContext){this.mdxResultTable=cellContext.mdxResultTable}}ColorEvaluator.clearCategoriesCache=function(){ColorEvaluator.CategoryColorIndexMapper={}};ColorEvaluator.getSetCategoryColorIndex=function(level,uniqueName){if(!ColorEvaluator.CategoryColorIndexMapper[level]){ColorEvaluator.CategoryColorIndexMapper[level]={};
ColorEvaluator.getSetCategoryColorIndex(level,uniqueName)}var result=ColorEvaluator.CategoryColorIndexMapper[level][uniqueName]||null;if(_.isNull(result)){result=_.max(_.values(ColorEvaluator.CategoryColorIndexMapper[level]).concat(0))+1;ColorEvaluator.CategoryColorIndexMapper[level][uniqueName]=result
}return result};ColorEvaluator.prototype.evaluate=function(){var _this=this;var ColorModeType=ic3.reporting.editor.ColorModeType;if(!this.props){return this.props}var color=null,parsedColors=_.map(this.props.colors,parseCSSColor),gradeFunc=parseFloat(this.props.gradeFunc),alpha=this.props.alpha,percentPosition=null,interpolator=null;
if(this.props.shouldReverse){parsedColors=_.reverse(parsedColors)}var l=function(mode){return _this.cellContext.reportingContext.getEvaluator().evaluate(mode)};switch(this.props.interpolateMode){case l("@d{ic3.color_mode_dialog.interpolation.interpolate_hsv}"):interpolator=interpolateHSV;
break;case l("@d{ic3.color_mode_dialog.interpolation.interpolate_rgb}"):interpolator=interpolateRGB;break;default:}switch(this.props.mode){case l(ColorModeType.PALETTE_FOR_CATEGORIES):if(_.isNull(interpolator)){color=rgba2css(parsedColors[this.calculatePositionForCategory(true)%parsedColors.length]);
break}percentPosition=this.calculatePositionForCategory();case l(ColorModeType.PALETTE):if(_.isNull(interpolator)){color=rgba2css(parsedColors[this.cellContext.columnIndex%parsedColors.length]);break}if(!_.isNumber(percentPosition)){percentPosition=this.cellContext.columnsCount>1?this.cellContext.columnIndex/(this.cellContext.columnsCount-1):0
}case l(ColorModeType.PALETTE_FOR_VALUES):if(!_.isNumber(percentPosition)){if(this.isEmptyValueCell()){color=this.props.emptyColor||"transparent";break}percentPosition=this.calculatePercentPositionForValue(gradeFunc)}color=gradientColor(parsedColors,percentPosition,interpolator);
break;case l(ColorModeType.MDX_MEASURE):color=this.props.mdxMeasure;alpha=1;break;case l(ColorModeType.MDX_AXIS_PROP):var axisIndex=this.props.mdxAxisProperty||0;var map=(_a={},_a[l(ic3.reporting.editor.MdxAxisPropertySource.ROWS)]=this.cellContext.axisIndices.rowsAxis,_a[l(ic3.reporting.editor.MdxAxisPropertySource.COLUMNS)]=this.cellContext.axisIndices.columnsAxis,_a);
axisIndex=_.isNumber(map[axisIndex])?map[axisIndex]:axisIndex;var tupleIndex=axisIndex==this.cellContext.axisIndices.rowsAxis?this.cellContext.rowIndex:this.cellContext.columnIndex;color=this.cellContext.getMemberAxisColor(axisIndex,tupleIndex);break;case l(ColorModeType.MDX_PROP):var property=this.props.mdxProperty||"BACK_COLOR",intColor=this.cellContext.getValue(null,null,null,property);
color=this.evaluateMdxProp(property,intColor);alpha=1;break;case l(ColorModeType.EXPRESSION):color=this.props.colorFunc;alpha=1;break;case l(ColorModeType.CONDITIONAL):var val=function(value){return _this.cellContext.measures[value]?_this.cellContext.measures[value].VALUE:value
};var isDefault=true;for(var i=0;i<this.pureProps.conditions.length;i++){var condition=this.pureProps.conditions[i];try{if(eval(val(condition.comparableMeasure)+condition.comparator+val(condition.comparable))){color=condition.value;isDefault=false;break}}catch(_){}}color=isDefault?this.props.defaultConditionalValue:color;
break;case l(ColorModeType.AUTO):case l(ColorModeType.SINGLE_COLOR):default:color=this.props.color;alpha=1;break}return _.isString(color)?this.applyAlpha(color,alpha):null;var _a};ColorEvaluator.prototype.applyAlpha=function(color,alpha){if(color=="transparent"||color=="inherit"||!_.isNumber(alpha)){return color
}var rgb=parseCSSColor(color);return rgb?"rgba("+rgb[0]+","+rgb[1]+","+rgb[2]+","+alpha+")":color};ColorEvaluator.prototype.isEmptyValueCell=function(){return(this.pureProps.gradeFunc&&!this.props.gradeFunc)||(!this.pureProps.gradeFunc&&_.isNull(this.cellContext.getValue()))
};ColorEvaluator.prototype.calculatePositionForCategory=function(shouldReturnIndex){var level=this.props.categoryLevel||0,rowAxis=this.mdxResultTable.getAxes().getAxis(this.cellContext.axisIndices.rowsAxis),levelCaption=rowAxis.getMemberLevelCaption(this.cellContext.rowIndex,level);
if(rowAxis.getTupleLength()<level+1){level=rowAxis.getTupleLength()-1}var tableUNames=_.times(this.cellContext.rowsCount,function(idx){return rowAxis.getMemberUniqueName(idx,level)}),dictUNames=_.keys(ColorEvaluator.CategoryColorIndexMapper[levelCaption]),difference=_.difference(tableUNames,dictUNames);
if(difference.length>0){_.each(difference,ColorEvaluator.getSetCategoryColorIndex.bind(this,levelCaption))}var uniqueName=rowAxis.getMemberUniqueName(this.cellContext.rowIndex,level),categoryGlobalIndex=ColorEvaluator.getSetCategoryColorIndex(levelCaption,uniqueName);
if(shouldReturnIndex){return(categoryGlobalIndex-1)}else{return(categoryGlobalIndex-1)/(Object.keys(ColorEvaluator.CategoryColorIndexMapper[levelCaption]).length-1)}};ColorEvaluator.prototype.calculatePercentPositionForValue=function(gradeFunc){var percentPosition=null;
if(_.isNumber(gradeFunc)&&!_.isNaN(gradeFunc)&&this.pureProps.gradeFunc!="Value"){percentPosition=this.props.gradeFunc}if(_.isString(this.pureProps.gradeFunc)&&!!this.cellContext.measures[this.pureProps.gradeFunc]){var measureName=this.pureProps.gradeFunc;percentPosition=this.cellContext.ZoomValue(this.props.minValue||this.cellContext.MinInTable(measureName),this.props.maxValue||this.cellContext.MaxInTable(measureName),this.cellContext.getValue(null,null,measureName))
}if(_.isNull(percentPosition)){if(_.isNumber(parseFloat(this.cellContext.getValue()))){percentPosition=this.cellContext.ZoomValue(this.props.minValue,this.props.maxValue)}else{percentPosition=this.cellContext.rowIndex/this.mdxResultTable.getAxes().getAxis(this.cellContext.axisIndices.rowsAxis).getTupleCount()
}}return percentPosition};ColorEvaluator.prototype.evaluateMdxProp=function(property,intColor){if(!_.isNull(intColor)){var r=intColor&255,g=(intColor&65280)>>8,b=(intColor&16711680)>>16;return"#"+ic3.react.colorpicker.rgb2hex(r,g,b)}else{this.cellContext.reportingContext.LoggerFactory.getLogger({instance:"Cell Renderer"}).warning('There is no MDX PROPERTY "'+property+'". Color is set to default.');
return this.props.color}};ColorEvaluator.CategoryColorIndexMapper={};return ColorEvaluator}());ic3.ColorEvaluator=ColorEvaluator})(ic3||(ic3={}));var ic3;(function(b){b.PRINTING_ORIENTATIONS=["Portrait","Landscape"];b.PRINTING_PAPER_SIZES=["A4"];b.PRINTING_PAPER_RATIOS=[{name:"A4 (Portrait)",ratio:210/297},{name:"A4 (Landscape)",ratio:297/210}];
function d(){return _.map(b.PRINTING_PAPER_RATIOS,"name")}b.printPaperRatioNames=d;function e(j){var k=_.find(b.PRINTING_PAPER_RATIOS,{name:j});return _.get(k,"ratio",1)}b.printPaperRatioValue=e;function i(j){j.mainReport().messageBox(j.l("ic3.print_dialog.title"),j.l("ic3.print_dialog.unavailable"))
}b.printServerNotEnabled=i;function g(j,v,o){var m=b.reporting.editor.OptionMetaType;if(!j.isPrintServerEnabled()){return b.printServerNotEnabled(j)}var k=j.userPersistentData();var r=k.readPrintOptions();var n={ic3version:1,size:"A4",orientation:"Portrait",fitToPage:true,keepAspectRatio:true,fontResizing:"Zoom-X",timeout:30};
var t={fontResizing:{"Apply Horizontal Zoom":"Zoom-X","Apply Vertical Zoom":"Zoom-Y"}};var p=(r&&r.ic3version===n.ic3version)?r:n;var s={};var l=function(w){k.savePrintOptions(_.assign({},p,w))};var u=[{label:j.l("ic3.print_dialog.size"),valueRef:"size",type:m.TEXT,suggestion:b.PRINTING_PAPER_SIZES,afterChange:l},{label:j.l("ic3.print_dialog.orientation"),valueRef:"orientation",type:m.TEXT,suggestion:b.PRINTING_ORIENTATIONS,afterChange:l},{label:j.l("ic3.print_dialog.fit_to_page"),valueRef:"fitToPage",type:m.BOOLEAN,afterChange:l},{label:j.l("ic3.print_dialog.keep_aspect_ratio"),valueRef:"keepAspectRatio",type:m.BOOLEAN,afterChange:l},{label:j.l("ic3.print_dialog.font_resizing"),valueRef:"fontResizing",type:m.TEXT,suggestion:_.keys(t.fontResizing),afterChange:l},{label:j.l("ic3.print_dialog.timeout"),valueRef:"timeout",type:m.NUMBER,afterChange:l}];
if(v.openInBrowser&&!v.reportBatch){s[j.l("ic3.print_dialog.buttons.open_in_browser")]=function(){var A=o.masterSnapshotData,E=o.embeddedSnapshotData;var J=p.size,w=p.orientation,G=p.timeout,B=p.fitToPage,y=p.keepAspectRatio,x=p.fontResizing;var I=A.reportName,D=A.report,F=A.reportLayers,H=A.reportSnapshot;
var z=JSON.stringify({fitToPage:B,keepAspectRatio:y,fontResizing:x});var C=new viz.PrintReportInBrowserRequest(I,D,F,H,E,J,w,z,G);j.gviConnection().sendRequest(C,{onSuccess:function(K){var M=C.extractResult(K);var L=window.open(M,"_blank");L&&L.focus()}})}}var q=function(){var A=o.masterSnapshotData,E=o.embeddedSnapshotData;
var K=p.size,w=p.orientation,G=p.timeout,B=p.fitToPage,y=p.keepAspectRatio,x=p.fontResizing;var D;var z=JSON.stringify({fitToPage:B,keepAspectRatio:y,fontResizing:x});if(!v.reportBatch){var J=A.reportName,C=A.report,F=A.reportLayers,I=A.reportSnapshot;D=new viz.PrintReportRequest({},J,C,F,I,E,K,w,z,G)
}else{var C=j.mainReport_;var H=C.reportFolderPath()+"/"+C.reportName();D=new viz.PrintReportBatchRequest({},H,K,w,z,G)}j.gviConnection().sendRequest(D)};j.mainReport().setModal(React.createElement(b.FormDialog,{title:j.l("ic3.print_dialog.title"),meta:u,data:p,labelOk:j.l("ic3.print_dialog.buttons.print"),onOk:q,extraButtons:s}))
}b.printReport=g;function h(j){return j.gviConnection().sendRequest(new viz.PrintReportInBrowserDoneRequest())}b.printReportInBrowserDone=h;function c(l){var n=b.reporting.editor.OptionMetaType;if(!l.isPrintServerEnabled()){return b.printServerNotEnabled(l)
}var k={size:"A4",orientation:"Portrait",zoom:1,dpi:null,timeout:30};var m=[{label:l.l("ic3.print_dialog.size"),valueRef:"size",type:n.TEXT,suggestion:b.PRINTING_PAPER_SIZES},{label:l.l("ic3.print_dialog.orientation"),valueRef:"orientation",type:n.TEXT,suggestion:b.PRINTING_ORIENTATIONS},{label:l.l("ic3.print_dialog.zoom"),valueRef:"zoom",type:n.NUMBER},{label:l.l("ic3.print_dialog.dpi"),valueRef:"dpi",type:n.NUMBER},{label:l.l("ic3.print_dialog.timeout"),valueRef:"timeout",type:n.NUMBER}];
var j=function(){var q=k.size,o=k.orientation,s=k.zoom,p=k.dpi,t=k.timeout;var r=new viz.PrintTestPageRequest({},q,o,s,p,t);l.gviConnection().sendRequest(r)};l.mainReport().setModal(React.createElement(b.FormDialog,{title:l.l("ic3.print_dialog.title.test_page"),meta:m,data:k,labelOk:l.l("ic3.print_dialog.buttons.print"),onOk:j}))
}b.printTestPage=c;function a(j){var k=j.getContext().gviConnection();var l=j.createExportJson();k.sendRequest(new viz.ExportReportRequest({},l.name,l.json))}b.exportReport=a;function f(j){var k=null;var n;var m=function(o){n=o};var l=function(p){var o=p.target.files;
if(o&&o.length>0&&_.endsWith(o[0].name,".icc-report")){k=o[0];n.innerHTML=k.name}};j.messageBox("Import Report",(React.createElement("div",{className:"import-dialog"},React.createElement("div",{className:"file-drop"},React.createElement("span",{ref:m},"Drop report or click here to load"),React.createElement("input",{type:"file",onChange:l})))),{ok:function(){return b.loadFile(k,function(o){j.importReportJson(o)
})},cancel:null})}b.importReport=f})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var ic3;(function(a){var b=React.createClass({render:function(){return this.props.connectDragSource(React.createElement("span",{onClick:this.props.onClick},this.props.submenuItem.label))
}});var c=(function(d){__extends(e,d);function e(g,f){var h=this;d.call(this,g,f);this.outsideClick=function(j){var i=h.refs&&h.refs.root;if(i&&$(j.target).closest($(ReactDOM.findDOMNode(i))).length==0){h.setState({submenuShown:[]})}};this.state={}}e.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.outsideClick)
};e.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.outsideClick)};e.prototype.menuItemClick=function(g){if(g.disabled&&g.disabled(this.context.reportingContext)){return}var f=[],i;if(!_.isEmpty(this.state.submenuShown)){var h=_.findIndex(this.state.submenuShown,function(j){return _.find(j.submenu,function(k){return _.find(k.children,function(l){return l===g
})!==undefined})});f=this.state.submenuShown.slice(0,h+1);i=this.state.submenuShown[h+1]}if(!_.isEmpty(g.submenu)&&!_.isEqual(g,i)){f.push(g)}else{if(g.action){g.action(this.context.reportingContext);f=[]}}this.setState({submenuShown:f})};e.prototype.renderSubmenuItems=function(j,m){var l;
if(m===j[0]){l=this.renderSubmenu(j)}var f;if(this.props.isVertical){var h=classNames("btn btn-default btn-block",m.disabled&&m.disabled(this.context.reportingContext)?"disabled":"");f=(React.createElement("button",__assign({},m.buttonProps,{type:"button",className:h,onClick:this.menuItemClick.bind(this,m)}),m.label))
}else{if(m.draggable){var g=this;var i=ReactDnD.DragSource(a.ItemTypes.WIDGET,{beginDrag:function(n){return n},endDrag:function(q,n,p){if(n.didDrop()){var t=n.getDropResult();var o=document.getElementsByClassName("ic3-reporting-content")[0];var s=t.x-o.offsetLeft;
var r=t.y-o.offsetTop;q.onLayoutDrop(s>0?s:0,r>0?r:0);g.setState({submenuShown:[]})}}},function(o,n){return{connectDragSource:o.dragSource(),connectDragPreview:o.dragPreview(),isDragging:n.isDragging()}})(b);f=(React.createElement(i,__assign({},m.buttonProps,{onClick:this.menuItemClick.bind(this,m),onLayoutDrop:_.partial(m.action,this.context.reportingContext).bind(this),submenuItem:m})))
}else{var k=_.isEmpty(m.submenu)?null:(React.createElement("div",{className:"glyphicon glyphicon-chevron-right"}));f=(React.createElement("div",__assign({},m.buttonProps,{href:"#",onClick:this.menuItemClick.bind(this,m)}),m.label,k))}}return(React.createElement("li",{className:_.isEmpty(l)?"":"open dropdown-menu-nested"},f,l))
};e.prototype.renderSubmenu=function(h){var i=this;if(!_.isEmpty(h)){var g=h.shift();var f=_.transform(g.submenu,function(k,l,j){var m=l.children.length;_.transform(l.children,function(n,o,p){n.push(i.renderSubmenuItems(h,o));if(i.props.isVertical&&p!==m-1){n.push(React.createElement("li",{className:"divider"}))
}},k);if(j!=g.submenu.length-1){k.push(React.createElement("li",{className:"divider"}))}},[],this);return(React.createElement("ul",{className:"dropdown-menu"},_.map(f,function(k,j){return React.cloneElement(k,{key:j})})))}return null};e.prototype.renderMenuItem=function(f,h,l){var p,k,r,n;
var j=h>=l.length-1;if(!_.isEmpty(f.icon)){var q=classNames("glyphicons","glyphicons-"+f.icon);p=(React.createElement("span",{className:q}))}if(!_.isEmpty(f.tooltip)){r=(React.createElement(a.Tooltip,{position:(this.props.isVertical?"right":(j?"bottom-left":"bottom"))},f.tooltip))
}if(!_.isEmpty(f.submenu)){k=(React.createElement("span",{className:"caret-right-bottom"}))}if(!_.isEmpty(f.badge)){n=(React.createElement("span",{className:"badge"},f.badge))}var o=classNames("btn","btn-default","has-tooltip",{disabled:f.disabled&&f.disabled(this.context.reportingContext)});
var g=(React.createElement("button",{key:h,type:"button",className:o,onClick:this.menuItemClick.bind(this,f)},r,p?p:f.label,n,k));var i=_.includes(this.state.submenuShown,f)?this.renderSubmenu(_.clone(this.state.submenuShown)):null;if(!_.isEmpty(i)){return(React.createElement("div",{key:f.label,className:classNames("btn-group open",f.classes)},g,i))
}return g};e.prototype.renderMenuGroup=function(g){var f=_.map(g.children,this.renderMenuItem.bind(this));if(this.props.isVertical){f.push(React.createElement("div",{className:"divider"}))}return f};e.prototype.render=function(){var g=_.map(this.props.meta,this.renderMenuGroup.bind(this));
var f=classNames(this.props.isVertical?"ic3-reporting-left-menu btn-group-vertical":"btn-group");return(React.createElement("div",{className:f,ref:"root"},g))};e.contextTypes={reportingContext:React.PropTypes.object};return e}(React.Component));a.ReportMenuComponent=c
})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);
function d(f,e){c.call(this,f,e)}d.prototype.getName=function(){a.assertAbstract("getName",this)};d.prototype.container=function(e){return e?(this.$container=e):this.$container};d.prototype.buildInHtml=function(){a.assertAbstract("buildInHtml",this)};d.prototype.refreshFormFromFields=function(){a.assertAbstract("refreshFormFromFields",this)
};d.prototype.refreshFieldsFromForm=function(){a.assertAbstract("refreshFieldsFromForm",this)};d.prototype.guts=function(){return this.guts_};d.prototype.destroyWidget=function(){};d.prototype.destroy=function(){this.destroyWidget();if(this.$container){this.$container.empty()
}};d.prototype._appendOptions=function(f,h,i,e,g){var i=i==null?"id":i;var e=e==null?"caption":e;if(!g){h.empty()}$.each(f,function(j,k){if(k[e]){h.append("<option value='"+k[i]+"'>"+k[e]+"</option>")}else{h.append("<option>"+k[i]+"</option>")}})};d.prototype._appendEntities=function(h,g,f){if(g.length===0){return
}var i="uniqueName";var e="name";this._appendOptions(h,g,i,e,f)};return d}(a.Serializable));a.FormWidget=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a=(function(d){__extends(c,d);function c(f,e){d.call(this,f);this.classID="ic3.BaseContainerMgr";this.itemTypeName=e||"n/a";this.nameId=0;this.lastuid=0}c.prototype.createDefaultGuts=function(e){return $.extend(d.prototype.createDefaultGuts.call(this,e),{items:[]})
};c.prototype._addContainerItem=function(g,f,e){e.name(this._createNewName(g));e.uid(this._createNewUid(f));this.guts_.items.push(e);return e};c.prototype._createNewName=function(f){var g=this.guts_;while(true){var e=f+"-"+this.nameId;if(b.arrayLookup(g.items,"name",e)==null){return e
}this.nameId++}};c.prototype._createNewUid=function(f){var g=this.guts_;if(this.lastuid){return f+(++this.lastuid)}var e=this;this.lastuid=0;$.each(g.items,function(h,i){e.lastuid=Math.max(parseInt(i.uid().substring(1),10),e.lastuid)});return f+(++this.lastuid)
};c.prototype.cloneWidget=function(f){var h=b.saveGuts(f);var g=b.restoreGuts(h,f.context);var e=f.uid().charAt(0);g.name(this._createNewName(e));g.uid(this._createNewUid(e));g.guid(null);g.afterWidgetClone();this.guts_.items.push(g);return g};c.prototype.getItemById=function(e){var f=b.arrayLookup(this.guts_.items,"uid",e);
if(f==null){this.context.errorMgr().addError("error.missingItem",[this.itemTypeName,e])}return f};c.prototype.deleteItemById=function(e){var f=b.arrayLookup(this.guts_.items,"uid",e);b.arrayRemove(this.guts_.items,f)};c.prototype.forEach=function(e){b.each(this.guts_.items,function(f,g){e(f,g)
})};return c}(b.Serializable));b.BaseContainerMgr=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(f,e){c.call(this,f,e);this.classID="ic3.EventWidgetMapper";this.metaGuts=[]}d.prototype.clearEvents=function(){var e=this._historyStrategy;if(e){e.unbind()}};d.prototype.setReportWidget=function(f){var g=[];
this.guts_.__ic3_widgetEventsDescription=function(){return a.babylon.localizeFormFieldLabel("eventsDescription")};g.push({name:"__ic3_widgetEventsDescription",label:"Events",labelHref:"https://www.iccube.com/support/documentation/reporting/doc/ic3Events.html",type:juiForm_FieldRendererType.TEXT,readonly:true});
if(f.hasQueryBuilder()){g.push({name:"fireOnRefresh",type:juiForm_FieldRendererType.ONE_OF_MANY_ENTITIES,entities:new viz.MdxEntityData([{name:f.context.l("ic3.event_manager.fire_mode.all_events"),uniqueName:"all"},{name:f.context.l("ic3.event_manager.fire_mode.only_refresh"),uniqueName:"only_refresh"}])})
}if(f.mightGeneratesMdxHistoryEvents()){if(!this._historyStrategy){this._historyStrategy=new viz.QueryManagerHistory()}}var e=f.gviWidget();this._addProducedEvents(g,f);if(_.isObject(e)){this._addProducedEvents(g,e.getEventHandler())}this._addProducedEvents(g,this._historyStrategy);
this._addProducedEvents(g,f.navigationGuts());this._addConsumedEvents(g,f);if(_.isObject(e)){this._addConsumedEvents(g,e.getEventHandler(),function(){return f.gviWidget()})}this._addConsumedEvents(g,f.navigationGuts());this._addConsumedEvents(g,f.box());this.metaGuts=g;
return this};d.prototype._addProducedEvents=function(f,e){if(e&&typeof e.producedEvents==="function"){a.each(e.producedEvents(),function(g,h){f.push({originator:e,name:h,path:"event",type:juiForm_FieldRendererType.EVENT_DEFINITION,mandatory:false,_producerHandler:e})
})}};d.prototype._addConsumedEvents=function(f,e,g){if(e&&typeof e.consumedEvents==="function"){a.each(e.consumedEvents(),function(h,i){f.push({originator:g||e,name:i,path:"event",type:juiForm_FieldRendererType.DO_EVENT,mandatory:false,_consumerHandler:g||e})
})}};d.prototype.getName=function(){return"Event Mapping"};d.prototype.refreshHtmlFromGuts=function(e){if(e){this.guts_=e}};d.prototype.createDefaultGuts=function(e){return{}};d.prototype.gutsMeta=function(){return this.metaGuts};d.prototype.fireOnRefreshOnly=function(){var e=this.guts_.fireOnRefresh;
if(e&&e.uniqueName==="only_refresh"){return true}return false};d.prototype.historyStrategy=function(){return this._historyStrategy};d.prototype.updateHistoryStrategy=function(f,e){var g=this._historyStrategy;if(g){g.setFields(f,e)}return g};d.prototype.forEachProducedGviEvents=function(g){var e=this;
var f=this.metaGuts;a.each(this.guts_,function(k,n){var m=a.arrayLookup(f,"name",k);if(!a.isEmptyString(n)&&m){var h=m.originator;var j=m._producerHandler;if(j){var i=j.eventDefaultValue?j.eventDefaultValue(k):null;g({originator:h,key:n,type:k,defaultValue:i,binder:function l(o){j.bind(k,function(p){o(p)
})}})}}})};d.prototype.forEachConsumedEvents=function(e){var f=this.guts_;a.each(this.metaGuts,function(g,j){var k=j._consumerHandler;if(k){var i=j.name;var h=f[i];if(!a.isEmptyString(h)){e(h,i,k)}}})};d.prototype.getEvent=function(e){return this.guts_[e]};
d.prototype.popEventManager=function(){var e=null;if(this._historyStrategy){e=this._historyStrategy.popEvents()}return e};d.prototype.pushEventManager=function(e){if(this._historyStrategy){this._historyStrategy.pushEvents(e)}};d.prototype.getOptions=function(){return this.guts()
};d.prototype.setOptions=function(e){this.guts_=e};return d}(a.Serializable));a.EventWidgetMapper=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(b){var a=(function(d){__extends(c,d);function c(e){d.call(this,e);this.classID="ic3.CalcMeasureMgr"}c.prototype.createDefaultGuts=function(){return{measures:[]}};c.prototype.getCalculatedMeasures=function(){return _.cloneDeep(this.guts().measures)
};c.prototype.addOrUpdateCalculatedMeasure=function(g){var h=this.guts().measures;var f=g.expressionName.toLowerCase();var e=_.find(h,function(i){return i.expressionName.toLowerCase()===f});if(_.isObject(e)){e.expression=g.expression}else{h.push(_.cloneDeep(g));
this.guts().measures=_.sortBy(this.guts().measures,"expressionName")}};c.prototype.removeCalculatedMeasure=function(e){return _.remove(this.guts().measures,{expressionName:e})[0]};c.prototype.generateName=function(){var h=this.guts().measures;var e=function(j){var k="Measure"+(j+1);
if(_.findIndex(h,function(i){return i.expressionName.toLowerCase()===k.toLowerCase()})<0){return{value:k}}};for(var f=0;f<=h.length;f++){var g=e(f);if(typeof g==="object"){return g.value}}};c.prototype.uniqueName=function(e){return"[Measures].["+b.escapeMdxName(e)+"]"
};return c}(b.Serializable));b.CalcMeasureMgr=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(e,j,h){d.call(this,e,h);this.classID="ic3.CodeMirrorWidget";var g={indentUnit:4,tabMode:"shift",matchBrackets:true,extraKeys:{},mode:undefined,zoom:h.zoom};if(j==="mdx"){g.mode=j;CodeMirror.commands.autocomplete=this.autocomplete
}else{if(j==="css"){g.mode=j;CodeMirror.commands.autocomplete=this.autocomplete}else{if(j==="html"){g.mode={name:"xml",alignCDATA:true};CodeMirror.commands.autocomplete=this.autocomplete}else{if(j==="javascript"){g.mode={name:"javascript",json:false};CodeMirror.commands.autocomplete=this.autocomplete
}else{if(j==="json"){g.mode={name:"javascript",json:true}}else{throw"ic3CodeMirror:init , undefined mode '"+j+"'"}}}}}if(j!=="json"){g.extraKeys["Ctrl-Space"]="autocomplete"}if(h.fullscreen){g.extraKeys.F11=function(k){k.setOption("fullScreen",!k.getOption("fullScreen"))
};g.extraKeys.Esc=function(k){if(k.getOption("fullScreen")){k.setOption("fullScreen",false)}}}if(h.lint){$.extend(g,{lineNumbers:true,gutters:["CodeMirror-lint-markers"],lint:true})}this.completion=h.completion||{};var i=viz.asDiv(this.container).get(0);if(h.fromTextArea){this.cm=CodeMirror.fromTextArea(i,g)
}else{this.cm=new CodeMirror(i,g)}var f=this;f.cm.on("focus",function(l){var k=f.cm;$(document).on("mousedown",function(m){if($(m.target).closest(".ic3-jui-app, .CodeMirror, .CodeMirror-completions").length===0){k.getInputField().blur();$(this).off(m)}})});
this.setZoom()}c.prototype.mdxAutocomplete=function(g){var f=this;var e=this.cm;e.getOption("extraKeys")["Ctrl-Space"]="autocomplete";if(this.completion.emptyToken){e.ic3autocompleteOnEmptyToken=true}e.ic3autocompleteRequest=function(q,r){var s=q.getCursor();
if(q.getTokenAt(s).string==="@"){var j=g.eventsProducedInReport();var t={list:[],from:{line:s.line,ch:(s.ch-1)},to:s};for(var o=0;o<j.length;o++){t.list.push(j[o].lexeme)}r(t);return}if(q.getMode().name=="mdx"){var p=q.getValue()||"";var h=null;var n=f.completion.contextType;
var m=f.completion.contextValue;var l=f.completion.emptyToken;var k=new viz.GetAutocompleteGviRequest(p,q.indexFromPos(s),h,n,m,l);g.executeRequest(k,function(y){var i;var w=y.getRowCount();if(w>0){var z=[];for(var A=0;A<w;A++){var v=y.getValue(A,0);z.push(v);
if(A===0){var u=y.getValue(A,1);var x=v.length-u.length}}i={list:z,from:{line:s.line,ch:(s.ch-x)},to:s}}r(i)})}}};c.prototype.setHeight=function(e){if(typeof(e)==="string"){this.cm.setSize(null,e)}else{this.cm.setSize(null,e+"px")}this.cm.refresh()};c.prototype.setValue=function(e){if(typeof e==="undefined"||e===null){this.cm.setValue("")
}else{this.cm.setValue(e)}};c.prototype.getValue=function(){return this.cm.getValue()};c.prototype.getFirstLineValue=function(){return this.cm.getLine(0)};c.prototype.setReadOnly=function(e){this.cm.setOption("readOnly",e)};c.prototype.refresh=function(){this.cm.refresh()
};c.prototype.autocomplete=function(e){var g=e.getMode().name;if((g=="mdx")||(g=="xml")){var f=function(h,i){i.pick();h.focus();h.replaceSelection(".","end");setTimeout(function(){h.focus();setTimeout(function(){CodeMirror.commands.autocomplete(h)},50)},50)
};CodeMirror.showHint(e,CodeMirror.hint.mdx,{async:true,extraKeys:{".":f}})}else{if(g=="javascript"){CodeMirror.showHint(e,CodeMirror.hint.javascript)}else{if(g=="css"){CodeMirror.showHint(e,CodeMirror.hint.css)}}}};c.prototype.getWidgetEl=function(){return this.container
};c.prototype.getZoom=function(){return this.cm.options.zoom};return c}(viz.BaseWidget));a.CodeMirrorWidget=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(ic3){var ConstantsMgr=(function(_super){__extends(ConstantsMgr,_super);function ConstantsMgr(context){_super.call(this,context);this.classID="ic3.ConstantsMgr"}ConstantsMgr.prototype.getCaptionForEventInfo=function(){return"Constants"
};ConstantsMgr.prototype.refreshHtmlFromGuts=function(guts){if(guts){this.guts_=guts}};ConstantsMgr.prototype.constants_=function(){function fieldToFunction(bean,field){var field_=!ic3.isUndefined(bean[field])?bean[field]:null;if(field_!=null&&!ic3.isFunction(field_)){field_=self.eval(field_);
bean[field]=function(){return field_}}}var self=this;var constHolder={};if(this.guts_&&this.guts_.constant){ic3.each(this.guts_.constant,function(idx,cons){var val=self.eval(cons.v);if(ic3.isObject(val)&&!(val instanceof EventConstant)){val=ic3.restoreGuts(val,self.context);
val=new EventConstant(val)}constHolder[cons.n]=val})}ic3.each(this.reportParamsAsConst,function(name,val){constHolder[name]=val});return constHolder};ConstantsMgr.prototype.forEachConstantRawValue=function(callback){if(this.guts_&&this.guts_.constant){ic3.each(this.guts_.constant,function(idx,cons){callback&&callback(cons.n,cons.v)
})}};ConstantsMgr.prototype.forEachConstantValue=function(callback){var eConstants=this.constants_();$.each(eConstants,function(key,value){if(value!=null){callback(key,value)}})};ConstantsMgr.prototype.constantValue=function(key){var eConstants=this.constants_();
var value=eConstants[key];return !ic3.isUndefined(value)?value:null};ConstantsMgr.prototype.applyReportParams=function(params){ic3.logMsg("[ic3-report-params] constants applying report parameters");var paramsAsConst=this.reportParamsAsConst={};var constants=this.constants_();
params.forEachParam(function(name,value){paramsAsConst[name]=value})};return ConstantsMgr}(ic3.Serializable));ic3.ConstantsMgr=ConstantsMgr;var EventConstant=(function(_super){__extends(EventConstant,_super);function EventConstant(options){_super.call(this);
this.options=options}EventConstant.prototype.caption=function(){return this.callOrReturn(this.options.caption)};EventConstant.prototype.asMdx=function(){return this.callOrReturn(this.options.asMdx)};EventConstant.prototype.asFilterInitialSelection=function(){return this.callOrReturn(this.options.asFilterInitialSelection)
};EventConstant.prototype.callOrReturn=function(value){return ic3.isFunction(value)?value():value};return EventConstant}(viz.event.Event));ic3.EventConstant=EventConstant})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(e){d.call(this,e);this.classID="ic3.CssMgr"}c.prototype.createDefaultGuts=function(e){return{content:""}
};c.prototype.refreshHtmlFromGuts=function(e){if(e){this.guts_=e}};c.prototype.reset=function(){$("head").find('[id^="ic3-report-css"]').remove()};c.prototype.applyCss=function(f){var e=a.isEmptyString(f)?"ic3-report-css":"ic3-report-css-"+f;$("head").find("#"+e).remove();
$("head").append('<style type="text/css" id="'+e+'">'+this.guts_.content+"</style>")};c.prototype.gutsMeta=function(){return[a.MetaInfoHelper.cssMeta("content","cssMgr")]};return c}(a.Serializable));a.CssMgr=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(ic3){var ReportJavascriptMgr=(function(_super){__extends(ReportJavascriptMgr,_super);function ReportJavascriptMgr(context){_super.call(this,context);
this.classID="ic3.ReportJavascriptMgr";this.consumeEventData_={};this.consumeEvent_=null}ReportJavascriptMgr.prototype.refresh=function(){this.consumeEventData_={};this.consumeEvent(null,ReportJavascriptMgr.Events.onReportInit,this.context.mainReport())};ReportJavascriptMgr.prototype.onBuildAllDone=function(){this.consumeEvent(null,ReportJavascriptMgr.Events.onReportAfterBuild,this.context.mainReport())
};ReportJavascriptMgr.prototype.createDefaultGuts=function(context){return $.extend(_super.prototype.createDefaultGuts.call(this,context),{js:this.jsExample_()})};ReportJavascriptMgr.prototype.jsExample_=function(){return"/**                                                                      \n * A function called each time an event is generated.                    \n *                                                                       \n * @param context the same object is passed between consumeEvent calls.  \n *                Can be used to store information.                      \n *        {                                                              \n *          $report   : jQuery context of the report container           \n *          fireEvent : a function( name, value ) triggering an event    \n *        }                                                              \n *                                                                       \n * @param event the event information                                    \n *                                                                       \n          {                                                              \n *          name  : as specified in the 'Events' tab                     \n *          value : (optional) actual event value                        \n *          type  : (optional) e.g., ic3selection                        \n *        }                                                              \n *                                                                       \n * Check the 'Report Event Names' menu for the list of available events. \n */                                                                      \n/*                                                                       \nfunction consumeEvent( context, event ) {                                \n  if (event.name == 'ic3-report-init') {                                 \n    // add your code here                                                \n  }                                                                      \n}                                                                        \n*/                                                                       \n"
};ReportJavascriptMgr.prototype.gutsMeta=function(){return[{name:"js",path:"javascriptMgr",type:juiForm_FieldRendererType.JAVASCRIPT,canHaveEvent:false,mandatory:false}]};ReportJavascriptMgr.prototype.afterRestoreGuts=function(object){_super.prototype.afterRestoreGuts.call(this,object);
if(ic3.isEmptyString(this.guts_.js)){this.guts_.js=this.jsExample_()}this.onGutsUpdated_()};ReportJavascriptMgr.prototype.refreshHtmlFromGuts=function(guts){if(guts){this.guts_=guts;if(ic3.isEmptyString(this.guts_.js)){this.guts_.js=this.jsExample_()}this.onGutsUpdated_()
}};ReportJavascriptMgr.prototype.onGutsUpdated_=function(){this.consumeEvent_=null;var consumeEvent;try{eval(this.guts_.js);if(consumeEvent){if(typeof consumeEvent==="function"){this.consumeEvent_=consumeEvent}else{this.consumeEvent_=null;this.context.errorMgr().addError("javascriptMgr.invalidConsumeEvent")
}}}catch(error){this.context.errorMgr().addError("javascriptMgr.invalidScript",[error.toString()],undefined,error)}};ReportJavascriptMgr.prototype.isActive=function(){return this.consumeEvent_?true:false};ReportJavascriptMgr.prototype.consumeEvent=function(eventType,paramName,eventObject){if(!this.isActive()){return
}var self=this;var ctxt=$.extend({},self.consumeEventData_,{$report:self.context.$mainReportContainer(),fireEvent:function(eventName){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}self.fireEvent.apply(self,arguments)}});var evt={type:eventType,name:paramName,value:eventObject};
try{self.consumeEvent_.call({},ctxt,evt)}catch(error){self.context.errorMgr().addError("javascriptMgr.consumeEventError",[error.toString()])}finally{if(ctxt&&ctxt.fireEvent){delete ctxt.fireEvent}if(ctxt&&ctxt.$report){delete ctxt.$report}if(ctxt){self.consumeEventData_=ctxt
}else{self.consumeEventData_={}}}};ReportJavascriptMgr.Events={onReportInit:"ic3-report-init",onReportAfterBuild:"ic3-report-after-build"};return ReportJavascriptMgr}(ic3.Serializable));ic3.ReportJavascriptMgr=ReportJavascriptMgr})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e);this.classID="ic3.MdxQueriesContainerMgr"}c.prototype.createDefaultGuts=function(e){return{mdxQueries:new a.BaseContainerMgr(e,"MDX query"),mdxFilter:new a.BaseContainerMgr(e,"MDX filter"),actionBuilders:this.createActionBuildersContainer(e)}
};c.prototype.createActionBuildersContainer=function(e){return new a.BaseContainerMgr(e,"Action builder")};c.prototype.forEachMdxQuery=function(e){return this.guts_.mdxQueries.forEach(e)};c.prototype.forEachMdxFilter=function(e){return this.guts_.mdxFilter.forEach(e)
};c.prototype.getMdxQueryById=function(e){return this.guts_.mdxQueries.getItemById(e)};c.prototype.deleteMdxQueryById=function(e){this.guts_.mdxQueries.deleteItemById(e)};c.prototype.getMdxFilterById=function(e){return this.guts_.mdxFilter.getItemById(e)};c.prototype.deleteMdxFilterById=function(e){this.guts_.mdxFilter.deleteItemById(e)
};c.prototype.getActionBuilderById=function(e){return this.actionBuilders().getItemById(e)};c.prototype.deleteActionBuilderById=function(e){this.actionBuilders().deleteItemById(e)};c.prototype.addNewMdxQuery=function(e){return this.guts_.mdxQueries._addContainerItem("mdx Query","m",e)
};c.prototype.addNewMdxFilter=function(e){return this.guts_.mdxFilter._addContainerItem("mdx Filter","m",e)};c.prototype.addNewActionBuilder=function(e){return this.actionBuilders()._addContainerItem("Action builder","m",e)};c.prototype.clone=function(f){if(f){var e=a.copyGuts(f,f.context);
if(f.type()===a.BuilderType.FILTER_QUERY){this.addNewMdxFilter(e)}else{if(f.type()===a.BuilderType.ACTION){this.addNewActionBuilder(e)}else{this.addNewMdxQuery(e)}}return e}return null};c.prototype.deleteMdxItem=function(e){if(e){var f=e.type();if(f===a.BuilderType.FILTER_QUERY){this.deleteMdxFilterById(e.uid())
}else{if(f===a.BuilderType.ACTION){this.deleteActionBuilderById(e.uid())}else{this.deleteMdxQueryById(e.uid())}}}};c.prototype.addNewMdxItem=function(e){if(e){if(e.type()===a.BuilderType.FILTER_QUERY){this.addNewMdxFilter(e)}else{if(e.type()===a.BuilderType.ACTION){this.addNewActionBuilder(e)
}else{this.addNewMdxQuery(e)}}}};c.prototype.actionBuilders=function(){return this.guts_.actionBuilders||(this.guts_.actionBuilders=this.createActionBuildersContainer(this.context))};return c}(a.Serializable));a.MdxQueriesContainerMgr=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a=(function(d){__extends(c,d);function c(e){d.call(this,e,"widget");this.classID="ic3.WidgetAdapterContainerMgr";this.nameId=0;
this.lastuid=0}c.prototype.createGviWidget=function(g,e){var f=g.instance();f.name(this._createNewName("widget"));f.uid(this._createNewUid("w"));e.addWidgetAdapter(f);this.guts_.items.push(f);return f};c.prototype.createAndReplaceGviWidget=function(g,f){var e=g.instance();
return this.replaceWidget(f,e)};c.prototype.replaceWidget=function(h,g){var f=h.widgetAdapter();var e=$.inArray(f,this.guts_.items);g.name(f.name());g.uid(f.uid());this.guts_.items.splice(e,1,g);h.addWidgetAdapter(g);return f};c.prototype.setupFilterInitialSelectionFromConstants=function(){b.logMsg("[ic3-event] setup filters initial selection from constants");
this.forEach(function(e,f){if(f.setupFilterInitialSelectionFromConstants){f.setupFilterInitialSelectionFromConstants()}})};return c}(b.BaseContainerMgr));b.WidgetAdapterContainerMgr=a})(ic3||(ic3={}));var ic3;(function(a){var b;(function(g){function e(k){var j=function(l){l.preventDefault();
if(l.clipboardData){l.clipboardData.setData("text/plain",k)}else{if(window.clipboardData){window.clipboardData.setData("Text",k)}}window.getSelection().removeAllRanges()};document.addEventListener("copy",j);if(!document.execCommand("copy")){window.prompt("Widget code:",k)
}else{var h=document.createRange();h.selectNodeContents(document.createTextNode(""));var i=window.getSelection();i.removeAllRanges();i.addRange(h);document.execCommand("copy")}document.removeEventListener("copy",j)}g.setupCopy=e;function f(k){var p=[];for(var j=0;
j<k.length;j++){var m=k[j];var l=a.saveGuts(m);delete l.guts_.widgetAdapterUid;var o=m.widgetAdapter();var h=a.saveGuts(o);delete h.guts_.ic3_uid;delete h.guts_.ic3_mdxBuilderUid;var n=a.saveGuts(o.builder());p.push(new c(l,h,n))}return JSON.stringify(p)}g.createBoxesClipboardData=f;
function d(r,h){var q=JSON.parse(r);var j=[];for(var k=0;k<q.length;k++){var n=q[k];var m=a.restoreGuts(n.box,h);var l=a.restoreGuts(n.widget,h);var o=a.restoreGuts(n.builder,h);var p=(o!=null&&!(a.isFunction(o.isBuilderWidget)&&o.isBuilderWidget()));if(!(m instanceof a.FixedLayoutBox&&l instanceof a.WidgetAdapter)||p){throw"Invalid copy"
}j.push(new c(m,l,o))}return j}g.parseBoxClipboardData=d;var c=(function(){function h(j,k,i){this.box=j;this.widget=k;this.builder=i}return h}());g.BoxClipboardData=c})(b=a.ClipboardHelper||(a.ClipboardHelper={}))})(ic3||(ic3={}));var ic3;(function(a){var b;
(function(i){function f(K){var J;if($.isArray(K)){J=[];$.each(K,function(L,M){J.push(c(M))})}else{J=c(K)}return J}i.convertToColor=f;function m(K,L,J){return{name:K,type:juiForm_FieldRendererType.COLOR,advanced:L===true,gutsPostEval:f,hintsValues:J}}i.colorMeta=m;
function p(J,L,K){return{name:J,advanced:L===true,type:juiForm_FieldRendererType.BOOLEAN_TEXT,path:K||""}}i.yesNoMeta=p;function g(K,J){return{name:K,hintsValues:["yes","no"].concat(J||[]),type:juiForm_FieldRendererType.TEXT,gutsPostEval:function(M){var L;switch(M){case"yes":case"true":L=true;
break;case"no":case"false":L=false;break;default:L=M}return L}}}i.yesNoOrTextMeta=g;function y(K,N,M,L,J){return{name:K,path:M,mandatory:L===true,advanced:N===true,type:juiForm_FieldRendererType.NUMERIC,hintsValues:J}}i.numericMeta=y;function z(J,L,K){return{name:J,path:K,advanced:L===true,type:juiForm_FieldRendererType.INTEGER}
}i.integerMeta=z;function t(J){var O=arguments[1];var K;var Q;var S;var R;var M;var P;if($.isArray(O)){K=O;var L=arguments[3];if(a.isString(L)){S=L;R=arguments[4];P=arguments[5]}else{Q=L===true;M=arguments[4]}}else{if(a.isString(O)){S=O}else{Q=O===true}}var N=arguments[2]===true;
return{name:J,type:juiForm_FieldRendererType.TEXT,hintsValues:K,mandatory:N,advanced:Q,path:S,labelHref:M,canHaveEvent:R,defaultValue:P}}i.textMeta=t;function w(K,J,M,L){return{name:K,type:juiForm_FieldRendererType.DEFAULT_APPENDING,hintsValues:J,path:M,separator:L}
}i.defaultAppendingMeta=w;function e(K,J,L){if(typeof J==="boolean"){return{advanced:J,name:K,type:juiForm_FieldRendererType.BOOLEAN,mandatory:L}}else{return{path:J,name:K,type:juiForm_FieldRendererType.BOOLEAN,mandatory:L}}}i.booleanMeta=e;function F(K,N,J,M){var O=false;
var L=undefined;if(a.isBoolean(J)){O=J}else{L=J}return{name:K,type:juiForm_FieldRendererType.OBJECT,meta:N,path:L,advanced:O,mandatory:M===true}}i.objectMeta=F;function D(J){return{name:J,type:juiForm_FieldRendererType.CSS_CLASS}}i.cssClassMeta=D;function s(J){return{name:J,type:juiForm_FieldRendererType.CSS_STYLE}
}i.cssStyleMeta=s;function G(J,K){return{name:J,path:K,type:juiForm_FieldRendererType.CSS,canHaveEvent:false}}i.cssMeta=G;function j(L,M,K,O){var J=false;var N=undefined;if(a.isBoolean(K)){J=K}else{N=K}return{name:L,path:N,type:juiForm_FieldRendererType.GIZMO,gizmoType:M,addEmptyHint:J,mandatory:O===true}
}i.gizmoMeta=j;function I(K,N,J,M,P){var L,O;if(a.isBoolean(arguments[2])){O=J}else{L=J}return{name:K,path:L,type:juiForm_FieldRendererType.ARRAY,meta:N,advanced:O===true,mandatory:M===true,labelHref:P}}i.arrayMeta=I;function r(K,J,M,L){return{name:K,type:juiForm_FieldRendererType.JAVASCRIPT_FUNCTION,signature:J,textareaRows:2,advanced:M===true,mandatory:L===true}
}i.javascriptFunctionMeta=r;function u(J){return{name:J,type:juiForm_FieldRendererType.EVENT_NAME}}i.eventNameMeta=u;function v(K,L,J,M){return{name:K,path:L,labelHref:J,advanced:M===true,type:juiForm_FieldRendererType.EXTRA_OPTIONS,textareaRows:2}}i.extraOptionsMeta=v;
function o(M,K,J){var L=[{caption:a.babylon.localizeEnum("viz.SelectionMode",viz.SelectionMode.SINGLE),value:viz.SelectionMode.SINGLE},{caption:a.babylon.localizeEnum("viz.SelectionMode",viz.SelectionMode.MULTI),value:viz.SelectionMode.MULTI}];if(M===true){L.unshift({caption:a.babylon.localizeEnum("viz.SelectionMode",viz.SelectionMode.DISABLED),value:viz.SelectionMode.DISABLED})
}if(K==true){L.push({caption:a.babylon.localizeEnum("viz.SelectionMode",viz.SelectionMode.HIERARCHICAL_MULTI),value:viz.SelectionMode.HIERARCHICAL_MULTI})}if(J==true){L.push({caption:a.babylon.localizeEnum("viz.SelectionMode",viz.SelectionMode.IPAD_STYLE_MULTI),value:viz.SelectionMode.IPAD_STYLE_MULTI})
}return i.textMeta("selectionMode",L)}i.selectionModeMeta=o;function H(J,K){return{name:J,type:juiForm_FieldRendererType.ARRAY,advanced:K,meta:{name:"color",type:juiForm_FieldRendererType.TEXT},gutsPostEval:i.convertToColor}}i.colorArrayMeta=H;function k(J,N,M,L,K){return{name:J,path:M,labelHref:N,mandatory:L,eventHint:K,type:juiForm_FieldRendererType.HTML}
}i.htmlMeta=k;function A(K,J,M,L){return{name:K,path:M,type:juiForm_FieldRendererType.TEXTAREA,textareaRows:J,mandatory:L===true}}i.textareaMeta=A;function q(J,M,N,L,K){return{name:J,path:M,type:juiForm_FieldRendererType.ONE_OF_MANY_ENTITIES,entities:N,mandatory:L===true,disabled:K}
}i.oneOfManyEntitiesMeta=q;function E(K,J){return{name:"zoom",type:juiForm_FieldRendererType.NUMERIC,advanced:K===true,canHaveEvent:J}}i.zoomMeta=E;function C(J,K,L){return{name:J,type:K,meta:L}}i.typedMeta=C;var l=/^[0-9A-Fa-f]{3}/;function c(K){var J=K;if(l.test(K)){J="#"+K
}return J}function d(L,K,J){return{name:"Report Name or ID",setter:function(R){var P;var Q=function(){var S=P.getSelectedReportId();if(S){R(S);P.destroy()}};var N=function(){var S=P.getSelectedReportName();if(S){if(!a.startsWith(S,"/")){S="/"+S}R(S);P.destroy()
}};var M;var O={};if(K){M=Q;O["Select ID"]=Q}if(J){M=M||N;O["Select Name"]=N}}}}i.reportSelectorHint=d;function n(J,K){return B("ic3widgetStyle",J,K)}i.namedStyleMeta=n;function B(K,J,M,L){return{name:K,type:juiForm_FieldRendererType.STYLE,hintsValues:J,styleField:true,path:M||"",canHaveEvents:L}
}i.styleMeta=B;function x(J){return{name:J,type:juiForm_FieldRendererType.TEXT,dataField:true}}i.dataFieldMeta=x;function h(J){return{name:J,type:juiForm_FieldRendererType.BOOLEAN,dataField:true}}i.dataFieldBooleanMeta=h})(b=a.MetaInfoHelper||(a.MetaInfoHelper={}))
})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a=(function(d){__extends(c,d);
function c(e,f){d.call(this);this.classID="ic3.EventSerializable";this.guts_=f||{};this.afterRestoreGuts(null)}c.prototype.bindingEvent=function(e){return undefined};c.prototype.producesEvent=function(e){};c.prototype.popEvents=function(){};c.prototype.pushEvents=function(e){};
c.prototype.consumeEvent=function(e,f){};c.prototype.consumedEvents=function(){return undefined};c.prototype.producedEvents=function(e){return undefined};c.prototype.hasEvents=function(){return false};c.prototype.createDefaultGuts=function(e){};c.prototype.isEmptyEvent=function(){return this.guts_.isEmptyEvent
};c.prototype.caption=function(){return this.guts_.caption};c.prototype.asMdx=function(){return this.guts_.asMdx};c.prototype.asFilterInitialSelection=function(){return this.guts_.asFilterInitialSelection};c.prototype.guts=function(){return this.guts_};c.prototype.gutsMeta=function(){};
c.prototype.name=function(e){return this.caption()};c.prototype.uid=function(e){return""};c.prototype.guid=function(e){return""};c.prototype.beforeSaveGuts=function(){};c.prototype.afterRestoreGuts=function(e){this.fireMdxByDefault=this.guts().fireMdxByDefault===true
};c.prototype.bind=function(e,g,f){};c.prototype.unbind=function(e){};c.prototype.fireEvent=function(f){var e=[];for(var g=1;g<arguments.length;g++){e[g-1]=arguments[g]}};c.createSerializable=function(f){var j,i,h,e,g;if(f instanceof viz.event.Event){j=f.isEmptyEvent();
i=f.caption();h=f.asMdx();e=f.asFilterInitialSelection();g=f.fireMdxByDefault}else{if(b.isObject(f)){j=false;i=b.isFunction(f.caption)?f.caption():f.caption;h=b.isFunction(f.asMdx)?f.asMdx():f.asMdx;e=b.isFunction(f.asFilterInitialSelection)?f.asFilterInitialSelection():f.asFilterInitialSelection;
g=f.fireMdxByDefault}else{j=false;i=h=e=f}}return new c(null,{isEmptyEvent:j,caption:i,asMdx:h,asFilterInitialSelection:e,fireMdxByDefault:g})};return c}(viz.event.Event));b.EventSerializable=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,g,e){d.call(this,f);this.context=g;this.widgetUId=e}c.prototype.addQueryBuilderWidget=function(e){var f=this;
this.mdxQueryWidgets.push(e);e.bind(viz.EventType.onVizChange,function(){try{f.executeRequest(e.getQuery())}catch(g){f.context.notificationMgr().notifyInfo("error.creatingRequest",g);throw g}})};c.prototype.executeRequest=function(f,e,g){f.addParameter(ic3GviParamConstants.windowUId,this.context.windowUId());
f.addNullableParameter(ic3GviParamConstants.widgetUId,this.widgetUId);f.addParameter(ic3GviParamConstants.timestamp,(new Date()).valueOf());f.addParameter(ic3GviParamConstants.openingReportId,this.context.getOpeningReportId());if(this.context.layout()&&this.context.layout().guts().cellMaxCount){f.addParameter(viz.GviConstants.Param.cellCountMax,this.context.layout().guts().cellMaxCount)
}d.prototype.executeRequest.call(this,f,e,g)};c.prototype.onRequestSuccess=function(e,f,g){if(f.parameters[ic3GviParamConstants.openingReportId]!==this.context.getOpeningReportId()){return}d.prototype.onRequestSuccess.call(this,e,f,g)};c.prototype.onRequestError=function(e,f){d.prototype.onRequestError.call(this,e,f)
};c.prototype.onRequestFailure=function(e,f){d.prototype.onRequestFailure.call(this,e,f)};return c}(viz.QueryManager));a.QueryManagerWithNotifications=b})(ic3||(ic3={}));var ic3;(function(a){a.MdxUtils=(function(){var i=function(k){return k.split(".")[0]};var g=function(m){var k=[];
for(var l=0;l<m.length;l++){k.push(this.getDimension(m[l]))}return k};var j=function(k){var l=k.split(".");return l.slice(0,l.length-1).join(".")};var h=function(n,l){var m="";for(var k=0;k<n.length;k++){m+=n[k][l||"uniqueName"]+(k<n.length-1?", ":"")}return m?"{"+m+"}":""
};var f=function(k){var l=k.split(".");var m=l[l.length-1];return m.substring(1,m.length-1)};return{getDimension:i,getDimensions:g,getLevelUniqueName:j,buildSetExpression:h,getMemberName:f}})();var e=function(f){return"["+f+"]"};var d="allMembers";var c="Measures";
var b=e(c);a.MdxConst={Measures:c,MeasuresDim:b,Comment:"/**/",Head:"Head",All_L:"All-L",allMembers:d,Order:"Order",DefaultMeasure:b+".defaultMember",BDESC:"BDESC",BASC:"BASC",LastLevelAllMembers:"lastLevel."+d,FILTER_MDX:"FILTERBY /*ic3*/",NON_EMPTY:"NON EMPTY"}
})(ic3||(ic3={}));var ic3;(function(a){var b;(function(d){d.DATE_FORMAT_YYYY_MM_DD_MINUS=/^(\d{4})(-)(\d{1,2})(-)(\d{1,2})$/;d.DATE_FORMAT_YYYY_MM_DD_SLASH=/^(\d{4})(\/)(\d{1,2})(\/)(\d{1,2})$/;d.DATE_FORMAT_MDX_ARG_YYYY_MM_DD_COMA=/lookupByKey\(DateTime\((\d{4},\d{2},\d{2})\)/;
function c(h){var e=new Date();var g=h.match(/^today\s*(\+|-)\s*(\d+)(d|w|m|y)$/);if(g){var f=parseInt(g[2],10);f=g[1]=="+"?f:-f;switch(g[3]){case"d":e.setDate(e.getDate()+f);break;case"w":e.setDate(e.getDate()+7*f);break;case"m":e.setMonth(e.getMonth()+f);
break;case"y":e.setFullYear(e.getFullYear()+f);break;default:}}return e}d.parseTodayExpression=c})(b=a.DateUtils||(a.DateUtils={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var d="All";var b="None";var c=(function(f){__extends(g,f);function g(h,i){f.call(this,h,i);this.backBtnId=a.uniqueId();this.navigationMenuStack=[];this.classID="ic3.NavigationStrategy"
}g.prototype.gutsMeta=function(){return[a.MetaInfoHelper.gizmoMeta("drillDownStrategy","DrillDownStrategy",true),a.MetaInfoHelper.gizmoMeta("filterInfo","FilterInfoRenderer",true),this.userMenuVisibilityGuts(true),a.MetaInfoHelper.numericMeta("maxAxisMemberCount")]
};g.prototype.userMenuVisibilityGuts=function(h){var i=[d,b,g.OTHER_MENU__ITEM_KEYS.dataView];h&&i.push(g.OTHER_MENU__ITEM_KEYS.drilldown);return a.MetaInfoHelper.objectMeta("menuVisibility",[a.MetaInfoHelper.booleanMeta("back","menuVisibility"),a.MetaInfoHelper.textMeta("axisXChange",[d,b],false,"menuVisibility"),a.MetaInfoHelper.textMeta("axisYChange",[d,b],false,"menuVisibility"),a.MetaInfoHelper.textMeta("filter",[d,b],false,"menuVisibility"),a.MetaInfoHelper.booleanMeta("reset","menuVisibility"),a.MetaInfoHelper.booleanMeta("widget","menuVisibility"),a.MetaInfoHelper.defaultAppendingMeta("others",i,"menuVisibility",", ")])
};g.prototype.getDrillDownStrategy=function(){var i=this.guts();if(_.isObject(i.drillDownStrategy)){return i.drillDownStrategy}else{if(!_.isEmpty(i.drillDownStrategyType)){var h=this.context.getEvaluator().evaluate(i.drillDownStrategyOptions);h=a.ContextEvaluator.evaluate(h,{context:this.context,widgetAdapter:this.widgetAdapter_},"WIDGET");
i.drillDownStrategy=a.GizmoFactoryPark.getInstance("DrillDownStrategy",i.drillDownStrategyType,h)}}return i.drillDownStrategy};g.prototype.createDefaultGuts=function(h){return $.extend(f.prototype.createDefaultGuts.call(this,h),{menuVisibility:{back:true,axisXChange:d,axisYChange:d,filter:d,reset:true,widget:true,others:d},maxAxisMemberCount:25})
};g.prototype.refreshHtmlFromGuts=function(h){this.guts_=h};g.prototype.producedEvents=function(){return[ic3EventType.onNavigate]};g.prototype.consumedEvents=function(){return[vizEventType.doQueryBack,vizEventType.doQueryRefresh]};g.prototype.createNavigationAction=function(m,j){var o=this.evalGuts();
var l=this.navigationAction=new a.NavigationAction(j,this);var n=function(r){var p=m.box().boxMenu;if(!p){return}var q=$(p.container).find("#"+this.backBtnId)[0];if(q){if(r.hasAction()){$(q).removeClass("ui-state-disabled");m.box().showNavigationIcon()}else{$(q).addClass("ui-state-disabled");
if($(q).siblings().length==0){m.box().hideNavigationIcon()}}}};l.bindNavigation($.proxy(n,this));var h=this.getDrillDownStrategy();var k;if(h){k=h.createAction(l,this.context);l.drillDownAction(k);var i=this;k.bindDrillDown(function(p){i.fireNavigationEvent(m,ic3EventType.onNavigate,p)
})}return l};g.prototype.bindWidget=function(k,j){this.navigationMenuStack.length=0;this.widgetAdapter_=k;var i=this.createNavigationAction(k,j);var h=k.gviWidget();if(h&&h.getEventHandler().producesEvent(vizEventType.onRowClick)){h.getEventHandler().bind(vizEventType.onRowClick,i)
}this.bindNavigationAction(i)};g.prototype.bindNavigationAction=function(h){this.bind(ic3EventType.doNavigate,h);this.bind(ic3EventType.doNavigateBack,h);this.bind(ic3EventType.doClearNavigation,h);this.bind(ic3EventType.doCLearAxis0Navigation,h);this.bind(ic3EventType.doCLearAxis1Navigation,h);
this.bind(ic3EventType.doCLearFilterNavigation,h)};g.prototype.setMdxBase=function(i,h){this.mdxBase_=g.clearNavigationBlock(i);this.nonEmptyAxis_=h};g.prototype.mdxBase=function(){return this.context.evalMdx(this.mdxBase_)};g.prototype.getState=function(){return{mdxBase:this.mdxBase_,nonEmptyAxis:this.nonEmptyAxis_,drillDownStrategyGizmo:this.selectedDrillDownGizmo}
};g.prototype.setState=function(i){this.mdxBase_=i.mdxBase;this.nonEmptyAxis_=i.nonEmptyAxis;if(i.drillDownStrategyGizmo){var h=a.GizmoFactoryPark.getInstance("DrillDownStrategy",i.drillDownStrategyGizmo);var j=h.createAction(this.navigationAction,this.context);
this.navigationAction.overrideDrillDownAction(j)}};g.prototype.createNavStrategyMenuItems=function(i){var k=this;var j=function(m,l){return((l=k.navigationAction)&&(l=l.drillDownAction())&&_.isFunction(l.isForGizmo)?l.isForGizmo(m):null)};var h=[];h.push({id:"drilldown-strategy-reset",title:this.context.mainReport().l("ic3.widget.box_menu.reset_drilldown_stategy"),onClick:function(){return k.onResetDrillDownStrategy(i)
}});h.push({id:"drilldown-strategy-none",title:this.context.mainReport().l("ic3.widget.box_menu.none"),itemClass:function(){return classNames({selected:_.isNull(j())})},onClick:function(){return k.onSetNoDrillDownStrategy(i)}});_.map(a.GizmoFactoryPark.getAvailable("DrillDownStrategy"),function(m,l){if(!_.includes(["mdxExpression","javascript","custom","topCount","userSelect"],m.value)){h.push({id:"drilldown-strategy-"+m.value,title:k.context.mainReport().l(m.caption),itemClass:function(){return classNames({selected:j(m)})
},onClick:function(){return k.onDrillDownStrategySelect(m,i)}})}});return h};g.prototype.onResetDrillDownStrategy=function(h){this.navigationAction.resetDrillDownAction();h.refresh()};g.prototype.onDrillDownStrategySelect=function(m,k){var j=this.navigationAction;
var i=this.context;this.selectedDrillDownGizmo=m.value;var h=a.GizmoFactoryPark.getInstance("DrillDownStrategy",m.value);var l=h.createAction(j,i);j.overrideDrillDownAction(l);k.refresh()};g.prototype.onSetNoDrillDownStrategy=function(h){this.navigationAction.overrideDrillDownAction(null);
h.refresh()};g.prototype.onAxisMenuSelect=function(o,k,h,m,l){this.onMenuSelect(o,l.box().boxMenu);var n=this.createNavigationInfo(k,h);var j,i;if(m){j=[n]}else{i=[n]}this.fireNavigate(l,j,i)};g.prototype.createNavigationInfo=function(l,j){var o;if(l){var h="";
var m="{";for(var k=0;k<l.length;k++){var n=l[k].value;h+=(k>0?", ":"")+n.caption;m+=(k>0?", ":"")+n.mdx}m+="}";o=this.applyNavigationOptions({caption:h,mdx:m},j)}else{o={caption:"",mdx:""}}return o};g.prototype.onAxisOptionsChange=function(h,k,m,l){this.navigationMenuStack.push(null);
var n=this.createNavigationInfo(k,h);var j,i;if(m){j=[n]}else{i=[n]}this.fireNavigate(l,j,i)};g.prototype.applyNavigationOptions=function(k,h){for(var j=0;j<h.length;j++){k.caption=h[j].value.caption(k.caption);k.mdx=h[j].value.mdx(k.mdx)}return k};g.prototype.onAxisMenuClear=function(i,h){if(i){this.onClearHorizontalAxis(h)
}else{this.onClearVerticalAxis(h)}this.navigationMenuStack.push(null)};g.prototype.filterMenuClear=function(h,i){this.onClearFilter(i,h);this.navigationMenuStack.push(null)};g.prototype.onFilterMenuSelect=function(k,q,h){this.onMenuSelect(k,h.box().boxMenu);
var l=[];for(var n=0;n<q.length;n++){var r="",o="";for(var m=0;m<q[n].length;m++){var p=q[n][m].value;r+=(m>0?", ":"")+p.caption;o+=(m>0?", ":"")+p.mdx}l.push([{caption:r,mdx:o}])}this.fireNavigate(h,undefined,undefined,l)};g.prototype.onMenuSelect=function(i,h){this.navigationMenuStack.push(i)
};g.prototype.buildAllowedHierarchyList=function(h){return h.toLowerCase()===d.toLowerCase()?null:h.split(/\s*,\s*/)};g.prototype.isFeatureAllowed=function(h){return a.isString(h)&&h.toLowerCase()!=b.toLowerCase()};g.prototype.isOtherMenuItemAllowed=function(i,h){if(i==null){return false
}return i.toLowerCase()===d.toLowerCase()||i.toLowerCase().split(/\s*,\s*/).indexOf(h.toLowerCase())>=0};g.prototype.buildHierarchyMenu=function(k,l,h){var j=this;var i=new a.HierarchyMenuBuilder(this.context,this.evalGutsField("maxAxisMemberCount")||25);return i.buildItems(this.context.getHierarchies(h))
};g.prototype.onClearHorizontalAxis=function(h){this.fireNavigationEvent(h,ic3EventType.doCLearAxis0Navigation)};g.prototype.onClearVerticalAxis=function(h){this.fireNavigationEvent(h,ic3EventType.doCLearAxis1Navigation)};g.prototype.onClearFilter=function(i,h){this.fireNavigationEvent(i,ic3EventType.doCLearFilterNavigation,h)
};g.prototype.createHorizontalAxisMenu=function(h,i){h.defaultState=this.getAxis0Caption(i);return new a.Axis0NavigationMenu(h,this.navigationAction)};g.prototype.getAxis0Caption=function(j){var i;var h=j.builder();if(h instanceof a.QueryBuilderWidget){i=h.axis0Caption()
}return i};g.prototype.createVerticalAxisMenu=function(h,i){h.defaultState=this.getAxis1Caption(i);return new a.Axis1NavigationMenu(h,this.navigationAction)};g.prototype.getAxis1Caption=function(j){var i;var h=j.builder();if(h instanceof a.QueryBuilderWidget){i=h.axis1Caption()
}return i};g.prototype.buildFilterMenu=function(l,i){var k=[];var h=this.context.getHierarchies(i);var j=this;var m=false;h.forEach(function(n){var o=this;if(n.name!==a.MdxConst.Measures){k.push({guid:a.uniqueId(),caption:n.name,parent:undefined,handler:undefined,value:null,itemsFn:function(){return j.createFilterLevelsMenu(o,n)
},searchSuffix:this.context.mainReport().l("ic3.widget.box_menu.search_suffix.hierarchy"),searchable:true})}else{m=true}});if(m){k.unshift({guid:a.uniqueId(),caption:this.context.mainReport().l("ic3.widget.box_menu.measures"),parent:undefined,multiSelect:true,value:null,itemsAsync:function(o){var n={name:a.MdxConst.Measures,uniqueName:a.MdxConst.MeasuresDim};
return a.HierarchyMenuBuilder.buildMembersMenuItems(this,o,n,j.context)}})}return k};g.prototype.createFilterLevelsMenu=function(k,j){var l=this.context.getLevels(j.uniqueName);var i=[];var h=this;l.forEach(function(m){i.push({guid:a.uniqueId(),caption:m.name,parent:k,handler:undefined,value:null,multiSelect:true,itemsAsync:function(n){return a.HierarchyMenuBuilder.buildMembersMenuItems(this,n,m,h.context)
},searchSuffix:this.context.mainReport().l("ic3.widget.box_menu.search_suffix.level"),searchable:true})});return i};g.prototype.beforeNavigate=function(h){h.hideUnderlyingData()};g.prototype.fireNavigate=function(j,i,h,k){this.fireNavigationEvent(j,ic3EventType.doNavigate,new a.NavigationEvent(i,h,k))
};g.prototype.fireNavigationEvent=function(j,i,h){this.beforeNavigate(j);this.fireEvent(i,h)};g.prototype.navigateBack=function(h){if(h.isInDataVew()){h.hideUnderlyingData();return true}else{if(!this.navigationAction.isDrillDownLastAction()){var i=this.navigationMenuStack.pop();
if(i){i.selectionModel.undo()}}this.fireNavigationEvent(h,ic3EventType.doNavigateBack)}};g.prototype.resetNavigation=function(h){this.fireNavigationEvent(h,ic3EventType.doClearNavigation)};g.prototype.buildNavigationMdx=function(j,h,i){return this.doBuildNavigationMdx(this.mdxBase(),j,h,i)
};g.prototype.buildAxisOverrideMdx=function(j,i){var l=this;var h=new viz.StringBuilder(this.mdxBase());g.addNavigationBlock(h);var k=_.map(_.keys(j),function(m){return parseInt(m)}).sort();_.each(k,function(o){var n=j[o].length>0?j[o][0].mdx:undefined;if(n){var m=j[o][0].stopPropNe!==true&&l.nonEmptyAxis_&&l.nonEmptyAxis_[0]===true&&n.indexOf(a.MdxConst.NON_EMPTY)===-1;
h.append("\naxis "+o+" ").append(m?"NON EMPTY ":"").append(n)}});if(i){h.append("\n").append(this.buildFilterMdx(i))}return h.asString()};g.prototype.doBuildNavigationMdx=function(m,l,j,k){var i=new viz.StringBuilder(m);g.addNavigationBlock(i);if(l){var o=l.length>0?l[0].mdx:undefined;
if(o){var h=l[0].stopPropNe!==true&&this.nonEmptyAxis_&&this.nonEmptyAxis_[0]===true&&o.indexOf(a.MdxConst.NON_EMPTY)===-1;i.append("\naxis 0 ").append(h?"NON EMPTY ":"").append(o)}}if(j){var n=j.length>0?j[0].mdx:undefined;if(n){var h=j[0].stopPropNe!==true&&this.nonEmptyAxis_&&this.nonEmptyAxis_[1]===true&&n.indexOf(a.MdxConst.NON_EMPTY)===-1;
i.append("\naxis 1 ").append(h?"NON EMPTY ":"").append(n)}}if(k){i.append("\n").append(this.buildFilterMdx(k))}return i.asString()};g.prototype.buildFilterMdx=function(k){var j="";if(k){for(var h=0;h<k.length;h++){j+=a.MdxConst.FILTER_MDX+" "+a.MdxUtils.buildSetExpression(k[h],"mdx")+"\n"
}}return j};g.prototype.applyNavigationState=function(i){var h=i;if(this.navigationAction){var j=this.navigationAction.getState();h=this.doBuildNavigationMdx(i,j.axis0,j.axis1,j.filters)}return h};g.prototype.applyFilters=function(j){var h=j;var i=this.navigationAction.getFiltersState();
if(i){h+="\n"+this.buildFilterMdx(i)}return h};g.prototype.consumeEvent=function(h,i){var j=this.widgetAdapter_||this.widgetAdapter;switch(h){case vizEventType.onGutsChange:this.onGutsChange();break;case vizEventType.doQueryBack:this.navigateBack(j);break;case vizEventType.doQueryRefresh:var k=j.eventMapper();
if(k&&k.fireOnRefreshOnly()){k.historyStrategy().doRefresh()}else{this.resetNavigation(j)}break}};g.prototype.onGutsChange=function(){this.navigationAction.drillDownAction().updateGuts(this.context)};g.addNavigationBlock=function(h){h.append(g.NAVIGATION_BLOCK)
};g.clearNavigationBlock=function(i){if(!_.isString(i)){return i}var h=i;var j=h&&h.indexOf(g.NAVIGATION_BLOCK);if(j>=0){h=h.substring(0,j)}return h};g.prototype.getNavigationState=function(){var h=this.navigationAction;return{action:h&&h.getNavigationState()}
};g.prototype.setNavigationState=function(h){if(h&&h.action&&this.navigationAction){this.navigationAction.setNavigationState(h.action)}};g.NAVIGATION_BLOCK="\n/*ic3navigation*/";g.OTHER_MENU__ITEM_KEYS={reset:"ResetQuery",dataView:"DataView",drilldown:"Drilldown Strategy"};
return g}(a.Serializable));a.NavigationStrategy=c;var e=(function(f){__extends(g,f);function g(){f.apply(this,arguments)}g.prototype.onAxisMenuSelect=function(l,i,h,k,j){f.prototype.onAxisMenuSelect.call(this,l,i,h,!k,j)};g.prototype.onAxisOptionsChange=function(h,i,k,j){f.prototype.onAxisOptionsChange.call(this,h,i,!k,j)
};g.prototype.buildHierarchyMenu=function(i,j,h){return f.prototype.buildHierarchyMenu.call(this,i,!j,h)};g.prototype.onClearHorizontalAxis=function(h){this.fireNavigationEvent(h,ic3EventType.doCLearAxis1Navigation)};g.prototype.onClearVerticalAxis=function(h){this.fireNavigationEvent(h,ic3EventType.doCLearAxis0Navigation)
};g.prototype.createHorizontalAxisMenu=function(h,i){h.defaultState=this.getAxis1Caption(i);return new a.Axis1NavigationMenu(h,this.navigationAction)};g.prototype.createVerticalAxisMenu=function(h,i){h.defaultState=this.getAxis0Caption(i);return new a.Axis0NavigationMenu(h,this.navigationAction)
};return g}(c));a.ChartNavigationStrategy=e})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(e){d.call(this,e);this.classID="ic3.PivotTableNavigationStrategy"}c.prototype.createDefaultGuts=function(e){return $.extend(d.prototype.createDefaultGuts.call(this,e),{drillDownStrategy:{type:"children"}})
};c.prototype.producedEvents=function(){return null};c.prototype.evalGuts=function(e){var f=d.prototype.evalGuts.call(this,e);if(this.userDrillDoneStrategy_===false){delete f.drillDownStrategy}else{if(this.userDrillDoneStrategy_){f.drillDownStrategy=this.userDrillDoneStrategy_
}}return f};c.prototype.navigateBack=function(e){this.widgetAdapter.drillDownPerformBack();return d.prototype.navigateBack.call(this,e)};c.prototype.resetNavigation=function(e){this.widgetAdapter.clearDrillDownState();d.prototype.resetNavigation.call(this,e)
};c.prototype.onResetDrillDownStrategy=function(e){delete this.userDrillDoneStrategy_;this.widgetAdapter.clearDrillDownState();d.prototype.onResetDrillDownStrategy.call(this,e)};c.prototype.onDrillDownStrategySelect=function(f,e){this.widgetAdapter.saveDrillDownState();
this.userDrillDoneStrategy_=a.GizmoFactoryPark.getInstance("DrillDownStrategy",f.value);d.prototype.onDrillDownStrategySelect.call(this,f,e)};c.prototype.onSetNoDrillDownStrategy=function(e){this.widgetAdapter.clearDrillDownState();this.userDrillDoneStrategy_=false;
d.prototype.onSetNoDrillDownStrategy.call(this,e)};c.prototype.bindWidget=function(g,f){var e=this.createNavigationAction(g,f);this.bindNavigationAction(e);this.widgetAdapter=g};return c}(a.NavigationStrategy));a.PivotTableNavigationStrategy=b})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var d=(function(e){__extends(f,e);
function f(g,h){e.call(this);this.queryManager=g;this.navigationStrategy=h;this.navigationStack=new c();this.navigationListeners=[]}f.prototype.drillDownAction=function(g){if(g){this.originalDrillDownAction_=g}return g?(this.drillDownAction_=g):this.drillDownAction_
};f.prototype.overrideDrillDownAction=function(g){this.drillDownAction_=g};f.prototype.resetDrillDownAction=function(){this.drillDownAction_=this.originalDrillDownAction_};f.prototype.ic3rowClick=function(i,g){var h=this.drillDownAction();if(_.isObject(h)&&_.isFunction(h.ic3rowClick)){h.ic3rowClick(i,g)
}};f.prototype.hasAction=function(){return this.navigationStack.size()>0};f.prototype.ic3doNavigateBack=function(){if(this.hasAction()){var g=this.navigationStack.pop();if(g.isDrillDown){this.drillDownAction().onDrillBack()}this.doNavigate()}};f.prototype.ic3doNavigate=function(g){this.doNavigate({axis0:g.axis0(),axis1:g.axis1(),filters:g.filters()})
};f.prototype.ic3doClearNavigation=function(){this.navigationStack.clear();var g={clearFilters:true};this.drillDownAction()&&this.drillDownAction().onReset&&this.drillDownAction().onReset();this.doNavigate(g)};f.prototype.ic3doClearAxis0Navigation=function(){this.doNavigate({clearAxis0:true})
};f.prototype.ic3doClearAxis1Navigation=function(){this.doNavigate({clearAxis1:true})};f.prototype.ic3doClearFilterNavigation=function(h){var g;if(a.isNumber(h)){g={clearFilterRow:h}}else{g={clearFilters:true};this.drillDownAction().onReset()}this.doNavigate(g)
};f.prototype.doNavigate=function(i){if(i){this.navigationStack.push(i)}var h=this.getState();if(!_.isEmpty(this.navigationStrategy.mdxBase())){var g=this.navigationStrategy.mdxBase();if(_.isObject(h.axisOverride)){g=this.navigationStrategy.buildAxisOverrideMdx(h.axisOverride,h.filters)
}else{g=this.navigationStrategy.buildNavigationMdx(h.axis0,h.axis1,h.filters)}this.queryManager.executeRequest(new viz.MdxTableRequest(g))}this.fireNavigate()};f.prototype.getState=function(){var h=this.getAxis0State();var g=this.getAxis1State();var i=this.getFiltersState();
return{axisOverride:this.getAxisOverrideState(),axis0:h,axis1:g,filters:i}};f.prototype.getAxisOverrideState=function(){return this.navigationStack.lastAxisOverride()};f.prototype.getAxis0State=function(){return this.navigationStack.lastAxis0()};f.prototype.getAxis1State=function(){return this.navigationStack.lastAxis1()
};f.prototype.getFiltersState=function(){return this.navigationStack.lastFilters()};f.prototype.bindNavigation=function(g){this.navigationListeners.push(g)};f.prototype.fireNavigate=function(){var h=this.navigationListeners.length;if(h>0){for(var g=0;g<h;g++){this.navigationListeners[g](this)
}}};f.prototype.isDrillDownLastAction=function(){var g=this.navigationStack.last();return g?g.isDrillDown:false};f.prototype.isDrillDownFilter=function(h){var g=this.navigationStack.lastFilters();return g[h]["isDrillDown"]};f.prototype.getNavigationState=function(){return{strategy:this.navigationStrategy.getState(),stack:this.navigationStack.asArray()}
};f.prototype.setNavigationState=function(g){if(g){if(g.strategy){this.navigationStrategy.setState(g.strategy)}if(g.stack){this.navigationStack=new c(g.stack)}}};return f}(viz.Action));a.NavigationAction=d;var b=(function(f){__extends(e,f);function e(g,h){f.call(this);
this.queryManager=g;this.navigationStrategy=h}e.prototype.ic3doNavigate=function(h){var g=this.navigationStrategy.buildNavigationMdx(h.axis0(),h.axis1(),h.filters());this.queryManager.executeRequest(new viz.MdxTableRequest(g))};return e}(viz.Action));a.PivotTableNavigationAction=b;
var c=(function(){function e(f){this.stack=[];if(f){this.stack=f}}e.prototype.push=function(f){this.stack.push(f)};e.prototype.pop=function(){return this.stack.pop()};e.prototype.clear=function(){this.stack.length=0};e.prototype.last=function(){return this.stack[this.stack.length-1]
};e.prototype.size=function(){return this.stack.length};e.prototype.lastAxisOverride=function(){for(var f=this.stack.length-1;f>=0;f--){var g=this.stack[f];if(g.axisOverride){return g.axisOverride}}return null};e.prototype.lastAxis0=function(){for(var f=this.stack.length-1;
f>=0;f--){var g=this.stack[f];if(g.clearAxis0){return null}else{if(g.axis0){return g.axis0}}}return null};e.prototype.lastAxis1=function(){for(var f=this.stack.length-1;f>=0;f--){var g=this.stack[f];if(g.clearAxis1){return null}else{if(g.axis1){return g.axis1
}}}return null};e.prototype.lastFilters=function(){var k=[];var h,m;var j=[];for(var g=this.stack.length-1;g>=0;g--){var l=this.stack[g];if(l.clearFilters){break}else{if(a.isNumber(l.clearFilterRow)){if(k.length===0){j.unshift(l.clearFilterRow)}}else{if(l.filters){if(l.isDrillDown&&!h){h=true;
for(var f=0;f<l.filters.length;f++){l.filters[f]["isDrillDown"]=true;k.push(l.filters[f])}}else{if(!l.isDrillDown&&!m){m=true;a.arrayConcat(k,l.filters)}}if(h&&m){break}}}}}if(k.length>0&&j.length>0){for(g=0;g<j.length;g++){k.splice(j[g],1)}}return k.length>0?k:null
};e.prototype.asArray=function(){return this.stack};return e}())})(ic3||(ic3={}));var ic3;(function(b){var a=(function(){function c(e,d,f){this.axis0_=e;this.axis1_=d;this.filters_=f}c.prototype.axis0=function(){return this.axis0_};c.prototype.axis1=function(){return this.axis1_
};c.prototype.filters=function(){return this.filters_};return c}());b.NavigationEvent=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(f,e){c.call(this);this.drillDownStrategy=e;this.navigationAction=f;this.drilldownEvents=[];this.drilledColumns=[]}d.prototype.isDrillDownAvailable=function(e,g,f){if(this.drillDownStrategy.isChildrenDrillDown()){return e.getAxes().getAxis(e.getAxes().getAxisCount()-1).getMemberChildrenCount(g,f)>0
}return true};d.prototype.updateGuts=function(e){this.drillDownStrategy.updateGuts(e)};d.prototype.isForGizmo=function(f){var e=this.drillDownStrategy?this.drillDownStrategy.gizmoType():null;return e?_.isObject(f)&&e===f.value:null};d.prototype.ic3rowClick=function(e,m){var l=e.getMdxResultTable();
var k=e.getCoordinates();var h=e.getHierarchyIndexes();var j=k[k.length-1];var f=h[k.length-1];if(this.isDrillDownAvailable(l,j,f)){var n=l.getAxes().getAxis(k.length-1);this.drilledColumns.push(_.times(n.getTupleLength(),function(o){return{name:n.getMemberCaption(j,o),uniqueName:n.getMemberUniqueName(j,o)}
}));var i={};i[k.length-1]=[this.drillDownStrategy.buildDrillDownAxis(l,k,h,k.length-1)];var g=this.drillDownStrategy.buildDrillDownFilter(this.drilledColumns);this.navigationAction.doNavigate({axisOverride:i,filters:g,isDrillDown:true});this.drilldownEvents.push(e);
this.handleNavigation()}};d.prototype.canDrillDown=function(e,f,g){return true};d.prototype.onDrillBack=function(){this.drilldownEvents.pop();this.drilledColumns.pop();this.handleNavigation()};d.prototype.onReset=function(){this.drilldownEvents=[];this.drilledColumns=[]
};d.prototype.handleNavigation=function(){if(this.drillDownHandler){this.drillDownHandler(this.createDrillDownEvent())}};d.prototype.createDrillDownEvent=function(){return new a.DrillDownEvent(this.drilldownEvents)};d.prototype.bindDrillDown=function(e){this.drillDownHandler=e
};return d}(viz.Action));a.DrillDownAction=b})(ic3||(ic3={}));var ic3;(function(b){var a=(function(){function c(d,e){this.options=d;this.gizmoType_=e;this.classID="ic3.DrillDownStrategy"}c.prototype.updateGuts=function(d){this.originalOption=this.originalOption==null?this.options:this.originalOption;
this.options=d.evalObject(this.originalOption)};c.prototype.gizmoName=function(){return"DrillDownStrategy"};c.prototype.gizmoType=function(){return this.gizmoType_};c.prototype.buildDrillDownAxis=function(d,g,f,e){b.assertAbstract("buildDrillDownAxis",this);
return null};c.prototype.buildDrillDownFilter=function(d){return null};c.prototype.createAction=function(e,d){return new b.DrillDownAction(e,this)};c.prototype.createPivotTableDrillDownStrategy=function(e,g,h,d,f){b.assertAbstract("createPivotTableDrillDownStrategy",this);
return null};c.prototype.isChildrenDrillDown=function(){return true};c.prototype.doBuildDrillDownFilter=function(g){var f=[];for(var e=0;e<g.length;e++){for(var d=0;d<g[e].length;d++){f.push([{caption:g[e][d].name,mdx:g[e][d].uniqueName}])}}return f};return c
}());b.DrillDownStrategy=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;
(function(a){var e=(function(f){__extends(g,f);function g(h,i){f.call(this,h,i);this.classID="ic3.SimpleDrillDownStrategy"}g.prototype.buildDrillDownAxis=function(o,m,h,p){var k=this;var j=o.getAxes().getAxis(p);var i=false;var n=_.times(j.getTupleLength(),function(r){var q=j.getMemberUniqueName(m[p],r);
if(h[p]===r){var s=k.buildDrillDownExpression(q);if(_.startsWith(s.toUpperCase(),"NON EMPTY")){i=true;return s.substring("NON EMPTY".length).trim()}return s}return q});var l=(i?"NON EMPTY ":"")+n.join("*");return{caption:j.getMemberCaption(m[p],h[p]),mdx:l,stopPropNe:this.stopPropNonEmpty()}
};g.prototype.stopPropNonEmpty=function(){return false};g.prototype.buildDrillDownExpression=function(h){a.assertAbstract("buildDrillDownExpression",this);return""};g.prototype.createAction=function(i,h){return new d(i,this)};g.prototype.createPivotTableDrillDownStrategy=function(i,k,l,h,j){var m=this;
return new a.PivotTableDrillDownStrategy(k,function(o,n){if(o){return m.buildDrillDownExpression(o.getMdxUName())}},function(q){var p="";if(m.options&&m.options.enableFilter){var o=function(r){return(p+=a.MdxConst.FILTER_MDX+" {"+r+"}\n")};var n=q;do{o(n.getMdxUName());
n=n.parent}while(n)}return p},l,i,h,j)};return g}(a.DrillDownStrategy));a.SimpleDrillDownStrategy=e;var d=(function(f){__extends(g,f);function g(){f.apply(this,arguments)}g.prototype.canDrillDown=function(i,j,m){var l=i.getProperty(j,m,"cc");var h=l?parseInt(l):0;
var k=this.drillDownStrategy.options&&this.drillDownStrategy.options.enableFilter;if(k||h>0){return true}return false};return g}(a.DrillDownAction));a.SimpleDrillDownAction=d;var b=(function(f){__extends(g,f);function g(){f.apply(this,arguments)}g.prototype.buildDrillDownExpression=function(h){return h+".children"
};return g}(e));a.ChildrenDrillDownStrategy=b;var c=(function(f){__extends(g,f);function g(){f.apply(this,arguments)}g.prototype.buildDrillDownExpression=function(i){var h;var j=(this.options&&this.options.mdx);if(j){h=a.replaceAll(j,"$member",i)}else{h=i+".children"
}return h};g.prototype.buildDrillDownFilter=function(h){if(this.options&&this.options.enableFilter){return this.doBuildDrillDownFilter(h)}else{return null}};g.prototype.stopPropNonEmpty=function(){return true};return g}(e));a.GenericDrillDownStrategy=c})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(){function e(){}e.prototype.gizmoName=function(){return"FilterInfoRenderer"
};e.prototype.renderInfo=function(g,j){var i=this._separator();var f=_.get(j,"action.stack");var h="";if(!_.isEmpty(f)){h=_.map(f[f.length-1].filters,function(k){return _.map(k,function(l){return l.caption}).join(i)}).join(i)}this.doRenderInfo(h,g)};e.prototype.doRenderInfo=function(h,g){var f=h!=""?"<span>"+h+"</span>":"";
g.html(f)};e.prototype._separator=function(){return undefined};return e}());a.FilterInfoRenderer=b;var c=(function(f){__extends(e,f);function e(){f.call(this)}e.prototype._separator=function(){return", "};return e}(b));a.DefaultFilterInfoRenderer=c;var d=(function(e){__extends(f,e);
function f(g){e.call(this);this.separator=g?g.separator:" ";this.cssClass=g?g.cssClass:undefined;this.cssStyle=g?g.cssStyle:undefined}f.prototype._cssClass=function(){return this.cssClass};f.prototype._cssStyle=function(){return this.cssStyle};f.prototype._separator=function(){return this.separator
};f.prototype.doRenderInfo=function(i,g){e.prototype.doRenderInfo.call(this,i,g);var h=g.find("span");h.addClass(this._cssClass());h.attr("style",this._cssStyle())};return f}(b));a.CustomFilterInfoRenderer=d})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(e,f){c.call(this,e,f);this.classID="ic3.UserSelectDrillDownStrategy"}d.prototype.buildDrillDownAxis=function(f,l,k,g){var e=this.drillDownInfo();
var j;var h=_.trim(e.mdx);if(this.options&&!a.isEmptyString(this.options.userSelectMdx)){var i=_.trim(this.options.userSelectMdx);if(i.indexOf(a.MdxConst.NON_EMPTY)===0&&h.indexOf(a.MdxConst.Comment)===0){j=a.MdxConst.NON_EMPTY+" "+h}else{j=a.replaceAll(i,"$selection",h)
}}else{j="HEAD("+h+",25)"}if(e!=null){return{caption:e.caption,mdx:j}}return null};d.prototype.buildDrillDownFilter=function(e){return this.doBuildDrillDownFilter(e)};d.prototype.drillDownInfo=function(e){return e==null?this.drillDownInfo_:(this.drillDownInfo_=e)
};d.prototype.createAction=function(f,e){return new a.UserSelectDrillDownAction(f,this,e)};d.prototype.createPivotTableDrillDownStrategy=function(g,i,j,e,h){var f=this;return new a.UserSelectPivotTableDrillDownStrategy(i,function(o,n){var k;var l=_.trim(f.drillDownInfo().mdx);
if(f.options&&!a.isEmptyString(f.options.userSelectMdx)){var m=_.trim(f.options.userSelectMdx);if(m.indexOf(a.MdxConst.NON_EMPTY)===0&&l.indexOf(a.MdxConst.Comment)===0){k=a.MdxConst.NON_EMPTY+" "+l}else{k=a.replaceAll(m,"$selection",l)}}else{k="HEAD("+l+",25)"
}return k},function(l){var k=a.MdxConst.FILTER_MDX+" {"+l.getMdxUName()+"}";k=j.applyFilters(k);return k},function(k){return true},function(){return new a.UserSelectPivotTableDrillDownAction(g.gviConnection(),g,f,this,e,h)})};d.prototype.isChildrenDrillDown=function(){return false
};d.GIZMO_TYPE="userSelect";return d}(a.DrillDownStrategy));a.UserSelectDrillDownStrategy=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(d){var g=viz.pivot.RecordableDrillDownStrategy;var f=(function(l){__extends(k,l);function k(r,n,q,s,o,m,p){l.call(this,r);this.classID="ic3.PivotTableDrillDownStrategy";this.drillDownExpressionBuilder=n;this.drillDownExpressionFilterBuilder=q;
this.navigationStrategy=s;this.context=o;this.widgetUId=m;this.queryCallback=p}k.prototype.buildDrillDownExpression=function(n,m){return this.drillDownExpressionBuilder(n,m)};k.prototype.buildFilterExpression=function(m){return this.drillDownExpressionFilterBuilder(m)
};k.prototype.createAction=function(m){return new j(m,this,this.context,this.widgetUId,this.queryCallback)};k.prototype.buildRowDrillDownMdx=function(m,q,n,p){var o=l.prototype.buildRowDrillDownMdx.call(this,m,q,n,p);o=this.navigationStrategy.applyFilters(o);
return o};k.prototype.buildColumnDrillDownMdx=function(m,q,n,p){var o=l.prototype.buildColumnDrillDownMdx.call(this,m,q,n,p);o=this.navigationStrategy.applyFilters(o);return o};k.prototype.setMdxBase=function(m){l.prototype.setMdxBase.call(this,m?d.NavigationStrategy.clearNavigationBlock(m):"")
};return k}(viz.pivot.DrillDownStrategy));d.PivotTableDrillDownStrategy=f;var j=(function(l){__extends(k,l);function k(q,n,o,m,p){l.call(this,q,n);this.context=o;this.widgetUId=m;this.queryCallback=p}k.prototype.doCreateQueryManager=function(n){var m=new b(n,this.context,this.widgetUId);
m.addResultWidget(this.queryCallback);return m};return k}(viz.pivot.DrillDownAction));d.PivotTableDrillDownAction=j;var i=(function(l){__extends(k,l);function k(q,n,m,p,o){l.call(this,q);this.drillDownExpressionBuilder=n;this.filterExpressionBuilder=m;this.canDrillDown=p;
this.createActionFn=o}k.prototype.setMdxBase=function(m){this.defaultMdx_=d.NavigationStrategy.clearNavigationBlock(m)};k.prototype.mdxBase=function(){return this.defaultMdx_};k.prototype.buildRowDrillDownMdx=function(m,p,n,o){return this.createMdxBuilder().buildRowDrillDownMdxQuery(this.mdxBase(),m,p,n,o)
};k.prototype.buildRowDrillDownMdxQueries=function(m,p,n,o){return this.createMdxBuilder().buildRowDrillDownMdxQueries(this.mdxBase(),m,p,n,o)};k.prototype.buildColumnDrillDownMdx=function(m,p,n,o){return this.createMdxBuilder().buildColumnDrillDownMdxQuery(this.mdxBase(),m,p,n,o)
};k.prototype.buildColumnDrillDownMdxQueries=function(m,p,n,o){return this.createMdxBuilder().buildColumnDrillDownMdxQueries(this.mdxBase(),m,p,n,o)};k.prototype.createMdxBuilder=function(){return new c($.proxy(this.buildDrillDownExpression,this),$.proxy(this.buildFilterExpression,this))
};k.prototype.buildDrillDownExpression=function(n,m){return this.drillDownExpressionBuilder(n,m)};k.prototype.buildFilterExpression=function(o){var m="";var p=o;do{m=this.filterExpressionBuilder(p)+"\n"+m;p=p.parent}while(p);return m};k.prototype.getLeftHeaderChildrenCount=function(m,o,p,n){return"N/A"
};k.prototype.getTopHeaderChildrenCount=function(m,o,n,p){return"N/A"};k.prototype.canDrillDownLeftHeader=function(m,o,p,n,q){return this.canDrillDown(q)};k.prototype.canDrillDownTopHeader=function(m,o,n,p,q){return this.canDrillDown(q)};k.prototype.createAction=function(m){if(!this.drillDownAction){this.drillDownAction=this.createActionFn(m)
}return this.drillDownAction};k.prototype.allowClearDrillDown=function(){return false};return k}(g));d.CustomPivotTableDrillDownStrategy=i;var a=(function(l){__extends(k,l);function k(q,n,m,p,o){l.call(this,q,n,m,p,o);this.classID="ic3.UserSelectPivotTableDrillDownStrategy"
}k.prototype.getLeftHeaderChildrenCount=function(m,o,p,n){return m.getAxes().getAxis(d.IcCubeMdxBuilder.getMdxAxisIndices(m,o).rowsAxis).getMemberChildrenCount(p,n)};k.prototype.getTopHeaderChildrenCount=function(m,o,n,p){return m.getAxes().getAxis(d.IcCubeMdxBuilder.getMdxAxisIndices(m,o).columnsAxis).getMemberChildrenCount(n,p)
};k.prototype.allowClearDrillDown=function(){return true};return k}(i));d.UserSelectPivotTableDrillDownStrategy=a;var h=(function(k){__extends(l,k);function l(q,n,o,m,p){k.call(this,q,n);this.context=o;this.widgetUId=m;this.queryCallback=p}l.prototype.doRowDrillDown=function(r,o,q,m){var n=this.drillDownStrategy.buildRowDrillDownMdxQueries(m,r,o,q);
var p=m.leftHeaderIterator().node(r,o);this.executeDrillDownRequest(n,m,true,p,r,o)};l.prototype.doColumnDrillDown=function(r,o,q,m){var n=this.drillDownStrategy.buildColumnDrillDownMdxQueries(m,r,o,q);var p=m.topHeaderIterator().node(o,r);this.executeDrillDownRequest(n,m,false,p,r,o)
};l.prototype.executeDrillDownRequest=function(r,p,t,o,w,n){var m=[];var u=r.numberOfColumns;var v=this;d.each(r.queries,function(x,z){var y=new viz.MdxTableRequest(z,true);m.push({request:y})});var s=t?p.insertLeftHeaderDrilldown:p.insertTopHeaderDrilldown;
var q=this.createQueryManager(function(I){var E;for(var A=0;A<I.length;A++){var y=I[A];for(var z=1;z<u;z++){A++;var H=d.IcCubeMdxBuilder.getMdxAxisIndices(y,p.getBaseRequest());if(t){var C=y.getAxes().getAxis(H.columnsAxis).getTupleCount();y=viz.mdxResultTablesMerge(y,I[A],p.getBaseRequest(),"th",C)
}else{var D=y.getAxes().getAxis(H.rowsAxis).getTupleCount();y=viz.mdxResultTablesMerge(y,I[A],p.getBaseRequest(),"lh",D)}}if(!E){E=y}}var G=d.IcCubeMdxBuilder.getMdxAxisIndices(E,p.getBaseRequest());var F=[];var B=t?E.getAxes().getAxis(G.rowsAxis).getTupleLength():E.getAxes().getAxis(G.columnsAxis).getTupleLength();
for(var A=0;A<B;A++){F.push(t?p.getLeftHeaderDataNode(w,A):p.getTopHeaderDataNode(A,n))}var x=new e(E,p.getBaseRequest(),F,w,n,p.options());if(s.call(p,x,w,n)){v.drillDownListener&&v.drillDownListener()}});q.executeBatchRequest(m)};l.prototype.doCreateQueryManager=function(n){var m=new b(n,this.context,this.widgetUId);
m.addResultWidget(this.queryCallback);return m};return l}(viz.pivot.DrillDownAction));d.PivotTableCustomDrillDownAction=h;var e=(function(k){__extends(l,k);function l(m,q,n,r,p,o){k.call(this,m,q,o);this.parentNode_=n;this.parentRowIdx_=r;this.parentColIdx_=p;
k.call(this,m,q,o)}l.prototype.getLeftHeaderLevelDepth=function(n,r,o){var q=k.prototype.getLeftHeaderLevelDepth.call(this,n,0,o);var p=k.prototype.getLeftHeaderLevelDepth.call(this,n,r,o);var m=0;if(this.parentNode_&&this.parentNode_[o]){m=this.parentNode_[o].getLevelDepth()
}return m+1+(p-q)};l.prototype.getTopHeaderLevelDepth=function(n,o,r){var q=k.prototype.getTopHeaderLevelDepth.call(this,n,o,0);var p=k.prototype.getTopHeaderLevelDepth.call(this,n,o,r);var m=0;if(this.parentNode_&&this.parentNode_[r]){m=this.parentNode_[r].getLevelDepth()
}return m+1+(p-q)};return l}(viz.pivot.PivotTableData));d.CustomDrillDownPivotTableData=e;var c=(function(k){__extends(l,k);function l(){k.apply(this,arguments)}l.prototype.buildRowDrillDownMdxQueries=function(x,r,z,p,m){var o=r.leftHeaderIterator(),y=r.options().state.tableContext.axisIndices;
var w=this.buildDrillDownMdxAxes(o,z,p,m),q=this.buildNonDrillDownAxes(r.topHeaderIterator(),0,0),u=[];for(var t=0;t<w.length;t++){for(var s=0;s<q.length;s++){var n=this.buildFilterExpression(o.node(z,p))+"\n"+w[t].filter+"\n"+q[s].filter,v=[];y.measuresAxis===0&&v.push(null);
y.columnsAxis>-1&&v.push(q[s].axis);v.push(w[t].axis);u.push(this.doBuildDrillDownMdxQuery(x,v,n))}}return{queries:u,numberOfColumns:q.length}};l.prototype.buildColumnDrillDownMdxQueries=function(w,q,z,p,m){var o=q.topHeaderIterator(),x=q.options().state.axisIndices;
var v=this.buildDrillDownMdxAxes(o,p,z,m);var y=this.buildNonDrillDownAxes(q.leftHeaderIterator(),0,0);var t=[];for(var s=0;s<v.length;s++){for(var r=0;r<y.length;r++){var n=this.buildFilterExpression(o.node(p,z))+"\n"+v[s].filter+"\n"+y[r].filter,u=[];x.measuresAxis===0&&u.push(null);
x.columnsAxis>-1&&u.push(v[s].axis);u.push(y[r].axis);t.push(this.doBuildDrillDownMdxQuery(w,u,n))}}return{queries:t,numberOfColumns:y.length}};l.prototype.buildNonDrillDownAxes=function(s,m,r,A){var u=[];var p=[];u[0]={axis:"{",filter:""};var t=true;for(var z=m;
z<(A||s.sizeX());z++){var w="";for(var v=r;v<s.sizeY()&&t;v++){var o=s.node(z,v);var q=o.getHierarchy();if(!p[v]){p[v]=s.node(z,v).getHierarchy()}if(p[v]===q){w+=(v==r?"":",")+o.getMdxUName()}else{w="";t=false;var n=this.buildNonDrillDownAxes(s,z,r,A);if(o.parent){n[0].filter=this.buildFilterExpression(o.parent)
}u.push.apply(u,n)}}if(w){u[0].axis+=(z==m?"(":",(")+w+")"}}u[0].axis+="}";return u};l.prototype.buildDrillDownMdxAxes=function(o,v,p,m){var r=new viz.StringBuilder();var w=[];this.buildDrillDownAxisBeforeNode(r,o,v,p,m);var z=r.asString();var q=o.node(v,p);
var n=q.getStartIdx();var s=!q.followingNode?o.sizeX():q.followingNode.getStartIdx();var x=p+1;if(x<o.sizeY()){var t=this.buildNonDrillDownAxes(o,n,x,s);for(var u=0;u<t.length;u++){w.push({axis:z+" * {"+t[u].axis+"}",filter:t[u].filter})}}else{w.push({axis:z,filter:""})
}return w};return l}(viz.pivot.DrillDownMdxBuilder));d.PivotTableCustomDrillDownMdxBuilder=c;var b=(function(k){__extends(l,k);function l(){k.apply(this,arguments)}l.prototype.executeRequest=function(n,m,o){n.addParameter(ic3GviParamConstants.noAutoCancel,true);
return k.prototype.executeRequest.call(this,n,m,o)};return l}(d.QueryManagerWithNotifications));d.PivotTableDrillDownQueryManager=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var d=viz.pivot.HeaderType;var e;$(document).mousedown(function(f){e=f});var c=(function(g){__extends(f,g);function f(j,h,i){g.call(this,j,h);this.context=i;this.drillDownHierarchies=[]
}f.prototype.ic3rowClick=function(h,q){var m=g.prototype.ic3rowClick;var r=this;var j={name:h.caption(),uniqueName:h.asMdx()};var p=h.getMdxResultTable();var o=h.getCoordinates();var k=h.getHierarchyIndexes();var n=o[o.length-1];var i=k[o.length-1];var l=new a.DrillDownHierarchySelector(this.context,{drillDownItem:j,allowChildrenDrillDown:this.isDrillDownAvailable(p,n,i),onSelect:function(t,u){r.drillDownHierarchies.push(t);
var s=r.drillDownStrategy;s.drillDownInfo({caption:t.name,mdx:u});m.call(r,h,q)}});if(!q){q=e}l.showAt({top:q.clientY,left:q.clientX})};f.prototype.onDrillBack=function(){this.drillDownHierarchies.pop();g.prototype.onDrillBack.call(this)};f.prototype.createDrillDownEvent=function(){var i=this.drilldownEvents.slice(0);
var h=this.drillDownHierarchy();if(h){i.push(new viz.event.GviClickEvent(h.name,h.uniqueName))}return new a.DrillDownEvent(i)};f.prototype.drillDownHierarchy=function(){return this.drillDownHierarchies[this.drillDownHierarchies.length-1]};return f}(a.DrillDownAction));
a.UserSelectDrillDownAction=c;var b=(function(g){__extends(f,g);function f(m,j,i,l,h,k){g.call(this,m,l,j,h,k);this.rowDimensions=[];this.colDimensions=[];this.ic3DrillDownStrategy=i}f.prototype.applyHistoryDrillDown=function(i,h){this.ic3DrillDownStrategy.drillDownInfo(i.info);
g.prototype.applyHistoryDrillDown.call(this,i,h)};f.prototype.doRowDrillDown=function(p,j,h,l){var k=l.leftHeaderIterator().node(p,j);if(this.colDimensions.length===0){this.initAxisHierarchies(l)}var i={name:k.getName(),uniqueName:k.getMdxUName()};var m=k.hasDirectChildren();
var o=this;var n=g.prototype.doRowDrillDown;if(this.synthetic){n.call(o,p,j,h,l);return}this.createAndShowHierarchySelector(function(q,r){o.rowDimensions.push(a.MdxUtils.getDimension(q.uniqueName));o.ic3DrillDownStrategy.drillDownInfo({caption:q.name,mdx:r});
if(!o.synthetic){o.drillDownStrategy.addDrillDownToHistory(l,{uniqueName:l.getLeftHeaderNode(p,j).getMdxUName(),headerType:d.LEFT,col:j,row:p,info:o.ic3DrillDownStrategy.drillDownInfo()})}n.call(o,p,j,h,l)},i,m,this.colDimensions,h)};f.prototype.doColumnDrillDown=function(p,k,i,m){var l=m.topHeaderIterator().node(k,p);
if(this.rowDimensions.length===0){this.initAxisHierarchies(m)}var j={name:l.getName(),uniqueName:l.getMdxUName()};var n=l.hasDirectChildren();var o=this;var h=g.prototype.doColumnDrillDown;if(this.synthetic){h.call(o,p,k,i,m);return}this.createAndShowHierarchySelector(function(q,r){o.colDimensions.push(a.MdxUtils.getDimension(q.uniqueName));
o.ic3DrillDownStrategy.drillDownInfo({caption:q.name,mdx:r});if(!o.synthetic){o.drillDownStrategy.addDrillDownToHistory(m,{uniqueName:m.getTopHeaderNode(p,k).getMdxUName(),headerType:d.TOP,col:k,row:p,info:o.ic3DrillDownStrategy.drillDownInfo()})}h.call(o,p,k,i,m)
},j,n,this.rowDimensions,i)};f.prototype.initAxisHierarchies=function(h){a.arrayConcat(this.colDimensions,a.MdxUtils.getDimensions(h.getTopHeaderHierarchies()));a.arrayConcat(this.rowDimensions,a.MdxUtils.getDimensions(h.getLeftHeaderHierarchies()))};f.prototype.createAndShowHierarchySelector=function(i,l,m,j,k){var h=new a.DrillDownHierarchySelector(this.context,{drillDownItem:l,allowChildrenDrillDown:m,onSelect:i,deniedDimensions:j});
h.showAt({top:k.clientY,left:k.clientX})};return f}(a.PivotTableCustomDrillDownAction));a.UserSelectPivotTableDrillDownAction=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(e,d){this.context=e;this.options=d;this.hierarchies=this.buildHierarchies()
}c.prototype.buildHierarchies=function(){var e=this.context.getHierarchies();var f=this.options.deniedDimensions;if(f){var d=[];e.forEach(function(g){if(f.indexOf(a.MdxUtils.getDimension(g.uniqueName))<0){d.push(g)}});e=new viz.MdxEntityData(d)}return e};c.prototype.showAt=function(l){var d="ic3-hierarchy-selector";
var s=this.options;var j=this.selector=$('<ul class="'+d+'">');var r=this;if(s.drillDownItem&&s.allowChildrenDrillDown){var g=$('<li"><a>Children of '+s.drillDownItem.name+"</a></li>");g.click(function(){var t=r.options.drillDownItem.uniqueName+".children";
r.options.onSelect(r.options.drillDownItem,t)});j.append(g).append('<li><hr data-element="separator"/></li>')}this.addHierarchiesMenu(j);var f=this.context.$mainReportContainer();var k=f.offset();var n=$("<div>");n.css({position:"absolute",zIndex:a.zIndexConst.dialog,top:l.top-k.top,left:l.left-k.left,width:"100%"});
var q=$('<div style="position: relative; width: auto;">');var e=$('<div style="overflow-y: auto; overflow-x: hidden; direction: rtl;">');e.appendTo(q);q.appendTo(n);n.appendTo(f);var m=function(t){if($(t.target).closest("."+d).length===0){i()}};var i=function(){j.menu("destroy");
j.remove();$("body").unbind("mousedown",m)};$("body").bind("mousedown",m);j.menu({select:function(u,t){i()}});var h=j.data("uiMenu");if(h){h._keydown=function(){}}var o=225,p=j.height();j.appendTo(e);j.css({direction:"ltr"});if(!!window.chrome&&!!window.chrome["webstore"]){j.css({"margin-left":"15px"})
}e.css({"max-height":o+"px"})};c.prototype.addHierarchiesMenu=function(g){var e=this;var d=new a.HierarchyMenuBuilder(this.context,25,function(i,h){e.options.onSelect(h,i)});var f=d.buildItems(this.hierarchies);this.appendMenu(g,f)};c.prototype.appendMenu=function(g,e){var d=this;
if(e.length>20){var f=$('<li><input placeholder="'+this.context.l("ic3.widget.hierarchy_selector.filter")+'"></li>');g.prepend(f);f.children("input").keyup(function(){var h=$(this).val().toLowerCase();g.children("li").each(function(k,j){var l=$(j);var i=l.children("a");
if(h.length>0&&i.length>0&&i.text().toLowerCase().indexOf(h)<0){l.hide()}else{l.show()}})}).click(function(h){h.preventDefault();h.stopPropagation()}).blur(function(){$(this).val("");g.children("li").show()})}a.each(e,function(h,k){var j=$("<li><a>"+k.caption+"</a></li>");
if(k.handler){j.children("a").click($.proxy(k.handler,k))}if(k.items||k.itemsFn){var i=$('<ul class="" style="z-index:'+(a.zIndexConst.dialog+1)+'"></ul>');if(a.isFunction(k.itemsFn)){j.hover(function(){if(i.children().length==0){d.appendMenu(i,k.itemsFn());
d.selector.menu("refresh")}})}else{if(k.items&&k.items.length>0){d.appendMenu(i,k.items)}}j.append(i)}g.append(j)})};return c}());a.DrillDownHierarchySelector=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(e){c.call(this);this.classID="ic3.DrillDownEvent";this.eventPath=e}d.prototype.caption=function(){return this.concat("caption",", ")
};d.prototype.asMdx=function(){return"{"+this.concat("asMdx",",")+"}"};d.prototype.concat=function(j,h){var f="";var e=this.eventPath.length;for(var g=0;g<e;g++){f+=this.eventPath[g][j]();if(g<e-1){f+=h}}return f};return d}(viz.event.Event));a.DrillDownEvent=b
})(ic3||(ic3={}));var ic3;(function(b){var a=20;var c=(function(){function d(f,e,g){this.context=f;this.maxMemberCount=e;this.onSelectCallback=g}d.prototype.buildItems=function(e){var i=this;var g=[];var f=this;var h=false;e.forEach(function(k){if(k.name!==b.MdxConst.Measures){var j=f.buildHierarchyMembersMdx(k);
g.push({guid:b.uniqueId(),caption:k.name,parent:undefined,handler:f.onSelectCallback?function(){return f.onSelectCallback(this.value.mdx,k)}:undefined,value:{caption:k.name,mdx:j},itemsFn:function(){return f.buildLevelMenu(this,k)},searchSuffix:i.context.l("ic3.widget.box_menu.search_suffix.hierarchy"),searchable:true})
}else{h=true}});if(h){g.unshift({guid:b.uniqueId(),caption:this.context.mainReport().l("ic3.widget.box_menu.measures"),parent:undefined,multiSelect:true,value:null,handleOnClick:true,itemsFn:function(){return f.createMeasuresMenu(this,function(j,k,l){return l
},function(j,k,l){return l},"-",null,b.MdxConst.Measures,true)}})}return g};d.prototype.createMeasuresMenu=function(l,o,k,m,j,i,h){var f=this.context.getMeasures();var g=[];var n=this;var e=[];f.forEach(function(p){g.push({guid:b.uniqueId(),caption:p.name,parent:l,multiSelect:h,handler:n.onSelectCallback?function(){var q;
if(h){var r=e.indexOf(p);if(r<0){e.push(p)}else{e.splice(r,1)}q=o(m,j,b.MdxUtils.buildSetExpression(e))}else{q=o(m,j,p.uniqueName)}return n.onSelectCallback(q,p)}:undefined,value:{caption:h?p.name:k(i,j,p.name),mdx:h?p.uniqueName:o(m,j,p.uniqueName)}})});return g
};d.prototype.joinNames=function(j,h){var f="";var e=j.length;for(var g=0;g<e;g++){f+=(h?h+".":"")+j[g].name+(g<e-1?", ":"")}return f};d.prototype.buildLevelMenu=function(g,f){var j=this;var h=this.context.getLevels(f.uniqueName);var i=[];var e=this;h.forEach(function(m){if(m.name!==b.MdxConst.All_L){var k=m.uniqueName+"."+b.MdxConst.allMembers;
var l=m.name;i.push({guid:b.uniqueId(),caption:m.name,parent:g,handler:e.onSelectCallback?function(){return e.onSelectCallback(this.value.mdx,m)}:undefined,value:{caption:l,mdx:k},itemsFn:function(){return[e.buildMembersMenu(this,m,l),e.buildFunctionMenu(this,e.context.mainReport().l("ic3.widget.hierarchy_menu.head"),e.buildHeadMdx,e.buildHeadMdxCaption,k,false,m,l),e.buildFunctionMenu(this,e.context.mainReport().l("ic3.widget.hierarchy_menu.top"),e.buildTopCountMdx,e.buildTopCountMdxCaption,k,true,m,l),e.buildFunctionMenu(this,e.context.mainReport().l("ic3.widget.hierarchy_menu.bottom"),e.buildBottomCountMdx,e.buildBottomCountMdxCaption,k,true,m,l)]
},searchSuffix:j.context.l("ic3.widget.box_menu.search_suffix.level"),searchable:true})}});return i};d.prototype.buildFunctionMenu=function(j,m,g,h,k,i,e,f){var l=this;return{guid:b.uniqueId(),caption:m,parent:j,handler:l.onSelectCallback?function(){return l.onSelectCallback(this.value.mdx,e)
}:undefined,value:{caption:h(f),mdx:g(k)},itemsFn:function(){return[l.createAmountMenuItem(this,g,h,k,5,i,e,f),l.createAmountMenuItem(this,g,h,k,10,i,e,f),l.createAmountMenuItem(this,g,h,k,100,i,e,f),l.createAmountMenuItem(this,g,h,k,1000,i,e,f)]},searchable:false}
};d.prototype.createAmountMenuItem=function(j,m,h,k,g,i,e,f){var l=this;return{guid:b.uniqueId(),caption:""+g,parent:j,handler:l.onSelectCallback?function(){return l.onSelectCallback(this.value.mdx,e)}:undefined,value:{caption:h(f,g),mdx:m(k,g)},itemsFn:i?function(){return l.createMeasuresMenu(this,m,h,k,g,f,false)
}:undefined}};d.prototype.buildHierarchyMembersMdx=function(e){return e.uniqueName+"."+b.MdxConst.LastLevelAllMembers};d.prototype.buildHeadMdx=function(f,g){var e=new viz.StringBuilder();if(g===-1){e.append(f)}else{e.append(b.MdxConst.Comment).append(b.MdxConst.Head).append("(").append(f).append(",").append(g||a).append(")")
}return e.asString()};d.prototype.buildHeadMdxCaption=function(g,f){var e=new viz.StringBuilder();e.append(b.MdxConst.Head).append("(").append(g);if(f){e.append(", ").append(f)}e.append(")");return e.asString()};d.prototype.buildTopCountMdx=function(f,g,h){var e=new viz.StringBuilder();
e.append(b.MdxConst.Comment).append(b.MdxConst.Head).append("(").append(b.MdxConst.Order).append("(").append(f).append(",").append(h||b.MdxConst.DefaultMeasure).append(", ").append(b.MdxConst.BDESC).append("),").append(g||a).append(")");return e.asString()};
d.prototype.buildTopCountMdxCaption=function(h,f,g){var e=new viz.StringBuilder();e.append("TOP").append("(").append(h);if(g){e.append(", ").append(g)}if(f){e.append(", ").append(f)}e.append(")");return e.asString()};d.prototype.buildBottomCountMdx=function(f,g,h){var e=new viz.StringBuilder();
e.append(b.MdxConst.Comment).append(b.MdxConst.Head).append("(").append(b.MdxConst.Order).append("(").append(f).append(",").append(h||b.MdxConst.DefaultMeasure).append(", ").append(b.MdxConst.BASC).append("),").append(g||a).append(")");return e.asString()};
d.prototype.buildBottomCountMdxCaption=function(h,f,g){var e=new viz.StringBuilder();e.append("BOTTOM").append("(").append(h);if(g){e.append(", ").append(g)}if(f){e.append(", ").append(f)}e.append(")");return e.asString()};d.prototype.buildMembersMenu=function(h,j,i){var e=this,g=[],f=j.uniqueName+"."+b.MdxConst.allMembers;
return{guid:b.uniqueId(),caption:e.context.mainReport().l("ic3.widget.hierarchy_menu.members"),parent:h,handler:e.onSelectCallback?function(){return e.onSelectCallback(this.value.mdx,j)}:undefined,value:{caption:i,mdx:e.buildHeadMdx(f,e.maxMemberCount)},multiSelect:true,handleOnClick:true,itemsAsync:function(k){return d.buildMembersMenuItems(this,k,j,e.context,e.onSelectCallback?function(n){var l;
var m=g.indexOf(n);if(m<0){g.push(n)}else{g.splice(m,1)}l=b.MdxUtils.buildSetExpression(g);return e.onSelectCallback(l,n)}:undefined)}}};d.buildMembersMenuItems=function(e,j,i,f,g){var h=new viz.QueryManager(f.gviConnection());h.addResultWidget({onVizRequestExecuted:function(m){var n=m.getTableProperty("membersGroup");
var k;if(n){k=new viz.MdxEntityData(m,n)}else{k=new viz.MdxEntityData([])}var l=[];k.forEach(function(o){l.push({guid:b.uniqueId(),caption:o.name,parent:e,handler:function(){g&&g(o);return false},value:{caption:o.name,mdx:o.uniqueName},searchable:true})});j(l)
}});h.executeRequest(new viz.GetFilterInfoGviRequest(f.cubeName(),undefined,false,undefined,i.uniqueName+".allmembers",undefined));return[]};return d}());b.HierarchyMenuBuilder=c})(ic3||(ic3={}));var ic3;(function(a){var c=(function(){function e(){}e.getFactory=function(g){var f=e.map[g];
if(f==null){f=new a.GizmoFactory(g);e.map[g]=f}return f};e.getInstance=function(i,g,h){var f=e.getFactory(i);return f.newInstance(g,h)};e.getAvailable=function(g){var f=e.getFactory(g);return f.getAvailable()};e.registerGizmo=function(i,h,g,j){if(g!==undefined&&$.isFunction(g.exists)&&!g.exists()){return
}var f=e.getFactory(i);return f.addGizmo(h,g,j)};e.map={};return e}());a.GizmoFactoryPark=c;var d=(function(){function e(f){this.factoryName=f;this.map={}}e.prototype.addGizmo=function(f,g,h){this.map[f]={Gizmo:g,paramsMeta:h}};e.prototype.getAvailable=function(){var g=this;
var f=[];a.each(this.map,function(h,i){return f.push({value:h,caption:{name:"ic3.gizmo."+_.snakeCase(g.factoryName)+"."+_.snakeCase(h)},paramsMeta:i.paramsMeta})});return f};e.prototype.newInstance=function(g,f){var h=this.map[g];if(h){return new h.Gizmo(f,g)
}throw'GizmoFactory: factoryItem "'+this.factoryName+'" has no gizmo named "'+g+'"'};return e}());a.GizmoFactory=d;var b={format:[a.MetaInfoHelper.integerMeta("gizmoFormat"),a.MetaInfoHelper.integerMeta("locale")],percent:[a.MetaInfoHelper.integerMeta("decimalPlaces")],yesNo:[a.MetaInfoHelper.numericMeta("zoom"),a.MetaInfoHelper.booleanMeta("circle")],arrow:[a.MetaInfoHelper.numericMeta("zoom"),a.MetaInfoHelper.numericMeta("endFirst"),a.MetaInfoHelper.numericMeta("endSecond"),a.MetaInfoHelper.textMeta("arrowType",["arrow","arrow-circle"]),a.MetaInfoHelper.colorMeta("firstColor"),a.MetaInfoHelper.textMeta("firstAngle"),a.MetaInfoHelper.colorMeta("secondColor"),a.MetaInfoHelper.textMeta("secondAngle"),a.MetaInfoHelper.colorMeta("thirdColor"),a.MetaInfoHelper.textMeta("thirdAngle")],simpleBarData:[a.MetaInfoHelper.colorMeta("color")],barData:[a.MetaInfoHelper.booleanMeta("onWholeTable"),a.MetaInfoHelper.colorMeta("posColor"),a.MetaInfoHelper.colorMeta("negColor")],javascriptRenderer:[a.MetaInfoHelper.javascriptFunctionMeta("methodBody","function(callback, value):string")],microChartRenderer:[a.MetaInfoHelper.textMeta("chartType",[viz.MicroChartCellRenderer.chartType.column,viz.MicroChartCellRenderer.chartType.line,viz.MicroChartCellRenderer.chartType.thermometer]),a.MetaInfoHelper.colorMeta("color"),a.MetaInfoHelper.colorMeta("negativeColor"),a.MetaInfoHelper.colorMeta("maximumColor"),a.MetaInfoHelper.colorMeta("minimumColor")],javascriptCalculator:[a.MetaInfoHelper.javascriptFunctionMeta("methodBody","function(dataVisitor, row, col):string")],numberValidator:[a.MetaInfoHelper.numericMeta("minValue"),a.MetaInfoHelper.numericMeta("maxValue")],javascriptValidator:[a.MetaInfoHelper.javascriptFunctionMeta("methodBody","function(value):string")],genericDrillDown:[{name:"drd_mdx",type:juiForm_FieldRendererType.MDX_EXPRESSION},{name:"drd_filter",type:juiForm_FieldRendererType.BOOLEAN}],userSelectDrillDown:[{name:"user_select_mdx",type:juiForm_FieldRendererType.MDX_EXPRESSION}],customFilterInfo:[a.MetaInfoHelper.cssClassMeta("cssClass"),a.MetaInfoHelper.cssStyleMeta("cssStyle"),a.MetaInfoHelper.textMeta("separator")]};
c.registerGizmo("CellCalculator","default",viz.DefaultCellCalculator);c.registerGizmo("CellCalculator","columnPercentage",viz.ColumnPercentageCellCalculator);c.registerGizmo("CellCalculator","firstColPercentage",viz.FirstColPercentageCellCalculator);c.registerGizmo("CellCalculator","totalPercentage",viz.TotalPercentageCellCalculator);
c.registerGizmo("CellCalculator","totalMinMaxPercentage",viz.TotalMinMaxPercentageCellCalculator);c.registerGizmo("CellCalculator","rowPercentage",viz.RowPercentageCellCalculator);c.registerGizmo("CellCalculator","rankLargest",viz.RankLargestColCellCalculator);
c.registerGizmo("CellCalculator","rankSmallest",viz.RankSmallestColCellCalculator);c.registerGizmo("CellCalculator","rowArray",viz.RowAsArrayCellCalculator);c.registerGizmo("CellCalculator","javascript",viz.JavascriptCellCalculator,b.javascriptCalculator);c.registerGizmo("CellRenderer","default",viz.DefaultCellRenderer);
c.registerGizmo("CellRenderer","format",viz.FormattingCellRenderer,b.format);c.registerGizmo("CellRenderer","percent",viz.PercentageCellRenderer,b.percent);c.registerGizmo("CellRenderer","simpleBarData",viz.SimpleBarDataCellRenderer,b.simpleBarData);c.registerGizmo("CellRenderer","barData",viz.BarDataCellRenderer,b.barData);
c.registerGizmo("CellRenderer","yesNo",viz.YesNoCellRenderer,b.yesNo);c.registerGizmo("CellRenderer","arrow",viz.ArrowCellRenderer,b.arrow);c.registerGizmo("CellRenderer","microChart",viz.MicroChartCellRenderer,b.microChartRenderer);c.registerGizmo("CellRenderer","javascript",viz.JavascriptCellRenderer,b.javascriptRenderer);
c.registerGizmo("Validator","number",viz.NumberValidator,b.numberValidator);c.registerGizmo("Validator","javascript",viz.JavascriptValidator,b.javascriptValidator);c.registerGizmo("DrillDownStrategy","children",a.ChildrenDrillDownStrategy);c.registerGizmo("DrillDownStrategy","mdxExpression",a.GenericDrillDownStrategy,b.genericDrillDown);
c.registerGizmo("DrillDownStrategy",a.UserSelectDrillDownStrategy.GIZMO_TYPE,a.UserSelectDrillDownStrategy,b.userSelectDrillDown);c.registerGizmo("TableTargetColumn","default",viz.DefaultTableTargetColumn);c.registerGizmo("TableTargetColumn","list",viz.ListTableTargetColumn,viz.ListTableTargetColumnMetaOptions());
c.registerGizmo("TableTargetColumn","header",viz.HeaderTableTargetColumn);c.registerGizmo("TableTargetColumn","even",viz.EvenTableTargetColumn);c.registerGizmo("TableTargetColumn","odd",viz.OddTableTargetColumn);c.registerGizmo("TableTargetColumn","adhoc",viz.AdHocTableTargetColumn,viz.AdHocTableTargetColumnMetaOptions());
c.registerGizmo("FilterInfoRenderer","default",a.DefaultFilterInfoRenderer);c.registerGizmo("FilterInfoRenderer","custom",a.CustomFilterInfoRenderer,b.customFilterInfo)})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){var g=this;d.call(this,f);this._onError=function(h,i){if(h instanceof viz.GviError){g.context.errorMgr().addGviError(h)
}else{g.context.errorMgr().addError(i||"ic3.command.save.error.report",[h.toString()])}if(g.options.onError){g.options.onError(h)}};this.success=function(){if(g.options.onOK){g.options.onOK()}};this.requireReportOverwrite=function(h,i){var j=g.context.mainReport();
var l={label:g.context.l("ic3.yes"),handler:function(){g.saveAs(h,i,true);j.clearModal()}};var k={label:g.context.l("ic3.cancel"),handler:function(){j.clearModal()}};g.context.mainReport().setModal(React.createElement(a.ModalReportingDialog,{title:g.context.l("ic3.command.save.warning.overwrite.title",h.name),onClose:k.handler,buttons:[l,k]},React.createElement("p",null,g.context.l("ic3.command.save.warning.overwrite.message",h.name))))
};this.options=e||{}}c.prototype.doExecute=function(){this.context.mainReport().setModal(React.createElement(a.SaveReportServerBrowser,{onSave:this.saveAs.bind(this)}))};c.prototype.saveAs=function(e,g,i){var k=this;if(g===void 0){g=false}if(i===void 0){i=false
}var j=this.context.mainReport();if(e.folder){if(e.mode===viz.StateSaveMode.SNAPSHOT){return this.saveSnapshot(e)}var f=j.serializeState(e.mode).report;var h=new viz.SaveAsReportGviRequest(a.asBoolean(i),e.name,e.folder.id,e.folder.name,f,null);this.context.executeRequest(h,{onVizRequestExecuted:function(m){var l=h.extractResult(m);
var n=function(){j.refreshInfo(l);k.context.notificationMgr().notifyInfo(k.context.l("ic3.command.save.success_message",j.reportName()));k.success()};if(l.existing){k.requireReportOverwrite(e,g)}else{if(g){var o=new viz.DeleteReportGviRequest(j.reportUUID(),j.reportName(),f);
k.context.executeRequest(o,{onVizRequestExecuted:n})}else{n()}}},onError:this._onError,onFailure:this._onError})}else{this.context.mainReport().messageBox(this.context.l("ic3.command.save_as.title"),this.context.l("ic3.command.save.message"))}};c.prototype.saveSnapshot=function(f){var k=this;
var l=f.name||this.options.defaultSaveAsName;var e=this.context.mainReport();var m=e.serializeState(f.mode),j=m.report,n=m.reportSnapshot,i=m.embeddedSnapshotData;var h=new viz.SaveAsReportSnapshotGviRequest(f.folder.id,f.folder.name,l,j,null,n,i);var g=function(o){k._onError(o,"ic3.command.save.error.save_snapshot")
};this.context.executeRequest(h,{onVizRequestExecuted:function(o){k.context.notificationMgr().notifyInfo("ic3.command.save.success_snapshot_message",l);k.success()},onError:g,onFailure:g})};return c}(a.Command));a.SaveReportAsCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e)}c.prototype.doExecute=function(){var h=this;var g=this.context.mainReport();
var f=g.reportOptions();if(!g.reportUUID()){return d.prototype.doExecute.call(this)}var e=g.serializeState(this.options.saveMode).report;this.context.executeRequest(new viz.SaveReportGviRequest(g.reportUUID(),g.reportName(),e,null),{onVizRequestExecuted:function(){if(f.draft){h.context.executeRequest(new viz.DeleteReportGviRequest(f.draft.uniqueName,f.draft.name),{onVizRequestExecuted:function(){delete f.draft
},onError:h._onError,onFailure:h._onError})}h.context.notificationMgr().notifyInfo("command.save.info.saved",g.reportName());h.success()},onError:this._onError,onFailure:this._onError})};return c}(a.SaveReportAsCommand));a.SaveReportCommand=b})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){function c(d){return".ic3-backup-"+(d||"last")
}a.getReportBackupName=c;var b=(function(e){__extends(d,e);function d(g,f){e.call(this,g,f)}d.prototype.doExecute=function(){var j=this;var i=this.context.mainReport();var h=moment().format("YYYY-MM-DD HH:mm:ss");var g=c(i.reportUUID());var f=i.serializeState(this.options.saveMode).report;
this.context.executeRequest(new viz.ListReportNamesGviRequest(),{onVizRequestExecuted:function(k){var l=k.getTableProperty(a.homeServerPlace.placeId+"UUID");var m=k.getTableProperty(a.homeServerPlace.placeId+"Path");j.context.executeRequest(new viz.SaveAsReportGviRequest(true,g,l,m,f,null),{onVizRequestExecuted:function(n){return j.success()
},onError:j._onError,onFailure:j._onError})},onError:this._onError,onFailure:this._onError})};return d}(a.SaveReportAsCommand));a.BackupReportCommand=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(d,e){this.context=d;this.theme=c.evaluateTheme(e)
}c.prototype.getPalettes=function(){var d=_.clone(a.ThemesRepository.getPalettes());this.context.mainReport().getTheme().getPalette();d.unshift({name:"Current Theme",colors:this.context.mainReport().getTheme().getPalette()});return d};c.prototype.getPalette=function(){return _.clone(this.theme.vars.palette)
};c.prototype.getVars=function(){return _.cloneDeep(this.theme.vars)};c.prototype.getThemeProvider=function(d){if(this.theme.definitions.hasOwnProperty(d)){return new a.ThemeProvider(this.context,this.theme.definitions[d])}return new a.EmptyThemeProvider(this.context)
};c.prototype.wrapReactStyle=function(f,g,d){var e=f.props[a.ThemesRepository.DataComponentAttr];return this.getThemeProvider(e).wrapReactStyle(f,g,d)};c.prototype.wrapReactCSS=function(f,g,d){var e=f.props[a.ThemesRepository.DataComponentAttr];return this.getThemeProvider(e).wrapReactCSS(f,g,d)
};c.prototype.wrapNativeCSS=function(f,g,d){var e=f.getAttribute(a.ThemesRepository.DataComponentAttr);return this.getThemeProvider(e).wrapNativeCSS(f,g,d)};c.evaluateTheme=function(d){var f={};function e(g){if(_.isString(g)){if(/^@\{[^\s]+}$/.test(g)){return _.get(f,/^@\{([^\s]+)}$/.exec(g)[1])
}else{if(/@\{[^\s]+}/.test(g)){return g.replace(/@\{([^\s]+)}/g,function(i,h){return _.get(f,h)})}}return g}}_.each(d.vars,function(i,h){var g=e(d.vars[h]);f[h]=_.isUndefined(g)?d.vars[h]:g});return _.cloneDeepWith(d,function(g){return e(g)})};return c}());
a.ThemeContainer=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(e,d){this.context=e;this.definition=d}c.prototype.getDefinition=function(){return this.definition};c.prototype.getForComponent=function(d){if(_.isObject(this.definition.components)&&this.definition.components[d]!=null){return new c(this.context,this.definition.components[d])
}return new a.EmptyThemeProvider(this.context)};c.prototype.wrapReactStyle=function(e,f,d){return React.createElement(a.ThemeWrapper,{element:e,themeProvider:this,wrapChildren:f!==false})};c.prototype.wrapNativeCSS=function(e,h,d){var f=a.uniqueId("theme-box"),g=e.getAttribute(a.ThemesRepository.DataComponentAttr);
e.setAttribute(a.ThemesRepository.DataBoxAttr,f);new a.ThemeCSSWrapper(f,g,_.defaultsDeep(d,_.cloneDeep(this.definition)),this.context).wrap(h);return e};c.prototype.wrapReactCSS=function(f,j,d){var h=f.props[a.ThemesRepository.DataBoxAttr]||a.uniqueId("theme-box"),i=f.props[a.ThemesRepository.DataComponentAttr],g=_.defaults((e={},e[a.ThemesRepository.DataBoxAttr]=h,e),f.props);
new a.ThemeCSSWrapper(h,i,_.defaultsDeep(d,_.cloneDeep(this.definition)),this.context).wrap(j);return React.cloneElement(f,g);var e};c.prototype.getCssClasses=function(){return this.definition.cssClasses};c.prototype.getStyles=function(d){if(_.isEmpty(d)){return this.definition.styles
}else{return this.definition[d+"Styles"]}};c.prototype.isStateSupported=function(d){return !_.isEmpty(this.definition[d+"Styles"])};c.prototype.hasNoComponents=function(){return _.isEmpty(this.definition.components)};return c}());a.ThemeProvider=b})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);
function d(e){c.call(this,e,{})}d.prototype.getForComponent=function(e){return this};d.prototype.wrapReactStyle=function(e){return e};d.prototype.wrapHTMLElement=function(e,f){return e};return d}(a.ThemeProvider));a.EmptyThemeProvider=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(f,e){var g=this;c.call(this,f,e);this.mouseDownHandler=function(h){g.setState({active:true});
if(_.isFunction(g.props.element.props.onMouseDown)){g.props.element.props.onMouseDown(h)}};this.mouseUpHandler=function(h){g.setState({active:false});if(_.isFunction(g.props.element.props.onMouseUp)){g.props.element.props.onMouseUp(h)}};this.mouseOverHandler=function(h){g.setState({hover:true});
if(_.isFunction(g.props.element.props.onMouseOver)){g.props.element.props.onMouseOver(h)}};this.mouseOutHandler=function(h){g.setState({hover:false});if(_.isFunction(g.props.element.props.onMouseOut)){g.props.element.props.onMouseOut(h)}};this.state={hover:false,active:false,selected:d.isClassPresent(f.element.props,d.SELECTED_CLASS),disabled:d.isClassPresent(f.element.props,d.DISABLED_CLASS)}
}d.prototype.generatePropertiesOverride=function(){var e=this.props.themeProvider;var h={};if(e.isStateSupported(d.HOVER_STATE)){h.onMouseOver=this.mouseOverHandler;h.onMouseOut=this.mouseOutHandler}if(e.isStateSupported(d.ACTIVE_STATE)){h.onMouseDown=this.mouseDownHandler
}var g=this.mergeClassNames();if(g!=null){h.className=g}var f=this.mergeStyles();if(f!=null){h.style=f}return _.isEmpty(h)?null:h};d.prototype.mergeClassNames=function(){var e=this.props.themeProvider.getCssClasses();if(_.isEmpty(e)){return null}if(_.isEmpty(this.props.element.props.className)){return _.uniq(e).join(" ")
}return _.uniq(_.concat(this.props.element.props.className.split(/\s+/g),e)).join(" ")};d.prototype.mergeStyles=function(){var e=this.props.themeProvider;var f={};_.assign(f,e.getStyles());if(this.state.active){_.assign(f,e.getStyles(d.ACTIVE_STATE))}else{if(this.state.hover){_.assign(f,e.getStyles(d.HOVER_STATE))
}}if(this.state.disabled){_.assign(f,e.getStyles(d.DISABLED_STATE))}else{if(this.state.selected){_.assign(f,e.getStyles(d.SELECTED_STATE))}}return _.isEmpty(f)?null:_.assign({},this.props.element.props.style,f,this.props.element.props["data-ic3-style-override"])
};d.prototype.wrapChildren=function(g){var h=this;var f=0;var e=React.Children.map(g,function(k){if(_.isObject(k)){var j=k;if(_.isString(j.props["data-ic3-theme-component"])){f++;return React.createElement(d,{element:j,themeProvider:h.props.themeProvider.getForComponent(j.props["data-ic3-theme-component"]),wrapChildren:true})
}else{if(_.isEmpty(j.props.children)){return j}else{var i=h.wrapChildren(j.props.children);if(i.wrappedCount>0){f+=i.wrappedCount;return React.cloneElement(j,{},i.node)}return j}}}return k});return{wrappedCount:f,node:e}};d.prototype.componentWillReceiveProps=function(e){this.setState({selected:d.isClassPresent(e.element.props,d.SELECTED_CLASS),disabled:d.isClassPresent(e.element.props,d.DISABLED_CLASS)})
};d.prototype.componentDidMount=function(){if(this.props.themeProvider.isStateSupported(d.ACTIVE_STATE)){document.addEventListener("mouseup",this.mouseUpHandler)}};d.prototype.componentWillUnmount=function(){if(this.props.themeProvider.isStateSupported(d.ACTIVE_STATE)){document.removeEventListener("mouseup",this.mouseUpHandler)
}};d.prototype.render=function(){var g=this.generatePropertiesOverride();var f=!this.props.wrapChildren||this.props.themeProvider.hasNoComponents();if(_.isEmpty(g)&&f){return this.props.element}if(f){return React.cloneElement(this.props.element,g)}var e=this.wrapChildren(this.props.element.props.children);
if(e.wrappedCount==0){return React.cloneElement(this.props.element,g)}return React.cloneElement(this.props.element,g,e.node)};d.isClassPresent=function(f,e){return _.isString(f.className)&&_.includes(f.className.split(/\s+/g),e)};d.HOVER_STATE="hover";d.ACTIVE_STATE="active";
d.SELECTED_STATE="selected";d.DISABLED_STATE="disabled";d.SELECTED_CLASS="ic3-selected";d.DISABLED_CLASS="ic3-disabled";return d}(React.Component));a.ThemeWrapper=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(f,g,e,d){this.definition=e;
this.context=d;this.rootBox=this.attr(a.ThemesRepository.DataBoxAttr,f);this.rootComponent=g}c.prototype.wrap=function(h){var i=this;var e=this.context.mainReport().getThemeStyleManager(),g=function(k,j){_.forEach(k,function(m,l){if(l.indexOf("Styles")>0&&!_.isEmpty(m)){j=j+":"+l.replace("Styles","");
e.addObjectOfRules(j,m)}})},f=function(k,m,j){var l=m.concat(i.attr(a.ThemesRepository.DataComponentAttr,j)).join(" ").replace(/\s/,"");if(!_.isEmpty(k.styles)){e.addObjectOfRules(l,k.styles)}g(k,l)},d=function(j,m){var k=function(o,n){if(!_.startsWith(n,"_")){f(o,m,n);
d(o,m.concat(i.attr(a.ThemesRepository.DataComponentAttr,n)))}};var l=j.components;if(_.get(j,"components._priority")){_.each(j.components._priority,function(n){if(l[n]){k(l[n],n)}});l=_.omit(l,j.components._priority.concat("_priority"))}_.each(l,k)};f(this.definition,[this.rootBox],this.rootComponent);
h&&(d(this.definition,[this.rootBox,this.attr(a.ThemesRepository.DataComponentAttr,this.rootComponent)]))};c.prototype.attr=function(d,e){return"["+d+'~="'+e+'"]'};return c}());a.ThemeCSSWrapper=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(e){this.context=e;
var d=this.context.mainReport().getContainer();this.reportContainerID=d.getAttribute("id");if(!this.reportContainerID){this.reportContainerID=a.uniqueId("ic3-report-container");d.setAttribute("id",this.reportContainerID)}this.styleElement=document.createElement("style");
this.styleElement.setAttribute("id",c.elementId);document.head.appendChild(this.styleElement);this.styleSheet=this.styleElement.sheet;this.context.LoggerFactory.getLogger({instance:"ThemeStyleManager"}).debug("[Themes] CSS Styles Manager Created")}c.prototype.addStringOfRules=function(d,e){this.styleSheet.insertRule(d+"{"+e+"}",this.styleSheet.cssRules.length)
};c.prototype.addObjectOfRules=function(d,e){this.addStringOfRules(d,viz.reactCSSObjectToString(e))};c.prototype.clearRules=function(){this.context.LoggerFactory.getLogger({instance:"ThemeStyleManager"}).debug("[Themes] CSS Styles block cleared");while(this.styleSheet.cssRules.item(0)){this.styleSheet.deleteRule(0)
}};c.elementId="ic3-style-manager";return c}());a.ThemeStyleManager=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(e,d){this.loadedThemes={};this.loadedThemesContainers={};this.context=e;this.defaultTheme=d;this.defaultThemeContainer=new a.ThemeContainer(this.context,this.defaultTheme);
this.loadTheme(d)}c.validatePalette=function(d){if(_.isString(d.name)&&_.isArray(d.colors)&&_.every(d.colors,_.isString)){return true}};c.getPalettes=function(){return c.Palettes};c.addPalette=function(f,e){var d={name:f,colors:e};if(c.validatePalette(d)){c.Palettes.push(d);
return true}else{return false}};c.savePalettes=function(d){if(_.every(d,function(e){return c.validatePalette(e)})){c.Palettes=d;return true}else{return false}};c.prototype.getThemesList=function(){return _.map(this.loadedThemes,function(d){return{id:d.id,name:d.name}
})};c.prototype.loadTheme=function(d){this.loadedThemes[d.id]=d;if(this.loadedThemesContainers.hasOwnProperty(d.id)){this.loadedThemesContainers[d.id]=new a.ThemeContainer(this.context,d)}};c.prototype.getTheme=function(d){return this.loadedThemes.hasOwnProperty(d)?this.loadedThemes[d]:this.defaultTheme
};c.prototype.getThemeContainer=function(d){if(this.loadedThemesContainers.hasOwnProperty(d)){return this.loadedThemesContainers[d]}if(this.loadedThemes.hasOwnProperty(d)){this.loadedThemesContainers[d]=new a.ThemeContainer(this.context,this.loadedThemes[d]);
return this.loadedThemesContainers[d]}return this.defaultThemeContainer};c.Palettes=[{name:"Modern 10",colors:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"]},{name:"Modern 20",colors:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"]},{name:"Google 10",colors:["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395"]},{name:"Modern-II 10",colors:["#4E79A7","#F28E2B","#E15759","#76B7B2","#59A14E","#EDC949","#B07AA2","#FF9DA7","#9C755F","#BAB0AC"]},{name:"Diverging-I 5",colors:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"].reverse()},{name:"Diverging-I 10",colors:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"].reverse()},{name:"Diverging-II 5",colors:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"].reverse()},{name:"Diverging-II 10",colors:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"].reverse()},{name:"Purple",colors:["#761466","#951B81","#AB327A","#C4398D","#DA6BAE","#ECA7D1"].reverse()},{name:"Blue",colors:["#013a87","#1e5db2","#4884d4","#79a8e6","#a3bfe4","#d2deed"].reverse()},{name:"Turquoise",colors:["#0b4044","#12595e","#1d7177","#1d929b","#21b7c2","#83D8DE"].reverse()},{name:"Green",colors:["#0A9123","#1CB838","#38CF53","#5CE074","#86EB98","#BEF7C9"].reverse()},{name:"Yellow",colors:["#716412","#978720","#b8a52d","#cebd50","#E8DA80","#f2ebbb"].reverse()},{name:"Orange",colors:["#FA9302","#F7A22A","#FFBC5E","#FFDAA6","#FCE2BD","#FCF0DE"].reverse()},{name:"Red",colors:["#CC0000","#EB2626","#F54747","#FF7373","#F7C6C6","#FFEBEB"].reverse()},{name:"Gray",colors:["#444444","#5c5c5c","#807f7f","#b2b2b2","#d6d6d6","#f0f0f0"].reverse()}];
c.DataComponentAttr="data-ic3-theme-component";c.DataBoxAttr="data-ic3-theme-box";return c}());a.ThemesRepository=b})(ic3||(ic3={}));var ic3;(function(a){a.ThemeElegant={id:"ic3-elegant",name:"Elegant",vars:{palette:["#951b81","#c4398d","#da6bae","#eca7d1","#540b48","#761466"],textColor:"#3c4542",invTextColor:"#fff",backgroundColor:"white",activeTextColor:"@{palette[2]}",hoverColor:"@{palette[3]}",borderColor:"#d3d3d3",fontFamily:"Open Sans, Verdana, sans",widgetFontSize:"0.857em",widgetPadding:"0.35em",headerSize:"18px"},definitions:{reportingLayout:{cssClasses:"ic3t-elegant",components:{reportContentContainer:{styles:{background:"@{backgroundColor}"}}}},fixedLayout:{components:{sizeIndicator:{styles:{borderRight:"solid 1px @{borderColor}",borderBottom:"solid 1px @{borderColor}"}}}},fixedLayoutBox:{components:{boxHeader:{styles:{textAlign:"center",fontWeight:"normal",textTransform:"uppercase",fontSize:"@{headerSize}"},components:{boxType:{styles:{fontStyle:"italic",marginRight:"8px"}},control:{styles:{color:"@{borderColor}",borderColor:"@{borderColor}"}}}}}},ic3ButtonsWidget:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{button:{styles:{margin:"0.35em",padding:"0.25em",border:"1px solid @{borderColor}",boxShadow:"none"},hoverStyles:{color:"@{hoverColor}"},activeStyles:{color:"@{invTextColor}",backgroundColor:"@{activeTextColor}"},selectedStyles:{backgroundColor:"@{activeTextColor}",color:"@{invTextColor}"},disabledStyles:{color:"#D1D1D1"}}}},ic3DropDownWidget:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{select:{styles:{color:"@{textColor}",border:"1px solid @{borderColor}"},components:{option:{styles:{color:"@{textColor}",backgroundColor:"@{backgroundColor}"}}}}}},ic3TreeFilterWidget:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{listTop:{styles:{paddingLeft:0}},list:{styles:{paddingLeft:"15px"}},item:{styles:{cursor:"pointer"}},expander:{styles:{fontSize:"10px",width:"15px",height:"15px",lineHeight:"15px"}}}},ic3AutoCompleteFilterWidget:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{input:{styles:{color:"@{textColor}",border:"1px solid @{borderColor}"}},list:{styles:{color:"@{textColor}",backgroundColor:"@{backgroundColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{item:{styles:{padding:"0.2em 22px",color:"@{textColor}"},hoverStyles:{color:"@{hoverColor}"}}}}}},ic3SliderFilterWidget:{styles:{color:"@{textColor}",backgroundColor:"@{backgroundColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"}},ic3MultiSelectFilterWidget:{components:{header:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}",border:"1px solid @{borderColor}"}},list:{styles:{color:"@{textColor}",backgroundColor:"@{backgroundColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{splitter:{styles:{borderTop:"1px solid @{borderColor}"}},selected:{styles:{color:"@{textColor}"},hoverStyles:{color:"@{hoverColor}"}},deselected:{styles:{color:"#aaa"},hoverStyles:{color:"@{hoverColor}"}}}}}},ic3HTMLTextWidget:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"}},ic3InputWidget:{styles:{fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{input:{styles:{color:"@{textColor}",backgroundColor:"transparent",verticalAlign:"top",border:"1px solid @{borderColor}"}},button:{styles:{color:"@{textColor}",backgroundColor:"transparent",border:"1px solid @{borderColor}",borderLeft:"none"},hoverStyles:{color:"@{invTextColor}",backgroundColor:"@{hoverColor}"},activeStyles:{color:"@{invTextColor}",backgroundColor:"@{activeTextColor}"}}}},ic3DatepickerWidget:{styles:{fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{input:{styles:{color:"@{textColor}",backgroundColor:"transparent",border:"1px solid @{borderColor}"}}}},ic3Table:{styles:{color:"@{textColor}",fontSize:"12px",fontFamily:"Verdana"},components:{_priority:["headers","left-headers","top-headers"],headers:{styles:{color:"@{textColor}",backgroundColor:"transparent",textAlign:"center",fontWeight:"bold",borderWidth:0,borderStyle:"solid",padding:0}},"left-headers":{styles:{color:"",backgroundColor:"",textAlign:"left",fontWeight:"normal",borderColor:"black",borderStyle:"solid",borderTopWidth:"",borderRightWidth:0,borderBottomWidth:"",borderLeftWidth:""}},"top-headers":{styles:{color:"",backgroundColor:"",textAlign:"",fontWeight:"",borderColor:"black",borderStyle:"solid",borderTopWidth:"",borderRightWidth:"",borderBottomWidth:1,borderLeftWidth:""}},cells:{styles:{color:"@{textColor}",backgroundColor:"transparent",textAlign:"center",fontWeight:"normal",borderColor:"black",borderStyle:"solid",borderTopWidth:0,borderRightWidth:0,borderBottomWidth:0,borderLeftWidth:0,padding:0}},"drilldown-icons":{styles:{color:"",fontSize:"auto"}}}},ic3MdxEditorWidget:{components:{help:{styles:{position:"absolute",bottom:0,right:0,color:"#999",fontSize:"12px",textAlign:"right",margin:"2px"}}}},ic3ChartWidget:{styles:{backgroundColor:"transparent"},amChart:{AmChart:{color:"#000000",fontFamily:"@{fontFamily}",fontSize:12},AmCoordinateChart:{colors:"@{palette}"},AmStockChart:{colors:"@{palette}"},AmSlicedChart:{labelTickColor:"#000000",labelTickAlpha:0.3,colors:"@{palette}"},AmRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:0.15,zoomOutButtonImage:"lens.png"},CategoryAxis:{autoWrap:true,autoRotateCount:10,autoRotateAngle:30},AxisBase:{axisColor:"#000000",axisAlpha:0.3,gridAlpha:0.1,gridColor:"#000000",dashLength:3},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:0.13,color:"#000000",graphFillAlpha:0.4,selectedGraphFillAlpha:0.7,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:0.9,fontSize:12,gridAlpha:0.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:0.5},AmLegend:{color:"#000000"},AmGraph:{lineAlpha:0.9},GaugeArrow:{color:"#000000",alpha:0.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:0.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#000000",axisAlpha:1,bandAlpha:0.8},TrendLine:{lineColor:"#c03246",lineAlpha:0.8},ImagesSettings:{labelFontSize:12},PeriodSelector:{fontFamily:"@{fontFamily}",fontSize:"12px"},PeriodButton:{fontFamily:"@{fontFamily}",fontSize:"12px"},PeriodButtonSelected:{fontFamily:"@{fontFamily}",fontSize:"12px"},PeriodInputField:{fontFamily:"@{fontFamily}",fontSize:"12px"},DataSetSelector:{fontFamily:"@{fontFamily}",fontSize:"12px"},DataSetCompareList:{fontFamily:"@{fontFamily}",fontSize:"12px"},DataSetSelect:{fontFamily:"@{fontFamily}",fontSize:"12px"},AmSerialChart:{columnSpacing:1}}},ic3GoogleWidget:{googleChart:{colors:"@{palette}"}}}}
})(ic3||(ic3={}));var ic3;(function(a){a.ThemeDark={id:"ic3-dark",name:"Dark",vars:{palette:["#01a2fa","#2eb3fb","#75caf9","#a6daf6","#d4e6f0","#ffffff"],textColor:"@{palette[2]}",invTextColor:"#333",backgroundColor:"#383838",activeTextColor:"@{palette[2]}",hoverColor:"@{palette[3]}",borderColor:"#d3d3d3",fontFamily:"Open Sans, Verdana, sans",widgetFontSize:"0.857em",widgetPadding:"0.35em",headerSize:"18px"},definitions:{reportingLayout:{cssClasses:"ic3t-dark",components:{reportContentContainer:{styles:{background:"@{backgroundColor}"}}}},fixedLayout:{components:{sizeIndicator:{styles:{borderRight:"solid 1px @{borderColor}",borderBottom:"solid 1px @{borderColor}"}}}},fixedLayoutBox:{components:{boxHeader:{styles:{textAlign:"center",fontWeight:"normal",textTransform:"uppercase",fontSize:"@{headerSize}"},components:{boxType:{styles:{fontStyle:"italic",marginRight:"8px"}},control:{styles:{color:"@{borderColor}",borderColor:"@{borderColor}"}}}}}},ic3ButtonsWidget:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{button:{styles:{margin:"0.35em",padding:"0.25em",border:"1px solid @{borderColor}",boxShadow:"none"},hoverStyles:{color:"@{hoverColor}",border:"1px solid @{hoverColor}"},activeStyles:{color:"@{invTextColor}",backgroundColor:"@{activeTextColor}",border:"1px solid @{activeTextColor}"},selectedStyles:{backgroundColor:"@{activeTextColor}",color:"@{invTextColor}"},disabledStyles:{color:"#D1D1D1"}}}},ic3DropDownWidget:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{select:{styles:{color:"@{textColor}",border:"1px solid @{borderColor}"},components:{option:{styles:{color:"@{textColor}",backgroundColor:"@{backgroundColor}"}}}}}},ic3TreeFilterWidget:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{listTop:{styles:{paddingLeft:0}},list:{styles:{paddingLeft:"15px"}},item:{styles:{cursor:"pointer"}},expander:{styles:{fontSize:"10px",width:"15px",height:"15px",lineHeight:"15px"}}}},ic3AutoCompleteFilterWidget:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{input:{styles:{color:"@{textColor}",border:"1px solid @{borderColor}"}},list:{styles:{color:"@{textColor}",backgroundColor:"@{backgroundColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{item:{styles:{padding:"0.2em 22px",color:"@{textColor}"},hoverStyles:{color:"@{hoverColor}"}}}}}},ic3SliderFilterWidget:{styles:{color:"@{textColor}",backgroundColor:"@{backgroundColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"}},ic3MultiSelectFilterWidget:{components:{header:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}",border:"1px solid @{borderColor}"}},list:{styles:{color:"@{textColor}",backgroundColor:"@{backgroundColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{splitter:{styles:{borderTop:"1px solid @{borderColor}"}},selected:{styles:{color:"@{textColor}"},hoverStyles:{color:"@{hoverColor}"}},deselected:{styles:{color:"#666"},hoverStyles:{color:"@{hoverColor}"}}}}}},ic3HTMLTextWidget:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"}},ic3InputWidget:{styles:{fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{input:{styles:{color:"@{textColor}",backgroundColor:"transparent",verticalAlign:"top",border:"1px solid @{borderColor}"}},button:{styles:{color:"@{textColor}",backgroundColor:"transparent",border:"1px solid @{borderColor}",borderLeft:"none"},hoverStyles:{color:"@{invTextColor}",backgroundColor:"@{hoverColor}"},activeStyles:{color:"@{invTextColor}",backgroundColor:"@{activeTextColor}"}}}},ic3DatepickerWidget:{styles:{fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{input:{styles:{color:"@{textColor}",backgroundColor:"transparent",border:"1px solid @{borderColor}"}}}},ic3Table:{styles:{color:"@{textColor}",fontSize:"12px",fontFamily:"Verdana"},components:{_priority:["headers","left-headers","top-headers"],headers:{styles:{color:"@{textColor}",backgroundColor:"transparent",textAlign:"center",fontWeight:"bold",borderWidth:0,borderStyle:"solid",padding:0}},"left-headers":{styles:{color:"",backgroundColor:"",textAlign:"left",fontWeight:"normal",borderColor:"black",borderStyle:"solid",borderTopWidth:"",borderRightWidth:0,borderBottomWidth:"",borderLeftWidth:""}},"top-headers":{styles:{color:"",backgroundColor:"",textAlign:"",fontWeight:"",borderColor:"@{borderColor}",borderStyle:"solid",borderTopWidth:"",borderRightWidth:"",borderBottomWidth:1,borderLeftWidth:""}},cells:{styles:{color:"@{textColor}",backgroundColor:"transparent",textAlign:"center",fontWeight:"normal",borderColor:"black",borderStyle:"solid",borderTopWidth:0,borderRightWidth:0,borderBottomWidth:0,borderLeftWidth:0,padding:0}},"drilldown-icons":{styles:{color:"",fontSize:"auto"}}}},ic3MdxEditorWidget:{components:{help:{styles:{position:"absolute",bottom:0,right:0,color:"#999",fontSize:"12px",textAlign:"right",margin:"2px"}}}},ic3ChartWidget:{styles:{backgroundColor:"transparent"},amChart:{AmChart:{color:"#cccccc",fontFamily:"@{fontFamily}",fontSize:12},AmCoordinateChart:{colors:"@{palette}"},AmStockChart:{colors:"@{palette}"},AmSlicedChart:{labelTickColor:"#cccccc",labelTickAlpha:0.3,colors:"@{palette}"},AmRectangularChart:{zoomOutButtonColor:"#cccccc",zoomOutButtonRollOverAlpha:0.15,zoomOutButtonImage:"lens.png"},CategoryAxis:{autoWrap:true,autoRotateCount:10,autoRotateAngle:30},AxisBase:{axisColor:"#cccccc",axisAlpha:0.3,gridAlpha:0.1,gridColor:"#cccccc",dashLength:3},ChartScrollbar:{backgroundColor:"#383838",backgroundAlpha:0.13,graphFillAlpha:0.4,selectedGraphFillAlpha:0.7,graphLineAlpha:0,selectedBackgroundColor:"#383838",selectedBackgroundAlpha:0.9,fontSize:12,gridAlpha:0.15},ChartCursor:{cursorColor:"#cccccc",color:"#cccccc",cursorAlpha:0.5},AmLegend:{color:"#cccccc"},AmGraph:{lineAlpha:0.9},GaugeArrow:{color:"#cccccc",alpha:0.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:0.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#cccccc",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#cccccc",axisAlpha:1,bandAlpha:0.8},TrendLine:{lineColor:"#efa5af",lineAlpha:0.8},ImagesSettings:{labelFontSize:12},PeriodSelector:{fontFamily:"@{fontFamily}",fontSize:"12px"},PeriodButton:{fontFamily:"@{fontFamily}",fontSize:"12px"},PeriodButtonSelected:{fontFamily:"@{fontFamily}",fontSize:"12px"},PeriodInputField:{fontFamily:"@{fontFamily}",fontSize:"12px"},DataSetSelector:{fontFamily:"@{fontFamily}",fontSize:"12px"},DataSetCompareList:{fontFamily:"@{fontFamily}",fontSize:"12px"},DataSetSelect:{fontFamily:"@{fontFamily}",fontSize:"12px"},AmSerialChart:{columnSpacing:1}}},ic3GoogleWidget:{googleChart:{colors:"@{palette}"}}}}
})(ic3||(ic3={}));var ic3;(function(a){a.ThemeClassic={id:"ic3-classic",name:"Classic",vars:{palette:["#C85200","#FF800E","#FFBC79","#006BA4","#5F9ED1","#A2C8EC","#29A03C","#83D579","#C3FFBE","#EF7F00","#FFBA16","#FFE9B3","#00A2DA","#92d6f3","#D9EFFC","#3FD75D","#BDF5B3","#EDFFEB","#FCB900","#FFE822","#FFFBE4","#00D9F7","#CCF5FD","#F6FCFF","#61F58F","#EAFDE4","#FCFFFB"],textColor:"#000",invTextColor:"#fff",backgroundColor:"#fff",activeTextColor:"@{palette[2]}",hoverColor:"@{palette[3]}",borderColor:"#d3d3d3",fontFamily:"Open Sans, Verdana, sans",widgetFontSize:"0.857em",widgetPadding:"0.35em",headerSize:"18px"},definitions:{reportingLayout:{cssClasses:"ic3t-classic",components:{reportContentContainer:{styles:{background:"@{backgroundColor}"}}}},fixedLayout:{components:{sizeIndicator:{styles:{borderRight:"solid 1px @{borderColor}",borderBottom:"solid 1px @{borderColor}"}}}},fixedLayoutBox:{components:{boxHeader:{styles:{textAlign:"center",fontWeight:"bold",textTransform:"uppercase",fontSize:"@{headerSize}",background:"#f0f0f0",color:"#555"},components:{boxType:{styles:{fontStyle:"italic",marginRight:"8px"}},control:{styles:{color:"#999",borderColor:"#999"}}}}}},ic3ButtonsWidget:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{button:{styles:{margin:"0.35em",padding:"0.25em",border:"1px solid @{borderColor}",boxShadow:"none"},hoverStyles:{color:"@{hoverColor}"},activeStyles:{color:"@{invTextColor}",backgroundColor:"@{activeTextColor}"},selectedStyles:{backgroundColor:"@{activeTextColor}",color:"@{invTextColor}"},disabledStyles:{color:"#D1D1D1"}}}},ic3DropDownWidget:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{select:{styles:{color:"@{textColor}",border:"1px solid @{borderColor}"},components:{option:{styles:{color:"@{textColor}",backgroundColor:"@{backgroundColor}"}}}}}},ic3TreeFilterWidget:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{listTop:{styles:{paddingLeft:0}},list:{styles:{paddingLeft:"15px"}},item:{styles:{cursor:"pointer"}},expander:{styles:{fontSize:"10px",width:"15px",height:"15px",lineHeight:"15px"}}}},ic3AutoCompleteFilterWidget:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{input:{styles:{color:"@{textColor}",border:"1px solid @{borderColor}"}},list:{styles:{color:"@{textColor}",backgroundColor:"@{backgroundColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{item:{styles:{padding:"0.2em 22px",color:"@{textColor}"},hoverStyles:{color:"@{hoverColor}"}}}}}},ic3SliderFilterWidget:{styles:{color:"@{textColor}",backgroundColor:"@{backgroundColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"}},ic3MultiSelectFilterWidget:{components:{header:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}",border:"1px solid @{borderColor}"}},list:{styles:{color:"@{textColor}",backgroundColor:"@{backgroundColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{splitter:{styles:{borderTop:"1px solid @{borderColor}"}},selected:{styles:{color:"@{textColor}"},hoverStyles:{color:"@{hoverColor}"}},deselected:{styles:{color:"#aaa"},hoverStyles:{color:"@{hoverColor}"}}}}}},ic3HTMLTextWidget:{styles:{color:"@{textColor}",fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"}},ic3InputWidget:{styles:{fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{input:{styles:{color:"@{textColor}",backgroundColor:"transparent",verticalAlign:"top",border:"1px solid @{borderColor}"}},button:{styles:{color:"@{textColor}",backgroundColor:"transparent",border:"1px solid @{borderColor}",borderLeft:"none"},hoverStyles:{color:"@{invTextColor}",backgroundColor:"@{hoverColor}"},activeStyles:{color:"@{invTextColor}",backgroundColor:"@{activeTextColor}"}}}},ic3DatepickerWidget:{styles:{fontFamily:"@{fontFamily}",fontSize:"@{widgetFontSize}"},components:{input:{styles:{color:"@{textColor}",backgroundColor:"transparent",border:"1px solid @{borderColor}"}}}},ic3Table:{styles:{color:"@{textColor}",fontSize:"12px",fontFamily:"Verdana"},components:{_priority:["headers","left-headers","top-headers"],headers:{styles:{color:"@{textColor}",backgroundColor:"transparent",textAlign:"center",fontWeight:"bold",borderWidth:0,borderStyle:"solid",padding:0}},"left-headers":{styles:{color:"",backgroundColor:"",textAlign:"left",fontWeight:"normal",borderColor:"black",borderStyle:"solid",borderTopWidth:"",borderRightWidth:0,borderBottomWidth:"",borderLeftWidth:""}},"top-headers":{styles:{color:"",backgroundColor:"",textAlign:"",fontWeight:"",borderColor:"black",borderStyle:"solid",borderTopWidth:"",borderRightWidth:"",borderBottomWidth:1,borderLeftWidth:""}},cells:{styles:{color:"@{textColor}",backgroundColor:"transparent",textAlign:"center",fontWeight:"normal",borderColor:"black",borderStyle:"solid",borderTopWidth:0,borderRightWidth:0,borderBottomWidth:0,borderLeftWidth:0,padding:0}},"drilldown-icons":{styles:{color:"",fontSize:"auto"}}}},ic3MdxEditorWidget:{components:{help:{styles:{position:"absolute",bottom:0,right:0,color:"#999",fontSize:"12px",textAlign:"right",margin:"2px"}}}},ic3ChartWidget:{styles:{backgroundColor:"transparent"},amChart:{AmChart:{color:"#000000",fontFamily:"@{fontFamily}",fontSize:12},AmCoordinateChart:{colors:"@{palette}"},AmStockChart:{colors:"@{palette}"},AmSlicedChart:{labelTickColor:"#000000",labelTickAlpha:0.3,colors:"@{palette}"},AmRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:0.15,zoomOutButtonImage:"lens.png"},CategoryAxis:{autoWrap:true,autoRotateCount:10,autoRotateAngle:30},AxisBase:{axisColor:"#000000",axisAlpha:0.3,gridAlpha:0.1,gridColor:"#000000",dashLength:3},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:0.13,color:"#000000",graphFillAlpha:0.4,selectedGraphFillAlpha:0.7,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:0.9,fontSize:12,gridAlpha:0.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:0.5},AmLegend:{color:"#000000"},AmGraph:{lineAlpha:0.9},GaugeArrow:{color:"#000000",alpha:0.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:0.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#000000",axisAlpha:1,bandAlpha:0.8},TrendLine:{lineColor:"#c03246",lineAlpha:0.8},ImagesSettings:{labelFontSize:12},PeriodSelector:{fontFamily:"@{fontFamily}",fontSize:"12px"},PeriodButton:{fontFamily:"@{fontFamily}",fontSize:"12px"},PeriodButtonSelected:{fontFamily:"@{fontFamily}",fontSize:"12px"},PeriodInputField:{fontFamily:"@{fontFamily}",fontSize:"12px"},DataSetSelector:{fontFamily:"@{fontFamily}",fontSize:"12px"},DataSetCompareList:{fontFamily:"@{fontFamily}",fontSize:"12px"},DataSetSelect:{fontFamily:"@{fontFamily}",fontSize:"12px"},AmSerialChart:{columnSpacing:1}}},ic3GoogleWidget:{googleChart:{colors:"@{palette}"}}}}
})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(e,d,f){this.componentName=d;this.context=e;this.presets=f||{}}c.prototype.savePreset=function(e,d,f){this.context.entityMgr().saveEntity(a.AppLocalEntityType.THEME,a.EntityMgr.buildPath(a.AppLocalEntityType.THEME,e,this.getFolderPath()),e,d,f)
};c.prototype.getPreset=function(d,f){var e=this;this.context.entityMgr().getEntity(a.AppLocalEntityType.THEME,a.EntityMgr.buildPath(a.AppLocalEntityType.THEME,d,this.getFolderPath()),function(g,h){g?f(g,h):f(e.presets[d])})};c.prototype.getPresets=function(d){this.context.entityMgr().listEntities(a.AppLocalEntityType.THEME,this.getFolderPath(),d)
};c.prototype.getFolderPath=function(){return a.EntityPath.STYLE_PRESET+"/"+this.componentName};return c}());a.WidgetStylingManager=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function e(){}e.prototype.clear=function(){localStorage.clear()};e.prototype.getObject=function(f){var h=localStorage.getItem(f);
var g=h&&JSON.parse(h);return g};e.prototype.setObject=function(f,h){var g=JSON.stringify(h);localStorage.setItem(f,g)};e.prototype.removeObject=function(f){localStorage.removeItem(f)};return e}());var c=(function(){function e(){this.items={}}e.prototype.clear=function(){this.items={}
};e.prototype.getObject=function(f){return this.items[f]};e.prototype.setObject=function(f,g){this.items[f]=g};e.prototype.removeObject=function(f){delete this.items[f]};return e}());a.UserPersistentKey={LAST_OPENED_REPORT_PATH:"lastOpenedReportPath",PRINT_OPTIONS:"printOptions",RECENT_PALETTES:"recentPalettes",RECENT_COLORS:"recentColors"};
var d=(function(){function e(f){this.context=f;if(this.supportsHtml5Storage()){this.storage=new b()}else{this.storage=new c()}}e.prototype.supportsHtml5Storage=function(){try{if("localStorage" in window&&window.localStorage!==null){localStorage.setItem("ic3test","ic3test");
if(localStorage.getItem("ic3test")!="ic3test"){return false}localStorage.removeItem("ic3test");return true}return false}catch(f){return false}};e.prototype.key=function(g){var f=this.context.userInfo().getName();return f+"."+g};e.prototype.getObject=function(f){return this.storage.getObject(this.key(f))
};e.prototype.setObject=function(f,g){this.storage.setObject(this.key(f),g)};e.prototype.removeObject=function(f){this.storage.removeObject(this.key(f))};e.prototype.clear=function(){this.storage.clear()};e.prototype.readLastOpenedReportPath=function(){var f=this.getObject(a.UserPersistentKey.LAST_OPENED_REPORT_PATH);
return(f&&f.root)?f:null};e.prototype.saveLastOpenedReportPath=function(f){this.setObject(a.UserPersistentKey.LAST_OPENED_REPORT_PATH,f)};e.prototype.savePrintOptions=function(f){this.setObject(a.UserPersistentKey.PRINT_OPTIONS,f)};e.prototype.readPrintOptions=function(){return this.getObject(a.UserPersistentKey.PRINT_OPTIONS)
};e.prototype.addRecent=function(h,i,g){var f=this.getObject(h)||[];if(_.isNull(f)){f=[]}if(_.findIndex(f.concat(g),function(j){return _.isEqual(j,i)})>-1){return}f.unshift(i);this.setObject(h,f)};e.prototype.addRecentPalette=function(f,g){this.addRecent(a.UserPersistentKey.RECENT_PALETTES,f,g)
};e.prototype.addRecentColor=function(f){this.addRecent(a.UserPersistentKey.RECENT_COLORS,f,[])};e.prototype.readRecentPalettes=function(){return this.getObject(a.UserPersistentKey.RECENT_PALETTES)};e.prototype.readRecentColors=function(){return this.getObject(a.UserPersistentKey.RECENT_COLORS)
};e.prototype.setSystemLocale=function(f){this.setObject("locale",{system:f})};e.prototype.getSystemLocale=function(){var f=this.getObject("locale");return f&&f.system};return e}());a.UserPersistentData=d})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a=(function(d){__extends(c,d);function c(e){d.call(this,e)}c.getDisplayNameTag=function(){return"command.clearUserPersistentData"
};c.prototype.doExecute=function(){this.context.userPersistentData().clear()};return c}(b.Command));b.ClearUserPersistentDataCommand=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(e){d.call(this,e)}c.getDisplayNameTag=function(){return"command.refreshReport"};c.prototype.doExecute=function(){if(this.context.mainReport()){this.context.mainReport().refreshData()
}};return c}(a.Command));a.RefreshReportCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(e){c.call(this,e)}d.prototype.editFile=function(e){var g=this;var f=this.context.mainReport();if(e.fileMaxSizeExceeded){f.messageBox(this.context.l("ic3.command.admin.edit_common_command.title",e.fileName),this.context.l("ic3.command.admin.edit_common_command.error.fileSize"))
}else{f.setModal(React.createElement(a.TextEditorDialog,{title:e.fileName,text:e.fileContent,mode:this.getCommonFileEditorType(),onOk:e.fileReadWrite?function(h){g.processSave(e,h)}:null,onCancel:function(){f.clearModal()}}))}};d.prototype.processSave=function(f,i){var j=this;
var h=this.context.notificationMgr();var e=this.context.errorMgr();var g=new viz.SaveFileGviRequest(f.fileUuid,f.fileName,i);this.context.executeRequest(g,{onVizRequestExecuted:function(){h.notifyInfo("command.edit.info.saved",f.fileName);j.context.mainReport().clearModal()
},onError:function(k){e.addError("command.edit.error.save",[f.fileName,k.toString()])},onFailure:function(k){e.addError("command.edit.error.save",[f.fileName,k.toString()])}})};d.prototype.doExecute=function(){var h=this;var e=this.context.errorMgr();var g="ic3-report/app-local/"+this.getCommonFileName();
var f=new viz.OpenFileGviRequest(g);this.context.executeRequest(f,{onVizRequestExecuted:function(j){try{h.editFile(f.extractResult(j))}catch(i){e.addError("command.edit.error.open",[g,i.toString()])}},onError:function(i){e.addError("command.edit.error.open",[g,i.toString()])
},onFailure:function(i){e.addError("command.edit.error.open",[g,i.toString()])}})};return d}(a.Command));a.EditCommonCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(e){d.call(this,e)}c.getDisplayNameTag=function(){return"command.editConfigJS"};c.prototype.getCommonFileName=function(){return"ic3report-config.js"
};c.prototype.getCommonFileEditorType=function(){return a.CodeMirrorMode.JAVASCRIPT};return c}(a.EditCommonCommand));a.EditConfigJsCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(e){d.call(this,e)}c.getDisplayNameTag=function(){return"command.editCommonCSS"};c.prototype.getCommonFileName=function(){return"ic3report-local.css"
};c.prototype.getCommonFileEditorType=function(){return a.CodeMirrorMode.CSS};return c}(a.EditCommonCommand));a.EditCommonCssCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(e){d.call(this,e)}c.getDisplayNameTag=function(){return"command.editCommonJS"};c.prototype.getCommonFileName=function(){return"ic3report-local.js"
};c.prototype.getCommonFileEditorType=function(){return a.CodeMirrorMode.JAVASCRIPT};return c}(a.EditCommonCommand));a.EditCommonJsCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(e){c.call(this,e)}d.prototype.doExecute=function(){var f=this;var e=this.context.mainReport();
e.setModal(React.createElement(a.TextEditorDialog,{title:this.getTitle(),text:this.getContent()||"",mode:this.getCommonFileEditorType(),onOk:this.processOk?function(g){if(g===void 0){g=""}return f.processOk(g)}:null,onCancel:function(){e.clearModal()}}))};d.prototype.getTitle=function(){throw new Error("Abstract method called")
};d.prototype.getContent=function(){throw new Error("Abstract method called")};d.prototype.processOk=function(e){throw new Error("Abstract method called")};d.prototype.getCommonFileEditorType=function(){return a.CodeMirrorMode.JAVASCRIPT};return d}(a.Command));
a.EditReportDataCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;
(function(a){var b=(function(c){__extends(d,c);function d(e){c.call(this,e)}d.prototype.getTitle=function(){return this.context.l("ic3.command.admin.edit_report_css.title")};d.prototype.getContent=function(){return this.context.mainReport().cssMgr().guts().content
};d.prototype.processOk=function(e){var f=this.context.mainReport();f._onReportModified();f.cssMgr().refreshHtmlFromGuts({content:e});f.cssMgr().applyCss();f.clearModal()};d.prototype.getCommonFileEditorType=function(){return a.CodeMirrorMode.CSS};return d}(a.EditReportDataCommand));
a.EditReportCssCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;
(function(b){var a=(function(d){__extends(c,d);function c(e){d.call(this,e)}c.prototype.getTitle=function(){return this.context.l("ic3.command.admin.edit_report_js.title")};c.prototype.getContent=function(){return this.context.mainReport().javascriptMgr().guts().js
};c.prototype.processOk=function(e){var f=this.context.mainReport();f.javascriptMgr().refreshHtmlFromGuts({js:e});f.clearModal();f.rebuildAll()};c.prototype.getCommonFileEditorType=function(){return b.CodeMirrorMode.JAVASCRIPT};return c}(b.EditReportDataCommand));
b.EditReportJsCommand=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;
(function(a){var b=(function(d){__extends(c,d);function c(e){d.call(this,e)}c.prototype.getTitle=function(){return this.context.l("ic3.command.admin.edit_report_code.title")};c.prototype.getContent=function(){var e=a.saveGuts(this.context.mainReport().state.report);
return JSON.stringify(e,null,"\t")};c.prototype.processOk=function(e){var f=this.context.mainReport();f.importReportJson(e);f.clearModal()};c.prototype.getCommonFileEditorType=function(){return a.CodeMirrorMode.JSON};return c}(a.EditReportDataCommand));a.EditReportCodeCommand=b
})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);
function c(e){d.call(this,e)}c.prototype.getTitle=function(){return this.context.l("ic3.command.admin.edit_report_html.title")};c.prototype.doExecute=function(){var j=this;var i=this.context.mainReport();if(!i.isReportPersistent()){i.messageBox(this.context.l("ic3.command.admin.edit_report_html.title"),this.context.l("ic3.command.admin.edit_report_html.error.not_saved"));
return}var e=i.state.report.layout().getEmbeddedInfo();var h=JSON.stringify(e);var g=new viz.ExportReportToHtmlGviRequest(i.reportUUID(),i.reportName(),h);var f=function(k){j.context.errorMgr().addError("mainReport.error.export",[k.toString()])};this.context.executeRequest(g,{onVizRequestExecuted:function(m){try{var l=g.extractResult(m);
i.setModal(React.createElement(a.TextEditorDialog,{title:j.getTitle(),text:l.reportHtml,mode:j.getCommonFileEditorType(),onCancel:function(){i.clearModal()}}))}catch(k){f(k);return}},onError:function(k){f(k)},onFailure:function(k){f(k)}})};c.prototype.getCommonFileEditorType=function(){return a.CodeMirrorMode.HTML
};return c}(a.EditReportDataCommand));a.EditReportHtmlCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(e){d.call(this,e)}c.prototype.getUserMenuSettingsMeta=function(e){var f=a.reporting.editor.OptionMetaType;return[{label:e.l("ic3.top_controls.user.settings.system_locale"),type:f.SELECT,valueRef:"systemLocale",suggestion:_.map(e.getI18n().getSupportedLanguages(),function(g){return g.toUpperCase()
})},{label:e.l("ic3.top_controls.user.settings.report_locale"),type:f.SELECT,valueRef:"reportLocale",suggestion:_.map(e.gviConfiguration().localesInfo().listLocales(),function(i){var g=i.locale,h=i.caption;return({caption:h,value:g})})}]};c.prototype.doExecute=function(){var g=this;
var f=function(h){var i=g.context.gviConfiguration().localesInfo().getLocale(h.reportLocale);g.context.userPersistentData().setSystemLocale(h.systemLocale);g.context.getI18n().setSelectedLocale(h.systemLocale);i&&g.context.mainReport().setLocale(i.locale);g.context.mainReport().rebuildAll()
};var e={systemLocale:this.context.getI18n().getSelectedLocale().toUpperCase()};this.context.mainReport().setModal(React.createElement(a.FormDialog,{title:this.context.l("ic3.top_controls.user.settings"),meta:this.getUserMenuSettingsMeta(this.context),data:e,onOk:f}))
};c.getDisplayNameTag=function(){throw"Abstract method!"};return c}(a.Command));a.EditUserSettingsCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){(function(d){d[d.CONSTANT=0]="CONSTANT";d[d.EVENT=1]="EVENT";d[d.JSON=2]="JSON"})(a.ConstType||(a.ConstType={}));var c=a.ConstType;var b=(function(e){__extends(d,e);
function d(g,f){e.call(this,g,f);this.state={items:_.cloneDeep(g.items)}}d.prototype.validateCurrent=function(){var g=this.state.currentItem;var f=this.guessType(g);if(_.isEmpty(g.n)){return false}switch(f){case c.CONSTANT:return !_.isEmpty(g.v);case c.JSON:return !this.state.currentItemInValid&&Object.keys(g.v).length>0;
case c.EVENT:return !_.isEmpty(g.v.caption);default:return false}};d.prototype.applyCurrent=function(){var f=_.cloneDeep(this.state.items);if(this.state.currentItem&&this.validateCurrent()){if(a.isNumber(this.state.selectedIdx)){f[this.state.selectedIdx]=this.state.currentItem
}else{f.push(this.state.currentItem)}this.setState({items:f});this.props.onChange(f);return true}else{return false}};d.prototype.selectItem=function(g,f){if(!this.state.currentItem||this.applyCurrent()){this.setState({currentItem:_.cloneDeep(g),selectedIdx:f})
}};d.prototype.renderItem=function(h,f){var i=this;var g=classNames("btn","btn-default","btn-block",(f===this.state.selectedIdx?"active":""));return(React.createElement("button",{onClick:function(){return i.selectItem(h,f)},className:g},h.n))};d.prototype.newConstant=function(f){if(!this.state.currentItem||this.applyCurrent()){var g=_.cloneDeep(this.state);
switch(f){case c.CONSTANT:g.currentItem={n:"",v:""};break;case c.EVENT:g.currentItem={n:"",v:{caption:"",asMdx:"",asFilterInitialSelection:""}};break;case c.JSON:g.currentItem={n:"",v:{}};break;default:}g.selectedIdx=null;g.addOpened=false;this.setState(g)}};
d.prototype.addButton=function(f){var g=this;return(React.createElement("div",{className:"dropdown",style:{"margin-top":"5px"}},React.createElement("button",{className:"btn btn-primary btn-block dropdown-toggle",type:"button",onClick:function(){return g.setState({addOpened:!g.state.addOpened})
}},"Constants +"),React.createElement("ul",{className:"dropdown-menu",style:{display:(f?"block":"none")}},React.createElement("li",null,React.createElement("a",{className:"btn btn-block",onClick:this.newConstant.bind(this,c.CONSTANT),href:"#"},"New Constant")),React.createElement("li",null,React.createElement("a",{className:"btn btn-block",onClick:this.newConstant.bind(this,c.EVENT),href:"#"},"New Event")),React.createElement("li",null,React.createElement("a",{className:"btn btn-block",onClick:this.newConstant.bind(this,c.JSON),href:"#"},"New JSON")))))
};d.prototype.guessType=function(f){if(typeof f.v=="string"){return c.CONSTANT}else{if(a.isObject(f.v)){if(f.v.caption!=undefined&&f.v.asMdx!=undefined&&f.v.asFilterInitialSelection!=undefined){return c.EVENT}return c.JSON}}};d.prototype.renderConstantForm=function(g){var f=function(h,i){var j=_.cloneDeep(this.state);
j.currentItem[h]=i.target.value;this.setState(j)};return(React.createElement("div",{className:"form-horizontal"},React.createElement("span",null,"Name"),React.createElement("input",{type:"text",className:"form-control",value:g.n,onChange:f.bind(this,"n")}),React.createElement("hr",null),React.createElement("span",null,"Value"),React.createElement("textarea",{className:"form-control",value:g.v,onChange:f.bind(this,"v")})))
};d.prototype.renderJsonForm=function(h){var g=function(j){var i=_.cloneDeep(this.state.currentItem);i.n=j.target.value;this.setState({currentItem:i})};var f=function(j){var i=_.cloneDeep(this.state.currentItem);var l=false;try{i.v=JSON.parse(j)}catch(k){l=true
}this.setState({currentItem:i,currentItemInValid:l})};return(React.createElement("div",{className:"form-horizontal"},React.createElement("span",null,"Name"),React.createElement("input",{type:"text",className:"form-control",value:h.n,onChange:g}),React.createElement("hr",null),React.createElement("span",null,"Value"),React.createElement(a.ReactCodeMirror,{mode:a.CodeMirrorMode.JSON,value:JSON.stringify(h.v||""),onChange:f.bind(this)})))
};d.prototype.renderEventForm=function(h){var g=function(i){var j=_.cloneDeep(this.state);j.currentItem.n=i.target.value;this.setState(j)};var f=function(j,k){var i=_.cloneDeep(this.state.currentItem);i.v[j]=k.target.value;this.setState({currentItem:i})};return(React.createElement("div",{className:"form-horizontal"},React.createElement("span",null,"Name"),React.createElement("input",{type:"text",className:"form-control",value:h.n,onChange:g.bind(this)}),React.createElement("hr",null),React.createElement("span",null,"Caption"),React.createElement("input",{className:"form-control",value:h.v.caption,onChange:f.bind(this,"caption")}),React.createElement("span",null,"MDX"),React.createElement("input",{className:"form-control",value:h.v.asMdx,onChange:f.bind(this,"asMdx")}),React.createElement("span",null,"Filter Initial Selection"),React.createElement("input",{className:"form-control",value:h.v.asFilterInitialSelection,onChange:f.bind(this,"asFilterInitialSelection")})))
};d.prototype.renderCurrentItem=function(){var g;g=this.state.currentItem||this.state.items[this.state.selectedIdx]||null;if(g!==null){var f=this.guessType(g);switch(f){case c.CONSTANT:return this.renderConstantForm(g);case c.JSON:return this.renderJsonForm(g);
case c.EVENT:return this.renderEventForm(g);default:return null}}else{return null}};d.prototype.renderCurrentItemButtons=function(){var g=this;if(!this.state.currentItem){return null}var f=function(){if(g.applyCurrent()){g.setState({currentItem:null,selectedIdx:null})
}};return(React.createElement("div",{className:"form-horizontal",style:{"float":"right","margin-top":"10px"}},React.createElement("button",{className:"btn btn-primary",onClick:f.bind(this),style:{"margin-right":"10px"}},"Apply"),React.createElement("button",{className:"btn btn-default",onClick:function(){return g.setState({currentItem:null,selectedIdx:null,currentItemInValid:false})
}},"Cancel")))};d.prototype.render=function(){return(React.createElement("div",null,React.createElement("div",{className:"col col-sm-4",style:{margin:"10px -15px"}},_.map(this.state.items,this.renderItem.bind(this)),this.addButton(this.state.addOpened)),React.createElement("div",{className:"col col-sm-6"},this.renderCurrentItem(),this.renderCurrentItemButtons())))
};return d}(React.Component));a.ItemWizardComponent=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(h,f,g,e){d.call(this,h);this.constantMgr_=f;this.constants_=g;this.options_=e}c.prototype.doExecute=function(){this.oldConstants_=a.saveGuts(this.constantMgr_).guts_;this.applyConstants_(this.constants_);
return true};c.prototype.undo=function(){this.applyConstants_(this.oldConstants_)};c.prototype.redo=function(){this.applyConstants_(this.constants_)};c.prototype.applyConstants_=function(g){var f=this.constantMgr_;var e=this.options_;f.refreshHtmlFromGuts(g);
e.ic3okCallback&&e.ic3okCallback()};c.getDisplayNameTag=function(){return"command.editConstants"};return c}(a.UndoableCommand));a.UpdateConstantsCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var c=(function(d){__extends(e,d);function e(g,f){d.call(this,g,f);this.EditorMods={JSON:"json",WIZARD:"wizard"};this.places=[{placeId:this.EditorMods.WIZARD,label:"Wizard",icon:"glyphicons glyphicons-magic"},{placeId:this.EditorMods.JSON,label:"JSON Code",icon:"glyphicons glyphicons-pencil"}];
this.state={mode:this.EditorMods.WIZARD,constants:g.constants||[],jsonError:null}}e.prototype.onPlaceChange=function(f){this.setState({mode:f,jsonError:null})};e.prototype.gatherJson=function(g){var k=this;var i=_.cloneDeep(this.state);try{i.constants=JSON.parse(g);
i.jsonError=null}catch(j){i.jsonError="Invalid JSON: "+j.toString()}if(!i.jsonError&&!_.isArray(i.constants)){i.jsonError="Not an array"}if(!i.jsonError){var f=i.constants;var h={};if(f.length>1){_.each(f,function(l){if(h[l.n]!=null){i.jsonError=k.props.context.l("ic3.command.admin.edit_constants.error.duplicated",l.n)
}else{h[l.n]=1}})}}if(i.jsonError){delete i.constants}this.setState(i)};e.prototype.renderJsonEditor=function(){var f=null;if(this.state.jsonError!==null){f=(React.createElement("span",{className:"alert-danger"},this.state.jsonError))}return(React.createElement("div",{className:"form-horizontal"},React.createElement(b.ReactCodeMirror,{mode:b.CodeMirrorMode.JSON,value:JSON.stringify(this.state.constants,null,"\t"),onChange:this.gatherJson.bind(this)}),f))
};e.prototype.gatherWizard=function(f){this.setState({constants:f})};e.prototype.renderWizardEditor=function(){return(React.createElement(b.ItemWizardComponent,{context:this.props.context,items:this.state.constants,onChange:this.gatherWizard.bind(this)}))};
e.prototype.renderContent=function(){switch(this.state.mode){case this.EditorMods.JSON:return this.renderJsonEditor();case this.EditorMods.WIZARD:return this.renderWizardEditor();default:return null}};e.prototype.onOk=function(){new b.UpdateConstantsCommand(this.props.context,this.props.context.constantMgr(),{constant:this.state.constants},{}).execute();
this.props.context.mainReport().clearModal();this.props.context.mainReport().rebuildAll()};e.prototype.render=function(){var h=this;var g={label:this.props.context.l("ic3.ok"),handler:this.onOk.bind(this)};var f={label:this.props.context.l("ic3.close"),handler:function(){return h.props.context.mainReport().clearModal()
}};return(React.createElement(b.ModalReportingDialog,{title:this.props.context.l("ic3.command.admin.edit_constants.title"),onClose:f.handler,buttons:[g,f]},React.createElement("div",{className:"ic3-constants-dialog"},React.createElement("div",{className:"server-browser"},React.createElement("div",{className:"file-browser"},React.createElement(b.ServerPredefinedPlaces,{selectedPlaceId:this.state.mode,places:this.places,onClick:this.onPlaceChange.bind(this)}),React.createElement("div",{className:"file-browser-tree"},this.renderContent()))))))
};return e}(React.Component));b.ConstantsEditor=c;var a=(function(e){__extends(d,e);function d(f){e.call(this,f)}d.prototype.doExecute=function(){var f=this.context.mainReport();f.setModal(React.createElement(c,{context:this.context,constants:this.context.constantMgr().guts_.constant}))
};return d}(b.Command));b.EditConstantsCommand=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var g=(function(j){__extends(i,j);function i(l,k){j.call(this,l,k);this.state={opened:l.keepOpened}}i.prototype.render=function(){var o=this;var k;var n="glyphicons-chevron-"+(this.state.opened?"down":"up"),m=React.createElement("span",{className:classNames("pull-right","glyphicons",n)});
if(_.isFunction(this.props.advancedClickHandler)){var l=function(p){o.props.advancedClickHandler(p);p.preventDefault();p.stopPropagation()};k=React.createElement("span",{className:"pull-right glyphicons glyphicons-cogwheel",onClick:l})}return(React.createElement("div",{key:name,className:"panel panel-default options-group"},React.createElement("div",{className:"panel-heading",onClick:function(){return !o.props.keepOpened&&o.setState({opened:!o.state.opened})
}},this.props.title,this.props.keepOpened?null:m,k),this.state.opened?React.createElement("div",{className:"panel-body"},this.props.content):null))};return i}(React.Component));h.SubgroupComponent=g})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))
})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(i){var g=a.react.colorpicker.gradientColor;var k=a.react.colorpicker.parseCSSColor;var j=a.react.colorpicker.hex2rgb;var h=(function(m){__extends(l,m);function l(o,n){m.call(this,o,n)
}l.prototype.renderGradientBlock=function(q){var p=this.props.alpha||1,n=this.props.interpolator.name+"-"+p,o={backgroundImage:q};return(React.createElement("div",{key:n,className:"palette-preview-block",style:o}))};l.prototype.renderColorBlock=function(o,n){var t=this.props.alpha||1,p=n+"-block-"+o+"-"+t,s=k(o),r=null,q=null;
if(o!="transparent"){r={backgroundColor:o?"rgba("+_.take(s,3).join(",")+", "+t+")":null}}else{q="transparent"}return(React.createElement("div",{key:p,className:classNames("palette-preview-block",q),style:r}))};l.prototype.getGradientValue=function(o){var n="linear-gradient( to right,",p=this.props.alpha||1;
n+=_.map(o,function(s){var t=j(s),v=t[0],u=t[1],q=t[2];return" rgba("+v+","+u+","+q+", "+p+")"}).join(",");n+=")";return n};l.prototype.render=function(){var p=this;var o=null;if(this.props.interpolator){var n=_.times(100,function(q){return g(_.map(p.props.colors,k),q/100,p.props.interpolator)
});o=this.renderGradientBlock(this.getGradientValue(n))}else{o=_.map(this.props.colors,function(r,q){return p.renderColorBlock(r,q)})}return(React.createElement("div",{className:"palette-preview",key:(this.props.interpolator?this.props.interpolator.name:"no-interpolation")+"-"+(this.props.alpha||1)},o))
};return l}(React.Component));i.PalettePreviewComponent=h})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(i){var g=a.react.Autosuggest;(function(l){l[l.DEFAULT=0]="DEFAULT";l[l.ADD_MEASURE=1]="ADD_MEASURE";
l[l.EDIT_MEASURE=2]="EDIT_MEASURE"})(i.MeasuresMode||(i.MeasuresMode={}));var k=i.MeasuresMode;var j=a.react.tags.DnDTag;var h=(function(m){__extends(l,m);function l(n,o){m.call(this,n,o);this.state=this.initialState()}l.prototype.initialState=function(n){if(_.isEmpty(n)){n=this.props
}return{mode:k.DEFAULT,selection:n.selection,hasError:false}};l.prototype.addMeasure=function(){if(this.state.hasError){return}var o={name:this.state.measureName,uniqueName:"",expression:this.state.measureExpression};var n=_.find(this.props.measures,{name:o.name})||_.find(this.props.calcMeasures,{name:o.name});
if(!n){o.uniqueName="[Measures].["+o.name+"]";this.props.updateCustomMeasures(null,o)}else{if(n.expression){o=_.extend({},n,o);_.remove(this.state.selection,n);this.props.updateCustomMeasures(n,o)}else{if(n.uniqueName!=o.expression){this.state.hasError=true;
this.forceUpdate();return}o=n}}this.state.selection.push(o);this.props.handleChange(_.clone(this.state.selection));this.setState({mode:k.DEFAULT,selection:this.state.selection,measureName:null,measureExpression:null})};l.prototype.updateMeasure=function(n){if(!this.state.hasError){var o=_.find(this.props.measures,{name:n.name})||_.find(this.props.calcMeasures,{name:n.name});
_.remove(this.state.selection,o);this.addMeasure()}};l.prototype.moveMeasure=function(n){};l.prototype.handleDelete=function(n){var o=_.reduce(this.state.selection,function(p,q){if(q.uniqueName!==n.uniqueName){p.push(q)}return p},[]);this.props.handleChange(_.clone(o));
this.setState({mode:k.DEFAULT,selection:o})};l.prototype.handleEditAction=function(n){var o=this;setTimeout(function(){o.setState({mode:k.EDIT_MEASURE,editItem:n,measureName:n.name,measureExpression:n.expression||n.uniqueName})},0);return null};l.prototype.setComponentMode=function(n){var o={mode:n};
this.setState(o)};l.prototype.getSuggestions=function(q,o){var t=q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");var n=new RegExp("\\b"+t,"i");var r=o?"name":"uniqueName";var s=_(this.props.measures).filter(function(u){return u[r].search(n)>-1}).map(function(u){return u[r]
}).value();r=o?"name":"expression";var p=_(this.props.calcMeasures).filter(function(u){return u[r].search(n)>-1}).map(function(u){return u[r]}).value();return _.isEmpty(p)?s:[{suggestions:s},{sectionName:"Calculated",suggestions:p}]};l.prototype.getNameSuggestions=function(o,n){var p=this.getSuggestions(o,true);
n(null,p)};l.prototype.onNameSuggestionSelected=function(n){var o=_.find(this.props.measures,{name:n})||_.find(this.props.calcMeasures,{name:n});this.state.measureName=o.name;this.state.measureExpression=o.expression?o.expression:o.uniqueName;this.forceUpdate()
};l.prototype.getExpressionSuggestions=function(o,n){var p=this.getSuggestions(o,false);n(null,p)};l.prototype.onExpressionSuggestionSelected=function(n){var o=_.find(this.props.measures,{uniqueName:n})||_.find(this.props.calcMeasures,{expression:n});this.state.measureName=o.name;
this.state.measureExpression=o.expression?o.expression:o.uniqueName;this.forceUpdate()};l.prototype.renderInput=function(){var t=this;if(this.state.mode===k.DEFAULT){return null}var p=classNames("btn btn-default"),r={padding:"7.5px 12px"},s=classNames("form-group",this.state.hasError?"has-error":"");
var q={className:"form-control",placeholder:"Name",onChange:function(u){if(u){t.state.measureName=u.trim();t.state.hasError=t.state.measureName.length===0}}},o={className:"form-control",placeholder:"@{expression}",onChange:function(u){t.state.measureExpression=u.trim();
t.state.hasError=t.state.measureExpression.length===0}};var n=this.state.mode===k.EDIT_MEASURE?this.updateMeasure.bind(this,this.state.editItem):this.addMeasure.bind(this);return(React.createElement("div",{className:"form-inline"},React.createElement("div",{className:s},React.createElement(g,{key:classNames("suggestedMeasureNames",this.state.measureName),suggestions:this.getNameSuggestions.bind(this),inputAttributes:q,showWhen:function(u){return true
},onSuggestionSelected:this.onNameSuggestionSelected.bind(this),value:this.state.measureName})),React.createElement("div",{className:s},React.createElement(g,{key:classNames("suggestedMeasureExpressions",this.state.measureExpression),suggestions:this.getExpressionSuggestions.bind(this),inputAttributes:o,showWhen:function(u){return true
},onSuggestionSelected:this.onExpressionSuggestionSelected.bind(this),value:this.state.measureExpression})),React.createElement("div",{className:"form-group"},React.createElement("a",{className:p,style:r,onClick:n},"Done"))))};l.prototype.renderSelection=function(){if(_.isEmpty(this.state.selection)){return null
}var n=_.map(this.state.selection,this.renderMeasure.bind(this));return(React.createElement("div",null,n))};l.prototype.renderMeasure=function(n){if(this.state.mode===k.EDIT_MEASURE&&n.uniqueName===this.state.editItem.uniqueName){return null}return(React.createElement(j,{key:n.uniqueName,tag:n,onDelete:this.handleDelete.bind(this,n),moveTag:this.moveMeasure.bind(this),toggleDropdown:this.handleEditAction.bind(this,n),descriptionField:"uniqueName",connectDragSource:function(o){return o
},connectDropTarget:function(o){return o}}))};l.prototype.render=function(){var n=classNames("btn btn-default",this.state.mode===k.DEFAULT?"":"hidden"),o={padding:"7.5px 12px"};return(React.createElement("div",{className:"form-group"},this.renderSelection(),this.renderInput(),React.createElement("a",{className:n,style:o,onClick:this.setComponentMode.bind(this,k.ADD_MEASURE)},"+ Add")))
};return l}(React.Component));i.MeasuresComponent=h})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(i){var h=a.react.Autosuggest;var g=a.react.AutosuggestType;var j=(function(k){__extends(l,k);
function l(n,m){var o=this;k.call(this,n,m);this.dictionary={};this.suggestions=function(s,t){var q=[];var p=o.getSuggestionArray();if(p.length>0){q.push({suggestions:p})}if(o.props.optionMeta.suggestEvents!==e.EventSuggestionsType.NONE){var r=_.map(o.props.eventsProducedInReport(),o.props.optionMeta.suggestEvents===e.EventSuggestionsType.PLAIN?"name":"lexeme");
if(r.length>0){q.push({sectionName:"Available events",suggestions:r,type:g.EVENT})}}t(null,q)};this.handleShowInfoClick=function(){o.state.showInfo=!o.state.showInfo;o.forceUpdate()};this.state=_.merge(this.state,this.getState(n))}l.prototype.translateElven=function(m){if(_.isString(m)&&/@d{.*}/.test(_.trim(m))){var n=this.context.reportingContext.getEvaluator().evaluate(m);
if(_.isEmpty(n)||n=="undefined"){n=m}this.dictionary[n]=m;return n}return m};l.prototype.translateHuman=function(m){return this.dictionary[m]||m};l.prototype.componentWillReceiveProps=function(m){this.setState(this.getState(m))};l.prototype.getState=function(m){return{eventMode:_.get(m,"value.evaluationType")=="JS"}
};l.prototype.renderTextInput=function(){var m=this.props.value.jsFunctionBody;if(_.isUndefined(m)||_.isNull(m)){m=""}return(React.createElement("div",{style:{width:"100%",position:"relative"}},React.createElement("input",{className:"form-control",value:m,onChange:this.jsInputChange.bind(this)}),React.createElement("span",{className:"show-editor",onClick:this.showExpressionEditor.bind(this)},"Edit")))
};l.prototype.renderInput=function(){var m=this.translateElven(this.props.value);if(_.isUndefined(m)||_.isNull(m)){m=""}return React.createElement(h,{value:m,suggestions:this.suggestions,showWhen:function(n){return true},cache:false,inputAttributes:this.getInputAttributes()})
};l.prototype.jsInputChange=function(m){this.props.onChange({evaluationType:"JS",jsFunctionBody:_.get(m,"target.value"),contextType:this.props.value.contextType||"REPORTING"})};l.prototype.showExpressionEditor=function(){var o=this;var m=null;var n=function(){return o.context.reportingContext.mainReport().clearModal(m)
};m=this.context.reportingContext.mainReport().addModal(React.createElement(a.ExpressionEditor,{meta:this.props.optionMeta,value:this.props.value,onChange:this.props.onChange,closeHandler:n}))};l.prototype.renderInputBeforeLabel=function(){return null};l.prototype.getSuggestionArray=function(n){var o=this;
if(n===void 0){n={}}var m=[];if(_.isArray(this.props.optionMeta.suggestion)){m=this.props.optionMeta.suggestion}else{if(_.isFunction(this.props.optionMeta.suggestion)){m=this.props.optionMeta.suggestion(this.props.allProperties,this.context.reportingContext,this.props.widgetAdapter)
}}if(n.events){m=_.concat(m,_.map(this.props.eventsProducedInReport(),"lexeme"))}m=_.filter(m,function(p){return _.isString(p)});return _.map(m,function(p){return o.translateElven(p)})};l.prototype.getInputAttributes=function(){var m=this;return{className:"form-control",placeholder:this.context.reportingContext.getEvaluator().evaluate(this.props.optionMeta.placeholder||this.getInputLabel()),onChange:function(n){return m.props.onChange(m.translateHuman(n))
}}};l.prototype.onDelete=function(){if(!_.get(this.props.optionMeta,"flags.readOnly",false)){this.props.onDelete()}};l.prototype.renderToolbar=function(){if(this.props.hideToolbar===true){return null}return(React.createElement("div",{className:"btn-group pull-right"},React.createElement("div",{className:"btn btn-xs",onClick:this.handleShowInfoClick,title:"Show additional information"},React.createElement("span",{className:"glyphicons glyphicons-info-sign"})),React.createElement("div",{className:"btn btn-xs",onClick:this.handleSwitchToEventClick.bind(this),title:"Switch to event input mode"},React.createElement("span",{className:"glyphicons glyphicons-pencil"})),React.createElement("div",{className:"btn btn-xs",onClick:this.onDelete.bind(this),title:"Remove"},React.createElement("span",{className:"glyphicons glyphicons-remove-circle"}))))
};l.prototype.getDefaultValue=function(n){if(n===void 0){n=this.props.optionMeta}var m=n?n.defaultValue:null;if(_.isFunction(m)){m=m(this.props.allProperties)}return m};l.prototype.isDefaultValue=function(){var m=this.getDefaultValue();var n=this.props.value;
if(n==m){return true}if(_.isUndefined(m)){if(_.isUndefined(n)||_.isEmpty(n)){return true}}if(_.isObject(n)){if(n.evaluationType==="EXPRESSION"){if(_.isUndefined(m)){if(_.isEmpty(n.expression)||_.isUndefined(n.expression)){return true}}if(n.expression==m){return true
}if(n.expression==_.get(m,"expression")){return true}}}};l.prototype.hasPencil=function(){var m=this.props.optionMeta;return !_.get(m.flags,"hidePencil",_.includes([e.OptionMetaType.COLOR_MODE],m.type))};l.prototype.getEditIcon=function(){return"glyphicons-pencil"
};l.prototype.renderButtonGroup=function(){var n=this.props.optionMeta;var m=this.isDefaultValue();if(this.props.hideToolbar===true){return null}if(!this.hasPencil()&&_.isNull(n.defaultValue)){return null}return(React.createElement("div",{className:"input-group-btn"},!_.isNull(n.defaultValue)?(React.createElement("div",{className:classNames("btn","btn-xs","default-value-button",{active:m}),onClick:this.onDelete.bind(this),title:"Default value"},"D")):null,this.hasPencil()?(React.createElement("div",{className:classNames("btn","btn-xs",{active:this.state.eventMode}),onClick:this.handleSwitchToEventClick.bind(this),title:"Switch to event input mode"},React.createElement("span",{className:classNames("glyphicons",this.getEditIcon())}))):null))
};l.prototype.handleSwitchToEventClick=function(){if(_.get(this.props.optionMeta,"flags.readOnly",false)){return}var m=_.get(this,"otherValue."+(this.state.eventMode?"TEXT":"JS"),"");_.set(this,"otherValue."+(this.state.eventMode?"JS":"TEXT"),this.props.value);
if(!this.state.eventMode&&_.isString(m)){if(_.isEmpty(m)){if(_.isEmpty(this.props.optionMeta.contextType)||this.props.optionMeta.contextType=="CELL"){if(this.props.value!="Value"){m='return context.getValue("'+this.props.value+'");'}else{m="return context.getValue();"
}}else{m='return "'+this.props.value+'"'}}m={evaluationType:"JS",jsFunctionBody:m,contextType:this.props.optionMeta.contextType||"CELL"}}if(this.state.eventMode&&_.isEmpty(m)){m=this.getDefaultValue()}this.props.onChange(m)};l.prototype.getInputLabel=function(){return this.postProcessLabel(this.props.optionMeta.label)
};l.prototype.postProcessLabel=function(m){var n=this.context.reportingContext.getEvaluator().evaluate(m);return(n===m)?_.startCase(m):n};l.prototype.getGroupClasses=function(){return classNames("form-group",this.state.isValid===false?"has-error":"",this.isDefaultValue()?"default":"")
};l.prototype.getDetailedInfo=function(){if(_.isFunction(this.props.optionMeta.detailedInfo)){return this.props.optionMeta.detailedInfo(this.props.allProperties,this.context.reportingContext,this.props.widgetAdapter)}else{return this.context.reportingContext.getEvaluator().evaluate(this.props.optionMeta.detailedInfo)
}};l.prototype.render=function(){var n=this.getInputLabel();var m=!_.isEmpty(n)?(React.createElement("label",{className:"control-label"}," ",n," ")):null;return(React.createElement("div",{className:this.getGroupClasses(),title:this.getDetailedInfo()},m,this.state.showInfo?React.createElement("small",{style:{color:"#777",display:"block"}},this.props.optionMeta.detailedInfo):null,React.createElement("div",{className:"input-group"},!this.state.eventMode?this.renderInput():this.renderTextInput(),this.renderButtonGroup())))
};l.contextTypes={reportingContext:React.PropTypes.object,widgetAdapter:React.PropTypes.object};return l}(React.Component));i.AbstractInputComponent=j})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;
(function(h){var g=(function(j){__extends(i,j);function i(l,k){j.call(this,l,k)}i.prototype.isPlainText=function(){return this.props.optionMeta.type===e.OptionMetaType.PLAIN_TEXT};i.prototype.isFileChooser=function(){return this.props.optionMeta.type===e.OptionMetaType.SERVER_FILE
};i.prototype.hasPencil=function(){return j.prototype.hasPencil.call(this)&&(_.isFunction(this.props.onEditClick)||this.isFileChooser())};i.prototype.getEditIcon=function(){switch(true){case this.props.editIcon!=null:return this.props.editIcon;case this.isFileChooser():return i.ICON.FILE;
default:return j.prototype.getEditIcon.call(this)}};i.prototype.renderButtonGroup=function(){var l=this.props.optionMeta;var k=this.isDefaultValue();if(this.props.hideToolbar===true||this.isPlainText()){return null}return(React.createElement("div",{className:"input-group-btn"},!_.isNull(l.defaultValue)?(React.createElement("div",{className:classNames("btn","btn-xs","default-value-button",{active:k}),onClick:this.onDelete.bind(this),title:"Default value"},"D")):null,this.hasPencil()?(React.createElement("div",{className:"btn btn-xs",onClick:this.handleSwitchToEventClick.bind(this),title:this.props.editTooltip},React.createElement("span",{className:classNames("glyphicons","input-edit-button",this.getEditIcon())}))):null))
};i.prototype.renderTextInput=function(){return this.renderInput()};i.prototype.getInputAttributes=function(){return{className:"form-control",placeholder:this.props.optionMeta.placeholder||this.getInputLabel(),onChange:this.props.onChange}};i.prototype.handleSwitchToEventClick=function(){var l=this.props,k=l.onChange,n=l.onEditClick,m=l.optionMeta;
if(this.isFileChooser()){var o=function(p){k(p.path)};this.context.reportingContext.mainReport().setModal(React.createElement(a.ReportLinkServerBrowser,{onOpen:o}))}if(_.isFunction(n)){n()}};i.ICON={COGWHEEL:"glyphicons-cogwheel",PENCIL:"glyphicons-pencil",LIST:"glyphicons-list",FILE:"glyphicons-file"};
return i}(h.AbstractInputComponent));h.TextComponent=g})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var g=(function(j){__extends(i,j);function i(l,k){j.call(this,l,k);this.state=this.state||{}
}i.prototype.renderToolbar=function(){if(this.state.eventMode){return j.prototype.renderToolbar.call(this)}return null};i.prototype.getGroupClasses=function(){return classNames(j.prototype.getGroupClasses.call(this),"checkbox-component")};i.prototype.renderInput=function(){var k=this;
return(React.createElement("div",{className:"btn-group",role:"group"},React.createElement("div",{className:"btn btn-xs checkbox-switcher",onClick:function(){k.props.onChange(!k.props.value)}},this.props.value?React.createElement("div",null,"ON",React.createElement("div",{className:"switch-square right"})):React.createElement("div",null,React.createElement("div",{className:"switch-square left"}),"OFF"))))
};return i}(h.AbstractInputComponent));h.CheckboxComponent=g})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]
}}}return b};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var g=(function(j){__extends(i,j);function i(l,k){j.call(this,l,k)}i.prototype.getStep=function(){return _.get(this.props.optionMeta,"range.step",1)};i.prototype.getMinValue=function(){return _.get(this.props.optionMeta,"range.min",-Infinity)
};i.prototype.getMaxValue=function(){return _.get(this.props.optionMeta,"range.max",Infinity)};i.prototype.limitValue=function(k){return Math.min(Math.max(k||0,this.getMinValue()),this.getMaxValue())};i.prototype.handleClick=function(q,o){var n=this.props,p=n.value,m=n.optionMeta,l=m.defaultValue,k=m.flags;
if(k&&k.readOnly){return}p+=q*(p%this.getStep()||this.getStep());this.props.onChange(this.limitValue(p))};i.prototype.handleNumberChange=function(l){var k=l.target.value;if(_.isEmpty(k)){this.props.onDelete()}else{var m=parseFloat(k);if(_.isFinite(m)){this.props.onChange(this.limitValue(m))
}}};i.prototype.renderInput=function(){var p=this.props,q=p.value,o=p.optionMeta,m=o.range,l=o.defaultValue,n=o.label,k=o.flags;if(q>0&&q<1&&this.getStep()>0&&this.getStep()<1){q=q.toFixed(/\d*$/.exec(""+this.getStep())[0].length)}var r=this.context.reportingContext.getEvaluator();
return(React.createElement("span",{className:"input-number clearfix"},React.createElement("input",__assign({},m,{readOnly:k&&k.readOnly,value:q===l?null:q,placeholder:l||r.evaluate(n),ref:"input",className:"form-control",type:"number",onChange:this.handleNumberChange.bind(this)})),React.createElement("span",{className:"spinner"},React.createElement("span",{className:"handle",onClick:this.handleClick.bind(this,+1)},React.createElement("span",{className:"halflings halflings-triangle-top"})),React.createElement("span",{className:"handle",onClick:this.handleClick.bind(this,-1)},React.createElement("span",{className:"halflings halflings-triangle-bottom"})))))
};return i}(h.AbstractInputComponent));h.NumberComponent=g})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]
}}}return b};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var i=a.react.colorpicker.ColorKeywords;var j=a.react.colorpicker.parseCSSColor;g.stubPalette=["#951b81","#c4398d","#da6bae","#eca7d1","#540b48","#761466"];var h=(function(k){__extends(l,k);
function l(n,m){var o=this;k.call(this,n,m);this.handleOuterClick=function(p){if(o.state.edit){if(o.refs&&$(p.target).closest($(ReactDOM.findDOMNode(o.refs["colorPicker"]))).length===0){o.setState({edit:false})}}};this.handleColorChange=_.debounce(function(p,q){o.props.onChange(!_.isUndefined(q)?q:"#"+p.hex)
},200);this.state=_.merge(this.state,{edit:false,value:this.props.value})}l.prototype.componentWillReceiveProps=function(m){k.prototype.componentWillReceiveProps.call(this,m);this.setState({value:m.value,invalid:false})};l.prototype.renderInput=function(){var m=this;
return(React.createElement("input",{type:"text",className:"form-control",style:{color:this.state.invalid?"red":null},onChange:function(n){return m.onInputChange(n.target.value)},value:i[this.state.value]||this.state.value}))};l.prototype.onInputChange=function(m){if(!_.isUndefined(this.validateColor(m))){this.handleColorChange(null,_.isNull(i[m])?null:m)
}else{this.setState({value:m,invalid:true})}};l.prototype.validateColor=function(m){return j(m)||i[m]};l.prototype.render=function(){var o=this;var n=this.getInputLabel();var m=!_.isEmpty(n)?(React.createElement("label",{className:"control-label"}," ",n," ")):null;
return(React.createElement("div",{className:this.getGroupClasses(),title:this.getDetailedInfo()},m,React.createElement("div",{className:"input-group"},React.createElement("div",{className:"input-group-btn",hidden:this.state.eventMode},React.createElement("div",{className:classNames("btn","btn-xs","default-value-button")},React.createElement("div",{className:classNames("color-component-color",i[this.props.value]),style:{backgroundColor:this.state.value},onClick:function(){o.openModal()
}}))),!this.state.eventMode?this.renderInput():this.renderTextInput(),this.renderButtonGroup())))};l.prototype.openModal=function(){var q=this;var p=undefined,o=function(){return q.context.reportingContext.mainReport().clearModal(p)},m=function(r){q.onInputChange(r.color)
};var n={label:"",valueRef:"",type:e.OptionMetaType.COLOR_MODE,suggestions:[e.ColorModeType.SINGLE_COLOR]};p=this.context.reportingContext.mainReport().addModal(React.createElement(e.ColorDefinitionDialog,__assign({},this.props,{widgetAdapter:this.context.widgetAdapter,optionMeta:n,value:{mode:e.ColorModeType.SINGLE_COLOR,color:this.state.value},saveData:m.bind(this),onClose:o})))
};l.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleOuterClick)};l.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleOuterClick)};return l}(g.AbstractInputComponent));g.ColorComponent=h
})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;
(function(g){var i=(function(j){__extends(k,j);function k(m,l){j.call(this,m,l);this.state=this.state||{}}k.prototype.handleSavePalette=function(m){var l;switch(m.mode){case e.ColorModeType.SINGLE_COLOR:l=[m.color];this.context.reportingContext.userPersistentData().addRecentColor(l[0]);
break;case e.ColorModeType.PALETTE:l=m.colors;var n=_.map(this.context.reportingContext.mainReport().getTheme().getPalettes(),"colors");this.context.reportingContext.userPersistentData().addRecentPalette(l,n);if(m.shouldReverse){l=_.reverse(l)}if(m.alpha){l=_.map(l,function(o){var p=a.react.colorpicker.parseCSSColor(o);
p[3]=m.alpha;return a.react.colorpicker.rgba2css(p)})}break;case e.ColorModeType.EXPRESSION:l=m.colorFunc;break;case e.ColorModeType.AUTO:default:l=null}this.props.onChange(l)};k.prototype.openDialog=function(){var p=this;var o=undefined,n=function(){return p.context.reportingContext.mainReport().clearModal(o)
};var m=_.merge(_.cloneDeep(this.props.optionMeta),{type:e.OptionMetaType.PALETTE,suggestion:a.reporting.editor.ColorModeStacks.PALETTE,contextType:"DATA"});var l;if(!_.isArray(this.props.value)&&_.isObject(this.props.value)){l={mode:e.ColorModeType.EXPRESSION,colorFunc:this.props.value}
}else{l={mode:e.ColorModeType.PALETTE,colors:this.props.value||this.props.optionMeta.defaultValue}}o=this.context.reportingContext.mainReport().setModal(React.createElement(e.ColorDefinitionDialog,__assign({},this.props,{onClose:n,saveData:this.handleSavePalette.bind(this),widgetAdapter:this.context.widgetAdapter,optionMeta:m,value:l})))
};k.prototype.render=function(){var m=this.getInputLabel();var l=!_.isEmpty(m)?(React.createElement("label",{className:"control-label"}," ",m," ")):null;return(React.createElement("div",{className:this.getGroupClasses(),title:this.getDetailedInfo()},l,this.state.showInfo?React.createElement("small",{style:{color:"#777",display:"block"}},this.props.optionMeta.detailedInfo):null,React.createElement("div",{className:"input-group"},React.createElement("div",{className:"palette"},React.createElement(h,{colors:this.props.value,onClick:this.openDialog.bind(this)})))))
};return k}(g.AbstractInputComponent));g.PaletteComponent=i;var h=(function(j){__extends(k,j);function k(m,l){j.call(this,m,l)}k.prototype.handleClick=function(){if(_.isFunction(this.props.onClick)){this.props.onClick(this.props.label,this.props.colors)}};k.prototype.render=function(){var n=this.props,p=n.alpha,l=n.colors,q=n.interpolator,o=n.shouldReverse;
var m=null;if(_.isArray(l)){l=o?_.reverse(_.clone(l)):l;m=(React.createElement(g.PalettePreviewComponent,{alpha:p,colors:l,interpolator:q}))}else{if(l==null){m=(React.createElement("span",null,"Auto"))}else{m=(React.createElement("span",null,"Expression"))}}return(React.createElement("div",{className:"btn btn-block palette-row",onClick:this.handleClick.bind(this),key:a.uniqueId(this.props.label)},this.props.label,this.props.label?React.createElement("br",null):null,m))
};return k}(React.Component));g.PaletteRowComponent=h})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var g=(function(j){__extends(i,j);function i(l,k){j.call(this,l,k)}i.prototype.handleSwitchToEventClick=function(){if(!this.state.eventMode){_.set(this,"otherValue.JS",'return ["'+this.props.value.join('","')+'"]')
}j.prototype.handleSwitchToEventClick.call(this)};i.prototype.getInputAttributes=function(){var k=this;return{className:"form-control",placeholder:this.context.reportingContext.getEvaluator().evaluate(this.props.optionMeta.placeholder||this.getInputLabel()),onChange:function(l){if(_.isString(l)){k.props.onChange(JSON.parse('["'+l.replace(/,/gi,'","')+'"]'))
}}}};return i}(h.AbstractInputComponent));h.ArrayComponent=g})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=function(k,l,j){return(_.isArray(k)?_.map(k,l.bind(j)):l.call(j,k,0))
};var i=(function(j){__extends(k,j);function k(m,l){j.call(this,m,l);this.state={range:this.props.value}}k.prototype.handleChange=function(l){this.state.range=l;this.props.onChange(this.state.range);this.forceUpdate()};k.prototype.handleSlide=function(l){this.setState({range:l})
};k.prototype.getMinSize=function(){return this.props.optionMeta.range.min};k.prototype.getMaxSize=function(){return this.props.optionMeta.range.max};k.prototype.getGroupClasses=function(){return classNames("form-group","buttons-bg-only",this.state.isValid===false?"has-error":"",this.props.value==this.props.optionMeta.defaultValue?"default":"")
};k.prototype.renderInput=function(){return(React.createElement("div",{className:"react-slider-wrapper",style:{margin:"5px"}},React.createElement(ReactSlider,{min:this.getMinSize(),max:this.getMaxSize(),value:this.state.range,step:this.props.optionMeta.range.step,handleClassName:classNames("react-slider-handle","ui-state-default","ui-corner-all"),className:classNames("ui-widget-content","ui-corner-all","react-slider"),onChange:this.handleSlide.bind(this),onAfterChange:this.handleChange.bind(this)},h(this.state.range,function(m,l){return(React.createElement("div",{key:l},m))
})),React.createElement("div",{className:"bars"},_.times(3,function(l){return(React.createElement("div",{className:"bar pc"+25*(l+1)}))}))))};return k}(g.AbstractInputComponent));g.RangeComponent=i})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))
})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=(function(i){__extends(j,i);function j(l,k){i.call(this,l,k)}j.prototype.getValueFromFunction=function(){var k=/^\s*return\s*(.*)/img.exec(this.props.value)[1];return k.replace(/\s*measuresMap\['(\[[a-zA-Z\d\]\[.]+])']\['VALUE']/img,"$1")
};j.prototype.getSuggestionOptions=function(k,n){var l=[a.reporting.amcharts.data.DEFAULT_MEASURE];var m=_.get(this.props,"allProperties.data.mdxWizard.guts_.measures");if(_.isArray(m)){l.push.apply(l,_.map(m,"uniqueName"))}setTimeout(function(){n(null,l)})
};j.prototype.getSuggestionArray=function(){var o=this.props.optionMeta,n=o.suggestion,r=o.contextType;var k=_.get(this.props,"allProperties.data.options.WIZARD.measures",[]);var q=[];var l=[];if((["AmChart","CELL"]).indexOf(r)>-1){q.push("Value");if(this.context.widgetAdapter&&_.get(this.context,"widgetAdapter.mdxResultTable")){var m=_.get(this.context,"widgetAdapter.mdxRequest");
var p=_.get(this.context,"widgetAdapter.mdxResultTable");if(a.IcCubeMdxBuilder.hasMeasuresAxis(m,p)){var s=p.getAxes().getAxis(0);_.times(s.getTupleCount(),function(t){return q.push(s.getMemberCaption(0,t))})}}else{q.push.apply(q,_.map(k,function(t){return(""+a.getMdxMemberCaption(t))
}))}}return _.uniq(_.concat(i.prototype.getSuggestionArray.call(this),q,l))};j.prototype.handleSimpleInputChange=function(l){var k=l.replace(/\s*(\[[a-zA-Z\d\]\[.]+])/img,"measuresMap['$1']['VALUE']");this.props.onChange(this.props.value.replace(/^(\s*return)\s*(.*)/img,"$1 "+k))
};return j}(g.AbstractInputComponent));g.ExpressionComponent=h})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var g=(function(j){__extends(i,j);function i(l,k){var m=this;j.call(this,l,k);
this.showModalDialog=function(){var o=m.props,q=o.value,t=o.optionMeta;var p=q||t.defaultValue||"";var u=null,s=function(){return m.context.reportingContext.mainReport().clearModal(u)},n=function(v){m.props.onChange(v);s()};var r=a.CodeMirrorMode.CSS;u=m.context.reportingContext.mainReport().addModal(React.createElement(a.TextEditorDialog,{title:m.getTitle(),text:p,mode:r,onOk:n,onCancel:s}))
};this.state={}}i.prototype.getTitle=function(){if(this.props.mode!==e.EditorComponentMode.CSS){return"Inline CSS"}else{return"CSS"}};i.prototype.getMode=function(){switch(this.props.mode){case e.EditorComponentMode.CSS:return a.CodeMirrorMode.CSS;case e.EditorComponentMode.STYLE:default:return{inline:true,name:"css"}
}};i.prototype.handleSwitchToEventClick=function(){this.showModalDialog()};i.prototype.renderInput=function(){return(React.createElement("div",{style:{width:"100%",position:"relative"}},React.createElement("input",{value:this.props.value,readOnly:true,className:"form-control"}),React.createElement("span",{className:"show-editor",onClick:this.handleSwitchToEventClick.bind(this)},"Edit")))
};i.contextTypes={reportingContext:React.PropTypes.object,widgetAdapter:React.PropTypes.object};return i}(h.AbstractInputComponent));h.EditorComponent=g})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(ic3){var reporting;(function(reporting){var editor;
(function(editor){var components;(function(components){var FunctionTemplateVar="${funcBody}";var DefaultFunctionTemplate="function() {\n"+FunctionTemplateVar+"\n}";var FunctionComponent=(function(_super){__extends(FunctionComponent,_super);function FunctionComponent(props,context){_super.call(this,props,context);
this.state=this.initialState(this.props)}FunctionComponent.prototype.initialState=function(nextProps){var functionTemplate=nextProps.optionMeta.template||DefaultFunctionTemplate;return{functionTemplate:functionTemplate,value:nextProps.value||this.evalPropertyValue(this.props.optionMeta.defaultTemplateValue,functionTemplate)}
};FunctionComponent.prototype.evalPropertyValue=function(text,tmpl){if(!tmpl){tmpl=this.state.functionTemplate}var funcBody=text||"";return eval("`"+tmpl+"`")||""};FunctionComponent.prototype.getValueFromFunction=function(){var funcParts=this.state.functionTemplate.split(FunctionTemplateVar);
var valueFromFunc=this.state.value.substr(funcParts[0].length);valueFromFunc=valueFromFunc.substr(0,valueFromFunc.length-funcParts[1].length);var returnExpression=/^\s*return\s*(.*)/img.exec(valueFromFunc);if(returnExpression&&returnExpression.length>1){valueFromFunc=_.trim(returnExpression[1],";")
}return valueFromFunc};FunctionComponent.prototype.handleSwitchToEventClick=function(){this.showModalDialog()};FunctionComponent.prototype.showModalDialog=function(){var _this=this;var modalDialog=null,close=function(){return _this.context.reportingContext.mainReport().clearModal(modalDialog)
};var value={evaluationType:"JS",jsFunctionBody:this.state.value,contextType:this.props.optionMeta.contextType};modalDialog=this.context.reportingContext.mainReport().setModal(React.createElement(ic3.ExpressionEditor,{meta:this.props.optionMeta,value:value,onChange:this.handleChange.bind(this),closeHandler:close}))
};FunctionComponent.prototype.getSuggestionOptions=function(input,callback){var _this=this;setTimeout(function(){callback(null,_this.props.optionMeta.suggestion||[])})};FunctionComponent.prototype.handleSimpleInputChange=function(text){this.state.value=this.evalPropertyValue(text);
this.props.onChange(this.state.value)};FunctionComponent.prototype.handleChange=function(text){this.state.value=_.isObject(text)?text.jsFunctionBody:text;this.props.onChange(this.state.value);this.context.reportingContext.mainReport().clearModal()};FunctionComponent.prototype.renderButtonGroup=function(){if(this.props.hideToolbar===true){return null
}var isDefault=this.isDefaultValue();return(React.createElement("div",{className:"input-group-btn"},!_.isNull(this.props.optionMeta.defaultValue)?React.createElement("div",{className:"btn btn-xs default-value-button"+(isDefault?" active":""),onClick:this.props.onDelete,title:"Default value"},"D"):null))
};FunctionComponent.prototype.renderInput=function(){if(this.state.edit){var funcParts=this.state.functionTemplate.split(FunctionTemplateVar);var lastHeaderLine=this.state.value.substr(0,funcParts[0].length).split("\n").length-1;return React.createElement(ic3.ReactCodeMirror,{mode:ic3.CodeMirrorMode.JAVASCRIPT,value:this.state.value,onChange:this.handleChange.bind(this),readOnlyHeader:lastHeaderLine})
}return(React.createElement("div",{style:{width:"100%",position:"relative"}},React.createElement("input",{value:this.getValueFromFunction(),readOnly:true,className:"form-control",onChange:this.handleSimpleInputChange.bind(this)}),React.createElement("span",{className:"show-editor",onClick:this.handleSwitchToEventClick.bind(this)},"Edit")))
};return FunctionComponent}(components.AbstractInputComponent));components.FunctionComponent=FunctionComponent})(components=editor.components||(editor.components={}))})(editor=reporting.editor||(reporting.editor={}))})(reporting=ic3.reporting||(ic3.reporting={}))
})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;
(function(e){var f;(function(h){var g=a.react.colorpicker.ColorPicker;var i=(function(j){__extends(k,j);function k(m,l){var n=this;j.call(this,m,l);this.handleColorChange=function(o,p){n.state.gradients[n.state.editGradientIdx]=p?p:"#"+o.hex;n.applyChanges()
};this.handleEditClick=function(){n.state.edit=!n.state.edit;n.applyChanges()};this.state=this.initialState()}k.prototype.initialState=function(){return{isValid:true,gradients:this.props.value||["#FF6600","#FCD202"],gradientsCount:2,editGradientIdx:-1}};k.prototype.handleEditGradient=function(l){if(this.state.editGradientIdx===l){this.state.editGradientIdx=-1;
this.applyChanges()}else{this.state.editGradientIdx=l;this.forceUpdate()}};k.prototype.applyChanges=function(){if(!this.state.edit){this.props.onChange(this.state.gradients)}this.forceUpdate()};k.prototype.renderButtonGroup=function(){return null};k.prototype.renderInput=function(){var p=this;
var o=a.reporting.editor.components.stubPalette;var l=_.times(this.state.gradientsCount,function(q){return(React.createElement("div",{key:"gradientBtn"+q,className:"btn btn-default",onClick:p.handleEditGradient.bind(p,q)},React.createElement("div",{style:{backgroundColor:p.state.gradients[q],width:"20px",height:"15px"}})))
});var m=null;if(this.state.editGradientIdx>-1){m=(React.createElement(g,{value:this.state.gradients[this.state.editGradientIdx],onChange:this.handleColorChange,palette:o}))}var n={background:"linear-gradient(to right, "+this.state.gradients[0]+", "+this.state.gradients[1]+")",margin:"0 auto",padding:"0 60px",display:"inline"};
return(React.createElement("ul",{className:"pager",style:{margin:"0",padding:"0"}},React.createElement("li",{className:"previous"},l[0]),React.createElement("div",{style:n}),React.createElement("li",{className:"next"},l[1]),m))};return k}(h.AbstractInputComponent));
h.GradientComponent=i})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var g=(function(j){__extends(i,j);function i(l,k){var m=this;j.call(this,l,k);this.showEditTab=function(){var p=m.props.optionMeta,q=p.detailedInfo,o=p.suggestion,n=p.flags;
m.state.showAdvanced=true;m.props.onAdvanced(q,function(){return({meta:{metaProps:[{label:"",valueRef:"value",type:e.OptionMetaType.ACCORDION_SELECT,suggestion:o,flags:n}]},properties:{value:m.state.selected},allProperties:m.props.allProperties,onChange:function(r){m.state.selected=r.value;
m.props.onChange(r.value)}})},undefined,function(r){m.state.showAdvanced=r===a.DetailedOptionsEvent.OPEN})};this.state={selected:l.value,showAdvanced:false}}i.prototype.componentDidUpdate=function(k){if(!_.isEqualWith(this.props.optionMeta,k.optionMeta,function(m,l,n){if(n==="handlers"){return true
}})&&this.state.showAdvanced){this.showEditTab()}};i.prototype.render=function(){return(React.createElement("div",{className:"form-group type-select"},React.createElement("label",{className:"control-label"},this.getInputLabel()),React.createElement("div",{className:"input-group",onClick:this.showEditTab},React.createElement("div",{className:classNames("ic3-type-preview-45px",this.props.value.id)}),this.postProcessLabel(this.props.value.label))))
};return i}(h.AbstractInputComponent));h.TypeSelectComponent=g})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]
}}}return b};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var g=(function(j){__extends(i,j);function i(m,l){j.call(this,m,l);this.predefinedMeta={fontSize:{type:e.OptionMetaType.NUMBER,range:{min:0,max:14,step:1}},padding:{type:e.OptionMetaType.NUMBER,range:{min:0,max:5,step:1}},color:{label:"Text Color",type:e.OptionMetaType.COLOR},backgroundColor:{type:e.OptionMetaType.COLOR},borderColor:{type:e.OptionMetaType.COLOR},fontFamily:{suggestion:["inherit","Arial","Times","Verdana","Lucida"]},textAlign:{suggestion:["left","center","right"]},borderStyle:{suggestion:["solid","dotted","double"]},borderWidth:{type:e.OptionMetaType.NUMBER,range:{min:0,max:5,step:1}},borderRightWidth:{type:e.OptionMetaType.NUMBER,range:{min:0,max:5,step:1}},borderLeftWidth:{type:e.OptionMetaType.NUMBER,range:{min:0,max:5,step:1}},borderBottomWidth:{type:e.OptionMetaType.NUMBER,range:{min:0,max:5,step:1}},borderTopWidth:{type:e.OptionMetaType.NUMBER,range:{min:0,max:5,step:1}},fontWeight:{suggestion:["normal","bold"]}};
var k=!_.isEmpty(this.props.value)?_.isString(this.props.value)?this.props.value:"Custom":"";var n={showAdvanced:false,caption:k,lastExistingCaption:k=="Custom"?"":k,presets:[],widgetManager:new a.WidgetStylingManager(this.context.reportingContext,this.props.widgetAdapter.getWidgetStylingName(),this.props.widgetAdapter.getWidgetStylingPresets())};
if(_.isObject(this.props.value)){n.properties=this.props.value}this.state=_.merge(this.state,n)}i.prototype.componentWillMount=function(){this.getPresets(null)};i.prototype.componentDidMount=function(){var k=this;if(_.isString(this.props.value)){this.getPreset(this.props.value,function(l){k.setState({properties:l,caption:k.props.value})
})}};i.prototype.componentWillReceiveProps=function(k){if(!_.isEqual(this.props.value,k.value)){this.handleValues(k)}};i.prototype.render=function(){var k={label:this.context.reportingContext.l("ic3.widget.appearance.basic_presets"),valueRef:"preset",defaultValue:"",type:e.OptionMetaType.TEXT,suggestion:this.getAvailablePresetsSuggestions.bind(this),flags:this.props.optionMeta.flags};
return(React.createElement(h.TextComponent,__assign({},this.props,{value:this.state.caption,optionMeta:k,onChange:this.onPresetChange.bind(this),onEditClick:this.showEditTab.bind(this),editIcon:h.TextComponent.ICON.COGWHEEL})))};i.prototype.getAvailablePresetsSuggestions=function(){return _.uniq(_.keys(this.props.widgetAdapter.getWidgetStylingPresets()).concat(this.state.presets))
};i.prototype.showEditTab=function(){var k=this;this.props.onAdvanced(this.state.caption,this.editorBuilder.bind(this),h.StylingComponentAdvanced,function(l){k.state.showAdvanced=l===a.DetailedOptionsEvent.OPEN})};i.prototype.editorBuilder=function(){return{meta:{metaProps:this.generateMetaForEdit(),widgetAdapter:this.props.widgetAdapter},properties:{styleDefinition:this.state.properties},allProperties:this.props.allProperties,onChange:this.onAdvancedChange.bind(this),savePreset:this.savePreset.bind(this),resetPreset:this.resetPreset.bind(this),currentPreset:this.state.caption}
};i.prototype.onAdvancedChange=function(k){this.props.onChange(k.styleDefinition)};i.prototype.onPresetChange=function(k){if(k=="Default"||k==""){this.setState({lastExistingCaption:"Default",caption:"",properties:{}});this.onDelete()}else{if(~_.indexOf(this.getAvailablePresetsSuggestions(),k)){this.setState({lastExistingCaption:k});
this.props.onChange(k)}}};i.prototype.resetPreset=function(){this.onPresetChange(this.state.lastExistingCaption)};i.prototype.handleValues=function(k){var m=this;if(_.isEmpty(k.value)){this.setState({properties:{},caption:"Default"})}else{if(_.isString(k.value)){this.getPreset(k.value,function(n){m.setState({properties:n,caption:k.value});
m.state.showAdvanced&&m.showEditTab()})}else{var l={properties:k.value};if(!_.isEqual(this.state.properties,k.value)){l.caption="Custom"}this.setState(l);this.state.showAdvanced&&this.showEditTab()}}};i.prototype.getPresets=function(l){var k=this;this.state.widgetManager.getPresets(function(m){m=_.map(m,"caption");
k.setState({presets:m});l&&l()})};i.prototype.getPreset=function(k,l){this.state.widgetManager.getPreset(k,l)};i.prototype.savePreset=function(l){var n=this;l.preventDefault();l.stopPropagation();var k=this.context.reportingContext;var m=[{label:k.l("ic3.ok"),handler:function(o){k.mainReport().clearModal();
n.state.widgetManager.savePreset(o,n.props.value,function(){return n.getPresets(function(){return n.onPresetChange(o)})})}},{label:k.l("ic3.cancel"),handler:function(){return k.mainReport().clearModal()}}];k.mainReport().setModal(React.createElement(a.InputDialog,{title:this.context.reportingContext.l("ic3.widget.appearance.save_preset.title"),message:this.context.reportingContext.l("ic3.widget.appearance.save_preset.prompt"),defaultValue:this.state.lastExistingCaption,buttons:m}))
};i.prototype.generateMetaForEdit=function(){var n=this;var l=this.context.reportingContext.mainReport().getTheme().getThemeProvider(this.props.widgetAdapter.getWidgetStylingName()).getDefinition();var k=[];var m=function(o,p){_.forEach(o,function(r,q){if(q=="components"){_.each(r,function(t,s){if(!_.startsWith(s,"_")){m(t,p+".components."+s)
}})}else{_.each(r,function(s,t){return k.push(n.getMetaForProperty(t,p,q,s,l))})}})};m(l,"styleDefinition");return k};i.prototype.getStylePropertyOverrides=function(q,o,m){var l={};function p(s,r){if(!_.startsWith(r,"_")){if(!_.isEmpty(s.styles[m])){l[r]=s.styles[m]
}_.each(s.components,p)}}_.each(_.get(o,q+".components"),p);if(_.get(o,"components._priority")){var n=o.components._priority.indexOf(_.last(q.split("."))),k=o.components._priority.slice(n+1,o._priority.length);_.each(k,function(r){p(o[r],r)})}if(!_.isEmpty(l)){l=_.reduce(l,function(t,s,r){return t+="\n"+r+": "+s
},this.context.reportingContext.l("ic3.widget.appearance.override_caution"))}else{l=""}return l};i.prototype.getMetaForProperty=function(q,u,o,r,l){var p=this;var t=this.props.optionMeta.disabledProperties&&this.props.optionMeta.disabledProperties[q],n=t&&t(this,this.props.allProperties),s=u.replace("styleDefinition","").replace("components.","").replace(/\./ig," > ").replace(/-/ig," ").trim(" >"),m=u+"."+o+"."+q;
var k={label:q,subgroup:_.trim((s||"General")+this.getPropertySubgroup(q),". >"),valueRef:m,type:e.OptionMetaType.EXPRESSION,detailedInfo:function(){return p.getStylePropertyOverrides(u,{styleDefinition:_.merge(_.cloneDeep(l),p.props.value)},q)},defaultValue:n?"auto":r,flags:{readOnly:n},configurable:function(x,v,w){if(p.props.optionMeta.configurableProperties){if(p.props.optionMeta.configurableProperties[q]){return p.props.optionMeta.configurableProperties[q](k,w)
}if(p.props.optionMeta.configurableProperties.any){return p.props.optionMeta.configurableProperties.any(k,w)}}return true}};return _.merge(k,this.predefinedMeta[q])};i.prototype.getPropertySubgroup=function(l){var k=_.find(["Border","Color","Font"],function(m){return l.toLowerCase().includes(m.toLowerCase())
});return k?"."+k:""};return i}(h.AbstractInputComponent));h.StylingComponent=g})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var g=(function(j){__extends(i,j);function i(l,k){j.call(this,l,k)}i.prototype.render=function(){return(React.createElement("div",null,React.createElement(a.MetaWidgetOptions,{meta:this.props.meta,properties:this.props.properties,allProperties:this.props.allProperties,onChange:this.props.onChange,onAdvanced:this.props.onAdvanced}),React.createElement("div",{className:"btn-row"},React.createElement("button",{type:"button",className:classNames("btn btn-default",this.props.currentPreset=="Custom"?"active":""),onClick:this.props.savePreset},"Save"),React.createElement("button",{type:"button",className:"btn btn-default",onClick:this.props.resetPreset},"Reset"))))
};i.contextTypes={reportingContext:React.PropTypes.object};return i}(React.Component));h.StylingComponentAdvanced=g})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(i){var h=a.react.tags.TagAutosuggest;var g=(function(k){__extends(j,k);function j(m,l){var n=this;
k.call(this,m,l);this.onSuggestionSelected=function(o,p){n.setState({isValid:true,lastValidValue:o,autosuggestKey:a.uniqueId("autosuggest")})};this.onInputChange=function(o,p){var q=!!~_.indexOf(n.getSuggestionArray({events:true}),o)||_.isEmpty(o);var r=q?o:n.state.lastValidValue;
n.setState({isValid:q,lastValidValue:r})};this.filteredSuggestions=function(s,u){var t=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");var q=new RegExp(t,"i");var p=[];var o=n.getSuggestionArray();if(!n.state.isValid){o=_.filter(o,function(v){return ~v.search(q)})}if(o.length>0){p.push({suggestions:o})
}if(n.props.optionMeta.suggestEvents!=e.EventSuggestionsType.NONE){var r=_.map(n.props.eventsProducedInReport(),n.props.optionMeta.suggestEvents===e.EventSuggestionsType.PLAIN?"name":"lexeme");if(r.length>0){p.push({sectionName:"Available events",suggestions:r})
}}u(null,p)};_.defaults(this.state,this.initialState())}j.prototype.initialState=function(l){if(_.isEmpty(l)){l=this.props}return{lastValidValue:this.getValue(l.value||this.getDefaultValue(l.optionMeta)),isValid:true,autosuggestKey:a.uniqueId("autosuggest")}
};j.prototype.componentWillReceiveProps=function(l){k.prototype.componentWillReceiveProps.call(this,l);if(!_.isEqual(this.props.value,l.value)){this.setState(this.initialState(l))}};j.prototype.shouldComponentUpdate=function(l,m){if(this.state.isValid&&this.state.lastValidValue!==m.lastValidValue){this.props.onChange(this.translateHuman(m.lastValidValue));
return true}else{if(this.props.value!==l.value){this.state.isValid=true;this.state.lastValidValue=this.getValue(l.value)}}return this.state.isValid||m.isValid};j.prototype.getValue=function(l){return this.translateElven(l)};j.prototype.suggestionsImgRenderer=function(m,l){return(React.createElement("span",null,React.createElement("img",{src:ic3globals.imagesPath+"/"+_.camelCase(this.props.optionMeta.valueRef+m)+".png",alt:m}),this.suggestionsRenderer(m,l)))
};j.prototype.suggestionsRenderer=function(m,l){return this.translateElven(m)};j.prototype.renderIcon=function(){if(_.isEmpty(this.state.lastValidValue)){return null}return(React.createElement("span",{className:"input-group-addon"},React.createElement("img",{src:ic3globals.imagesPath+"/"+_.camelCase(this.props.optionMeta.valueRef+this.state.lastValidValue)+".png",alt:this.state.lastValidValue,style:{maxHeight:"20px"}})))
};j.prototype.renderWithAddon=function(){var l={className:"form-control",style:{zIndex:1},placeholder:this.postProcessLabel(this.props.optionMeta.label),onChange:this.onInputChange};return(React.createElement("div",{className:"input-group",style:{width:"100%"}},this.renderIcon(),React.createElement(h,{key:this.state.autosuggestKey,value:this.state.lastValidValue,suggestions:this.filteredSuggestions,showWhen:function(m){return true
},inputAttributes:l,suggestionRenderer:this.suggestionsImgRenderer.bind(this),suggestionValue:function(m){return m},onSuggestionSelected:this.onSuggestionSelected})))};j.prototype.renderInput=function(){var l={className:"form-control",placeholder:this.postProcessLabel(this.props.optionMeta.label),onChange:this.onInputChange};
if(this.props.optionMeta.showIcons){return this.renderWithAddon()}return(React.createElement(h,{key:this.state.autosuggestKey,value:this.translateElven(this.state.lastValidValue),suggestions:this.filteredSuggestions,suggestionRenderer:this.suggestionsRenderer.bind(this),showWhen:function(m){return true
},inputAttributes:l,onSuggestionSelected:this.onSuggestionSelected}))};return j}(i.AbstractInputComponent));i.SelectComponent=g})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]
}}}return b};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var g=(function(j){__extends(i,j);function i(l,k){j.call(this,l,k);this.DnD={elementSource:{beginDrag:function(m){return{idx:m.idx,label:m.optionMeta.label+" "+(m.idx+1)}
},endDrag:function(n,m){if(!m.didDrop()){return}n.swapItems(n.idx,m.getDropResult().idx)}},elementTarget:{drop:function(n,m){return n}},dragCollect:function(n,m){return{connectDragSource:n.dragSource(),isDragging:m.isDragging()}},dropCollect:function(n,m){return{connectDropTarget:n.dropTarget()}
}};this.DnDElement=React.createClass({render:function(){var q=this.props,p=q.connectDragSource,r=q.isDragging,o=q.connectDropTarget,t=q.optionMeta,m=q.idx;var n=classNames("panel-body",this.props.opened?"":"hidden"),s=p(this.props.title);return o(React.createElement("div",{key:"inline-array-"+m,className:"panel panel-default",style:{visibility:r?"hidden":"visible"}},s,React.createElement("div",{className:n},React.createElement(a.MetaWidgetOptions,{properties:this.props.element,allProperties:this.props.allProperties,meta:{metaProps:t.children,keepFields:t.advanced?[t.advanced.valueRef]:[]},onChange:this.props.changeHandler,onAdvanced:this.props.onAdvanced}))))
}});this.Element=_.flow(ReactDnD.DragSource(a.ItemTypes.ELEMENT,this.DnD.elementSource,this.DnD.dragCollect),ReactDnD.DropTarget(a.ItemTypes.ELEMENT,this.DnD.elementTarget,this.DnD.dropCollect))(this.DnDElement);this.state={showDetails:[true]}}i.prototype.handleAddObject=function(){var k=this.props.value||[];
k.push({});this.props.onChange(k)};i.prototype.handleRemoveObject=function(k){var l=this.props.value||[];l.splice(k,1);this.props.onChange(l)};i.prototype.handleOpenDetailedOptions=function(p,k,n){var q=this;n.stopPropagation();var l=this.props,o=l.value,m=l.allProperties;
this.props.onAdvanced(this.postProcessLabel(p.label)+" "+(k+1),function(){return({meta:{metaProps:p.children},properties:o[k][p.valueRef],allProperties:m,onChange:function(r){o[k][p.valueRef]=r;q.props.onChange(o)}})})};i.prototype.toggleOptionDetails=function(k){this.state.showDetails[k]=!this.state.showDetails[k];
this.forceUpdate()};i.prototype.changeHandler=function(k,m){var l=this.props.value||[];l[k]=m;this.props.onChange(l)};i.prototype.swapItems=function(l,m){if(l!=m){var k=this.props.value;var n=_.first(k.splice(l,1));k.splice(m,0,n);this.props.onChange(k)}};i.prototype.postProcessLabel=function(k){var l=this.context.reportingContext.getEvaluator().evaluate(k);
return(l===k)?_.startCase(k):l};i.prototype.renderTitle=function(l,s){var o=this.props,n=o.hideToolbar,v=o.optionMeta,r=o.value;var k=_.size(r)>0;var p=v.advanced;var u=null;if(p&&(_.isUndefined(p.configurable)||p.configurable(v,r[s],this.props.allProperties))){u=(React.createElement("span",{className:"pull-right glyphicons glyphicons-cogwheel",onClick:this.handleOpenDetailedOptions.bind(this,p,s)}))
}var w=classNames("pull-right","glyphicons",this.state.showDetails[s]?"glyphicons-chevron-down":"glyphicons-chevron-up");var t=l[v.childrenLabel]?" - "+this.postProcessLabel(l[v.childrenLabel]):(s+1);var q=this.postProcessLabel(v.label)+" "+t;var m=null;if(!this.props.optionMeta.alwaysOpened){m=(React.createElement("span",{className:w}))
}return(React.createElement("div",{className:"panel-heading",onClick:this.toggleOptionDetails.bind(this,s)},k?React.createElement("span",{className:"pull-left glyphicons glyphicons-remove",onClick:this.handleRemoveObject.bind(this,s)}):null,React.createElement("span",null,q),m,u))
};i.prototype.renderObject=function(m,k){var l=this.Element;return(React.createElement(l,__assign({},this.props,{key:k,idx:k,element:m,title:this.renderTitle(m,k),changeHandler:this.changeHandler.bind(this,k),swapItems:this.swapItems.bind(this),opened:this.state.showDetails[k]||this.props.optionMeta.alwaysOpened})))
};i.prototype.render=function(){var l=_.map(this.props.value||[],this.renderObject.bind(this));var n=(React.createElement("div",{className:"inline-array"},l,React.createElement("div",{key:this.props.optionMeta.valueRef,className:"btn btn-default btn-xs btn-block",onClick:this.handleAddObject.bind(this)},"+ New ",this.postProcessLabel(this.props.optionMeta.label))));
if(this.props.optionMeta.subgroup){var k=this.props.optionMeta.subgroup;var m=_.isObject(k)?k.title:k;return(React.createElement(h.SubgroupComponent,{content:n,title:m}))}return n};i.contextTypes={reportingContext:React.PropTypes.object};return i}(React.Component));
h.InlineArrayComponent=g})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(i){var g=a.react.Autosuggest;var h=a.react.colorpicker.ColorPicker;var j=(function(k){__extends(l,k);function l(n,m){var o=this;
k.call(this,n,m);this.toggleTextSettings=function(){var p={editPartMode:!o.state.editPartMode};o.onChange();o.setState(p)};this.onFontNameSelected=function(p,q){var r={isValid:true,fontName:p};o.setState(r)};this.fontNameSuggestions=function(q,t){var s=q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");
var p=new RegExp(s,"i");var r=["Verdana","Arial","Helvetica","sans-serif"];if(!o.state.isValid){r=r.filter(function(u){return u.search(p)>=0})}t(null,r)};this.state=this.initialState()}l.prototype.initialState=function(m){if(!m){m=this.props}var n=_.defaults({},m.selection,{isTextEnabled:true,fontName:"Verdana",fontSize:14,backgroundColor:"#ffffff",useSizeParam:false,useColorParam:false});
return n};l.prototype.onChange=function(n){var m={editPartMode:this.state.editPartMode,selection:{isTextEnabled:this.state.isTextEnabled,useSizeParam:this.state.useSizeParam,useColorParam:this.state.useColorParam,fontName:this.state.fontName,fontSize:this.state.fontSize,backgroundColor:this.state.backgroundColor}};
if(!_.isEmpty(n)){}this.props.onChange(m)};l.prototype.renderTextInput=function(){var m={className:"form-control",style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px",zIndex:"inherit"},placeholder:this.postProcessLabel(this.props.optionMeta.label),onChange:this.onChange};
return(React.createElement(g,{key:"fontTextSuggest",value:this.state.fontName,suggestions:this.suggestions,showWhen:function(n){return true},inputAttributes:m}))};l.prototype.renderFontEditor=function(){var n=this;if(this.state.editPartMode){if(this.props.eventMode){return this.renderTextInput()
}var m={className:"form-control",placeholder:"Font",style:{borderRadius:"4px",zIndex:"inherit"},onChange:function(p,o){n.state.fontName=p;n.onChange()}};return(React.createElement("div",{className:"form-group",style:{marginBottom:"45px"}},React.createElement("label",null,"Font"),React.createElement(g,{key:"fontNameSuggest",value:this.state.fontName,suggestions:this.fontNameSuggestions,showWhen:function(o){return true
},inputAttributes:m,onSuggestionSelected:this.onFontNameSelected})))}return null};l.prototype.renderFontSizeEditor=function(){var n=this;if(this.state.editPartMode){if(this.props.eventMode){return this.renderTextInput()}var m=function(o){try{n.state.fontSize=parseInt(o.target.value);
n.onChange()}catch(p){}};return(React.createElement("div",{className:"form-group",style:{marginBottom:"45px"}},React.createElement("label",null,"Font Size"),React.createElement("input",{className:"form-control",type:"number",onChange:m,value:this.state.fontSize.toString()})))
}return null};l.prototype.renderBgColorEditor=function(){var n=this;if(this.state.editPartMode){if(this.props.eventMode){return this.renderTextInput()}var m=function(o){n.setState({editColorMode:!n.state.editColorMode})};return(React.createElement("div",{className:"form-group",style:{marginBottom:"5px"}},React.createElement("label",null,"Background Color"),React.createElement("div",{className:"btn btn-default",onClick:m},React.createElement("div",{style:{backgroundColor:this.state.backgroundColor,width:"20px",height:"15px"}})),this.renderColorPicker()))
}return null};l.prototype.renderColorPicker=function(){var n=this;if(!this.state.editColorMode){return null}var m=function(o,p){n.state.backgroundColor=p?p:"#"+o.hex;n.onChange()};return(React.createElement(h,{value:this.state.backgroundColor,onChange:m}))};
l.prototype.renderTextEditor=function(){var p=this;if(this.state.editPartMode){if(this.props.eventMode){return this.renderTextInput()}var m={className:"form-control",placeholder:"Font",style:{borderRadius:"4px",zIndex:"inherit"},onChange:function(r,q){p.setState({fontName:r})
}};var o=function(q){p.state.isTextEnabled=q.target.checked;p.onChange()};var n="switch-fontEnabled";return(React.createElement("div",{style:{marginTop:"45px"}},React.createElement("div",{className:"container-fluid",style:{marginBottom:"15px"}},React.createElement("label",{htmlFor:n,className:"onoffswitch-control-label"},"Show ",React.createElement("i",{style:{color:"#777"}},this.state.isTextEnabled)),React.createElement("div",{key:n,className:"onoffswitch pull-left"},React.createElement("input",{type:"checkbox",className:"onoffswitch-checkbox",id:n,onChange:o,checked:this.state.isTextEnabled}),React.createElement("label",{className:"onoffswitch-label",htmlFor:n}))),this.renderFontEditor(),this.renderFontSizeEditor(),this.renderBgColorEditor()))
}return null};l.prototype.render=function(){return(React.createElement("div",{className:"input-group",style:{width:"100%",backgroundColor:"#eee"}},React.createElement("div",{className:"btn-group input-group-addon dropdown-toggle",onClick:this.toggleTextSettings},"[ T ]"),this.props.children,this.renderTextEditor()))
};return l}(i.AbstractInputComponent));i.CompositeTextPart=j})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(j){var h=a.react.Autosuggest;var g=React.createFactory(ReactSlider);var k=function(l,n,m){return(l&&l.map)?l.map(n,m):n.call(m,l,0)
};var i=(function(m){__extends(l,m);function l(o,n){var p=this;m.call(this,o,n);this.toggleTextSettings=function(){var q={editPartMode:!p.state.editPartMode};p.onChange();p.setState(q)};this.handleChange=function(q){p.state.range=q;p.onChange();p.forceUpdate()
};this.handleSlide=function(q){p.setState({range:q});p.onChange()};this.state=this.initialState()}l.prototype.initialState=function(o){if(!o){o=this.props}var n=[10,30];if(!_.isEmpty(o.selection)){n=[o.selection.min,o.selection.max]}var p={min:0,max:100,step:1,range:n};
return p};l.prototype.onChange=function(o){var n={editPartMode:this.state.editPartMode,selection:{min:this.state.range[0],max:this.state.range[1]}};if(!_.isEmpty(o)){}this.props.onChange(n)};l.prototype.renderTextInput=function(){var n={className:"form-control",style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px",zIndex:"inherit"},placeholder:this.postProcessLabel(this.props.optionMeta.label),onChange:this.onChange};
return(React.createElement(h,{key:"fontTextSuggest",value:this.state.range.join(","),suggestions:this.suggestions,showWhen:function(o){return true},inputAttributes:n}))};l.prototype.renderEditor=function(){if(this.state.editPartMode){if(this.props.eventMode){return this.renderTextInput()
}var n=g({min:this.state.min,max:this.state.max,withBars:true,onChange:this.handleSlide,onAfterChange:this.handleChange,value:this.state.range,step:this.state.step,className:classNames("ui-widget-content","ui-corner-all","react-slider"),handleClassName:classNames("react-slider-handle","ui-state-default","ui-corner-all")},k(this.state.range,function(p,o){return(React.createElement("div",{key:o},p))
}));return(React.createElement("div",{style:{margin:"50px 5px 20px 5px"}},n))}return null};l.prototype.render=function(){return(React.createElement("div",{className:"input-group",style:{width:"100%",backgroundColor:"#eee"}},React.createElement("div",{className:"btn-group input-group-addon dropdown-toggle",onClick:this.toggleTextSettings},this.state.range.join("-")),this.props.children,this.renderEditor()))
};return l}(j.AbstractInputComponent));j.CompositeSizePart=i})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(i){var g=a.react.Autosuggest;var h=(function(k){__extends(j,k);function j(m,l){var n=this;
k.call(this,m,l);this.applyChanges=function(q,p){var o={selection:n.state.selection,valueExpression:n.state.valueExpression};if(p===true){o.valueExpression=q}else{_.merge(o,q)}n.props.onChange(o);n.setState(o)};this.state=this.initialState()}j.prototype.initialState=function(l){if(!l){l=this.props
}var m=_.defaults({},l.value,{valueExpression:l.valueExpression||"/**\n * Function should return numeric value to be\n * displayed on chart.\n * @param measuresMap key-value storage, where key\n * represents full value name like:\n * \"[Measures].[Amount]\"\n */\nfunction(measuresMap) {\n    return measuresMap['[Measures].[Default]']['VALUE']\n}"});
return m};j.prototype.getValueFromFunction=function(){var l=/^\s*return\s*(.*)/img.exec(this.state.valueExpression)[1];return l.replace(/\s*measuresMap\['(\[[a-zA-Z\d\]\[.]+])']\['VALUE']/img,"$1")};j.prototype.getSuggestionOptions=function(l,o){var m=[a.reporting.amcharts.data.DEFAULT_MEASURE];
var n=_.get(this.props,"allProperties.data.mdxWizard.guts_.measures");if(_.isArray(n)){m.push.apply(m,_.map(n,"uniqueName"))}setTimeout(function(){o(null,m)},10)};j.prototype.handleSimpleInputChange=function(m){var l=m.replace(/\s*(\[[a-zA-Z\d\]\[.]+])/img,"measuresMap['$1']['VALUE']");
this.applyChanges(this.state.valueExpression.replace(/^(\s*return)\s*(.*)/img,"$1 "+l),true)};j.prototype.renderLabel=function(){return(React.createElement("label",{className:"control-label"},this.postProcessLabel(this.props.optionMeta.label)))};j.prototype.renderExpression=function(){var l={className:"form-control",onChange:this.handleSimpleInputChange.bind(this),style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px",zIndex:"inherit"},disabled:this.state.eventMode&&!this.state.editPartMode};
return(React.createElement(g,{key:"expressionSuggest",value:this.getValueFromFunction(),suggestions:this.getSuggestionOptions.bind(this),inputAttributes:l,showWhen:function(m){return true}}))};j.prototype.renderCodeMirror=function(){if(this.state.eventMode&&!this.state.editPartMode){var m=/^\s*function\s*\(.*\)\s*\{/gmi;
m.exec(this.state.valueExpression);var l=this.state.valueExpression.substr(0,m.lastIndex).split("\n").length;return(React.createElement(a.ReactCodeMirror,{mode:a.CodeMirrorMode.JAVASCRIPT,value:this.state.valueExpression,onChange:this.applyChanges,readOnlyHeader:l}))
}return null};j.prototype.render=function(){var l=a.reporting.editor.components[this.props.optionMeta.compositePart];return(React.createElement("div",{className:"form-group",title:this.props.optionMeta.detailedInfo},this.renderLabel(),this.renderToolbar(),this.state.showInfo?React.createElement("small",{style:{color:"#777",display:"block"}},this.props.optionMeta.detailedInfo):null,React.createElement(l,{optionMeta:this.props.optionMeta,eventMode:this.state.eventMode,onChange:this.applyChanges,selection:this.props.selection},this.renderExpression()),this.renderCodeMirror()))
};return j}(i.AbstractInputComponent));i.CompositeValue=h})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]
}}}return b};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=(function(i){__extends(j,i);function j(){i.apply(this,arguments)}j.prototype.isDefaultValue=function(){var k=i.prototype.isDefaultValue.call(this);if(!k){if(_.get(this.props,"value.mode")==_.get(this.props,"optionMeta.defaultValue.mode")){k=true
}}return k};j.prototype.beforeSave=function(k){switch(k.mode){case e.ColorModeType.PALETTE:case e.ColorModeType.PALETTE_FOR_CATEGORIES:case e.ColorModeType.PALETTE_FOR_VALUES:var l=_.map(this.context.reportingContext.mainReport().getTheme().getPalettes(),"colors");
this.context.reportingContext.userPersistentData().addRecentPalette(k.colors,l);break;case e.ColorModeType.SINGLE_COLOR:this.context.reportingContext.userPersistentData().addRecentColor(k.color);break}};j.prototype.handleSave=function(k){this.beforeSave(k);
this.props.onChange(k)};j.prototype.openModal=function(){var m=this;var l=undefined,k=function(){return m.context.reportingContext.mainReport().clearModal(l)};l=this.context.reportingContext.mainReport().addModal(React.createElement(e.ColorDefinitionDialog,__assign({},this.props,{widgetAdapter:this.context.widgetAdapter,value:this.props.value||this.props.optionMeta.defaultValue,saveData:this.handleSave.bind(this),onClose:k})))
};j.prototype.onDelete=function(){this.props.onChange(this.props.optionMeta.defaultValue)};j.prototype.renderInput=function(){var m=this.props,n=m.value,k=m.optionMeta.defaultValue;var o=null,p=this.context.reportingContext.getEvaluator(),l;switch(n&&n.mode){case e.ColorModeType.PALETTE:case e.ColorModeType.PALETTE_FOR_CATEGORIES:case e.ColorModeType.PALETTE_FOR_VALUES:o=p.evaluate("@d{ic3.color_mode.type_alias.palette}")+" "+p.evaluate(n.mode);
break;case e.ColorModeType.CONDITIONAL:case e.ColorModeType.EXPRESSION:case e.ColorModeType.MDX_MEASURE:case e.ColorModeType.MDX_AXIS_PROP:case e.ColorModeType.MDX_PROP:o=p.evaluate(n.mode);break;case e.ColorModeType.SINGLE_COLOR:l=n.color;case e.ColorModeType.AUTO:l=l||(k&&k.color);
if(l){o=(React.createElement("div",{className:"preview",style:{backgroundColor:l}},l));break}default:o=p.evaluate(e.ColorModeType.AUTO)}return(React.createElement("div",{className:"btn btn-default color-mode",onClick:this.openModal.bind(this)},o))};return j
}(g.SelectComponent));g.ColorModeComponent=h})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){h.tinyMceConfig={theme:"modern",plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste"],menu:{edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"image link media | template hr"},view:{title:"View",items:"visualaid code"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"}},toolbar:false};
var g=(function(j){__extends(i,j);function i(l,k){var m=this;j.call(this,l,k);this.autocompleteRequest=function(o,s){var r=o.getCursor();if(o.getTokenAt(r).string==="@"){var q=m.context.reportingContext.eventsProducedInReport(false);var n={list:[],from:{line:r.line,ch:(r.ch-1)},to:r};
for(var p=0;p<q.length;p++){n.list.push(q[p].lexeme)}s(n);return}};this.state={mode:ic3globals.libs.TinyMCE?"text":"html"}}i.prototype.showModalEditor=function(){var l=this.props,n=l.properties.content,k=l.onChange;var p=this.context.reportingContext.mainReport();
var m=function(){return p.clearModal()};var o=function(q){k({content:q,isHtml:true});m()};p.setModal(React.createElement(a.TextEditorDialog,{title:"HTML editor",mode:a.CodeMirrorMode.HTML,text:n,autocomplete:this.autocompleteRequest,onOk:o,onCancel:m}))};i.prototype.renderEditor=function(){var p=this;
var n=a.ReactCodeMirror,m=a.CodeMirrorMode;var l=this.props,o=l.properties.content,k=l.onChange;switch(this.state.mode){case"html":return(React.createElement(n,{mode:m.HTML,value:o,onMouseDown:function(){return p.showModalEditor()},onChange:function(q){return k({content:q,isHtml:true})
}}));case"text":default:if(ic3globals.libs.TinyMCE){return(React.createElement(ReactTinymce,{config:h.tinyMceConfig,content:o,onChange:function(q){return k({content:q.target.getContent(),isHtml:true})}}))}else{return(React.createElement(n,{mode:{},value:o,onChange:function(q){return k({content:q,isHtml:false})
}}))}}};i.prototype.handleModeSwitch=function(k){if(k=="html"){this.props.onChange({content:this.props.properties.content,isHtml:true});this.setState({mode:k})}else{if(ic3globals.libs.TinyMCE){this.props.onChange({content:this.props.properties.content,isHtml:false});
this.setState({mode:k})}}};i.prototype.render=function(){var m=this;var l=this.state.mode;var k={cursor:!ic3globals.libs.TinyMCE?"not-allowed":null};return(React.createElement("div",null,React.createElement("div",{className:"tabs"},React.createElement("div",{className:classNames({active:l==="html"}),onClick:function(){m.handleModeSwitch("html")
}},"HTML"),React.createElement("div",{className:classNames({active:l==="text"}),style:k,onClick:function(){m.handleModeSwitch("text")}},"Text")),this.renderEditor()))};i.contextTypes={reportingContext:React.PropTypes.object};return i}(React.Component));h.TinyMceComponent=g
})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=(function(i){__extends(j,i);function j(l,k){var m=this;i.call(this,l,k);this.onClick=function(q){var o=m.props,r=o.value,u=o.optionMeta;var p=r||u.defaultValue||"";var t={label:"Value",valueRef:"value",type:e.OptionMetaType.EXPRESSION,contextType:"DATA"};
if(_.get(u,"flags.modal",false)){q.stopPropagation();q.preventDefault();var s=null,n=function(){return m.context.reportingContext.mainReport().clearModal(s)};s=m.context.reportingContext.mainReport().addModal(React.createElement(a.ExpressionEditor,{meta:t,suggestions:m.getSuggestions(),value:(_.isObject(p)?p.jsFunctionBody:p),mode:_.isString(p)?a.CodeMirrorMode.HTML:a.CodeMirrorMode.JAVASCRIPT,onChange:m.props.onChange,closeHandler:n}))
}};this.state={}}j.prototype.postProcessLabel=function(k){var l=this.context.reportingContext.getEvaluator().evaluate(k);return(l===k)?_.startCase(k):l};j.prototype.getSuggestions=function(){var k=[];if(_.isFunction(this.props.optionMeta.suggestion)){k=this.props.optionMeta.suggestion(this.props.allProperties,this.context.reportingContext,this.props.widgetAdapter)
}else{k=this.props.optionMeta.suggestion}return k};j.prototype.render=function(){var k=this.props,l=k.value,m=k.optionMeta;return(React.createElement("div",{className:"form-group"},React.createElement("label",{className:"control-label"},this.postProcessLabel(m.label)),React.createElement(a.ReactCodeMirror,{value:l||m.defaultValue||"",mode:a.CodeMirrorMode.HTML,onMouseDown:this.onClick})))
};j.contextTypes={reportingContext:React.PropTypes.object};return j}(React.Component));g.CodeMirrorComponent=h})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(g,f){var h=this;d.call(this,g,f);this.renderSelectionItem=function(i){return(React.createElement("div",{className:classNames("accordion-select-item",_.get(h.props,"value.id")==i.id?"selected":null),onClick:function(){h.props.onChange(i)
}},React.createElement("div",{className:classNames("ic3-type-preview-45px",i.id)}),React.createElement("div",{className:"item-label"},h.postProcessLabel(i.label)),_.map(i.handlers,function(k,j){return k?(React.createElement("span",{className:"pull-right glyphicons glyphicons-bin",onClick:function(l){l.stopPropagation();
k(l)}})):null})))};this.renderCollapsible=function(i){var j=h.state.openedTabs[i.sectionName]||(_.isEmpty(h.state.openedTabs)&&!_.isUndefined(_.find(i.suggestions,{id:h.props.value.id})));return(React.createElement("div",{className:"accordion-select-collapsible"},React.createElement("div",{className:"accordion-select-section",onClick:function(){h.handleCollapse(i.sectionName)
}},h.postProcessLabel(i.sectionName),j?React.createElement("span",{className:"glyphicons glyphicons-chevron-up pull-right"}):React.createElement("span",{className:"glyphicons glyphicons-chevron-down pull-right"})),j?React.createElement("div",{className:"accordion-items"},_.map(i.suggestions,h.renderSelectionItem)):null))
};var e=g.optionMeta.suggestion;this.state={openedTabs:_.get(g.optionMeta,"flags.allOpened",false)?_.zipObject(_.map(e,"sectionName"),_.times(_.size(e),_.constant(true))):{}}}c.prototype.handleCollapse=function(f){var g=this,h=g.state.openedTabs,i=g.props.optionMeta;
if(_.get(i,"flags.separateAccordions",false)){this.setState({openedTabs:_.set(h,[f],!h[f])})}else{this.setState({openedTabs:(e={},e[f]=!h[f],e)})}var e};c.prototype.render=function(){var e=_.isFunction(this.props.optionMeta.suggestion)?this.props.optionMeta.suggestion(this.props.allProperties,this.context.reportingContext):this.props.optionMeta.suggestion;
return(React.createElement("div",{className:"accordion-select"},_.map(_.filter(e,function(f){return _.isEmpty(f.sectionName)}),this.renderSelectionItem),_.map(_.filter(e,function(f){return !_.isEmpty(f.sectionName)}),this.renderCollapsible)))};return c}(a.reporting.editor.components.AbstractInputComponent));
a.AccordionSelectComponent=b})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(g){var j=a.reporting.editor.components.TextComponent;var f=a.reporting.editor.components.CheckboxComponent;var u=a.reporting.editor.components.NumberComponent;
var r=a.reporting.editor.components.PaletteComponent;var o=a.reporting.editor.components.ColorComponent;var E=a.reporting.editor.components.RangeComponent;var x=a.reporting.editor.components.FunctionComponent;var C=a.reporting.editor.components.ExpressionComponent;
var n=a.reporting.editor.components.GradientComponent;var s=a.reporting.editor.components.TypeSelectComponent;var k=a.reporting.editor.components.StylingComponent;var v=a.reporting.editor.components.SelectComponent;var A=a.reporting.editor.components.InlineArrayComponent;
var y=a.reporting.editor.components.CompositeValue;var p=a.reporting.editor.components.ColorModeComponent;var D=a.reporting.editor.components.CodeMirrorComponent;var w=a.reporting.editor.components.EditorComponent;(function(F){F[F.OBJECT=0]="OBJECT";F[F.OBJECT_ARRAY=1]="OBJECT_ARRAY";
F[F.TEXT=2]="TEXT";F[F.NUMBER=3]="NUMBER";F[F.BOOLEAN=4]="BOOLEAN";F[F.DATE=5]="DATE";F[F.COLOR=6]="COLOR";F[F.MULTISELECT=7]="MULTISELECT";F[F.SELECT=8]="SELECT";F[F.COLOR_MODE=9]="COLOR_MODE";F[F.ACCORDION_SELECT=10]="ACCORDION_SELECT";F[F.PALETTE=11]="PALETTE";
F[F.FUNCTION=12]="FUNCTION";F[F.RANGE=13]="RANGE";F[F.EXPRESSION=14]="EXPRESSION";F[F.TYPE_SELECT=15]="TYPE_SELECT";F[F.STYLING=16]="STYLING";F[F.GRADIENT=17]="GRADIENT";F[F.INLINE_ARRAY=18]="INLINE_ARRAY";F[F.VALUE_COMPOSITE=19]="VALUE_COMPOSITE";F[F.PLAIN_TEXT=20]="PLAIN_TEXT";
F[F.TEMPLATE=21]="TEMPLATE";F[F.SERVER_FILE=22]="SERVER_FILE";F[F.EDITOR=23]="EDITOR"})(g.OptionMetaType||(g.OptionMetaType={}));var m=g.OptionMetaType;(function(F){F[F.EXPRESSION_VALUES_ONLY=0]="EXPRESSION_VALUES_ONLY"})(g.SuggestionType||(g.SuggestionType={}));
var e=g.SuggestionType;(function(F){F[F.NONE=0]="NONE";F[F.PLAIN=1]="PLAIN";F[F.FULL=2]="FULL"})(g.EventSuggestionsType||(g.EventSuggestionsType={}));var l=g.EventSuggestionsType;g.OptionMetaEmpty=[{label:null,valueRef:null,type:null}];g.OptionsMetaComponents=(i={},i[m.TEXT]=j,i[m.NUMBER]=u,i[m.BOOLEAN]=f,i[m.DATE]=j,i[m.COLOR]=o,i[m.PALETTE]=r,i[m.SELECT]=v,i[m.ACCORDION_SELECT]=a.AccordionSelectComponent,i[m.MULTISELECT]=v,i[m.RANGE]=E,i[m.FUNCTION]=x,i[m.EXPRESSION]=C,i[m.GRADIENT]=n,i[m.TYPE_SELECT]=s,i[m.STYLING]=k,i[m.INLINE_ARRAY]=A,i[m.VALUE_COMPOSITE]=y,i[m.COLOR_MODE]=p,i[m.PLAIN_TEXT]=j,i[m.TEMPLATE]=D,i[m.SERVER_FILE]=j,i[m.EDITOR]=w,i);
(function(F){F[F.STYLE=0]="STYLE";F[F.CSS=1]="CSS"})(g.EditorComponentMode||(g.EditorComponentMode={}));var q=g.EditorComponentMode;var t=(function(){function F(){}F.AUTO="@d{ic3.color_mode.auto}";F.SINGLE_COLOR="@d{ic3.color_mode.single_color}";F.PALETTE="@d{ic3.color_mode.palette}";
F.PALETTE_FOR_CATEGORIES="@d{ic3.color_mode.palette_for_categories}";F.GRADIENT="@d{ic3.color_mode.gradient}";F.PALETTE_GRADIENT="@d{ic3.color_mode.palette_gradient}";F.PALETTE_FOR_VALUES="@d{ic3.color_mode.palette_for_values}";F.MDX_PROP="@d{ic3.color_mode.mdx_property}";
F.MDX_AXIS_PROP="@d{ic3.color_mode.mdx_axis_property}";F.MDX_MEASURE="@d{ic3.color_mode.mdx_measure}";F.EXPRESSION="@d{ic3.color_mode.expression}";F.CONDITIONAL="@d{ic3.color_mode.conditional}";return F}());g.ColorModeType=t;var z=(function(){function F(){}F.UUID="id";
F.PATH="name";return F}());g.ServerBrowserType=z;g.ColorModeStacks={FULL:[t.AUTO,t.SINGLE_COLOR,t.PALETTE,t.PALETTE_FOR_CATEGORIES,t.PALETTE_FOR_VALUES,t.MDX_MEASURE,t.MDX_PROP,t.MDX_AXIS_PROP,t.CONDITIONAL,t.EXPRESSION],PALETTE:[t.AUTO,t.SINGLE_COLOR,t.PALETTE,t.EXPRESSION],SINGLE:[t.AUTO,t.SINGLE_COLOR,t.EXPRESSION],FILTER:[t.AUTO,t.SINGLE_COLOR,t.PALETTE_FOR_CATEGORIES,t.MDX_PROP,t.EXPRESSION]};
g.ColorModeMeta=(h={},h[t.SINGLE_COLOR]=[{label:"",valueRef:"color",type:m.COLOR}],h[t.PALETTE]=[{label:"",valueRef:"colors",type:m.PALETTE},{label:"Alpha",valueRef:"alpha",detailedInfo:"Alpha value. Should be from 0 to 1",defaultValue:1,range:{min:0,max:100,step:0.1},type:m.NUMBER}],h[t.PALETTE_FOR_CATEGORIES]=[{label:"",valueRef:"categoryLevel",placeholder:"Level of Categorisation",detailedInfo:"Level of Categorisation",type:m.NUMBER,defaultValue:0},{label:"",valueRef:"colors",type:m.PALETTE},{label:"Alpha",valueRef:"alpha",detailedInfo:"Alpha value. Should be from 0 to 1",defaultValue:1,range:{min:0,max:1,step:0.1},type:m.NUMBER}],h[t.PALETTE_FOR_VALUES]=[{label:"",valueRef:"gradeFunc",defaultValue:"Auto",detailedInfo:"Expression that calculates offset for a gradient color value. Must be from 0.0 to 1.0. Measure name can be used instead.",type:m.EXPRESSION,contextType:"CELL",afterChange:function(F){_.get(F,"gradeFunc")
}},{label:"",valueRef:"minValue",defaultValue:"Min Value",suggestion:function(H,G){var F=(["Value"]).concat(_.map(G.getMeasures().getEntities(),"name"));return _.reduce(["Min ","Min Row ","Min Column "],function(J,I){return J.concat(_.map(F,function(K){return I+K
}))},[])},detailedInfo:"Value that will be used as minimum while scaling.",type:m.EXPRESSION,configurable:function(G,F){return !_.isObject(G.gradeFunc)}},{label:"",valueRef:"maxValue",defaultValue:"Max Value",suggestion:function(H,G){var F=(["Value"]).concat(_.map(G.getMeasures().getEntities(),"name"));
return _.reduce(["Max ","Max Row ","Min Column "],function(J,I){return J.concat(_.map(F,function(K){return I+K}))},[])},detailedInfo:"Value that will be used as maximum while scaling",type:m.EXPRESSION,configurable:function(G,F){return !_.isObject(G.gradeFunc)
}},{label:"",valueRef:"interpolateMode",defaultValue:"No Interpolation",detailedInfo:"Color interpolation strategy",type:m.SELECT,suggestion:["No Interpolation","Interpolate HSV","Interpolate RGB"],contextType:"CELL"},{label:"",valueRef:"colors",type:m.PALETTE},{label:"Alpha",valueRef:"alpha",detailedInfo:"Alpha value. Should be from 0 to 1",defaultValue:1,range:{min:0,max:1,step:0.1},type:m.NUMBER},{label:"Empty cells Color",valueRef:"emptyColor",defaultValue:"transparent",detailedInfo:"Color for empty cells",type:m.COLOR}],h[t.GRADIENT]=[{label:"",valueRef:"gradeFunc",defaultValue:"Auto",detailedInfo:"Expression that calculates offset for a gradient color value. Must be from 0.0 to 1.0",type:m.EXPRESSION,contextType:"CELL"},{label:"",valueRef:"gradient",type:m.GRADIENT}],h[t.PALETTE_GRADIENT]=[{label:"",valueRef:"gradeFunc",defaultValue:"Auto",detailedInfo:"Expression that calculates offset for a gradient color value. Must be from 0.0 to 1.0",type:m.EXPRESSION,contextType:"CELL"},{label:"",valueRef:"colors",type:m.PALETTE}],h[t.MDX_PROP]=[{label:"",valueRef:"mdxProperty",type:m.TEXT,defaultValue:"BACK_COLOR"}],h[t.EXPRESSION]=[{label:"",valueRef:"colorFunc",type:m.EXPRESSION,contextType:"CELL"}],h);
function B(G,F){return _.map(G,function(H){if(F){H=_.clone(H);H=_.assign(H,_.mapValues(F,function(J,I){return _.isFunction(J)?J(H[I],I,H):J}))}return H})}g.MetaOverride=B;var i,h})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;
a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var ic3;(function(a){var b;(function(c){var d;(function(e){var f=(function(g){__extends(h,g);function h(j,i){g.call(this,j,i);this.state={value:(_.isObject(this.props.value)?_.cloneDeep(this.props.value):{mode:"@d{ic3.color_mode.auto}"})}
}h.prototype.getChildContext=function(){return{reportingContext:this.context.reportingContext,widgetAdapter:this.props.widgetAdapter,optionMeta:this.props.optionMeta}};h.prototype.handleModeChange=function(j){var i=this.makeValue(j);this.applyChanges(i)};h.prototype.handleValueChange=function(i){this.applyChanges(i)
};h.prototype.applyChanges=function(i){if(i.mode==e.ColorModeType.AUTO){i.mode=e.ColorModeType.SINGLE_COLOR}this.setState({value:i})};h.prototype.makeValue=function(k){var i=_.cloneDeep(this.state.value),j=function(m,l){return _.set(i,m,_.get(i,m,l))};i.mode=k;
switch(k){case e.ColorModeType.AUTO:case e.ColorModeType.SINGLE_COLOR:default:j("color",_.get(this.state,"optionMeta.defaultValue.color","#951b81"));break;case e.ColorModeType.PALETTE:case e.ColorModeType.PALETTE_FOR_VALUES:case e.ColorModeType.PALETTE_FOR_CATEGORIES:j("colors",["#951b81","#c4398d","#da6bae","#eca7d1","#540b48","#761466"]);
break;case e.ColorModeType.MDX_AXIS_PROP:j("mdxAxisProperty","0");break;case e.ColorModeType.MDX_MEASURE:j("mdxMeasure","Value");break;case e.ColorModeType.CONDITIONAL:j("conditions",[{comparableMeasure:"Value",comparator:">",comparable:"0",value:null}]);j("defaultConditionalValue",null);
break;case e.ColorModeType.MDX_PROP:j("mdxProperty","BACK_COLOR");break;case e.ColorModeType.EXPRESSION:j("colorFunc",_.get(this.state,"optionMeta.defaultValue.colorFunc",{evaluationType:"JS",jsFunctionBody:'return "#951b81"',contextType:"CELL"}));break}return i
};h.prototype.renderBody=function(){switch(this.state.value.mode){case e.ColorModeType.AUTO:case e.ColorModeType.SINGLE_COLOR:return(React.createElement(e.SingleColor,__assign({},this.props,{value:this.makeValue(this.state.value.mode),initialValue:this.props.value,makeValue:this.makeValue.bind(this),onModeChange:this.handleModeChange.bind(this),onChange:this.handleValueChange.bind(this)})));
case e.ColorModeType.PALETTE:case e.ColorModeType.PALETTE_FOR_VALUES:case e.ColorModeType.PALETTE_FOR_CATEGORIES:return(React.createElement(e.Palettes,__assign({},this.props,{onChange:this.handleValueChange.bind(this),value:this.state.value})));case e.ColorModeType.CONDITIONAL:return(React.createElement(e.ConditionalColorEditor,__assign({},this.props,{onChange:this.handleValueChange.bind(this),makeValue:this.makeValue.bind(this),value:this.state.value})));
case e.ColorModeType.MDX_MEASURE:case e.ColorModeType.MDX_AXIS_PROP:case e.ColorModeType.MDX_PROP:return(React.createElement(e.MdxEditor,__assign({},this.props,{value:this.makeValue(this.state.value.mode),makeValue:this.makeValue.bind(this),onModeChange:this.handleModeChange.bind(this),onChange:this.handleValueChange.bind(this)})));
case e.ColorModeType.EXPRESSION:return(React.createElement(e.ColorExpression,__assign({},this.props,{value:this.makeValue(this.state.value.mode),makeValue:this.makeValue.bind(this),onChange:this.handleValueChange.bind(this)})))}};h.prototype.render=function(){return(React.createElement(a.ModalReportingDialog,{title:this.context.reportingContext.l("ic3.color_mode_dialog.title"),onClose:this.props.onClose,buttons:this.buttons()},React.createElement("div",{className:"color-dialog"},React.createElement(e.ColorDefinitionDialogNav,{value:this.state.value,onSelect:this.handleModeChange.bind(this)}),this.renderBody())))
};h.prototype.buttons=function(){var i=this;return[{label:this.context.reportingContext.l("ic3.ok"),handler:function(){i.props.saveData(i.state.value);i.props.onClose()}},{label:this.context.reportingContext.l("ic3.cancel"),handler:function(){return i.props.onClose()
}}]};h.contextTypes={reportingContext:React.PropTypes.object};h.childContextTypes={reportingContext:React.PropTypes.object,widgetAdapter:React.PropTypes.object,optionMeta:React.PropTypes.object};return h}(React.Component));e.ColorDefinitionDialog=f})(d=c.editor||(c.editor={}))
})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b;(function(c){var d;(function(e){var f=(function(h){__extends(g,h);function g(m,l){h.call(this,m,l);this.typeAlias=(k={},k[e.ColorModeType.PALETTE]="@d{ic3.color_mode.type_alias.palette}",k[e.ColorModeType.MDX_MEASURE]="@d{ic3.color_mode.type_alias.mdx}",k);
this.icons=(j={},j[e.ColorModeType.SINGLE_COLOR]="glyphicons-brush",j[e.ColorModeType.PALETTE]="glyphicons-sort",j[e.ColorModeType.MDX_MEASURE]="glyphicons-cube-black",j[e.ColorModeType.EXPRESSION]="glyphicons-embed",j);this.iconContent=(i={},i[e.ColorModeType.CONDITIONAL]="\u2265",i);
var k,j,i}g.prototype.renderNavItem=function(l,j){var m=this;var k=function(n){switch(m.props.value.mode){case e.ColorModeType.AUTO:case e.ColorModeType.SINGLE_COLOR:return e.ColorModeType.SINGLE_COLOR==n;case e.ColorModeType.PALETTE:case e.ColorModeType.PALETTE_FOR_CATEGORIES:case e.ColorModeType.PALETTE_FOR_VALUES:return e.ColorModeType.PALETTE==n;
case e.ColorModeType.CONDITIONAL:return e.ColorModeType.CONDITIONAL==n;case e.ColorModeType.MDX_MEASURE:case e.ColorModeType.MDX_AXIS_PROP:case e.ColorModeType.MDX_PROP:return e.ColorModeType.MDX_MEASURE==n;case e.ColorModeType.EXPRESSION:return e.ColorModeType.EXPRESSION==n
}};var i=function(){m.props.onSelect(l)};return(React.createElement("div",{key:"item"+j,className:classNames("predefined-place",k(l)?"selected":null),onClick:i},React.createElement("span",{className:classNames("glyphicons",this.icons[l])},this.iconContent[l]),React.createElement("br",null),React.createElement("span",null,this.context.reportingContext.getEvaluator().evaluate(this.typeAlias[l]||l))))
};g.prototype.render=function(){var i=_.map(this.context.optionMeta.suggestion,function(j){switch(j){case e.ColorModeType.AUTO:case e.ColorModeType.SINGLE_COLOR:return e.ColorModeType.SINGLE_COLOR;case e.ColorModeType.PALETTE:case e.ColorModeType.PALETTE_FOR_CATEGORIES:case e.ColorModeType.PALETTE_FOR_VALUES:return e.ColorModeType.PALETTE;
case e.ColorModeType.CONDITIONAL:return e.ColorModeType.CONDITIONAL;case e.ColorModeType.MDX_MEASURE:case e.ColorModeType.MDX_AXIS_PROP:case e.ColorModeType.MDX_PROP:return e.ColorModeType.MDX_MEASURE;case e.ColorModeType.EXPRESSION:return e.ColorModeType.EXPRESSION
}});i=_.uniq(i);return i.length>0?(React.createElement("div",{className:"predefined-places"},_.map(i,this.renderNavItem.bind(this)))):null};g.contextTypes={reportingContext:React.PropTypes.object,widgetAdapter:React.PropTypes.object,optionMeta:React.PropTypes.object};
return g}(React.Component));e.ColorDefinitionDialogNav=f})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(f){var e=a.react.colorpicker.ColorPicker;var h=a.react.colorpicker.ColorKeywords;var i=a.react.colorpicker.parseCSSColor;var g=(function(j){__extends(k,j);
function k(m,l){j.call(this,m,l);this.handleColorPickerChange=_.debounce(this.onColorChange.bind(this),200);this.state={value:m.value,invalid:false,suggestedPalette:this.context.reportingContext.mainReport().getTheme().getPalettes()[0].name}}k.prototype.componentWillReceiveProps=function(l){this.setState({value:l.value,invalid:false})
};k.prototype.onColorChange=function(l,m){this.props.onChange(!_.isUndefined(m)?m:"#"+l.hex)};k.prototype.validateColor=function(l){return i(l)||this.context.reportingContext.l(h[l])};k.prototype.onInputChange=function(l){if(!_.isUndefined(this.validateColor(l))){this.props.onChange(_.isNull(h[l])?null:l)
}else{this.setState({value:l,invalid:true})}};k.prototype.renderColorBlock=function(m,l){var n=this;return(React.createElement("div",{className:classNames("color-block",h[m]),key:"color-"+l,style:{backgroundColor:m},onClick:function(){return n.onColorChange(null,m)
}}))};k.prototype.getColors=function(){return _.find(this.context.reportingContext.mainReport().getTheme().getPalettes(),{name:this.state.suggestedPalette}).colors};k.prototype.getColorSuggestions=function(){var m=this;var l=function(n){return(React.createElement("option",{value:n.name,selected:n.name==m.state.suggestedPalette},n.name))
};return(React.createElement("div",{className:"theme-palette"},React.createElement("div",null,React.createElement("select",{className:"form-control palette-select",value:this.context.reportingContext.l(this.state.suggestedPalette),onChange:function(n){return m.setState({suggestedPalette:n.target.value})
}},_.map(this.context.reportingContext.mainReport().getTheme().getPalettes(),l))),React.createElement("div",{className:"colors"},_.map(this.getColors(),this.renderColorBlock.bind(this)))))};k.prototype.render=function(){var m=this;var l=null;if(this.props.suggestion&&this.props.suggestion.length>0){l=(React.createElement("div",{className:"theme-palette"},React.createElement("div",null,this.context.reportingContext.l("ic3.color_mode_dialog.header.current_palette")),React.createElement("div",{className:"colors"},_.map(_.uniq(this.props.suggestion),this.renderColorBlock.bind(this)))))
}return(React.createElement("div",{className:"color-definition"},React.createElement("input",{type:"text",className:"form-control",style:{color:this.state.invalid?"red":null},onChange:function(n){return m.onInputChange(n.target.value)},value:h[this.state.value]||this.state.value}),React.createElement("div",{className:"recent-colors"},React.createElement("div",{className:"recent-header"},this.context.reportingContext.l("ic3.color_mode_dialog.header.recent")),_.map(_.take(this.context.reportingContext.userPersistentData().readRecentColors(),20),this.renderColorBlock.bind(this))),React.createElement("div",{className:"color-picker"},React.createElement(e,{value:this.props.value,onChange:this.handleColorPickerChange}),l,this.getColorSuggestions()),React.createElement("div",{className:"color-compare"},React.createElement("div",{className:"compare-color-label label-new"},"New"),React.createElement("div",{className:classNames("compare-color-preview color-new palette-color",h[this.props.value]),style:{backgroundColor:this.props.value}}),React.createElement("div",{className:classNames("compare-color-preview color-current palette-color",h[this.props.initialValue.color]),style:{backgroundColor:this.props.initialValue.color}}),React.createElement("div",{className:"compare-color-label label-current"},"Current"))))
};k.contextTypes={reportingContext:React.PropTypes.object,widgetAdapter:React.PropTypes.object,optionMeta:React.PropTypes.object};return k}(React.Component));f.DialogColorPicker=g})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f=(function(g){__extends(h,g);
function h(j,i){g.call(this,j,i)}h.prototype.handleColorChange=function(i){if(i!=this.props.makeValue(_.get(this.state,"value.mode")).color){this.handleFieldChange("color",i)}};h.prototype.handleFieldChange=function(i,k){var j=this.props.value;j[i]=k;this.props.onChange(j)
};h.prototype.render=function(){return(React.createElement("div",{className:"body"},React.createElement("div",{className:"right-column"},React.createElement(e.DialogColorPicker,{initialValue:this.props.initialValue,value:this.props.value.color,onChange:this.handleColorChange.bind(this)}))))
};h.contextTypes={reportingContext:React.PropTypes.object,widgetAdapter:React.PropTypes.object,optionMeta:React.PropTypes.object};return h}(React.Component));e.SingleColor=f})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f=a.reporting.editor.components.ExpressionComponent;e.MdxAxisPropertySource={ROWS:"@d{ic3.color_mode.mdx_axis_property.rows}",COLUMNS:"@d{ic3.color_mode.mdx_axis_property.columns}"};
var g=(function(h){__extends(i,h);function i(k,j){h.call(this,k,j)}i.prototype.renderTab=function(m,j){var n=this;var l=(k={},k[e.ColorModeType.MDX_MEASURE]="ic3.color_mode_dialog.tab.mdx_measure",k[e.ColorModeType.MDX_PROP]="ic3.color_mode_dialog.tab.mdx_property",k[e.ColorModeType.MDX_AXIS_PROP]="ic3.color_mode_dialog.tab.mdx_axis_property",k);
return(React.createElement("div",{className:classNames("tab",l[this.props.value.mode]==l[m]?"active":null),key:m+j,onClick:m?function(o){return n.props.onModeChange(m)}:null},this.context.reportingContext.l(l[m])," "));var k};i.prototype.handleFieldChange=function(j,l){var k=this.props.value;
k[j]=l;this.props.onChange(k)};i.prototype.handleMdxPropDelete=function(k){var l=this.props.value;var j;switch(k){case e.ColorModeType.MDX_PROP:j="mdxProperty";break;case e.ColorModeType.MDX_AXIS_PROP:j="mdxAxisProperty";break;case e.ColorModeType.MDX_MEASURE:default:j="mdxMeasure";
break}delete l[j];this.props.onChange(l)};i.prototype.getCurrentMeta=function(){var j=this;switch(this.props.value.mode){case e.ColorModeType.MDX_PROP:return{label:"",valueRef:"mdxProperty",detailedInfo:"Cell mdx property to use as color value",suggestion:["BACK_COLOR"],type:e.OptionMetaType.EXPRESSION,defaultValue:"BACK_COLOR"};
case e.ColorModeType.MDX_AXIS_PROP:return{label:"",valueRef:"mdxAxisProperty",detailedInfo:"Cell mdx property to use as color value",suggestion:function(){return[j.context.reportingContext.l(e.MdxAxisPropertySource.COLUMNS),j.context.reportingContext.l(e.MdxAxisPropertySource.ROWS)]
},type:e.OptionMetaType.TEXT,defaultValue:0};case e.ColorModeType.MDX_MEASURE:default:return{label:"",valueRef:"mdxMeasure",detailedInfo:"Measure to use as color value",suggestion:["Value"],type:e.OptionMetaType.EXPRESSION,defaultValue:"Value",contextType:"CELL"}
}};i.prototype.renderComponent=function(){var j=this.getCurrentMeta();switch(this.props.value.mode){case e.ColorModeType.MDX_PROP:return(React.createElement("div",{className:"input-group",key:"mdx-property",style:{marginLeft:"8px"}},React.createElement(f,{optionMeta:j,value:this.props.value.mdxProperty,eventsProducedInReport:this.context.reportingContext.eventsProducedInReport.bind(this.context.reportingContext),allProperties:this.props.allProperties,onChange:this.handleFieldChange.bind(this,j.valueRef),onDelete:this.handleMdxPropDelete.bind(this,e.ColorModeType.MDX_PROP)})));
case e.ColorModeType.MDX_AXIS_PROP:return(React.createElement("div",{className:"input-group",key:"mdx-axis-property",style:{marginLeft:"8px"}},React.createElement(f,{optionMeta:j,value:this.props.value.mdxAxisProperty,eventsProducedInReport:this.context.reportingContext.eventsProducedInReport.bind(this.context.reportingContext),allProperties:this.props.allProperties,onChange:this.handleFieldChange.bind(this,j.valueRef),onDelete:this.handleMdxPropDelete.bind(this,e.ColorModeType.MDX_AXIS_PROP)})));
case e.ColorModeType.MDX_MEASURE:default:return(React.createElement("div",{className:"input-group",key:"mdx-measure",style:{marginLeft:"8px"}},React.createElement(f,{optionMeta:j,value:this.props.value.mdxMeasure,eventsProducedInReport:this.context.reportingContext.eventsProducedInReport.bind(this.context.reportingContext),allProperties:this.props.allProperties,onChange:this.handleFieldChange.bind(this,j.valueRef),onDelete:this.handleMdxPropDelete.bind(this,e.ColorModeType.MDX_MEASURE)})))
}};i.prototype.render=function(){return(React.createElement("div",{className:"body"},React.createElement("div",{className:"tabs"},_.map([e.ColorModeType.MDX_MEASURE,e.ColorModeType.MDX_PROP,e.ColorModeType.MDX_AXIS_PROP],this.renderTab.bind(this)),React.createElement("div",{className:"tab filler"}," ")),this.renderComponent()))
};i.contextTypes={reportingContext:React.PropTypes.object,widgetAdapter:React.PropTypes.object,optionMeta:React.PropTypes.object};return i}(React.Component));e.MdxEditor=g})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]
}}}return b};var ic3;(function(a){var b;(function(c){var d;(function(e){var f=(function(g){__extends(h,g);function h(j,i){g.call(this,j,i);this.tabs={GENERAL:"ic3.color_mode_dialog.tab.general",EDITOR:"ic3.color_mode_dialog.tab.palette_editor",EXPRESSION:"ic3.color_mode_dialog.tab.expression"};
this.state={selected:this.tabs.GENERAL}}h.prototype.renderTab=function(k,i){var m=this;var l=k==this.state.selected,j=k==this.tabs.EDITOR&&!_.isArray(this.props.value.colors);return(React.createElement("div",{className:classNames("tab",l&&"active",j&&"disabled"),key:k+i,onClick:k&&!j?function(n){return m.setState({selected:k})
}:null},this.context.reportingContext.l(k)," "))};h.prototype.render=function(){var j=this;var i=null;switch(this.state.selected){case this.tabs.GENERAL:i=(React.createElement(e.PaletteGeneral,__assign({},this.props,{value:this.props.value,switchEdit:function(){return j.setState({selected:j.tabs.EDITOR})
},onChange:this.props.onChange})));break;case this.tabs.EDITOR:i=React.createElement(e.PaletteEditor,{value:this.props.value,onChange:this.props.onChange});break;case this.tabs.EXPRESSION:i=React.createElement(e.PaletteExpression,__assign({},this.props));break
}return(React.createElement("div",{className:"body"},React.createElement("div",{className:"tabs"},_.map([this.tabs.GENERAL,this.tabs.EDITOR,this.tabs.EXPRESSION],this.renderTab.bind(this)),React.createElement("div",{className:"tab filler"}," ")),i))};h.contextTypes={reportingContext:React.PropTypes.object,widgetAdapter:React.PropTypes.object,optionMeta:React.PropTypes.object};
return h}(React.Component));e.Palettes=f})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b;(function(c){var d;(function(h){var j=a.reporting.editor.components.PaletteRowComponent;var g=a.react.colorpicker.interpolateHSV;var f=a.react.colorpicker.interpolateRGB;var i=(e={},e[h.ColorModeType.PALETTE]=[],e[h.ColorModeType.PALETTE_FOR_CATEGORIES]=[{label:"",valueRef:"categoryLevel",placeholder:"Level of Categorisation",detailedInfo:"Level of Categorisation",type:h.OptionMetaType.NUMBER,defaultValue:0}],e[h.ColorModeType.PALETTE_FOR_VALUES]=[{label:"",valueRef:"gradeFunc",defaultValue:"Auto",detailedInfo:"Expression that calculates offset for a gradient color value. Must be from 0.0 to 1.0. Measure name can be used instead.",type:h.OptionMetaType.EXPRESSION,contextType:"CELL",afterChange:function(l){_.get(l,"gradeFunc")
}},{label:"",valueRef:"minValue",defaultValue:"Min Value",suggestion:function(n,m){var l=(["Value"]).concat(_.map(m.getMeasures().getEntities(),"name"));return _.reduce(["Min ","Min Row ","Min Column "],function(p,o){return p.concat(_.map(l,function(q){return o+q
}))},[])},detailedInfo:"Value that will be used as minimum while scaling.",type:h.OptionMetaType.EXPRESSION,configurable:function(m,l){return !_.isObject(m.gradeFunc)}},{label:"",valueRef:"maxValue",defaultValue:"Max Value",suggestion:function(n,m){var l=(["Value"]).concat(_.map(m.getMeasures().getEntities(),"name"));
return _.reduce(["Max ","Max Row ","Min Column "],function(p,o){return p.concat(_.map(l,function(q){return o+q}))},[])},detailedInfo:"Value that will be used as maximum while scaling",type:h.OptionMetaType.EXPRESSION,configurable:function(m,l){return !_.isObject(m.gradeFunc)
}},{label:"Empty cells Color",valueRef:"emptyColor",defaultValue:"transparent",detailedInfo:"Color for empty cells",type:h.OptionMetaType.COLOR}],e);var k=(function(l){__extends(m,l);function m(o,n){l.call(this,o,n)}m.prototype.handleFieldChange=function(n,p){var o=this.props.value;
_.set(o,n,p);this.props.onChange(o)};m.prototype.handleFieldDelete=function(n){var o=this.props.value;if(n=="mode"){o[n]=h.ColorModeType.PALETTE}else{delete o[n]}this.props.onChange(o)};m.prototype.renderMetaComponent=function(q){var o=this.context.reportingContext,p=h.OptionsMetaComponents[q.type],n=_.get(this.props.value,q.valueRef,_.cloneDeep(q.defaultValue));
return(React.createElement("div",{className:"input-group"},React.createElement(p,{key:q.valueRef,optionMeta:q,value:n,eventsProducedInReport:o.eventsProducedInReport.bind(o),allProperties:this.props.allProperties,onChange:this.handleFieldChange.bind(this,q.valueRef),onDelete:this.handleFieldDelete.bind(this,q.valueRef)})))
};m.prototype.render=function(){var u=this;var t=_.filter(this.context.optionMeta.suggestion,function(v){return v==h.ColorModeType.PALETTE||v==h.ColorModeType.PALETTE_FOR_CATEGORIES||v==h.ColorModeType.PALETTE_FOR_VALUES});var s=t.length>1?this.renderMetaComponent({label:"",valueRef:"mode",defaultValue:_.first(t),type:h.OptionMetaType.SELECT,suggestion:t,contextType:"CELL"}):null,p=this.renderMetaComponent({label:"Reverse palette",valueRef:"shouldReverse",defaultValue:false,type:h.OptionMetaType.BOOLEAN}),o=this.renderMetaComponent({label:"",valueRef:"interpolateMode",defaultValue:"@d{ic3.color_mode_dialog.interpolation.no_interpolation}",type:h.OptionMetaType.SELECT,suggestion:["@d{ic3.color_mode_dialog.interpolation.no_interpolation}","@d{ic3.color_mode_dialog.interpolation.interpolate_hsv}","@d{ic3.color_mode_dialog.interpolation.interpolate_rgb}"],contextType:"CELL"}),q=this.renderMetaComponent({label:"@d{ic3.color_mode_dialog.alpha}",valueRef:"alpha",detailedInfo:"Alpha value. Should be from 0 to 1",defaultValue:1,range:{min:0,max:1,step:0.1},type:h.OptionMetaType.NUMBER});
var r=null;switch(this.props.value.interpolateMode){case"@d{ic3.color_mode_dialog.interpolation.interpolate_hsv}":r=g;break;case"@d{ic3.color_mode_dialog.interpolation.interpolate_rgb}":r=f;break}var n=_.take(this.context.reportingContext.userPersistentData().readRecentPalettes(),9);
return(React.createElement("div",{className:"palette-general"},React.createElement("div",{key:"fields",className:"third"},React.createElement("div",{className:"third-header"},"Current Palette"),React.createElement("div",{className:"form-group"},React.createElement(j,{colors:this.props.value.colors,shouldReverse:this.props.value.shouldReverse,interpolator:r,alpha:this.props.value.alpha})),React.createElement("div",{className:"form-group",key:"reverse"},p),React.createElement("div",{hidden:this.context.optionMeta.type==h.OptionMetaType.PALETTE,className:"form-group",key:"interpolation"},o),React.createElement("div",{className:"form-group",key:"alpha"},q),React.createElement("hr",null),React.createElement("div",{hidden:_.isNull(s),className:"form-group",style:{marginBottom:"10px"},key:"type"},this.context.reportingContext.l("ic3.color_mode_dialog.header.palette_type"),s),_.map(i[this.props.value.mode],this.renderMetaComponent.bind(this))),React.createElement("div",{key:"recent",className:"third"},React.createElement("div",{className:"third-header"},this.context.reportingContext.l("ic3.color_mode_dialog.header.recent")),React.createElement("div",{className:"palette-list"},_.map(n,function(v){return(React.createElement(j,{colors:v,shouldReverse:u.props.value.shouldReverse,interpolator:r,alpha:u.props.value.alpha,onClick:function(){return u.handleFieldChange("colors",_.clone(v))
}}))}))),React.createElement("div",{key:"theme",className:"third"},React.createElement("div",{className:"third-header"},this.context.reportingContext.l("ic3.color_mode_dialog.header.theme_palettes")),React.createElement("div",{className:"palette-list"},_.map(this.context.reportingContext.mainReport().getTheme().getPalettes(),function(v){return(React.createElement(j,{label:v.name,colors:v.colors,shouldReverse:u.props.value.shouldReverse,interpolator:r,alpha:u.props.value.alpha,onClick:function(){return u.handleFieldChange("colors",_.clone(v.colors))
}}))})))))};m.contextTypes={reportingContext:React.PropTypes.object,widgetAdapter:React.PropTypes.object,optionMeta:React.PropTypes.object};return m}(React.Component));h.PaletteGeneral=k;var e})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(f){var e=(function(h){__extends(g,h);
function g(j,i){h.call(this,j,i);this.state={values:this.props.value.colors||[],currentIndex:0}}g.prototype.onValueSelect=function(i){this.setState({currentIndex:i})};g.prototype.onValueChange=function(j){var i=this.props.value.colors;i[this.state.currentIndex]=j;
this.onListChange(i)};g.prototype.onListChange=function(i){var j=this.props.value;j.colors=i;this.props.onChange(j);if(this.state.currentIndex>=i.length){this.onValueSelect(i.length-1)}};g.prototype.render=function(){return(React.createElement("div",{className:"palette-editor"},React.createElement("div",{className:"left-column"},React.createElement(f.ColorDefinitionDialogList,{colors:this.state.values,currentIndex:this.state.currentIndex,onChange:this.onListChange.bind(this),onSelect:this.onValueSelect.bind(this)})),React.createElement("div",{className:"right-column"},React.createElement(f.DialogColorPicker,{value:this.state.values[this.state.currentIndex],initialValue:this.state.values[this.state.currentIndex],suggestion:this.state.values,onChange:this.onValueChange.bind(this)}))))
};g.contextTypes={reportingContext:React.PropTypes.object,widgetAdapter:React.PropTypes.object,optionMeta:React.PropTypes.object};return g}(React.Component));f.PaletteEditor=e})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(g){var f=a.reporting.editor.components.ArrayComponent;
var h=a.react.colorpicker.parseCSSColor;var e=(function(j){__extends(i,j);function i(l,k){j.call(this,l,k);this.state={colors:this.props.value.colors}}i.prototype.componentWillReceiveProps=function(k){this.setState({colors:k.value.colors})};i.prototype.onChange=function(k){if(_.isArray(k)){var l=_.filter(_.map(k,h),_.identity);
if(l.length==k.length){this.applyChanges(k)}else{this.setState({colors:k})}}};i.prototype.applyChanges=function(k){var l=this.props.value;l.colors=k||this.state.colors;this.props.onChange(l)};i.prototype.render=function(){var l=this;var k={label:"",valueRef:"colors",defaultValue:this.props.value.colors,type:g.OptionMetaType.EXPRESSION,contextType:"CELL",flags:{hidePencil:true}};
return(React.createElement("div",{className:"palette-editor"},React.createElement("div",{style:{marginLeft:8}},React.createElement(f,{optionMeta:k,value:_.isString(this.state.colors)?this.state.colors.toString():this.state.colors,eventsProducedInReport:this.context.reportingContext.eventsProducedInReport.bind(this.context.reportingContext),allProperties:this.props.allProperties,onChange:this.onChange.bind(this),onDelete:function(){return l.onChange(l.props.value.colors)
}}))))};i.contextTypes={reportingContext:React.PropTypes.object,widgetAdapter:React.PropTypes.object,optionMeta:React.PropTypes.object};return i}(React.Component));g.PaletteExpression=e})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(f){var g=a.react.colorpicker.ColorKeywords;
var e=(function(i){__extends(h,i);function h(k,j){i.call(this,k,j)}h.prototype.deleteColor=function(j){var k=this.props.colors;k.splice(j,1);this.props.onChange(k)};h.prototype.addColor=function(){var j=this.props.colors;j.push(_.last(j));this.props.onChange(j)
};h.prototype.renderColor=function(k,j){var m=this;var l=function(n){n.preventDefault();n.stopPropagation();m.deleteColor(j)};return(React.createElement("div",{key:"color-"+j,className:classNames("color-component",j==this.props.currentIndex&&"active"),onClick:function(){return m.props.onSelect(j)
}},React.createElement("span",{className:classNames("color-component-color","color-block",g[k]),style:{backgroundColor:k}}),React.createElement("div",{className:"color-component-text"},k),React.createElement("span",{className:"delete-control",hidden:this.props.colors.length<3,onClick:l},React.createElement("i",{className:"glyphicons glyphicons-remove"}))))
};h.prototype.render=function(){return(React.createElement("div",{className:"color-list"},_.map(this.props.colors,this.renderColor.bind(this)),React.createElement("div",{key:"color-add",className:"color-component add",onClick:this.addColor.bind(this)},React.createElement("span",{className:"color-component-text"},this.context.reportingContext.l("ic3.color_mode_dialog.list.add")),React.createElement("span",{className:"delete-control"},React.createElement("i",{className:"glyphicons glyphicons-plus-sign"})))))
};h.contextTypes={reportingContext:React.PropTypes.object,widgetAdapter:React.PropTypes.object,optionMeta:React.PropTypes.object};return h}(React.Component));f.ColorDefinitionDialogList=e})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;
a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var ic3;(function(a){var b;(function(c){var d;(function(e){var h=a.reporting.editor.components.ExpressionComponent;var g=a.reporting.editor.components.ColorComponent;
var f=(function(i){__extends(j,i);function j(l,k){i.call(this,l,k);this.comparators=[["=","=="],["\u2276","!="],["<","<"],["\u2264","<="],[">",">"],["\u2265",">="]];this.state={values:this.props.value.conditions}}j.prototype.componentWillReceiveProps=function(k){this.setState({values:k.value.conditions})
};j.prototype.handleConditionChange=function(m,n,o){var l=this.state.values,k=this.props.value;l[m][n]=o;k.conditions=l;this.props.onChange(k)};j.prototype.addCondition=function(){var k=_.cloneDeep(this.state.values);k.unshift(_.cloneDeep(k[0]));this.props.onChange(_.set(this.props.value,"conditions",k))
};j.prototype.removeItem=function(l){var k=_.cloneDeep(this.state.values);if(k.length>1){k.splice(l,1);this.props.onChange(_.set(this.props.value,"conditions",k))}};j.prototype.meta=function(){return{comparableMeasure:{label:"",valueRef:"",defaultValue:null,type:e.OptionMetaType.EXPRESSION,contextType:"CELL",flags:{hidePencil:true}},comparable:{label:"",valueRef:"",defaultValue:null,type:e.OptionMetaType.EXPRESSION,contextType:"CELL",flags:{hidePencil:true}},defaultConditionalValue:{label:"Default",valueRef:"",defaultValue:"null",type:e.OptionMetaType.COLOR,flags:{hidePencil:true}},value:{label:"",valueRef:"",defaultValue:null,type:e.OptionMetaType.COLOR,flags:{hidePencil:true}}}
};j.prototype.renderValue=function(m,k){var n=this;var l=function(o){return({allProperties:n.props.allProperties,eventsProducedInReport:n.props.eventsProducedInReport,onChange:n.handleConditionChange.bind(n,k,o),optionMeta:n.meta()[o],value:m[o]})};return(React.createElement("div",{className:"condition-row",key:"cond-"+k},React.createElement(h,__assign({},l("comparableMeasure"))),React.createElement("select",{className:"comparator",onChange:function(o){return n.handleConditionChange(k,"comparator",o.target.value)
}},_.map(this.comparators,function(o){return React.createElement("option",{selected:o[1]==m.comparator,value:o[1]},o[0])})),React.createElement(h,__assign({},l("comparable"))),React.createElement(g,__assign({},l("value"))),React.createElement("span",{className:"glyphicons glyphicons-remove",hidden:this.state.values.length<2,onClick:this.removeItem.bind(this,k)})))
};j.prototype.copy=function(){var l=this.context.widgetAdapter,n=[],m=function(o){if(o=="Value"){return"context.getValue()"}return !!~n.indexOf(o)?'context.getValue("'+o+'")':o};if(l&&l.getMdxTable()){n=n.concat(a.TableContext.Orphan(l.getMdxTable(),l.getMdxRequest()).measuresCaptions())
}var k=_.reduce(this.state.values,function(o,p){return o+"if("+m(p.comparableMeasure)+" "+p.comparator+" "+m(p.comparable)+'){\n\treturn "'+p.value+'";\n}\n'},"");k+='return "'+this.props.value.defaultConditionalValue+'";';a.ClipboardHelper.setupCopy(k);this.context.reportingContext.notificationMgr().notifyInfo(this.context.reportingContext.l("ic3.color_mode.conditional.copied"))
};j.prototype.render=function(){var l=this;var k={allProperties:this.props.allProperties,eventsProducedInReport:this.props.eventsProducedInReport,onChange:function(m){return l.props.onChange(_.set(l.props.value,"defaultConditionalValue",m))},onDelete:function(){return l.props.onChange(_.set(l.props.value,"defaultConditionalValue",null))
},optionMeta:this.meta()["defaultConditionalValue"],value:this.props.value.defaultConditionalValue};return(React.createElement("div",{className:"body"},React.createElement("button",{className:"btn btn-primary",onClick:this.addCondition.bind(this)},React.createElement("span",{style:{margin:0},className:"glyphicons glyphicons-plus"})),React.createElement("button",{className:"btn btn-primary pull-right",style:{marginRight:45},onClick:this.copy.bind(this)},this.context.reportingContext.l("ic3.color_mode.conditional.copy")),React.createElement("div",null,_.map(this.state.values,this.renderValue.bind(this)),React.createElement("div",{className:"condition-row default",key:"cond-default"},React.createElement(g,__assign({},k))))))
};j.contextTypes={reportingContext:React.PropTypes.object,widgetAdapter:React.PropTypes.object,optionMeta:React.PropTypes.object};return j}(React.Component));e.ConditionalColorEditor=f})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f=(function(g){__extends(h,g);
function h(j,i){g.call(this,j,i);this.state={value:this.props.makeValue(e.ColorModeType.EXPRESSION)}}h.prototype.expressionChange=function(i){var j=this.state.value;j.colorFunc=i;this.props.onChange(j)};h.prototype.render=function(){return(React.createElement("div",{className:"body",style:{padding:"3px 8px"}},React.createElement(a.ExpressionEditorComponent,{onChange:this.expressionChange.bind(this),meta:this.context.optionMeta,value:this.state.value.colorFunc.jsFunctionBody})))
};h.contextTypes={reportingContext:React.PropTypes.object,widgetAdapter:React.PropTypes.object,optionMeta:React.PropTypes.object};return h}(React.Component));e.ColorExpression=f})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);
function c(f,e){var g=this;d.call(this,f,e);this.handleEditClick=function(h){g.state.editKey=h;g.state.editKeyNewText=h;g.state.editMessageNewText=g.props.localization.messages.hasOwnProperty(h)?g.props.localization.messages[h]:g.props.defaultLocalization.messages[h];
g.forceUpdate()};this.handleApplyClick=function(h){var i=_.cloneDeep(g.props.localization);delete i.messages[h];i.messages[g.state.editKeyNewText]=g.state.editMessageNewText;delete g.state.editKey;delete g.state.editKeyNewText;delete g.state.editMessageNewText;
g.props.onChange(i)};this.handleCancelClick=function(){delete g.state.editKey;delete g.state.editKeyNewText;delete g.state.editMessageNewText;g.forceUpdate()};this.handleDeleteClick=function(h){delete g.props.localization.messages[h];g.props.onChange(g.props.localization)
};this.renderKeyValueEditor=function(j,h){var i=classNames({active:g.state.editKey==h,"text-muted":j.isDefault});return(React.createElement("tr",{key:h,className:i},React.createElement("td",null,g.state.editKey==h&&!j.isDefault?React.createElement("input",{type:"text",className:"form-control",defaultValue:g.state.editKeyNewText,onChange:function(k){g.setState({editKeyNewText:k.target.value})
}}):h),React.createElement("td",null,g.state.editKey==h?React.createElement("input",{type:"text",className:"form-control",defaultValue:g.state.editMessageNewText,onChange:function(k){g.setState({editMessageNewText:k.target.value})}}):j.message),React.createElement("td",null,g.state.editKey==null?React.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){g.handleEditClick(h)
}},g.context.reportingContext.l("ic3.localization_editor.actions.edit")):null,g.state.editKey==h?React.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){g.handleApplyClick(h)}},g.context.reportingContext.l("ic3.localization_editor.actions.apply")):null,g.state.editKey==h?React.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){g.handleCancelClick()
}},g.context.reportingContext.l("ic3.cancel")):null,j.isDefault?null:React.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){g.handleDeleteClick(h)}},g.context.reportingContext.l("ic3.localization_editor.actions.delete")))))};
this.state={}}c.prototype.getMessages=function(){var e={};_.each(this.props.localization.messages,function(g,f){e[f]={message:g,isDefault:false}});_.each(this.props.defaultLocalization.messages,function(g,f){if(!e.hasOwnProperty(f)){e[f]={message:g,isDefault:true}
}});return e};c.prototype.handleAddClick=function(){if(!_.isEmpty(this.state.newKeyText)&&!_.isEmpty(this.state.newMessageText)){var e=_.cloneDeep(this.props.localization);e.messages[this.state.newKeyText]=this.state.newMessageText;this.state.newKeyText="";
this.state.newMessageText="";this.props.onChange(e)}};c.prototype.render=function(){var e=this;return(React.createElement("div",{className:"scrollable",style:{maxHeight:"calc(100vh - 286px)"}},React.createElement("table",{className:"table table-hover table-striped"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,this.context.reportingContext.l("ic3.localization_editor.key")),React.createElement("th",null,this.context.reportingContext.l("ic3.localization_editor.value")),React.createElement("th",null,this.context.reportingContext.l("ic3.localization_editor.actions")))),React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,React.createElement("input",{type:"text",className:"form-control",value:this.state.newKeyText,onChange:function(f){e.setState({newKeyText:f.target.value})
}})),React.createElement("td",null,React.createElement("input",{type:"text",className:"form-control",value:this.state.newMessageText,onChange:function(f){e.setState({newMessageText:f.target.value})}})),React.createElement("td",null,React.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){e.handleAddClick()
}},this.context.reportingContext.l("ic3.localization_editor.actions.add")))),_.map(this.getMessages(),this.renderKeyValueEditor)))))};c.contextTypes={reportingContext:React.PropTypes.object};return c}(React.Component));a.LocalizationEditor=b})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a=b.react.Autosuggest;var c=(function(d){__extends(e,d);
function e(g,f){var h=this;d.call(this,g,f);this.handleCreateLocalization=function(){var i=h.context.reportingContext.gviConfiguration().localesInfo().getLocale(h.state.inputLanguage);if(!_.isEmpty(i)){if(!_.isObject(h.findLocalization(i.locale))){h.state.localizations.push({locale:i.locale.split(/\s+/gmi),messages:{}})
}h.state.selectedLanguage=i.locale.split(/\s+/gmi)[0];h.forceUpdate()}};this.handleDeleteLocalization=function(){_.remove(h.state.localizations,function(i){return e.getLanguage(i)===h.state.selectedLanguage});if(_.findIndex(h.state.localizations,function(i){return e.getLanguage(i)==="en"
})<0){h.state.localizations.push({locale:"en",messages:{}})}h.state.selectedLanguage="en";h.forceUpdate()};this.handleLocalizationChange=function(i){_.remove(h.state.localizations,function(j){return e.getLanguage(j)===h.state.selectedLanguage});h.state.localizations.push(i);
h.state.selectedLanguage=e.getLanguage(i);h.forceUpdate()};this.filterSuggestions=function(j,k){var i=h.context.reportingContext.gviConfiguration().localesInfo().listLocales();k(null,_.filter(i,function(l){return(l.locale+":"+l.caption).toLowerCase().search(j.toLowerCase())>=0
}).map(function(l){return l.caption}))};this.state={selectedLanguage:"en",localizations:f.reportingContext.mainReport().state.report.localizations()};if(_.findIndex(this.state.localizations,function(i){return e.getLanguage(i)==="en"})<0){this.state.localizations.push({locale:"en",messages:{}})
}}e.prototype.findLocalization=function(f){return _.find(this.state.localizations,function(g){return e.getLanguage(g)===f})};e.prototype.render=function(){var k=this;var i=this.context.reportingContext;var j=_.sortBy(this.state.localizations,function(l){return e.getLanguage(l)
});var f=_.map(j,function(l){return e.getLanguage(l)});var g=_.assign({className:"form-control",style:{zIndex:1},placeholder:i.l("ic3.localization_editor.language_code")});var h={label:i.l("ic3.close"),handler:function(){_.remove(k.state.localizations,function(l){return _.isEmpty(l.messages)
});i.mainReport().clearModal();i.mainReport().reloadLocalizations();i.mainReport().rebuildAll()}};return(React.createElement(b.ModalReportingDialog,{title:i.l("ic3.localization_editor.title"),buttons:[h],onClose:h.handler},React.createElement("div",{className:"form-inline"},React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"locale-editor-locales"},i.l("ic3.localization_editor.locales_list")),React.createElement("select",{className:"form-control",id:"locale-editor-locales",value:this.state.selectedLanguage,onChange:function(l){k.setState({selectedLanguage:l.target.value})
}},_.map(f,function(l){return React.createElement("option",{value:l},l)})),React.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleDeleteLocalization},i.l("ic3.localization_editor.actions.delete"))),React.createElement("div",{className:"form-group pull-right"},React.createElement(a,{ref:"newLocaleName",value:this.state.inputLanguage,attributes:{style:{display:"inline-block"}},inputAttributes:g,suggestions:this.filterSuggestions,onSuggestionSelected:function(l){return k.setState({inputLanguage:l})
},showWhen:function(l){return true}}),React.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleCreateLocalization},i.l("ic3.localization_editor.actions.create")))),React.createElement(b.LocalizationEditor,{key:this.state.selectedLanguage,defaultLocalization:b.DEFAULT_REPORT_LOCALIZATION,localization:this.findLocalization(this.state.selectedLanguage),onChange:this.handleLocalizationChange})))
};e.getLanguage=function(f){return _.isArray(f.locale)?f.locale[0]:f.locale};e.contextTypes={reportingContext:React.PropTypes.object};return e}(React.Component));b.LocalizationConfigurationDialog=c})(ic3||(ic3={}));var ic3;(function(b){var d=b.reporting.editor.OptionMetaType;
var a=b.reporting.editor.EventSuggestionsType;var c={title:"Navigation Options",alwaysOpened:true};b.SelectionType={NONE:"@d{ic3.widget.chart.selection.type.none}",CELL:"@d{ic3.widget.chart.selection.type.cell}",ROW:"@d{ic3.widget.chart.selection.type.row}",COLUMN:"@d{ic3.widget.chart.selection.type.column}"};
b.ChartSelectionMode={SINGLE:"@d{ic3.widget.chart.selection.mode.single}",MULTI:"@d{ic3.widget.chart.selection.mode.multi}"};b.ClickAction={NAVIGATION:"@d{ic3.widget.chart.click_action.navigation}",SELECTION:"@d{ic3.widget.chart.click_action.selection}"};b.ClickActionMeta=[{label:"@d{ic3.widget.chart.click_action}",valueRef:"actionType",type:d.SELECT,defaultValue:b.ClickAction.SELECTION,suggestion:[b.ClickAction.SELECTION,b.ClickAction.NAVIGATION],afterChange:function(f,e){delete e.selection;
delete e.drillDownStrategyType}}];b.ChartSelectionMeta=[{label:"selectionType",valueRef:"selection.type",type:d.SELECT,defaultValue:b.SelectionType.NONE,subgroup:{title:"Selection Options",alwaysOpened:true},suggestion:function(e,f){return _.includes(["pie","funnel"],_.get(e,"data-render.chartType.proto.chartPrototype.type"))?[b.SelectionType.NONE,b.SelectionType.ROW]:[b.SelectionType.NONE,b.SelectionType.CELL,b.SelectionType.ROW,b.SelectionType.COLUMN]
},suggestEvents:a.FULL,configurable:function(f,e){return _.get(e,"actionType",b.ClickAction.SELECTION)==b.ClickAction.SELECTION}},{label:"selectionMode",valueRef:"selection.mode",type:d.SELECT,defaultValue:b.ChartSelectionMode.SINGLE,subgroup:{title:"Selection Options",alwaysOpened:true},suggestion:[b.ChartSelectionMode.SINGLE,b.ChartSelectionMode.MULTI],suggestEvents:a.FULL,configurable:function(f,e){return _.get(e,"actionType",b.ClickAction.SELECTION)==b.ClickAction.SELECTION
}}];b.NavigationMeta=[{label:"@d{ic3.widget.box_menu.drilldown_stategy}",valueRef:"drillDownStrategyType",type:d.SELECT,subgroup:c,suggestion:["children","mdxExpression","userSelect"],suggestEvents:a.FULL,configurable:function(f,e){return _.get(e,"actionType",b.ClickAction.SELECTION)==b.ClickAction.NAVIGATION
}},{label:"@d{ic3.widget.box_menu.drilldown_stategy.mdx}",valueRef:"drillDownStrategyOptions.mdx",type:d.TEXT,defaultValue:"$member.children",subgroup:c,configurable:function(f,e){if(_.get(e,"actionType",b.ClickAction.SELECTION)==b.ClickAction.NAVIGATION){return _.get(e,"drillDownStrategyType")==="mdxExpression"
}},suggestEvents:a.FULL},{label:"@d{ic3.widget.box_menu.drilldown_stategy.filter_by}",valueRef:"drillDownStrategyOptions.enableFilter",type:d.BOOLEAN,subgroup:c,configurable:function(f,e){if(_.get(e,"actionType",b.ClickAction.SELECTION)==b.ClickAction.NAVIGATION){return _.get(e,"drillDownStrategyType")==="mdxExpression"
}}},{label:"@d{ic3.widget.box_menu.drilldown_stategy.user_select_mdx}",valueRef:"drillDownStrategyOptions.userSelectMdx",type:d.TEXT,subgroup:c,configurable:function(f,e){if(_.get(e,"actionType",b.ClickAction.SELECTION)==b.ClickAction.NAVIGATION){return _.get(e,"drillDownStrategyType")==="mdxExpression"
}},suggestEvents:a.FULL},{label:"@d{ic3.widget.box_menu.filter_info}",valueRef:"filterInfo",type:d.SELECT,subgroup:c,suggestion:["All","None"],suggestEvents:a.FULL,configurable:function(f,e){return _.get(e,"actionType",b.ClickAction.SELECTION)==b.ClickAction.NAVIGATION
}},{label:"@d{ic3.widget.box_menu.max_axis_member_count}",valueRef:"maxAxisMemberCount",type:d.NUMBER,subgroup:c,configurable:function(f,e){return _.get(e,"actionType",b.ClickAction.SELECTION)==b.ClickAction.NAVIGATION}}];b.ChartUserMenuMeta=[{label:"@d{ic3.widget.user_menu.options.enabled}",valueRef:"menuVisibility.enabled",type:d.BOOLEAN,defaultValue:true,flags:{hidePencil:true}},{label:"@d{ic3.widget.user_menu.export}",valueRef:"menuVisibility.export",type:d.BOOLEAN,defaultValue:true,flags:{hidePencil:true},configurable:function(f,e){return _.get(e,"menuVisibility.enabled",true)
}},{label:"@d{ic3.widget.user_menu.options.back_forward}",valueRef:"menuVisibility.back",type:d.BOOLEAN,defaultValue:true,configurable:function(f,e){return _.get(e,"menuVisibility.enabled",true)}},{label:"@d{ic3.widget.user_menu.options.reset}",valueRef:"menuVisibility.reset",type:d.BOOLEAN,defaultValue:true,configurable:function(f,e){return _.get(e,"menuVisibility.enabled",true)
}}]})(ic3||(ic3={}));var ic3;(function(c){var g=c.reporting.editor.OptionMetaType;var e={label:"Before Sending Request",valueRef:"beforeSendingRequest",type:g.FUNCTION,contextType:"WIDGET",defaultTemplateValue:"",template:"/**\n * Hook for side-effects only.\n * Change request object, to change actual request. * No result handling.\n */\nfunction(context, request, $box) {\n\t${funcBody}\n}"};
var a={label:"On Data Received",valueRef:"beforeData",type:g.FUNCTION,contextType:"DATA",defaultTemplateValue:"return data;",template:"/**\n * Return data object\n */\nfunction(context, data, $box) {\n\t${funcBody}\n}"};var d={label:"Before Render",valueRef:"beforeRender",type:g.FUNCTION,contextType:"DATA",defaultTemplateValue:"return options;",template:"/**\n * Return patched \n * options object.\n */\nfunction(context, options) {\n\t${funcBody}\n}"};
var b={label:"After Render",valueRef:"afterRender",type:g.FUNCTION,contextType:"DATA",defaultTemplateValue:"",template:"/**\n * Hook for side-effects only.\n * No result handling.\n */\nfunction(context, data, $box) {\n\t${funcBody}\n}"};var f={label:"On Send Event",valueRef:"sendEvent",type:g.FUNCTION,contextType:"DATA",defaultTemplateValue:"return args;",template:"/**\n * Return arguments array\n */\nfunction(context, $box, type, args) {\n\t${funcBody}\n}"};
c.onWidgetOptionsHookMeta={label:"On Widget options",valueRef:"onWidgetOptions",type:g.FUNCTION,contextType:"DATA",defaultTemplateValue:"return options;",template:"/**\n * Result will be used while rendering.\n */\nfunction(context, options, $box) {\n\t${funcBody}\n}"};
c.HooksOptionsMeta=[d,b,f];c.MdxWidgetHooksOptionsMeta=[e,a,d,b,f]})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.LabelOptionsMeta=[{label:"align",valueRef:"align",type:h.TEXT,detailedInfo:"",defaultValue:"left"},{label:"alpha",valueRef:"alpha",type:h.RANGE,detailedInfo:"",range:{min:0,max:1,step:0.05},defaultValue:1},{label:"bold",valueRef:"bold",type:h.BOOLEAN,detailedInfo:"Specifies if label is bold or not.",defaultValue:false},{label:"color",valueRef:"color",type:h.COLOR,detailedInfo:"Color of a label.",defaultValue:"#000000"},{label:"id",valueRef:"id",type:h.TEXT,detailedInfo:"Unique id of a Label. You don't need to set it, unless you want to.",defaultValue:""},{label:"rotation",valueRef:"rotation",type:h.NUMBER,detailedInfo:"Rotation angle.",defaultValue:0},{label:"size",valueRef:"size",type:h.NUMBER,detailedInfo:"Text size.",defaultValue:""},{label:"text",valueRef:"text",type:h.TEXT,detailedInfo:"Text of a label.",defaultValue:""},{label:"url",valueRef:"url",type:h.TEXT,detailedInfo:"URL which will be access if user clicks on a label.",defaultValue:""},{label:"x",valueRef:"x",type:h.NUMBER,detailedInfo:"X position of a label.",defaultValue:""},{label:"y",valueRef:"y",type:h.NUMBER,detailedInfo:"y position of a label.",defaultValue:""}]
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.AmBalloonOptionsMeta=[{label:"adjustBorderColor",valueRef:"adjustBorderColor",type:h.BOOLEAN,detailedInfo:"If this is set to true, border color instead of background color will be changed when user rolls-over the slice, graph, etc.",defaultValue:true,subgroup:"General settings"},{label:"animationDuration",valueRef:"animationDuration",type:h.NUMBER,detailedInfo:"Duration of balloon movement from previous point to current point, in seconds.",defaultValue:0.3,subgroup:"General settings"},{label:"borderAlpha",valueRef:"borderAlpha",type:h.RANGE,detailedInfo:"Balloon border opacity.",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Appearance"},{label:"borderColor",valueRef:"borderColor",type:h.COLOR,detailedInfo:"Balloon border color. Will only be used of adjustBorderColor is false.",defaultValue:"#FFFFFF",subgroup:"Appearance"},{label:"borderThickness",valueRef:"borderThickness",type:h.NUMBER,detailedInfo:"Balloon border thickness.",defaultValue:2,subgroup:"Appearance"},{label:"color",valueRef:"color",type:h.COLOR,detailedInfo:"Color of text in the balloon.",defaultValue:"#000000",subgroup:"Appearance"},{label:"cornerRadius",valueRef:"cornerRadius",type:h.NUMBER,detailedInfo:"Balloon corner radius.",defaultValue:0,subgroup:"Appearance"},{label:"disableMouseEvents",valueRef:"disableMouseEvents",type:h.BOOLEAN,detailedInfo:"In case your balloon has links, you have to set this to true in order links to work. ",defaultValue:true,subgroup:"General settings"},{label:"fadeOutDuration",valueRef:"fadeOutDuration",type:h.NUMBER,detailedInfo:"Duration of a fade out animation, in seconds.",defaultValue:0.3,subgroup:"General settings"},{label:"fillAlpha",valueRef:"fillAlpha",type:h.RANGE,detailedInfo:"Balloon background opacity.",range:{min:0,max:1,step:0.05},defaultValue:0.8,subgroup:"Appearance"},{label:"fillColor",valueRef:"fillColor",type:h.COLOR,detailedInfo:'Balloon background color. Usually balloon background color is set by the chart. Only if "adjustBorderColor" is "true" this color will be used.',defaultValue:"#FFFFFF",subgroup:"Appearance"},{label:"fixedPosition",valueRef:"fixedPosition",type:h.BOOLEAN,detailedInfo:"Specifies if balloon should follow mouse when hovering the slice/column/bullet or stay in fixed position (this does not affect balloon behavior if ChartCursor is used).",defaultValue:true,subgroup:"General settings"},{label:"fontSize",valueRef:"fontSize",type:h.NUMBER,detailedInfo:"Size of text in the balloon. Chart's fontSize is used by default.",suggestion:[8,9,10,11,12,14,16,18,20,22,24,26,28,30,32,36],defaultValue:11,subgroup:"Appearance"},{label:"horizontalPadding",valueRef:"horizontalPadding",type:h.NUMBER,detailedInfo:"Horizontal padding of the balloon.",defaultValue:8,subgroup:"Appearance"},{label:"maxWidth",valueRef:"maxWidth",type:h.NUMBER,detailedInfo:"Maximum width of a balloon.",defaultValue:"",subgroup:"General settings"},{label:"offsetX",valueRef:"offsetX",type:h.NUMBER,detailedInfo:"Defines horizontal distance from mouse pointer to balloon pointer. If you set it to a small value, the balloon might flicker, as mouse might lose focus on hovered object.",defaultValue:1,subgroup:"General settings"},{label:"offsetY",valueRef:"offsetY",type:h.NUMBER,detailedInfo:"Defines vertical distance from mouse pointer to balloon pointer. If you set it to a small value, the balloon might flicker, as mouse might lose focus on hovered object.",defaultValue:6,subgroup:"General settings"},{label:"pointerWidth",valueRef:"pointerWidth",type:h.NUMBER,detailedInfo:'The width of the pointer (arrow) "root". Only used if cornerRadius is 0.',defaultValue:6,subgroup:"Appearance"},{label:"shadowAlpha",valueRef:"shadowAlpha",type:h.RANGE,detailedInfo:"Opacity of a shadow.",range:{min:0,max:1,step:0.05},defaultValue:0.4,subgroup:"Appearance"},{label:"shadowColor",valueRef:"shadowColor",type:h.COLOR,detailedInfo:"Color of a shadow.",defaultValue:"#000000",subgroup:"Appearance"},{label:"showBullet",valueRef:"showBullet",type:h.BOOLEAN,detailedInfo:"If cornerRadius of a balloon is >0, showBullet is set to true for value balloons when ChartCursor is used. If you don't want the bullet near the balloon, set it to false: chart.balloon.showBullet = false",defaultValue:false,subgroup:"General settings"},{label:"textAlign",valueRef:"textAlign",type:h.SELECT,detailedInfo:'Text alignment, possible values "left", "middle" and "right"',suggestion:["left","middle","right"],defaultValue:"middle",subgroup:"Appearance"},{label:"verticalPadding",valueRef:"verticalPadding",type:h.NUMBER,detailedInfo:"Vertical padding of the balloon.",defaultValue:4,subgroup:"Appearance"}]
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.AmLegendOptionsMeta=[{label:"align",valueRef:"align",type:h.SELECT,detailedInfo:'Alignment of legend entries. Possible values are: "left", "center", "right".',suggestion:["left","center","right"],defaultValue:"left",subgroup:"Position and margins"},{label:"autoMargins",valueRef:"autoMargins",type:h.BOOLEAN,detailedInfo:"Used if chart is Serial or XY. In case true, margins of the legend are adjusted and made equal to chart's margins.",defaultValue:true,subgroup:"Position and margins"},{label:"backgroundAlpha",valueRef:"backgroundAlpha",type:h.RANGE,detailedInfo:"Opacity of legend's background.",range:{min:0,max:1,step:0.05},defaultValue:0,subgroup:"Appearance"},{label:"backgroundColor",valueRef:"backgroundColor",type:h.COLOR,detailedInfo:"Background color. You should set backgroundAlpha to >0 vallue in order background to be visible.",defaultValue:"#FFFFFF",subgroup:"Appearance"},{label:"borderAlpha",valueRef:"borderAlpha",type:h.RANGE,detailedInfo:"Opacity of chart's border.",range:{min:0,max:1,step:0.05},defaultValue:0,subgroup:"Appearance"},{label:"borderColor",valueRef:"borderColor",type:h.COLOR,detailedInfo:"Color of legend's border. You should set borderAlpha >0 in order border to be visible.",defaultValue:"#000000",subgroup:"Appearance"},{label:"bottom",valueRef:"bottom",type:h.NUMBER,detailedInfo:'In case legend position is set to "absolute", you can set distance from bottom of the chart, in pixels.',defaultValue:"",subgroup:"Position and margins"},{label:"color",valueRef:"color",type:h.COLOR,detailedInfo:"Text color.",defaultValue:"#000000",subgroup:"Appearance"},{label:"divId",valueRef:"divId",type:h.TEXT,detailedInfo:"You can set id of a div or a reference to div object in case you want the legend to be placed in a separate container.",defaultValue:"",subgroup:"General settings"},{label:"enabled",valueRef:"enabled",type:h.BOOLEAN,detailedInfo:"Specifies if legend is enabled or not.",defaultValue:false,subgroup:"General settings"},{label:"equalWidths",valueRef:"equalWidths",type:h.BOOLEAN,detailedInfo:"Specifies if each of legend entry should be equal to the most wide entry. Won't look good if legend has more than one line.",defaultValue:true,subgroup:"General settings"},{label:"fontSize",valueRef:"fontSize",type:h.NUMBER,detailedInfo:"Font size.",suggestion:[8,9,10,11,12,14,16,18,20,22,24,26,28,30,32,36],defaultValue:11,subgroup:"Appearance"},{label:"forceWidth",valueRef:"forceWidth",type:h.BOOLEAN,detailedInfo:"If you set this property to true, width of legend item labels won't be adjusted. Useful when you have more than one chart and want to align all the legends.",defaultValue:false,subgroup:"Position and margins"},{label:"gradientRotation",valueRef:"gradientRotation",type:h.SELECT,detailedInfo:"Can be used if legend uses custom data. Set it to 0, 90, 180 or 270.",suggestion:[0,90,180,270],defaultValue:0,subgroup:"Markers"},{label:"horizontalGap",valueRef:"horizontalGap",type:h.NUMBER,detailedInfo:"Horizontal space between legend item and left/right border.",defaultValue:0,subgroup:"Appearance"},{label:"labelText",valueRef:"labelText",type:h.TEXT,detailedInfo:"The text which will be displayed in the legend. Tag [[title]] will be replaced with the title of the graph.",defaultValue:"[[title]]",subgroup:"General settings"},{label:"labelWidth",valueRef:"labelWidth",type:h.NUMBER,detailedInfo:"If width of the label is bigger than labelWidth, it will be wrapped.",defaultValue:"",subgroup:"General settings"},{label:"left",valueRef:"left",type:h.NUMBER,detailedInfo:'In case legend position is set to "absolute", you can set distance from left side of the chart, in pixels.',defaultValue:"",subgroup:"Position and margins"},{label:"marginBottom",valueRef:"marginBottom",type:h.NUMBER,detailedInfo:"Bottom margin.",defaultValue:0,subgroup:"Position and margins"},{label:"marginLeft",valueRef:"marginLeft",type:h.NUMBER,detailedInfo:"Left margin. This property will be ignored if chart is Serial or XY and autoMargins property of the legend is true (default).",defaultValue:20,subgroup:"Position and margins"},{label:"marginRight",valueRef:"marginRight",type:h.NUMBER,detailedInfo:"Right margin. This property will be ignored if chart is Serial or XY and autoMargins property of the legend is true (default).",defaultValue:20,subgroup:"Position and margins"},{label:"marginTop",valueRef:"marginTop",type:h.NUMBER,detailedInfo:"Top margin.",defaultValue:0,subgroup:"Position and margins"},{label:"markerBorderAlpha",valueRef:"markerBorderAlpha",type:h.RANGE,detailedInfo:"Marker border opacity.",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Markers"},{label:"markerBorderColor",valueRef:"markerBorderColor",type:h.COLOR,detailedInfo:"Marker border color. If not set, will use the same color as marker.",defaultValue:"",subgroup:"Markers"},{label:"markerBorderThickness",valueRef:"markerBorderThickness",type:h.NUMBER,detailedInfo:'Thickness of the legend border. The default value (0) means the line will be a "hairline" (1 px). In case marker type is line, this style will be used for line thickness.',defaultValue:1,subgroup:"Markers"},{label:"markerDisabledColor",valueRef:"markerDisabledColor",type:h.COLOR,detailedInfo:"The color of the disabled marker (when the graph is hidden).",defaultValue:"#AAB3B3",subgroup:"Markers"},{label:"markerLabelGap",valueRef:"markerLabelGap",type:h.NUMBER,detailedInfo:"Space between legend marker and legend text, in pixels.",defaultValue:5,subgroup:"Markers"},{label:"markerSize",valueRef:"markerSize",type:h.NUMBER,detailedInfo:"Size of the legend marker (key).",defaultValue:16,subgroup:"Markers"},{label:"markerType",valueRef:"markerType",type:h.TEXT,detailedInfo:"Shape of the legend marker (key).",suggestion:["square","circle","diamond","triangleUp","triangleDown","triangleLeft","triangleDown","bubble","line","none"],defaultValue:"square",subgroup:"Markers"},{label:"maxColumns",valueRef:"maxColumns",type:h.NUMBER,detailedInfo:'Maximum number of columns in the legend. If Legend\'s position is set to "right" or "left", maxColumns is automatically set to 1.',defaultValue:"",subgroup:"General settings"},{label:"periodValueText",valueRef:"periodValueText",type:h.TEXT,detailedInfo:"The text which will be displayed in the value portion of the legend when user is not hovering above any data point. The tags should be made out of two parts - the name of a field (value / open / close / high / low) and the value of the period you want to be show - open / close / high / low / sum / average / count. For example: [[value.sum]] means that sum of all data points of value field in the selected period will be displayed.",defaultValue:"",subgroup:"General settings"},{label:"position",valueRef:"position",type:h.SELECT,detailedInfo:'Position of a legend. In case "absolute", you should set left and top properties too. (this setting is ignored in Stock charts). In case legend is used with AmMap, position is set to "absolute" automatically.',suggestion:["bottom","top","left","right","absolute"],defaultValue:"bottom",subgroup:"Position and margins"},{label:"reversedOrder",valueRef:"reversedOrder",type:h.BOOLEAN,detailedInfo:"Specifies whether legend entries should be placed in reversed order.",defaultValue:false,subgroup:"General settings"},{label:"right",valueRef:"right",type:h.NUMBER,detailedInfo:'In case legend position is set to "absolute", you can set distance from right side of the chart, in pixels.',defaultValue:"",subgroup:"Position and margins"},{label:"rollOverColor",valueRef:"rollOverColor",type:h.COLOR,detailedInfo:"Legend item text color on roll-over.",defaultValue:"#CC0000",subgroup:"Appearance"},{label:"rollOverGraphAlpha",valueRef:"rollOverGraphAlpha",type:h.RANGE,detailedInfo:"When you roll-over the legend entry, all other graphs can reduce their opacity, so that the graph you rolled-over would be distinguished. This style specifies the opacity of the graphs.",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"General settings"},{label:"showEntries",valueRef:"showEntries",type:h.BOOLEAN,detailedInfo:"You can use this property to turn all the legend entries off.",defaultValue:true,subgroup:"General settings"},{label:"spacing",valueRef:"spacing",type:h.NUMBER,detailedInfo:"Horizontal space between legend items, in pixels.",defaultValue:10,subgroup:"Position and margins"},{label:"switchable",valueRef:"switchable",type:h.BOOLEAN,detailedInfo:"Whether showing/hiding of graphs by clicking on the legend marker is enabled or not. In case legend is used with AmMap, this is set to false automatically.",defaultValue:true,subgroup:"General settings"},{label:"switchColor",valueRef:"switchColor",type:h.COLOR,detailedInfo:"Legend switch color.",defaultValue:"#FFFFFF",subgroup:"Appearance"},{label:"switchType",valueRef:"switchType",type:h.TEXT,detailedInfo:'Legend switch type (in case the legend is switchable). Possible values are "x" and "v".',defaultValue:"x",subgroup:"General settings"},{label:"textClickEnabled",valueRef:"textClickEnabled",type:h.BOOLEAN,detailedInfo:"If true, clicking on the text will show/hide balloon of the graph. Otherwise it will show/hide graph/slice, if switchable is set to true.",defaultValue:false,subgroup:"General settings"},{label:"top",valueRef:"top",type:h.TEXT,detailedInfo:'In case legend position is set to "absolute", you can set distance from top of the chart, in pixels.',defaultValue:"",subgroup:"Position and margins"},{label:"useGraphSettings",valueRef:"useGraphSettings",type:h.BOOLEAN,detailedInfo:"Legend markers can mirror graph’s settings, displaying a line and a real bullet as in the graph itself. Set this property to true if you want to enable this feature. Note, if you set graph colors in dataProvider, they will not be reflected in the marker.",defaultValue:false,subgroup:"General settings"},{label:"useMarkerColorForLabels",valueRef:"useMarkerColorForLabels",type:h.BOOLEAN,detailedInfo:"Labels will use marker color if you set this to true.",defaultValue:false,subgroup:"Markers"},{label:"useMarkerColorForValues",valueRef:"useMarkerColorForValues",type:h.BOOLEAN,detailedInfo:"Specifies if legend values should be use same color as corresponding markers.",defaultValue:false,subgroup:"Markers"},{label:"valueAlign",valueRef:"valueAlign",type:h.TEXT,detailedInfo:"Alignment of the value text.",suggestion:["left","right"],defaultValue:"right",subgroup:"General settings"},{label:"valueText",valueRef:"valueText",type:h.TEXT,detailedInfo:"The text which will be displayed in the value portion of the legend. You can use tags like [[value]], [[open]], [[high]], [[low]], [[close]], [[percents]], [[description]].",defaultValue:"[[value]]",subgroup:"General settings"},{label:"valueWidth",valueRef:"valueWidth",type:h.NUMBER,detailedInfo:"Width of the value text.",defaultValue:50,subgroup:"General settings"},{label:"verticalGap",valueRef:"verticalGap",type:h.NUMBER,detailedInfo:"Vertical space between legend items also between legend border and first and last legend row.",defaultValue:10,subgroup:"Position and margins"},{label:"width",valueRef:"width",type:h.NUMBER,detailedInfo:"Width of a legend, when position is set to absolute.",defaultValue:"",subgroup:"Position and margins"}]
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.TitleOptionsMeta=[{label:"alpha",valueRef:"alpha",type:h.RANGE,detailedInfo:"Opacity of a title.",range:{min:0,max:1,step:0.05},defaultValue:1},{label:"bold",valueRef:"bold",type:h.BOOLEAN,detailedInfo:"Specifies if title should be bold or not.",defaultValue:false},{label:"color",valueRef:"color",type:h.COLOR,detailedInfo:"Text color of a title.",defaultValue:""},{label:"id",valueRef:"id",type:h.TEXT,detailedInfo:"Unique id of a Title. You don't need to set it, unless you want to.",defaultValue:""},{label:"size",valueRef:"size",type:h.NUMBER,detailedInfo:"Text size of a title.",defaultValue:""},{label:"text",valueRef:"text",type:h.TEXT,detailedInfo:"Text of a title.",defaultValue:""}]
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.AmGraphOptionsMeta=[{label:"type",valueRef:"type",type:h.SELECT,detailedInfo:'Type of the graph. Possible values are: "line", "column", "step", "smoothedLine", "candlestick", "ohlc". XY and Radar charts can only display "line" type graphs.',suggestion:["line","column","step","smoothedLine","candlestick","ohlc"],defaultValue:function(i){return _.get(i["data-render"],"chartType.proto.graphPrototype.type","line")
}},{label:"Value Axis",valueRef:"valueAxisMode",type:h.SELECT,detailedInfo:"Value axis configuration",defaultValue:"Default",suggestion:function(i){return["Default"].concat(_.reduce(i["data-render"].graphsConfiguration,function(j,l,k){if(l.valueAxisMode=="New"){j.push("From Configuration "+k)
}return j},[])).concat("New")},configurable:function(j,k,i){return _.get(i["data-render"],"chartType.proto.chartPrototype.type")=="serial"||_.get(i["data-render"],"chartType.proto.chartPrototype.type")=="radar"}},{label:"alphaFieldFunction",valueRef:"alphaFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of the alpha field in your dataProvider.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"animationPlayed",valueRef:"animationPlayed",type:h.BOOLEAN,detailedInfo:"If you set this to true before chart is drawn, the animation of this graph won't be played.",defaultValue:false,subgroup:"Miscellaneous"},{label:"balloonColor",valueRef:"balloonColor",type:h.COLOR,detailedInfo:"Value balloon color. Will use graph or data item color if not set.",defaultValue:"",subgroup:"Appearance"},{label:"balloonFunction",valueRef:"balloonFunction",type:h.FUNCTION,detailedInfo:"If you set some function, the graph will call it and pass GraphDataItem and AmGraph object to it. This function should return a string which will be displayed in a balloon.",defaultValue:"",contextType:"CELL",subgroup:"General settings"},{label:"balloonText",valueRef:"balloonText",type:h.TEXT,detailedInfo:"Balloon text. You can use tags like [[value]], [[description]], [[percents]], [[open]], [[category]] or any other field name from your data provider. HTML tags can also be used.",defaultValue:"[[value]]",subgroup:"General settings"},{label:"behindColumns",valueRef:"behindColumns",type:h.BOOLEAN,detailedInfo:"Specifies if the line graph should be placed behind column graphs",defaultValue:false,subgroup:"Miscellaneous"},{label:"bullet",valueRef:"bullet",type:h.SELECT,detailedInfo:"Type of the bullets.",defaultValue:"none",suggestion:["none","round","square","triangleUp","triangleDown","triangleLeft","triangleRight","bubble","diamond","xError","yError","custom"],subgroup:"Bullets and labels"},{label:"bulletAlpha",valueRef:"bulletAlpha",type:h.RANGE,detailedInfo:"Opacity of bullets.",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Bullets and labels"},{label:"bulletBorderAlpha",valueRef:"bulletBorderAlpha",type:h.RANGE,detailedInfo:"Bullet border opacity.",range:{min:0,max:1,step:0.05},defaultValue:0,subgroup:"Bullets and labels"},{label:"bulletBorderColor",valueRef:"bulletBorderColor",type:h.COLOR,detailedInfo:"Bullet border color. Will use lineColor if not set.",defaultValue:"#000000",subgroup:"Bullets and labels"},{label:"bulletBorderThickness",valueRef:"bulletBorderThickness",type:h.NUMBER,detailedInfo:"Bullet border thickness.",defaultValue:2,subgroup:"Bullets and labels"},{label:"bulletColor",valueRef:"bulletColor",type:h.COLOR,detailedInfo:"Bullet color. Will use lineColor if not set.",defaultValue:"#000000",subgroup:"Bullets and labels"},{label:"bulletFieldFunction",valueRef:"bulletFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of the bullet field in your dataProvider.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"bulletOffset",valueRef:"bulletOffset",type:h.NUMBER,detailedInfo:"Bullet offset. Distance from the actual data point to the bullet. Can be used to place custom bullets above the columns.",defaultValue:0,subgroup:"Bullets and labels"},{label:"bulletSize",valueRef:"bulletSize",type:h.NUMBER,detailedInfo:"Bullet size.",defaultValue:8,subgroup:"Bullets and labels"},{label:"bulletSizeFieldFunction",valueRef:"bulletSizeFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of the bullet size field in your dataProvider.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"classNameFieldFunction",valueRef:"classNameFieldFunction",type:h.EXPRESSION,detailedInfo:"If this field is set and addClassNames is enabled, the chart will look for a class name string in data using this setting and apply additional class names to elements of the particular data points, such as bullets.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"closeFieldFunction",valueRef:"closeFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of the close field (used by candlesticks and ohlc) in your dataProvider.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"clustered",valueRef:"clustered",type:h.BOOLEAN,detailedInfo:'In case you want to place this graph\'s columns in front of other columns, set this to false. In case "true", the columns will be clustered next to each other.',defaultValue:true,subgroup:"Miscellaneous"},{label:"color",valueRef:"color",type:h.COLOR,detailedInfo:"Color of value labels. Will use chart's color if not set.",defaultValue:"#000000",subgroup:"Appearance"},{label:"colorFieldFunction",valueRef:"colorFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of the color field in your dataProvider.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"columnWidth",valueRef:"columnWidth",type:h.NUMBER,detailedInfo:"You can specify custom column width for each graph individually. Value range is 0 - 1 (we set relative width, not pixel width here).",defaultValue:"",subgroup:"Appearance"},{label:"connect",valueRef:"connect",type:h.BOOLEAN,detailedInfo:"Specifies whether to connect data points if data is missing. The default value is true. This feature does not work with XY chart.",defaultValue:true,subgroup:"General settings"},{label:"cornerRadiusTop",valueRef:"cornerRadiusTop",type:h.NUMBER,detailedInfo:"Corner radius of column. It can be set both in pixels or in percents. The chart's depth and angle styles must be set to 0. The default value is 0. Note, cornerRadiusTop will be applied for all corners of the column, JavaScript charts do not have a possibility to set separate corner radius for top and bottom. As we want all the property names to be the same both on JS and Flex, we didn't change this too.",defaultValue:0,subgroup:"Appearance"},{label:"cursorBulletAlpha",valueRef:"cursorBulletAlpha",type:h.RANGE,detailedInfo:"If bulletsEnabled of ChartCurosor is true, a bullet on each graph follows the cursor. You can set opacity of each graphs bullet. In case you want to disable these bullets for a certain graph, set opacity to 0.",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Bullets and labels"},{label:"customBullet",valueRef:"customBullet",type:h.TEXT,detailedInfo:"Path to the image of custom bullet.",defaultValue:"",subgroup:"Bullets and labels"},{label:"customBulletFieldFunction",valueRef:"customBulletFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of the custom bullet field in your dataProvider.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"customMarker",valueRef:"customMarker",type:h.TEXT,detailedInfo:"Path to the image for legend marker.",defaultValue:"",subgroup:"Legend"},{label:"dashLength",valueRef:"dashLength",type:h.NUMBER,detailedInfo:"Dash length. If you set it to a value greater than 0, the graph line (or columns border) will be dashed.",defaultValue:0,subgroup:"Appearance"},{label:"dashLengthFieldFunction",valueRef:"dashLengthFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of the dash length field in your dataProvider. This property adds a possibility to change graphs’ line from solid to dashed on any data point. You can also make columns border dashed using this setting.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"dateFormat",valueRef:"dateFormat",type:h.TEXT,detailedInfo:"Used to format balloons if value axis is date-based.",defaultValue:"MMM DD, YYYY",subgroup:"Miscellaneous"},{label:"descriptionFieldFunction",valueRef:"descriptionFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of the description field in your dataProvider.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"errorFieldFunction",valueRef:"errorFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of error value field in your data provider.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"fillAlphas",valueRef:"fillAlphas",type:h.RANGE,detailedInfo:"Opacity of fill. Plural form is used to keep the same property names as our Flex charts'. Flex charts can accept array of numbers to generate gradients. Although you can set array here, only first value of this array will be used.",range:{min:0,max:1,step:0.05},defaultValue:0,subgroup:"Appearance"},{label:"fillColors",valueRef:"fillColors",type:h.COLOR,detailedInfo:"Fill color. Will use lineColor if not set. You can also set array of colors here.",defaultValue:"#000000",subgroup:"Appearance"},{label:"fillColorsFieldFunction",valueRef:"fillColorsFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of the fill colors field in your dataProvider. This property adds a possibility to change line graphs’ fill color on any data point to create highlighted sections of the graph. Works only with AmSerialChart.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"fillToAxis",valueRef:"fillToAxis",type:h.TEXT,detailedInfo:"XY chart only. If you set this property to id of your X or Y axis, and the fillAlphas is > 0, the area between graph and axis will be filled with color, like in this demo.",defaultValue:"",subgroup:"Miscellaneous"},{label:"fixedColumnWidth",valueRef:"fixedColumnWidth",type:h.NUMBER,detailedInfo:"Column width in pixels. If you set this property, columns will be of a fixed width and won't adjust to the available space.",defaultValue:"",subgroup:"Appearance"},{label:"fontSize",valueRef:"fontSize",type:h.NUMBER,detailedInfo:"Size of value labels text. Will use chart's fontSize if not set.",suggestion:[8,9,10,11,12,14,16,18,20,22,24,26,28,30,32,36],range:{min:1},defaultValue:11,subgroup:"Appearance"},{label:"gapFieldFunction",valueRef:"gapFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of the gap field in your dataProvider. You can force graph to show gap at a desired data point using this feature. This feature does not work with XY chart.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"gapPeriod",valueRef:"gapPeriod",type:h.NUMBER,detailedInfo:"Using this property you can specify when graph should display gap - if the time difference between data points is bigger than duration of minPeriod * gapPeriod, and connect property of a graph is set to false, graph will display gap.",defaultValue:1.1,subgroup:"General settings"},{label:"gradientOrientation",valueRef:"gradientOrientation",type:h.SELECT,detailedInfo:'Orientation of the gradient fills (only for "column" graph type).',defaultValue:"vertical",suggestion:["vertical","horizontal"],subgroup:"Appearance"},{label:"hidden",valueRef:"hidden",type:h.BOOLEAN,detailedInfo:"Specifies whether the graph is hidden.",defaultValue:false,subgroup:"General settings"},{label:"hideBulletsCount",valueRef:"hideBulletsCount",type:h.NUMBER,detailedInfo:"If there are more data points than hideBulletsCount, the bullets will not be shown. 0 means the bullets will always be visible.",defaultValue:0,subgroup:"Bullets and labels"},{label:"highFieldFunction",valueRef:"highFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of the high field (used by candlesticks and ohlc) in your dataProvider.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"id",valueRef:"id",type:h.TEXT,detailedInfo:"Unique id of a graph. It is not required to set one, unless you want to use this graph for as your scrollbar's graph and need to indicate which graph should be used.",defaultValue:"",subgroup:"General settings"},{label:"includeInMinMax",valueRef:"includeInMinMax",type:h.BOOLEAN,detailedInfo:"Whether to include this graph when calculating min and max value of the axis.",defaultValue:true,subgroup:"Miscellaneous"},{label:"labelAnchor",valueRef:"labelAnchor",type:h.TEXT,detailedInfo:"Data label text anchor.",defaultValue:"auto",subgroup:"Bullets and labels"},{label:"labelColorFieldFunction",valueRef:"labelColorFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of label color field in data provider.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"labelFunction",valueRef:"labelFunction",type:h.FUNCTION,detailedInfo:"You can use it to format labels of data items in any way you want. Graph will call this function and pass reference to GraphDataItem and formatted text as attributes. This function should return string which will be displayed as label.",defaultValue:"",subgroup:"Bullets and labels"},{label:"labelOffset",valueRef:"labelOffset",type:h.NUMBER,detailedInfo:"Offset of data label.",defaultValue:0,subgroup:"Bullets and labels"},{label:"labelPosition",valueRef:"labelPosition",type:h.SELECT,detailedInfo:"Position of value label. Sometimes position is changed by the chart, depending on a graph type, rotation, etc.",defaultValue:"top",suggestion:["bottom","top","right","left","inside","middle"],subgroup:"Bullets and labels"},{label:"labelRotation",valueRef:"labelRotation",type:h.NUMBER,detailedInfo:"Rotation of a data label.",defaultValue:0,subgroup:"Bullets and labels"},{label:"labelText",valueRef:"labelText",type:h.TEXT,detailedInfo:"Value label text. You can use tags like [[value]], [[description]], [[percents]], [[open]], [[category]].",defaultValue:"",subgroup:"Bullets and labels"},{label:"legendAlpha",valueRef:"legendAlpha",type:h.RANGE,detailedInfo:"Legend marker opacity. Will use lineAlpha if not set.",range:{min:0,max:1,step:0.05},defaultValue:"",subgroup:"Legend"},{label:"legendColor",valueRef:"legendColor",type:h.COLOR,detailedInfo:"Legend marker color. Will use lineColor if not set.",defaultValue:"#000000",subgroup:"Legend"},{label:"legendPeriodValueText",valueRef:"legendPeriodValueText",type:h.TEXT,detailedInfo:"The text which will be displayed in the value portion of the legend when user is not hovering above any data point. The tags should be made out of two parts - the name of a field (value / open / close / high / low) and the value of the period you want to be show - open / close / high / low / sum / average / count. For example: [[value.sum]] means that sum of all data points of value field in the selected period will be displayed.",defaultValue:"",subgroup:"Legend"},{label:"legendValueText",valueRef:"legendValueText",type:h.TEXT,detailedInfo:"Legend value text. You can use tags like [[value]], [[description]], [[percents]], [[open]], [[category]] You can also use custom fields from your dataProvider. If not set, uses Legend's valueText.",defaultValue:"",subgroup:"Legend"},{label:"lineAlpha",valueRef:"lineAlpha",type:h.RANGE,detailedInfo:"Opacity of the line (or column border).",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Appearance"},{label:"lineColor",valueRef:"lineColor",type:h.COLOR,detailedInfo:"Color of the line (or column border). If you do not set any, the color from AmCoordinateChart.colors array will be used for each subsequent graph.",defaultValue:"#000000",subgroup:"Appearance"},{label:"lineColorFieldFunction",valueRef:"lineColorFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of the line color field in your dataProvider. This property adds a possibility to change graphs’ line color on any data point to create highlighted sections of the graph. Works only with AmSerialChart.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"lineThickness",valueRef:"lineThickness",type:h.NUMBER,detailedInfo:"Specifies thickness of the graph line (or column border).",defaultValue:0,subgroup:"Appearance"},{label:"lowFieldFunction",valueRef:"lowFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of the low field (used by candlesticks and ohlc) in your dataProvider.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"markerType",valueRef:"markerType",type:h.SELECT,detailedInfo:"Legend marker type. You can set legend marker (key) type for individual graphs.",defaultValue:"",suggestion:["square","circle","diamond","triangleUp","triangleDown","triangleLeft","triangleDown","bubble","line","none"],subgroup:"Legend"},{label:"maxBulletSize",valueRef:"maxBulletSize",type:h.NUMBER,detailedInfo:"Specifies size of the bullet which value is the biggest (XY chart).",defaultValue:50,subgroup:"Bullets and labels"},{label:"minBulletSize",valueRef:"minBulletSize",type:h.NUMBER,detailedInfo:"Specifies minimum size of the bullet (XY chart).",defaultValue:4,subgroup:"Bullets and labels"},{label:"minDistance",valueRef:"minDistance",type:h.NUMBER,detailedInfo:"It is useful if you have really lots of data points. Based on this property the graph will omit some of the lines (if the distance between points is less that minDistance, in pixels). This will not affect the bullets or indicator in anyway, so the user will not see any difference (unless you set minValue to a bigger value, let say 5), but will increase performance as less lines will be drawn. By setting value to a bigger number you can also make your lines look less jagged.",defaultValue:1,subgroup:"Miscellaneous"},{label:"negativeBase",valueRef:"negativeBase",type:h.NUMBER,detailedInfo:"If you use different colors for your negative values, a graph below zero line is filled with negativeColor. With this property you can define a different base value at which colors should be changed to negative colors. ",defaultValue:0,subgroup:"Miscellaneous"},{label:"negativeFillAlphas",valueRef:"negativeFillAlphas",type:h.RANGE,range:{min:0,max:1,step:0.05},detailedInfo:"Fill opacity of negative part of the graph. Will use fillAlphas if not set.",defaultValue:"",subgroup:"Appearance"},{label:"negativeFillColors",valueRef:"negativeFillColors",type:h.COLOR,detailedInfo:"Fill color of negative part of the graph. Will use fillColors if not set.",defaultValue:"",subgroup:"Appearance"},{label:"negativeLineAlpha",valueRef:"negativeLineAlpha",type:h.RANGE,detailedInfo:"Opacity of the negative portion of the line (or column border).",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Appearance"},{label:"negativeLineColor",valueRef:"negativeLineColor",type:h.COLOR,detailedInfo:"Color of the line (or column) when the values are negative. In case the graph type is candlestick or ohlc, negativeLineColor is used when close value is less then open value.",defaultValue:"#000000",subgroup:"Appearance"},{label:"newStack",valueRef:"newStack",type:h.BOOLEAN,detailedInfo:"If you set it to true, column chart will begin new stack. This allows having Clustered and Stacked column/bar chart.",defaultValue:false,subgroup:"Miscellaneous"},{label:"noStepRisers",valueRef:"noStepRisers",type:h.BOOLEAN,detailedInfo:"In case you want to have a step line graph without risers, you should set this to true.",defaultValue:false,subgroup:"Miscellaneous"},{label:"openFieldFunction",valueRef:"openFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of the open field (used by floating columns, candlesticks and ohlc) in your dataProvider.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"patternFieldFunction",valueRef:"patternFieldFunction",type:h.EXPRESSION,detailedInfo:'Field name in your data provider which holds pattern information. Value of pattern should be object with url, width, height of an image, optionally it might have x, y, randomX and randomY values. For example: {"url":"../amcharts/patterns/black/pattern1.png", "width":4, "height":4}. Check amcharts/patterns folder for some patterns. You can create your own patterns and use them. Note, x, y, randomX and randomY properties won\'t work with IE8 and older. 3D bar/Pie charts won\'t work properly with patterns.',defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"periodSpan",valueRef:"periodSpan",type:h.NUMBER,detailedInfo:"This property can be used by step graphs - you can set how many periods one horizontal line should span.",defaultValue:1,subgroup:"Miscellaneous"},{label:"pointPosition",valueRef:"pointPosition",type:h.TEXT,detailedInfo:'Specifies where data points should be placed - on the beginning of the period (day, hour, etc) or in the middle (only when parseDates property of categoryAxis is set to true). This setting affects Serial chart only. Possible values are "start", "middle" and "end"',defaultValue:"middle",subgroup:"Miscellaneous"},{label:"precision",valueRef:"precision",type:h.NUMBER,detailedInfo:"Precision of values. Will use chart's precision if not set any.",defaultValue:"",subgroup:"Miscellaneous"},{label:"proCandlesticks",valueRef:"proCandlesticks",type:h.BOOLEAN,detailedInfo:"If this is set to true, candlesticks will be colored in a different manner - if current close is less than current open, the candlestick will be empty, otherwise - filled with color. If previous close is less than current close, the candlestick will use positive color, otherwise - negative color.",defaultValue:false,subgroup:"Miscellaneous"},{label:"showAllValueLabels",valueRef:"showAllValueLabels",type:h.BOOLEAN,detailedInfo:"If graph's type is column and labelText is set, graph hides labels which do not fit into the column's space. If you don't want these labels to be hidden, set this to true.",defaultValue:false,subgroup:"Bullets and labels"},{label:"showBalloon",valueRef:"showBalloon",type:h.BOOLEAN,detailedInfo:"Specifies whether the value balloon of this graph is shown when mouse is over data item or chart's indicator is over some series.",defaultValue:true,subgroup:"General settings"},{label:"showBalloonAt",valueRef:"showBalloonAt",type:h.SELECT,detailedInfo:'Specifies graphs value at which cursor is showed. This is only important for candlestick and ohlc charts, also if column chart has "open" value.',defaultValue:"close",suggestion:["open","close","high","low","top","bottom"],subgroup:"Miscellaneous"},{label:"showBulletsAt",valueRef:"showBulletsAt",type:h.SELECT,detailedInfo:"Works with candlestick graph type, you can set it to open, close, high, low. If you set it to high, the events will be shown at the tip of the high line.",defaultValue:"close",suggestion:["open","close","high","low"],subgroup:"Bullets and labels"},{label:"showHandOnHover",valueRef:"showHandOnHover",type:h.BOOLEAN,detailedInfo:"If you want mouse pointer to change to hand when hovering the graph, set this property to true.",defaultValue:false,subgroup:"Miscellaneous"},{label:"showOnAxis",valueRef:"showOnAxis",type:h.BOOLEAN,detailedInfo:"It can only be used together with topRadius (when columns look like cylinders). If you set it to true, the cylinder will be lowered down so that the center of it's bottom circle would be right on category axis.",defaultValue:false,subgroup:"Appearance"},{label:"stackable",valueRef:"stackable",type:h.BOOLEAN,detailedInfo:'If the value axis of this graph has stack types like "regular" or "100%" You can exclude this graph from stacking.',defaultValue:true,subgroup:"Miscellaneous"},{label:"stepDirection",valueRef:"stepDirection",type:h.TEXT,detailedInfo:"Step graph only. Specifies to which direction step should be drawn.",defaultValue:"right",subgroup:"Miscellaneous"},{label:"switchable",valueRef:"switchable",type:h.BOOLEAN,detailedInfo:"If you set it to false, the graph will not be hidden when user clicks on legend entry.",defaultValue:true,subgroup:"Miscellaneous"},{label:"title",valueRef:"title",type:h.TEXT,detailedInfo:"Graph title.",defaultValue:"",subgroup:"General settings"},{label:"topRadius",valueRef:"topRadius",type:h.NUMBER,detailedInfo:"If you set this to 1, columns will become cylinders (must set depth3D and angle properties of a chart to >0 values in order this to be visible). you can make columns look like cones (set topRadius to 0) or even like some glasses (set to bigger than 1). We strongly recommend setting grid opacity to 0 in order this to look good.",defaultValue:"",subgroup:"Appearance"},{label:"urlFieldFunction",valueRef:"urlFieldFunction",type:h.EXPRESSION,detailedInfo:"Name of the url field in your dataProvider.",defaultValue:"",contextType:"CELL",subgroup:"Miscellaneous"},{label:"urlTarget",valueRef:"urlTarget",type:h.TEXT,detailedInfo:"Target to open URLs in, i.e. _blank, _top, etc.",defaultValue:"",subgroup:"Miscellaneous"},{label:"useLineColorForBulletBorder",valueRef:"useLineColorForBulletBorder",type:h.BOOLEAN,detailedInfo:"If set to true, the bullet border will take the same color as graph line.",defaultValue:false,subgroup:"Miscellaneous"},{label:"useNegativeColorIfDown",valueRef:"useNegativeColorIfDown",type:h.BOOLEAN,detailedInfo:" If negativeLineColor and/or negativeFillColors are set and useNegativeColorIfDown is set to true (default is false), the line, step and column graphs will use these colors for lines, bullets or columns if previous value is bigger than current value. In case you set openField for the graph, the graph will compare current value with openField value instead of comparing to previous value. Here is a demo.",defaultValue:false,subgroup:"Miscellaneous"},{label:"visibleInLegend",valueRef:"visibleInLegend",type:h.BOOLEAN,detailedInfo:"Specifies whether this graph should be shown in the Legend.",defaultValue:true,subgroup:"General settings"},{label:"X Axis",valueRef:"xAxisMode",type:h.SELECT,detailedInfo:"X axis configuration",defaultValue:"Default",suggestion:function(i){return["Default"].concat(_.reduce(i["data-render"].graphsConfiguration,function(j,l,k){if(l.valueAxisMode=="New"){j.push("From Configuration "+k)
}return j},[])).concat("New")},configurable:function(j,k,i){return _.get(i["data-render"],"chartType.proto.chartPrototype.type")=="xy"}},{label:"xFieldFunction",valueRef:"xFieldFunction",type:h.EXPRESSION,detailedInfo:"XY chart only. Name of the x field in your dataProvider.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"},{label:"Y Axis",valueRef:"yAxisMode",type:h.SELECT,detailedInfo:"Y axis configuration",defaultValue:"Default",suggestion:function(i){return["Default"].concat(_.reduce(i["data-render"].graphsConfiguration,function(j,l,k){if(l.valueAxisMode=="New"){j.push("From Configuration "+k)
}return j},[])).concat("New")},configurable:function(j,k,i){return _.get(i["data-render"],"chartType.proto.chartPrototype.type")=="xy"}},{label:"yFieldFunction",valueRef:"yFieldFunction",type:h.EXPRESSION,detailedInfo:"XY chart only. Name of the y field in your dataProvider.",defaultValue:"",contextType:"CELL",subgroup:"Data fields"}]
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.GuideOptionsMeta=[{label:"above",valueRef:"above",type:h.BOOLEAN,detailedInfo:"If you set it to true, the guide will be displayed above the graphs.",defaultValue:false,subgroup:"Appearance"},{label:"angle",valueRef:"angle",type:h.NUMBER,detailedInfo:"Radar chart only. Specifies angle at which guide should start. Affects only fills, not lines.",defaultValue:"",subgroup:"Data"},{label:"balloonColor",valueRef:"balloonColor",type:h.COLOR,detailedInfo:"Balloon fill color.",defaultValue:"",subgroup:"Appearance"},{label:"balloonText",valueRef:"balloonText",type:h.TEXT,detailedInfo:"The text which will be displayed if the user rolls-over the guide.",defaultValue:"",subgroup:"Data"},{label:"boldLabel",valueRef:"boldLabel",type:h.BOOLEAN,detailedInfo:"Specifies if label should be bold or not.",defaultValue:false,subgroup:"Appearance"},{label:"category",valueRef:"category",type:h.TEXT,detailedInfo:"Category of the guide (in case the guide is for category axis).",defaultValue:"",subgroup:"Data"},{label:"color",valueRef:"color",type:h.COLOR,detailedInfo:"Color of a guide label.",defaultValue:"",subgroup:"Appearance"},{label:"dashLength",valueRef:"dashLength",type:h.NUMBER,detailedInfo:"Dash length.",defaultValue:"",subgroup:"Appearance"},{label:"date",valueRef:"date",type:h.DATE,detailedInfo:"Date of the guide (in case the guide is for category axis and parseDates is set to true).",defaultValue:"",subgroup:"Data"},{label:"expand",valueRef:"expand",type:h.BOOLEAN,detailedInfo:"Works if a guide is added to CategoryAxis and this axis is non-date-based. If you set it to true, the guide will start (or be placed, if it's not a fill) on the beginning of the category cell and will end at the end of toCategory cell.",defaultValue:false,subgroup:"Appearance"},{label:"fillAlpha",valueRef:"fillAlpha",type:h.RANGE,detailedInfo:"Fill opacity.",range:{min:0,max:1,step:0.05},defaultValue:"",subgroup:"Appearance"},{label:"fillColor",valueRef:"fillColor",type:h.COLOR,detailedInfo:"Fill color.",defaultValue:"",subgroup:"Appearance"},{label:"fontSize",valueRef:"fontSize",type:h.NUMBER,detailedInfo:"Font size of guide label.",defaultValue:11,subgroup:"Appearance"},{label:"id",valueRef:"id",type:h.TEXT,detailedInfo:"Unique id of a Guide. You don't need to set it, unless you want to.",defaultValue:"",subgroup:"Data"},{label:"inside",valueRef:"inside",type:h.BOOLEAN,detailedInfo:"Specifies whether label should be placed inside or outside plot area.",defaultValue:"",subgroup:"Appearance"},{label:"label",valueRef:"label",type:h.TEXT,detailedInfo:"The label which will be displayed near the guide.",defaultValue:"",subgroup:"Appearance"},{label:"labelRotation",valueRef:"labelRotation",type:h.NUMBER,detailedInfo:"Rotation angle of a guide label.",defaultValue:"",subgroup:"Appearance"},{label:"lineAlpha",valueRef:"lineAlpha",type:h.RANGE,detailedInfo:"Line opacity.",range:{min:0,max:1,step:0.05},defaultValue:"",subgroup:"Appearance"},{label:"lineColor",valueRef:"lineColor",type:h.COLOR,detailedInfo:"Line color.",defaultValue:"",subgroup:"Appearance"},{label:"lineThickness",valueRef:"lineThickness",type:h.NUMBER,detailedInfo:"Line thickness.",defaultValue:"",subgroup:"Appearance"},{label:"position",valueRef:"position",type:h.SELECT,detailedInfo:'Position of guide label. Possible values are "left" or "right" for horizontal axis and "top" or "bottom" for vertical axis.',defaultValue:"",suggestion:["left","right","top","bottom"],subgroup:"Appearance"},{label:"tickLength",valueRef:"tickLength",type:h.NUMBER,detailedInfo:"Tick length.",defaultValue:"",subgroup:"Appearance"},{label:"toAngle",valueRef:"toAngle",type:h.NUMBER,detailedInfo:"Radar chart only. Specifies angle at which guide should end. Affects only fills, not lines.",defaultValue:"",subgroup:"Data"},{label:"toCategory",valueRef:"toCategory",type:h.TEXT,detailedInfo:'"To" category of the guide (in case the guide is for category axis).',defaultValue:"",subgroup:"Data"},{label:"toDate",valueRef:"toDate",type:h.DATE,detailedInfo:'"To" date of the guide (in case the guide is for category axis and parseDates is set to true) If you have both date and toDate, the space between these two dates can be filled with color.',defaultValue:"",subgroup:"Data"},{label:"toValue",valueRef:"toValue",type:h.NUMBER,detailedInfo:'"To" value of the guide (in case the guide is for value axis).',defaultValue:"",subgroup:"Data"},{label:"value",valueRef:"value",type:h.NUMBER,detailedInfo:"Value of the guide (in case the guide is for value axis).",defaultValue:"",subgroup:"Data"}]
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.AxisBaseOptionsMeta=[{label:"autoGridCount",valueRef:"autoGridCount",type:h.BOOLEAN,detailedInfo:"Specifies whether number of gridCount is specified automatically, according to the axis size.",defaultValue:true,subgroup:"General settings"},{label:"labelsEnabled",valueRef:"labelsEnabled",type:h.BOOLEAN,detailedInfo:"Specifies whether axis displays category axis' labels and value axis' values.",defaultValue:true,subgroup:"Axis labels"},{label:"labelFrequency",valueRef:"labelFrequency",type:h.NUMBER,detailedInfo:"Frequency at which labels should be placed. Doesn't work for CategoryAxis if parseDates is set to true.",defaultValue:1,subgroup:"Axis labels"},{label:"autoRotateAngle",valueRef:"autoRotateAngle",type:h.NUMBER,detailedInfo:"Angle of label rotation, if the number of series exceeds autoRotateCount. Works on horizontal axis only. It is not recommended to use it with charts with zoom/scroll features, as chart adjusts margin only based on initial render.",defaultValue:0,subgroup:"Axis labels"},{label:"autoRotateCount",valueRef:"autoRotateCount",type:h.NUMBER,detailedInfo:"If the number of category axis items will exceed the autoRotateCount, the labels will be rotated by autoRotateAngle degree. Works on horizontal axis only. Not recommended with scrollable/zoomable charts.",defaultValue:0,subgroup:"Axis labels"},{label:"axisAlpha",valueRef:"axisAlpha",type:h.RANGE,detailedInfo:"Axis opacity. Value range is 0 - 1.",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Axis appearance"},{label:"axisColor",valueRef:"axisColor",type:h.COLOR,detailedInfo:"Axis color.",defaultValue:"#000000",subgroup:"Axis appearance"},{label:"axisThickness",valueRef:"axisThickness",type:h.NUMBER,detailedInfo:"Thickness of the axis.",defaultValue:1,subgroup:"Axis appearance"},{label:"boldLabels",valueRef:"boldLabels",type:h.BOOLEAN,detailedInfo:"Specifies if axis labels should be bold or not.",defaultValue:false,subgroup:"Axis labels"},{label:"centerLabels",valueRef:"centerLabels",type:h.BOOLEAN,detailedInfo:"Force-centers labels of date-based axis (in case it's category axis, equalSpacing must be false)",defaultValue:false,subgroup:"Axis labels"},{label:"color",valueRef:"color",type:h.COLOR,detailedInfo:"Color of axis value labels. Will use chart's color if not set.",defaultValue:"#000000",subgroup:"Axis labels"},{label:"dashLength",valueRef:"dashLength",type:h.NUMBER,detailedInfo:"Length of a dash. 0 means line is not dashed.",defaultValue:0,subgroup:"Grid and fills"},{label:"dateFormat",valueRef:"dateFormats",type:h.OBJECT_ARRAY,children:[{label:"period",valueRef:"period",type:h.TEXT,detailedInfo:"Possible period values: fff - milliseconds, ss - seconds, mm - minutes, hh - hours, DD - days, MM - months, WW - weeks, YYYY - years",defaultValue:""},{label:"format",valueRef:"format",type:h.TEXT,detailedInfo:"Date format",defaultValue:""}],detailedInfo:"Date formats of different periods",defaultValue:[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],subgroup:"Date formats"},{label:"fillAlpha",valueRef:"fillAlpha",type:h.RANGE,range:{min:0,max:1,step:0.05},detailedInfo:"Fill opacity. Every second space between grid lines can be filled with color. Set fillAlpha to a value greater than 0 to see the fills.",defaultValue:0,subgroup:"Grid and fills"},{label:"fillColor",valueRef:"fillColor",type:h.COLOR,detailedInfo:"Fill color. Every second space between grid lines can be filled with color. Set fillAlpha to a value greater than 0 to see the fills.",defaultValue:"#FFFFFF",subgroup:"Axis labels"},{label:"fontSize",valueRef:"fontSize",type:h.NUMBER,detailedInfo:"Size of value labels text. Will use chart's fontSize if not set.",defaultValue:11,subgroup:"Axis labels"},{label:"gridAlpha",valueRef:"gridAlpha",type:h.RANGE,detailedInfo:"Opacity of grid lines.",range:{min:0,max:1,step:0.05},defaultValue:0.15,subgroup:"Grid and fills"},{label:"gridColor",valueRef:"gridColor",type:h.COLOR,detailedInfo:"Color of grid lines.",defaultValue:"#000000",subgroup:"Grid and fills"},{label:"gridCount",valueRef:"gridCount",type:h.NUMBER,detailedInfo:"Number of grid lines. In case this is value axis, or your categoryAxis parses dates, the number is approximate. The default value is 5. If you set autoGridCount to true, this property is ignored.",defaultValue:5,subgroup:"Grid and fills"},{label:"gridThickness",valueRef:"gridThickness",type:h.NUMBER,detailedInfo:"Thickness of grid lines.",defaultValue:1,subgroup:"Grid and fills"},{label:"ignoreAxisWidth",valueRef:"ignoreAxisWidth",type:h.BOOLEAN,detailedInfo:"If autoMargins of a chart is set to true, but you want this axis not to be measured when calculating margin, set ignoreAxisWidth to true.",defaultValue:false,subgroup:"General settings"},{label:"inside",valueRef:"inside",type:h.BOOLEAN,detailedInfo:"Specifies whether values should be placed inside or outside plot area.",defaultValue:false,subgroup:"Axis labels"},{label:"labelOffset",valueRef:"labelOffset",type:h.NUMBER,detailedInfo:"You can use it to adjust position of axes labels. Works both with CategoryAxis and ValueAxis.",defaultValue:0,subgroup:"Axis labels"},{label:"labelRotation",valueRef:"labelRotation",type:h.NUMBER,detailedInfo:"Rotation angle of a label. Only horizontal axis' values can be rotated. If you set this for vertical axis, the setting will be ignored. Possible values from -90 to 90.",defaultValue:0,subgroup:"Axis labels"},{label:"minHorizontalGap",valueRef:"minHorizontalGap",type:h.NUMBER,detailedInfo:"This property is used when calculating grid count (when autoGridCount is true). It specifies minimum cell width required for one span between grid lines.",defaultValue:75,subgroup:"Axis labels"},{label:"minorGridAlpha",valueRef:"minorGridAlpha",type:h.RANGE,detailedInfo:"Opacity of minor grid. In order minor to be visible, you should set minorGridEnabled to true.",range:{min:0,max:1,step:0.05},defaultValue:0.07,subgroup:"Grid and fills"},{label:"minorGridEnabled",valueRef:"minorGridEnabled",type:h.BOOLEAN,detailedInfo:"Specifies if minor grid should be displayed.\n\nNOTE: If equalSpacing is set to true, this setting will be ignored.",defaultValue:false,subgroup:"Grid and fills"},{label:"minorTickLength",valueRef:"minorTickLength",type:h.NUMBER,detailedInfo:"Length of minor grid tick.",defaultValue:0,subgroup:"Grid and fills"},{label:"minVerticalGap",valueRef:"minVerticalGap",type:h.NUMBER,detailedInfo:"This property is used when calculating grid count (when autoGridCount is true). It specifies minimum cell height required for one span between grid lines.",defaultValue:35,subgroup:"Axis labels"},{label:"offset",valueRef:"offset",type:h.NUMBER,detailedInfo:"The distance of the axis to the plot area, in pixels. Negative values can also be used.",defaultValue:0,subgroup:"General settings"},{label:"position",valueRef:"position",type:h.SELECT,detailedInfo:'If axis is vertical, default position is "left". If axis is horizontal, default position is "bottom".',suggestion:["top","bottom","left","right"],defaultValue:"bottom",subgroup:"General settings"},{label:"showFirstLabel",valueRef:"showFirstLabel",type:h.BOOLEAN,detailedInfo:"Whether to show first axis label or not. This works properly only on ValueAxis. With CategoryAxis it wont work 100%, it depends on the period, zooming, etc. There is no guaranteed way to force category axis to show or hide first label.",defaultValue:true,subgroup:"Axis labels"},{label:"showLastLabel",valueRef:"showLastLabel",type:h.BOOLEAN,detailedInfo:"Whether to show last axis label or not. This works properly only on ValueAxis. With CategoryAxis it wont work 100%, it depends on the period, zooming, etc. There is no guaranteed way to force category axis to show or hide last label.",defaultValue:true,subgroup:"Axis labels"},{label:"tickLength",valueRef:"tickLength",type:h.NUMBER,detailedInfo:"Length of the tick marks.",defaultValue:5,subgroup:"Axis appearance"},{label:"title",valueRef:"title",type:h.TEXT,detailedInfo:"Title of the axis.",defaultValue:"",subgroup:"General settings"},{label:"titleBold",valueRef:"titleBold",type:h.BOOLEAN,detailedInfo:"Specifies if title should be bold or not.",defaultValue:true,subgroup:"General settings"},{label:"titleColor",valueRef:"titleColor",type:h.COLOR,detailedInfo:"Color of axis title. Will use text color of chart if not set any.",defaultValue:"#000000",subgroup:"General settings"},{label:"titleFontSize",valueRef:"titleFontSize",type:h.NUMBER,detailedInfo:"Font size of axis title. Will use font size of chart plus two pixels if not set any.",defaultValue:11,subgroup:"General settings"},{label:"titleRotation",valueRef:"titleRotation",type:h.NUMBER,detailedInfo:"Rotation of axis title. Useful if you want to make vertical axis title to be shown from top to down.",defaultValue:0,subgroup:"General settings"}]
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var i=a.reporting.editor.OptionMetaType;var g=a.reporting.amcharts.meta.AxisBaseOptionsMeta;
h.ValueAxisOptionsMeta=g.concat([{label:"axisTitleOffset",valueRef:"axisTitleOffset",type:i.NUMBER,detailedInfo:"Radar chart only. Specifies distance from axis to the axis title (category)",defaultValue:10,subgroup:"General settings"},{label:"baseValue",valueRef:"baseValue",type:i.NUMBER,detailedInfo:"Specifies base value of the axis.",defaultValue:0,subgroup:"Miscellaneous"},{label:"duration",valueRef:"duration",type:i.TEXT,detailedInfo:'If your values represents time units, and you want value axis labels to be formatted as duration, you have to set the duration unit. Possible values are: "ss", "mm", "hh" and "DD".',suggestion:["ss","mm","hh","DD"],defaultValue:"",subgroup:"Miscellaneous"},{label:"gridType",valueRef:"gridType",type:i.SELECT,detailedInfo:'Radar chart only. Possible values are: "polygons" and "circles". Set "circles" for polar charts.',suggestion:["polygons","circles"],defaultValue:"polygons",subgroup:"Grid and fills"},{label:"id",valueRef:"id",type:i.TEXT,detailedInfo:"Unique id of value axis. It is not required to set it, unless you need to tell the graph which exact value axis it should use.",defaultValue:"",subgroup:"General settings"},{label:"includeAllValues",valueRef:"includeAllValues",type:i.BOOLEAN,detailedInfo:"If you set it to true, minimum and maximum of value axis will not change while zooming/scrolling.",defaultValue:false,subgroup:"Miscellaneous"},{label:"includeGuidesInMinMax",valueRef:"includeGuidesInMinMax",type:i.BOOLEAN,detailedInfo:"Specifies whether guide values should be included when calculating min and max of the axis.",defaultValue:false,subgroup:"Miscellaneous"},{label:"includeHidden",valueRef:"includeHidden",type:i.BOOLEAN,detailedInfo:"If true, the axis will include hidden graphs when calculating min and max values.",defaultValue:false,subgroup:"Miscellaneous"},{label:"integersOnly",valueRef:"integersOnly",type:i.BOOLEAN,detailedInfo:"Specifies whether values on axis can only be integers or both integers and doubles.",defaultValue:false,subgroup:"Miscellaneous"},{label:"labelFunction",valueRef:"labelFunction",type:i.FUNCTION,detailedInfo:'You can use this function to format Value axis labels. This function is called and these parameters are passed: labelFunction(value, valueText, valueAxis); Where value is numeric value, valueText is formatted string and valueAxis is a reference to valueAxis object. If axis type is "date", labelFucntion will pass different arguments:labelFunction(valueText, date, valueAxis) Your function should return string.',defaultValue:"",subgroup:"General settings"},{label:"logarithmic",valueRef:"logarithmic",type:i.BOOLEAN,detailedInfo:"Specifies if this value axis' scale should be logarithmic.",defaultValue:false,subgroup:"Miscellaneous"},{label:"maximum",valueRef:"maximum",type:i.NUMBER,detailedInfo:"If you don't want max value to be calculated by the chart, set it using this property. This value might still be adjusted so that it would be possible to draw grid at rounded intervals.",defaultValue:"",subgroup:"General settings"},{label:"maximumDate",valueRef:"maximumDate",type:i.DATE,detailedInfo:"If your value axis is date-based, you can specify maximum date of the axis. Can be set as date object, timestamp number or string if dataDateFormat is set.",defaultValue:"",subgroup:"Miscellaneous"},{label:"minimum",valueRef:"minimum",type:i.NUMBER,detailedInfo:"If you don't want min value to be calculated by the chart, set it using this property. This value might still be adjusted so that it would be possible to draw grid at rounded intervals.",defaultValue:"",subgroup:"General settings"},{label:"minimumDate",valueRef:"minimumDate",type:i.DATE,detailedInfo:"If your value axis is date-based, you can specify minimum date of the axis. Can be set as date object, timestamp number or string if dataDateFormat is set.",defaultValue:"",subgroup:"Miscellaneous"},{label:"minMaxMultiplier",valueRef:"minMaxMultiplier",type:i.NUMBER,detailedInfo:"If set value axis scale (min and max numbers) will be multiplied by it. I.e. if set to 1.2 the scope of values will increase by 20%.",defaultValue:1,subgroup:"Miscellaneous"},{label:"pointPosition",valueRef:"pointPosition",type:i.SELECT,detailedInfo:"Works with radar charts only. If you set it to “middle”, labels and data points will be placed in the middle between axes. ",suggestion:["middle","axis"],defaultValue:"axis",subgroup:"Miscellaneous"},{label:"position",valueRef:"position",type:i.SELECT,detailedInfo:'Possible values are: "top", "bottom", "left", "right". If axis is vertical, default position is "left". If axis is horizontal, default position is "bottom".',suggestion:["top","bottom","left","right"],defaultValue:"left",subgroup:"General settings"},{label:"precision",valueRef:"precision",type:i.NUMBER,detailedInfo:"Precision (number of decimals) of values.",defaultValue:"",subgroup:"Miscellaneous"},{label:"radarCategoriesEnabled",valueRef:"radarCategoriesEnabled",type:i.BOOLEAN,detailedInfo:"Radar chart only. Specifies if categories (axes' titles) should be displayed near axes)",defaultValue:true,subgroup:"Miscellaneous"},{label:"recalculateToPercents",valueRef:"recalculateToPercents",type:i.BOOLEAN,detailedInfo:"Specifies if graphs's values should be recalculated to percents.",defaultValue:false,subgroup:"Miscellaneous"},{label:"reversed",valueRef:"reversed",type:i.BOOLEAN,detailedInfo:"Specifies if value axis should be reversed (smaller values on top).",defaultValue:false,subgroup:"Miscellaneous"},{label:"stackType",valueRef:"stackType",type:i.SELECT,detailedInfo:'Stacking mode of the axis. Possible values are: "none", "regular", "100%", "3d".\nNote, only graphs of one type will be stacked. ',suggestion:["none","regular","100%","3d"],defaultValue:"none",subgroup:"General settings"},{label:"strictMinMax",valueRef:"strictMinMax",type:i.BOOLEAN,detailedInfo:"If you set minimum and maximum for your axis, chart adjusts them so that grid would start and end on the beginning and end of plot area and grid would be at equal intervals. If you set strictMinMax to true, the chart will not adjust minimum and maximum of value axis.",defaultValue:false,subgroup:"Miscellaneous"},{label:"title",valueRef:"title",type:i.TEXT,detailedInfo:"Title of the axis.",defaultValue:"",subgroup:"General settings"},{label:"totalText",valueRef:"totalText",type:i.TEXT,detailedInfo:'If this value axis is stacked and has columns, setting valueAxis.totalText = "[[total]]" will make it to display total value above the most-top column.',defaultValue:"",subgroup:"Miscellaneous"},{label:"totalTextColor",valueRef:"totalTextColor",type:i.COLOR,detailedInfo:"Color of total text.",defaultValue:"",subgroup:"Miscellaneous"},{label:"totalTextOffset",valueRef:"totalTextOffset",type:i.NUMBER,detailedInfo:"Distance from data point to total text.",defaultValue:0,subgroup:"Miscellaneous"},{label:"treatZeroAs",valueRef:"treatZeroAs",type:i.NUMBER,detailedInfo:"This allows you to have logarithmic value axis and have zero values in the data. You must set it to >0 value in order to work.",defaultValue:0,subgroup:"Miscellaneous"},{label:"type",valueRef:"type",type:i.TEXT,detailedInfo:'Type of value axis. If your values in data provider are dates and you want this axis to show dates instead of numbers, set it to "date".',defaultValue:"numeric",subgroup:"General settings"},{label:"unit",valueRef:"unit",type:i.TEXT,detailedInfo:"Unit which will be added to the value label.",defaultValue:"",subgroup:"Miscellaneous"},{label:"unitPosition",valueRef:"unitPosition",type:i.SELECT,detailedInfo:'Position of the unit. Possible values are "left" and "right".',suggestion:["left","right"],defaultValue:"right",subgroup:"Miscellaneous"},{label:"usePrefixes",valueRef:"usePrefixes",type:i.BOOLEAN,detailedInfo:"If true, prefixes will be used for big and small numbers. You can set arrays of prefixes directly to the chart object via prefixesOfSmallNumbers and prefixesOfBigNumbers.",defaultValue:false,subgroup:"Miscellaneous"},{label:"useScientificNotation",valueRef:"useScientificNotation",type:i.BOOLEAN,detailedInfo:"If true, values will always be formatted using scientific notation (5e+8, 5e-8...) Otherwise only values bigger then 1e+21 and smaller then 1e-7 will be displayed in scientific notation.",defaultValue:false,subgroup:"Miscellaneous"},{label:"zeroGridAlpha",valueRef:"zeroGridAlpha",type:i.RANGE,range:{min:0,max:1,step:0.05},detailedInfo:"Opacity of a zero grid line. By default it is equal to 2 x gridAlpha.",defaultValue:"",subgroup:"Grid and fills"}])
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.ChartCursorOptionsMeta=[{label:"adjustment",valueRef:"adjustment",type:h.NUMBER,detailedInfo:"If you set adjustment to -1, the balloon will be shown near previous, if you set it to 1 - near next data point.",defaultValue:0,subgroup:"General settings"},{label:"animationDuration",valueRef:"animationDuration",type:h.NUMBER,detailedInfo:"Duration of animation of a line, in seconds.",defaultValue:0.3,subgroup:"Appearance"},{label:"avoidBalloonOverlapping",valueRef:"avoidBalloonOverlapping",type:h.BOOLEAN,detailedInfo:"Specifies if cursor should arrange balloons so they won't overlap. If chart is rotated, it might be good idea to turn this off.",defaultValue:true,subgroup:"General settings"},{label:"balloonPointerOrientation",valueRef:"balloonPointerOrientation",type:h.TEXT,detailedInfo:"defines if the balloon should be shown above the datapoint or sideways",defaultValue:"horizontal",subgroup:"General settings"},{label:"bulletsEnabled",valueRef:"bulletsEnabled",type:h.BOOLEAN,detailedInfo:"Specifies if bullet for each graph will follow the cursor.",defaultValue:false,subgroup:"General settings"},{label:"bulletSize",valueRef:"bulletSize",type:h.NUMBER,detailedInfo:"Size of bullets, following the cursor.",defaultValue:8,subgroup:"General settings"},{label:"categoryBalloonAlpha",valueRef:"categoryBalloonAlpha",type:h.RANGE,detailedInfo:"Opacity of the category balloon.",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Appearance"},{label:"categoryBalloonColor",valueRef:"categoryBalloonColor",type:h.COLOR,detailedInfo:"Color of the category balloon. cursorColor is used if not set.",defaultValue:"#000000",subgroup:"Appearance"},{label:"categoryBalloonDateFormat",valueRef:"categoryBalloonDateFormat",type:h.TEXT,detailedInfo:"Category balloon date format (used only if category axis parses dates). Check this page for instructions on how to format dates.",defaultValue:"MMM DD, YYYY",subgroup:"General settings"},{label:"categoryBalloonEnabled",valueRef:"categoryBalloonEnabled",type:h.BOOLEAN,detailedInfo:"Specifies whether category balloon is enabled.",defaultValue:true,subgroup:"General settings"},{label:"categoryBalloonFunction",valueRef:"categoryBalloonFunction",type:h.FUNCTION,detailedInfo:"Allows formatting any category balloon text you want. categoryBalloonFunction should return a string which will be displayed in a balloon. When categoryBalloonFunction is called, category value (or date) is passed as an argument.",defaultValue:"",subgroup:"General settings"},{label:"categoryBalloonText",valueRef:"categoryBalloonText",type:h.TEXT,detailedInfo:"You can have [[category]] - [[toCategory]] tags in there and show category ranges this way.",defaultValue:"[[category]]",subgroup:"General settings"},{label:"color",valueRef:"color",type:h.COLOR,detailedInfo:"Text color.",defaultValue:"#FFFFFF",subgroup:"Appearance"},{label:"cursorAlpha",valueRef:"cursorAlpha",type:h.RANGE,detailedInfo:"Opacity of the cursor line.",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Appearance"},{label:"cursorColor",valueRef:"cursorColor",type:h.COLOR,detailedInfo:"Color of the cursor line.",defaultValue:"#CC0000",subgroup:"Appearance"},{label:"cursorPosition",valueRef:"cursorPosition",type:h.SELECT,detailedInfo:'Specifies where the cursor line should be placed - on the beginning of the period (day, hour, etc) or in the middle (only when parseDates property of categoryAxis is set to true). If you want the cursor to follow mouse and not to glue to the nearest data point, set "mouse" here.',defaultValue:"middle",suggestion:["start","middle","mouse"],subgroup:"General settings"},{label:"enabled",valueRef:"enabled",type:h.BOOLEAN,detailedInfo:"Specifies whether cursor is enabled.",defaultValue:false,subgroup:"General settings"},{label:"fullWidth",valueRef:"fullWidth",type:h.BOOLEAN,detailedInfo:"If set to true, instead of a cursor line user will see a fill which width will always be equal to the width of one data item. We'd recommend setting cursorAlpha to 0.1 or some other small number if using this feature.",defaultValue:false,subgroup:"General settings"},{label:"graphBulletAlpha",valueRef:"graphBulletAlpha",type:h.RANGE,detailedInfo:" If you make graph's bullets invisible by setting their opacity to 0 and will set graphBulletAlpha to 1, the bullets will only appear at the cursor's position. ",range:{min:0,max:1,step:0.05},defaultValue:"",subgroup:"Appearance"},{label:"graphBulletSize",valueRef:"graphBulletSize",type:h.NUMBER,detailedInfo:"Size of a graph's bullet (if available) at the cursor position. If you don't want the bullet to change it's size, set this property to 1.",defaultValue:1.7,subgroup:"General settings"},{label:"leaveAfterTouch",valueRef:"leaveAfterTouch",type:h.BOOLEAN,detailedInfo:"This makes cursor and balloons to remain after user touches the chart.",defaultValue:true,subgroup:"General settings"},{label:"leaveCursor",valueRef:"leaveCursor",type:h.BOOLEAN,detailedInfo:"Specifies if cursor should be left at it's last position. Useful for touch devices - user might want to see the balloons after he moves finger away.",defaultValue:false,subgroup:"General settings"},{label:"oneBalloonOnly",valueRef:"oneBalloonOnly",type:h.BOOLEAN,detailedInfo:"If this is set to true, only one balloon at a time will be displayed. Note, this is quite CPU consuming.",defaultValue:false,subgroup:"General settings"},{label:"pan",valueRef:"pan",type:h.BOOLEAN,detailedInfo:"If this is set to true, the user will be able to pan the chart (Serial only) instead of zooming.",defaultValue:false,subgroup:"General settings"},{label:"selectionAlpha",valueRef:"selectionAlpha",type:h.RANGE,detailedInfo:"Opacity of the selection.",range:{min:0,max:1,step:0.05},defaultValue:0.2,subgroup:"Appearance"},{label:"selectWithoutZooming",valueRef:"selectWithoutZooming",type:h.BOOLEAN,detailedInfo:"Specifies if cursor should only mark selected area but not zoom-in after user releases mouse button.",defaultValue:false,subgroup:"General settings"},{label:"showNextAvailable",valueRef:"showNextAvailable",type:h.BOOLEAN,detailedInfo:"If true, the graph will display balloon on next available data point if currently hovered item doesn't have value for this graph.",defaultValue:false,subgroup:"General settings"},{label:"valueBalloonsEnabled",valueRef:"valueBalloonsEnabled",type:h.BOOLEAN,detailedInfo:"Specifies whether value balloons are enabled. In case they are not, the balloons might be displayed anyway, when the user rolls-over the column or bullet.",defaultValue:true,subgroup:"General settings"},{label:"valueLineAlpha",valueRef:"valueLineAlpha",type:h.RANGE,detailedInfo:"Opacity of value line. Will use cursorAlpha value if not set.",range:{min:0,max:1,step:0.05},defaultValue:"",subgroup:"Appearance"},{label:"valueLineAxis",valueRef:"valueLineAxis",type:h.TEXT,detailedInfo:"Axis of value line. If you set valueLineBalloonEnabled to true, but you have more than one axis, you can use axis id to indicate which axis should display balloon.",defaultValue:"",subgroup:"General settings"},{label:"valueLineBalloonEnabled",valueRef:"valueLineBalloonEnabled",type:h.BOOLEAN,detailedInfo:"Specifies if value balloon next to value axis labels should be displayed. If you have more than one axis, set valueLineAxis property to indicate which axis should display the balloon.",defaultValue:false,subgroup:"General settings"},{label:"valueLineEnabled",valueRef:"valueLineEnabled",type:h.BOOLEAN,detailedInfo:"Specifies if cursor of Serial chart should display horizontal (or vertical if chart is rotated) line. This line might help users to compare distant values of a chart. You can also enable value balloon on this line by setting valueLineAxis property of ChartCursor.",defaultValue:false,subgroup:"General settings"},{label:"zoomable",valueRef:"zoomable",type:h.BOOLEAN,detailedInfo:"Specifies if the user can zoom-in the chart. If pan is set to true, zoomable is switched to false automatically.",defaultValue:true,subgroup:"General settings"}]
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.ChartScrollbarOptionsMeta=[{label:"autoGridCount",valueRef:"autoGridCount",type:h.BOOLEAN,detailedInfo:"Specifies whether number of gridCount is specified automatically, according to the axis size.",defaultValue:false,subgroup:"General settings"},{label:"backgroundAlpha",valueRef:"backgroundAlpha",type:h.RANGE,detailedInfo:"Background opacity.",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Appearance"},{label:"backgroundColor",valueRef:"backgroundColor",type:h.COLOR,detailedInfo:"Background color of the scrollbar.",defaultValue:"#D4D4D4",subgroup:"Appearance"},{label:"color",valueRef:"color",type:h.COLOR,detailedInfo:"Text color.",defaultValue:"#FFFFFF",subgroup:"Appearance"},{label:"dragIcon",valueRef:"dragIcon",type:h.TEXT,detailedInfo:"File name of scrollbar drag (resize grip) icon. You can find a set of icons in amcharts/images folder - you can choose from these: dragIconRectBig, dragIconRectBigBlack, dragIconRectSmall, dragIconRectSmallBlack, dragIconRoundBig, dragIconRoundBigBlack, dragIconRoundSmall, dragIconRoundSmallBlack. You can also use your own custom icons. Don't forget to change dragIconWidth and dragIconHeight if you change icons.",defaultValue:"dragIconRoundBig",subgroup:"General settings"},{label:"dragIconHeight",valueRef:"dragIconHeight",type:h.NUMBER,detailedInfo:"Height of resize grip image. Note, you should also update the image in amcharts/images folder if you don't want it to be distorted because of resizing.",defaultValue:35,subgroup:"General settings"},{label:"dragIconWidth",valueRef:"dragIconWidth",type:h.NUMBER,detailedInfo:"Width of resize grip image. Note, you should also update the image in amcharts/images folder if you don't want it to be distorted because of resizing.",defaultValue:35,subgroup:"General settings"},{label:"enabled",valueRef:"enabled",type:h.BOOLEAN,detailedInfo:"Specifies if scrollbar is enabled. You can hide/show scrollbar using this property without actually removing it. ",defaultValue:false,subgroup:"General settings"},{label:"graphFillAlpha",valueRef:"graphFillAlpha",type:h.RANGE,detailedInfo:"Graph fill opacity.",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Appearance"},{label:"graphFillColor",valueRef:"graphFillColor",type:h.COLOR,detailedInfo:"Graph fill color.",defaultValue:"#BBBBBB",subgroup:"Appearance"},{label:"graphLineAlpha",valueRef:"graphLineAlpha",type:h.RANGE,detailedInfo:"Graph line opacity.",range:{min:0,max:1,step:0.05},defaultValue:0,subgroup:"Appearance"},{label:"graphLineColor",valueRef:"graphLineColor",type:h.COLOR,detailedInfo:"Graph line color.",defaultValue:"#BBBBBB",subgroup:"Appearance"},{label:"graphType",valueRef:"graphType",type:h.SELECT,detailedInfo:"by default the graph type is the same as the original graph's type, however in case of candlestick or ohlc you might want to show line graph in the scrollbar.",defaultValue:"",suggestion:["line","column","step","smoothedLine","candlestick","ohlc"],subgroup:"General settings"},{label:"gridAlpha",valueRef:"gridAlpha",type:h.RANGE,detailedInfo:"Grid opacity.",range:{min:0,max:1,step:0.05},defaultValue:0.7,subgroup:"Appearance"},{label:"gridColor",valueRef:"gridColor",type:h.COLOR,detailedInfo:"Grid color.",defaultValue:"#FFFFFF",subgroup:"Appearance"},{label:"gridCount",valueRef:"gridCount",type:h.NUMBER,detailedInfo:"The number of grid lines.",defaultValue:0,subgroup:"Appearance"},{label:"hideResizeGrips",valueRef:"hideResizeGrips",type:h.BOOLEAN,detailedInfo:"Specifies whether resize grips are hidden when mouse is away from the scrollbar.",defaultValue:false,subgroup:"Appearance"},{label:"ignoreCustomColors",valueRef:"ignoreCustomColors",type:h.BOOLEAN,detailedInfo:"If you have column type graph in your scrollbar, and this graph has custom colors for one or more columns in data provider, those columns will be colored with this custom color. However you might not want this in some cases. Set this property to true to use scrollbar's graph colors.",defaultValue:false,subgroup:"Appearance"},{label:"maximum",valueRef:"maximum",type:h.NUMBER,detailedInfo:"Maximum value of ValueAxis of ChartScrollbar. Calculated automatically, if not set.",defaultValue:"",subgroup:"General settings"},{label:"minimum",valueRef:"minimum",type:h.NUMBER,detailedInfo:"Minimum value of ValueAxis of ChartScrollbar. Calculated automatically, if not set.",defaultValue:"",subgroup:"General settings"},{label:"offset",valueRef:"offset",type:h.NUMBER,detailedInfo:"Distance from plot area to scrollbar, in pixels.",defaultValue:0,subgroup:"General settings"},{label:"oppositeAxis",valueRef:"oppositeAxis",type:h.BOOLEAN,detailedInfo:"By default, scrollbar is in the opsite side of plot area from the axis. If you set this property to false, scrollbar will be placed next to category/value axis. However it won't adjust it's position regarding axis labels, so you might need to use offset property to move scrollbar away from labels.",defaultValue:true,subgroup:"General settings"},{label:"resizeEnabled",valueRef:"resizeEnabled",type:h.BOOLEAN,detailedInfo:"Specifies whether scrollbar has a resize feature.",defaultValue:true,subgroup:"General settings"},{label:"scrollbarHeight",valueRef:"scrollbarHeight",type:h.NUMBER,detailedInfo:"Height (width, if chart is rotated) of a scrollbar.",defaultValue:20,subgroup:"General settings"},{label:"scrollDuration",valueRef:"scrollDuration",type:h.NUMBER,detailedInfo:"Duration of scrolling, when the user clicks on scrollbar's background, in seconds. Note, updateOnReleaseOnly should be set to false in order animation to happen.",defaultValue:1,subgroup:"Appearance"},{label:"selectedBackgroundAlpha",valueRef:"selectedBackgroundAlpha",type:h.RANGE,detailedInfo:"Selected backround opacity.",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Appearance"},{label:"selectedBackgroundColor",valueRef:"selectedBackgroundColor",type:h.COLOR,detailedInfo:"Selected background color.",defaultValue:"#EFEFEF",subgroup:"Appearance"},{label:"selectedGraphFillAlpha",valueRef:"selectedGraphFillAlpha",type:h.RANGE,detailedInfo:"Selected graph's fill opacity.",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Appearance"},{label:"selectedGraphFillColor",valueRef:"selectedGraphFillColor",type:h.COLOR,detailedInfo:"Selected graph's fill color.",defaultValue:"#888888",subgroup:"Appearance"},{label:"selectedGraphLineAlpha",valueRef:"selectedGraphLineAlpha",type:h.RANGE,detailedInfo:"Selected graph's line opacity.",range:{min:0,max:1,step:0.05},defaultValue:0,subgroup:"Appearance"},{label:"selectedGraphLineColor",valueRef:"selectedGraphLineColor",type:h.COLOR,detailedInfo:"Selected graph's line color.",defaultValue:"#888888",subgroup:"Appearance"},{label:"updateOnReleaseOnly",valueRef:"updateOnReleaseOnly",type:h.BOOLEAN,detailedInfo:"Specifies if the chart should be updated while dragging/resizing the scrollbar or only at the moment when user releases mouse button.",defaultValue:false,subgroup:"General settings"},{label:"zoomMode",valueRef:"zoomMode",type:h.SELECT,detailedInfo:"",defaultValue:"none",suggestion:["none","first","last","range"],subgroup:"Zoom"},{label:"zoomCount",valueRef:"zoomCount",type:h.NUMBER,detailedInfo:"",defaultValue:0,subgroup:"Zoom",configurable:function(i){return _.includes(["first","last"],_.get(i,"zoomMode"))
}},{label:"zoomFirstIndex",valueRef:"zoomFirstIndex",type:h.NUMBER,detailedInfo:"",defaultValue:0,subgroup:"Zoom",configurable:function(i){return _.includes(["range"],_.get(i,"zoomMode"))}},{label:"zoomLastIndex",valueRef:"zoomLastIndex",type:h.NUMBER,detailedInfo:"",defaultValue:0,subgroup:"Zoom",configurable:function(i){return _.includes(["range"],_.get(i,"zoomMode"))
}}]})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.TrendLineOptionsMeta=[{label:"dashLength",valueRef:"dashLength",type:h.NUMBER,detailedInfo:"Dash length.",defaultValue:0,subgroup:"Appearance"},{label:"finalCategory",valueRef:"finalCategory",type:h.TEXT,detailedInfo:"String, equal to category value to which trend line should be drawn. It should be used if chart doesn't parse dates.",defaultValue:"",subgroup:"Data"},{label:"finalDate",valueRef:"finalDate",type:h.DATE,detailedInfo:"Date to which trend line should be drawn. It can be date string (using the same date format as chart.dataDateFormat) or date object.",defaultValue:"",subgroup:"Data"},{label:"finalImage",valueRef:"finalImage",type:h.TEXT,detailedInfo:"Allows to add an image to the end of a trend line.",defaultValue:"",subgroup:"Appearance"},{label:"finalValue",valueRef:"finalValue",type:h.NUMBER,detailedInfo:"Value at which trend line should end.",defaultValue:"",subgroup:"Data"},{label:"finalXValue",valueRef:"finalXValue",type:h.NUMBER,detailedInfo:"Used by XY chart only. X value at which trend line should end.",defaultValue:"",subgroup:"Data"},{label:"id",valueRef:"id",type:h.TEXT,detailedInfo:"Unique id of a Trend line. You don't need to set it, unless you want to.",defaultValue:"",subgroup:"Advanced"},{label:"initialCategory",valueRef:"initialCategory",type:h.TEXT,detailedInfo:"String, equal to category value from which trend line should start. It should be used if chart doesn't parse dates.",defaultValue:"",subgroup:"Data"},{label:"initialDate",valueRef:"initialDate",type:h.DATE,detailedInfo:"Date from which trend line should start. It can be date string (using the same date format as chart.dataDateFormat) or date object.",defaultValue:"",subgroup:"Data"},{label:"initialImage",valueRef:"initialImage",type:h.TEXT,detailedInfo:"Allows to add an image to the beginning of a trend line.",defaultValue:"",subgroup:"Appearance"},{label:"initialValue",valueRef:"initialValue",type:h.NUMBER,detailedInfo:"Value from which trend line should start.",defaultValue:"",subgroup:"Data"},{label:"initialXValue",valueRef:"initialXValue",type:h.NUMBER,detailedInfo:"Used by XY chart only. X value from which trend line should start.",defaultValue:"",subgroup:"Data"},{label:"isProtected",valueRef:"isProtected",type:h.BOOLEAN,detailedInfo:"Used by Stock chart. If this property is set to true, this trend line won't be removed when clicked on eraser tool.",defaultValue:false,subgroup:"Advanced"},{label:"lineAlpha",valueRef:"lineAlpha",type:h.RANGE,detailedInfo:"Line opacity.",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Appearance"},{label:"lineColor",valueRef:"lineColor",type:h.COLOR,detailedInfo:"Line color.",defaultValue:"#00CC00",subgroup:"Appearance"},{label:"lineThickness",valueRef:"lineThickness",type:h.NUMBER,detailedInfo:"Line thickness.",defaultValue:1,subgroup:"Appearance"}]
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.CategoryAxisOptionsMeta=g.AxisBaseOptionsMeta.concat([{label:"autoRotateAngle",valueRef:"autoRotateAngle",type:h.NUMBER,detailedInfo:"Angle of label rotation, if the number of series exceeds autoRotateCount and parseDates is set to false.",defaultValue:"",subgroup:"Axis labels"},{label:"automaticCategoryGuides",valueRef:"automaticCategoryGuides",type:h.BOOLEAN,detailedInfo:"Use first hierarchy at the row as chart category guide",defaultValue:true,subgroup:"General settings"},{label:"autoRotateCount",valueRef:"autoRotateCount",type:h.NUMBER,detailedInfo:"If the number of category axis items will exceed the autoRotateCount, the labels will be rotated by autoRotateAngle degree. Works only if parseDates is false.",defaultValue:"",subgroup:"Axis labels"},{label:"autoWrap",valueRef:"autoWrap",type:h.BOOLEAN,detailedInfo:"Specifies if axis labels (only when it is horizontal) should be wrapped if they don't fit in the allocated space. If axis is vertical, you should set axis.ignoreAxisWidth to true in order this feature to work.",defaultValue:false,subgroup:"Axis labels"},{label:"equalSpacing",valueRef:"equalSpacing",type:h.BOOLEAN,detailedInfo:"In case your category axis values are Date objects and parseDates is set to true, the chart will parse dates and will place your data points at irregular intervals. However if you want dates to be parsed (displayed on the axis, baloons, etc), but data points to be placed at equal intervals (omiting dates with no data), set equalSpacing to true.",defaultValue:false,subgroup:"Date-related"},{label:"forceShowField",valueRef:"forceShowField",type:h.TEXT,detailedInfo:'Field in data provider which specifies if the category value should always be shown. For example: categoryAxis.forceShowField = "forceShow";And in data:{category:"one", forceShow:true, value:100}\n\nNote, this works only when parseDates is set to false.',defaultValue:"",subgroup:"Grid and fills"},{label:"gridPosition",valueRef:"gridPosition",type:h.SELECT,detailedInfo:'Specifies if a grid line is placed on the center of a cell or on the beginning of a cell. Possible values are: "start" and "middle" This setting doesn\'t work if parseDates is set to true.',suggestion:["start","middle"],defaultValue:"middle",subgroup:"Grid and fills"},{label:"labelColorField",valueRef:"labelColorField",type:h.TEXT,detailedInfo:"You can use it to set color of a axis label. Works only with non-date-based data.",defaultValue:"",subgroup:"Axis labels"},{label:"labelFunction",valueRef:"labelFunction",type:h.FUNCTION,detailedInfo:"You can use this function to format Category axis labels. If this function is set, then it is called with the following parameters passed: if dates are not parsed: labelFunction(valueText, serialDataItem, categoryAxis) if dates are parsed: labelFunction(valueText, date, categoryAxis)Your function should return string which will be displayed on the axis.",defaultValue:"",subgroup:"Axis labels"},{label:"markPeriodChange",valueRef:"markPeriodChange",type:h.BOOLEAN,detailedInfo:"If you set it to false, the start of longer periods won't use a different date format and won't be bold.",defaultValue:true,subgroup:"Axis labels"},{label:"minPeriod",valueRef:"minPeriod",type:h.TEXT,detailedInfo:'Specifies the shortest period of your data. This should be set only if parseDates is set to "true". Possible period values: fff - milliseconds, ss - seconds, mm - minutes, hh - hours, DD - days, MM - months, YYYY - years. It\'s also possible to supply a number for increments, i.e. "15mm" which will instruct the chart that your data is supplied in 15 minute increments.',suggestion:["fff","ss","mm","hh","DD","MM","YYYY"],defaultValue:"DD",subgroup:"Date-related"},{label:"parseDates",valueRef:"parseDates",type:h.BOOLEAN,detailedInfo:'In case your category axis values are Date objects, set this to true. In this case the chart will parse dates and will place your data points at irregular intervals. If you want dates to be parsed, but data points to be placed at equal intervals, set both parseDates and equalSpacing to true. Note: we recommend using JavaScript timestamps to specify date/time. If you are specifying dates as strings in your data, i.e. "2015-01-05", we strongly recommend setting dataDateFormat as well.',defaultValue:false,subgroup:"Date-related"},{label:"position",valueRef:"position",type:h.SELECT,detailedInfo:'Possible values are: "top", "bottom", "left", "right". If axis is vertical, default position is "left". If axis is horizontal, default position is "bottom".',suggestion:["top","bottom","left","right"],defaultValue:"bottom",subgroup:"General settings"},{label:"startOnAxis",valueRef:"startOnAxis",type:h.BOOLEAN,detailedInfo:"Specifies whether the graph should start on axis or not. In case you display columns, it is recommended to set this to false. If parseDates is set to true, startOnAxis will allways be false, unless equalSpacing is set to true.",defaultValue:false,subgroup:"General settings"},{label:"tickPosition",valueRef:"tickPosition",type:h.TEXT,detailedInfo:"Position of a axis tick. Works only with non-date-based data. ",defaultValue:"middle",subgroup:"Axis labels"},{label:"title",valueRef:"title",type:h.TEXT,detailedInfo:"Title of the axis.",defaultValue:"",subgroup:"General settings"},{label:"twoLineMode",valueRef:"twoLineMode",type:h.BOOLEAN,detailedInfo:"Works only when parseDates is set to true and equalSpacing is false. If you set it to true, at the position where bigger period changes, category axis will display date strings of both small and big period, in two rows.",defaultValue:false,subgroup:"Date-related"},{label:"widthField",valueRef:"widthField",type:h.TEXT,detailedInfo:"You can specify relative width for your columns using this field and produce Mekko chart using this new feature.",defaultValue:"",subgroup:"Axis labels"}])
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.AmChartOptionsMeta=[{label:"addClassNames",valueRef:"addClassNames",type:h.BOOLEAN,detailedInfo:"Specifies, if class names should be added to chart elements.",defaultValue:false,subgroup:"General settings"},{label:"autoDisplay",valueRef:"autoDisplay",type:h.BOOLEAN,detailedInfo:"If you set it to true the chart will automatically monitor changes of display style of chart’s container (or any of it’s parents) and will render chart correctly if it is changed from none to block. We recommend setting it to true if you change this style at a run time, as it affects performance a bit.",defaultValue:false,subgroup:"General settings"},{label:"autoResize",valueRef:"autoResize",type:h.BOOLEAN,detailedInfo:"Set this to false if you don't want chart to resize itself whenever its parent container size changes.",defaultValue:true,subgroup:"General settings"},{label:"backgroundAlpha",valueRef:"backgroundAlpha",type:h.RANGE,range:{min:0,max:1,step:0.05},detailedInfo:"Opacity of background. Set it to >0 value if you want backgroundColor to work. However we recommend changing div's background-color style for changing background color.",defaultValue:0,subgroup:"Background and border"},{label:"backgroundColor",valueRef:"backgroundColor",type:h.COLOR,detailedInfo:"Background color. You should set backgroundAlpha to >0 value in order background to be visible. We recommend setting background color directly on a chart's DIV instead of using this property.",defaultValue:"#FFFFFF",subgroup:"Background and border"},{label:"borderAlpha",valueRef:"borderAlpha",type:h.RANGE,range:{min:0,max:1,step:0.05},detailedInfo:"Opacity of chart's border. Value range is 0 - 1.",defaultValue:0,subgroup:"Background and border"},{label:"borderColor",valueRef:"borderColor",type:h.COLOR,detailedInfo:"Color of chart's border. You should set borderAlpha >0 in order border to be visible. We recommend setting border color directly on a chart's DIV instead of using this property.",defaultValue:"#000000",subgroup:"Background and border"},{label:"classNamePrefix",valueRef:"classNamePrefix",type:h.TEXT,detailedInfo:"This prefix is added to all class names which are added to all visual elements of a chart in case addClassNames is set to true.",defaultValue:"amcharts",subgroup:"General settings"},{label:"color",valueRef:"color",type:h.COLOR,detailedInfo:"Text color.",defaultValue:"#000000",subgroup:"Appearance"},{label:"creditsPosition",valueRef:"creditsPosition",type:h.SELECT,detailedInfo:"Non-commercial version only. Specifies position of link to amCharts site.",defaultValue:"top-left",suggestion:["top-left","top-right","bottom-left","bottom-right"],subgroup:"Other"},{label:"decimalSeparator",valueRef:"decimalSeparator",type:h.TEXT,detailedInfo:"Decimal separator.",suggestion:[",","."],defaultValue:".",subgroup:"Number formatting"},{label:"fontFamily",valueRef:"fontFamily",type:h.TEXT,detailedInfo:"Font family.",suggestion:["Verdana","sans-serif","Arial","Helvetica","Helvetica Neue","Trebuchet MS","tahoma","Roboto"],defaultValue:"Verdana",subgroup:"Appearance"},{label:"fontSize",valueRef:"fontSize",type:h.NUMBER,detailedInfo:"Font size.",suggestion:[8,9,10,11,12,14,16,18,20,22,24,26,28,30,32,36],defaultValue:11,subgroup:"Appearance"},{label:"handDrawn",valueRef:"handDrawn",type:h.BOOLEAN,detailedInfo:"If you set this to true, the lines of the chart will be distorted and will produce hand-drawn effect. Try to adjust chart.handDrawScatter and chart.handDrawThickness properties for a more scattered result.",defaultValue:false,subgroup:"Appearance"},{label:"handDrawScatter",valueRef:"handDrawScatter",type:h.NUMBER,detailedInfo:"Defines by how many pixels hand-drawn line (when handDrawn is set to true) will fluctuate.",defaultValue:2,subgroup:"Appearance"},{label:"handDrawThickness",valueRef:"handDrawThickness",type:h.NUMBER,detailedInfo:"Defines by how many pixels line thickness will fluctuate (when handDrawn is set to true).",defaultValue:1,subgroup:"Appearance"},{label:"hideBalloonTime",valueRef:"hideBalloonTime",type:h.NUMBER,detailedInfo:"Time, in milliseconds after which balloon is hidden if the user rolls-out of the object. Might be useful for AmMap to avoid balloon flickering while moving mouse over the areas. Note, this is not duration of fade-out. Duration of fade-out is set in AmBalloon class.",defaultValue:150,subgroup:"Other"},{label:"panEventsEnabled",valueRef:"panEventsEnabled",type:h.BOOLEAN,detailedInfo:"This setting affects touch-screen devices only. If a chart is on a page, and panEventsEnabled are set to true, the page won't move if the user touches the chart first. If a chart is big enough and occupies all the screen of your touch device, the user won’t be able to move the page at all. If you think that selecting/panning the chart or moving/pinching the map is a primary purpose of your users, you should set panEventsEnabled to true, otherwise - false.",defaultValue:true,subgroup:"Other"},{label:"percentPrecision",valueRef:"percentPrecision",type:h.NUMBER,detailedInfo:"Precision of percent values. -1 means percent values won't be rounded at all and show as they are.",defaultValue:2,subgroup:"Number formatting"},{label:"precision",valueRef:"precision",type:h.NUMBER,detailedInfo:"Precision of values. -1 means values won't be rounded at all and show as they are.",defaultValue:-1,subgroup:"Number formatting"},{label:"svgIcons",valueRef:"svgIcons",type:h.BOOLEAN,detailedInfo:"Charts will use SVG icons (some are loaded from images folder and some are drawn inline) if browser supports SVG. This makes icons look good on retina displays on all resolutions.",defaultValue:true,subgroup:"General settings"},{label:"tapToActivate",valueRef:"tapToActivate",type:h.BOOLEAN,detailedInfo:"Charts which require gestures like swipe (charts with scrollbar/cursor) or pinch (maps) used to prevent regular page scrolling and could result page to stick to the same spot if the chart occupied whole screen. Now, in order these gestures to start working user has to touch the the bar/slice/map area do not require the first tap and will show balloons and perform other tasks as usual. If you have a map or chart which occupies full screen and your page does not require scrolling, set tapToActivate to false – this will bring old behavior back.",defaultValue:true,subgroup:"General settings"},{label:"thousandsSeparator",valueRef:"thousandsSeparator",type:h.TEXT,detailedInfo:"Thousands separator.",suggestion:[",",".","`","'"," "],defaultValue:",",subgroup:"Number formatting"},{label:"usePrefixes",valueRef:"usePrefixes",type:h.BOOLEAN,detailedInfo:"If true, prefixes will be used for big and small numbers.",defaultValue:false,subgroup:"Number formatting"}]
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.AmCoordinateChartOptionsMeta=g.AmChartOptionsMeta.concat([{label:"colors",valueRef:"colors",type:h.PALETTE,detailedInfo:"Specifies the colors of the graphs if the lineColor of a graph is not set. If there are more graphs then colors in this array, the chart picks a random color.",defaultValue:["#FF6600","#FCD202","#B0DE09","#0D8ECF","#2A0CD0","#CD0D74","#CC0000","#00CC00","#0000CC","#DDDDDD","#999999","#333333","#990000"],subgroup:"Appearance"},{label:"gridAboveGraphs",valueRef:"gridAboveGraphs",type:h.BOOLEAN,detailedInfo:"Specifies if grid should be drawn above the graphs or below. Will not work properly with 3D charts.",defaultValue:false,subgroup:"Other"},{label:"sequencedAnimation",valueRef:"sequencedAnimation",type:h.BOOLEAN,detailedInfo:"Specifies whether the animation should be sequenced or all objects should appear at once.",defaultValue:true,subgroup:"Animation"},{label:"startAlpha",valueRef:"startAlpha",type:h.RANGE,detailedInfo:"The initial opacity of the column/line. If you set startDuration to a value higher than 0, the columns/lines will fade in from startAlpha.",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Animation"},{label:"startDuration",valueRef:"startDuration",type:h.NUMBER,detailedInfo:"Duration of the animation, in seconds.",defaultValue:0,subgroup:"Animation"},{label:"startEffect",valueRef:"startEffect",type:h.SELECT,detailedInfo:"Animation effect.",defaultValue:"elastic",suggestion:["easeOutSine","easeInSine","elastic","bounce"],subgroup:"Animation"},{label:"urlTarget",valueRef:"urlTarget",type:h.TEXT,detailedInfo:"Target of url.",defaultValue:"_self",subgroup:"Other"}])
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.AmRectangularChartOptionsMeta=g.AmCoordinateChartOptionsMeta.concat([{label:"angle",valueRef:"angle",type:h.NUMBER,detailedInfo:'The angle of the 3D part of plot area. This creates a 3D effect (if the "depth3D" is > 0).',defaultValue:0,subgroup:"Plot area"},{label:"autoMarginOffset",valueRef:"autoMarginOffset",type:h.NUMBER,detailedInfo:"Space left from axis labels/title to the chart's outside border, if autoMargins set to true.",defaultValue:10,subgroup:"Margins"},{label:"autoMargins",valueRef:"autoMargins",type:h.BOOLEAN,detailedInfo:"Specifies if margins of a chart should be calculated automatically so that labels of axes would fit. The chart will adjust only margins with axes. Other margins will use values set with marginRight, marginTop, marginLeft and marginBottom properties.",defaultValue:true,subgroup:"Margins"},{label:"depth3D",valueRef:"depth3D",type:h.NUMBER,detailedInfo:'The depth of the 3D part of plot area. This creates a 3D effect (if the "angle" is > 0).',defaultValue:0,subgroup:"Plot area"},{label:"marginBottom",valueRef:"marginBottom",type:h.NUMBER,detailedInfo:"Number of pixels between the container's bottom border and plot area. This space can be used for bottom axis' values. If autoMargin is true and bottom side has axis, this property is ignored.",defaultValue:20,subgroup:"Margins"},{label:"marginLeft",valueRef:"marginLeft",type:h.NUMBER,detailedInfo:"Number of pixels between the container's left border and plot area. This space can be used for left axis' values. If autoMargin is true and left side has axis, this property is ignored.",defaultValue:20,subgroup:"Margins"},{label:"marginRight",valueRef:"marginRight",type:h.NUMBER,detailedInfo:"Number of pixels between the container's right border and plot area. This space can be used for Right axis' values. If autoMargin is true and right side has axis, this property is ignored.",defaultValue:20,subgroup:"Margins"},{label:"marginsUpdated",valueRef:"marginsUpdated",type:h.BOOLEAN,detailedInfo:"Flag which should be set to false if you need margins to be recalculated on next chart.validateNow() call.",defaultValue:false,subgroup:"Margins"},{label:"marginTop",valueRef:"marginTop",type:h.NUMBER,detailedInfo:"Number of pixels between the container's top border and plot area. This space can be used for top axis' values. If autoMargin is true and top side has axis, this property is ignored.",defaultValue:20,subgroup:"Margins"},{label:"plotAreaBorderAlpha",valueRef:"plotAreaBorderAlpha",type:h.RANGE,detailedInfo:"The opacity of plot area's border.",range:{min:0,max:1,step:0.05},defaultValue:0,subgroup:"Plot area"},{label:"plotAreaBorderColor",valueRef:"plotAreaBorderColor",type:h.COLOR,detailedInfo:"The color of the plot area's border. Note, the it is invisible by default, as plotAreaBorderAlpha default value is 0. Set it to a value higher than 0 to make it visible.",defaultValue:"#000000",subgroup:"Plot area"},{label:"plotAreaFillAlphas",valueRef:"plotAreaFillAlphas",type:h.RANGE,range:{min:0,max:1,step:0.05},detailedInfo:"Opacity of plot area. Plural form is used to keep the same property names as our Flex charts'. Flex charts can accept array of numbers to generate gradients. Although you can set array here, only first value of this array will be used.",defaultValue:0,subgroup:"Plot area"},{label:"plotAreaFillColors",valueRef:"plotAreaFillColors",type:h.COLOR,detailedInfo:'You can set both one color if you need a solid color or array of colors to generate gradients, for example: ["#000000", "#0000CC"]',defaultValue:"#FFFFFF",subgroup:"Plot area"},{label:"plotAreaGradientAngle",valueRef:"plotAreaGradientAngle",type:h.SELECT,suggestion:[0,90,180,270],detailedInfo:"If you are using gradients to fill the plot area, you can use this property to set gradient angle. The only allowed values are horizontal and vertical: 0, 90, 180, 270.",defaultValue:0,subgroup:"Plot area"},{label:"zoomOutButtonAlpha",valueRef:"zoomOutButtonAlpha",type:h.RANGE,detailedInfo:"Opacity of zoom-out button background.",range:{min:0,max:1,step:0.05},defaultValue:0,subgroup:"Zooming"},{label:"zoomOutButtonColor",valueRef:"zoomOutButtonColor",type:h.COLOR,detailedInfo:"Zoom-out button background color.",defaultValue:"#e5e5e5",subgroup:"Zooming"},{label:"zoomOutButtonImage",valueRef:"zoomOutButtonImage",type:h.TEXT,detailedInfo:"Name of zoom-out button image. In the images folder there is another lens image, called lensWhite.png. You might want to have white lens when background is dark. Or you can simply use your own image. Note, you don't have to set image extension. If svgIcons is set to true (default) .svg will be added to the file name if SVG is supported by the browser, otherwise – .png.",defaultValue:"lens",subgroup:"Zooming"},{label:"zoomOutButtonImageSize",valueRef:"zoomOutButtonImageSize",type:h.NUMBER,detailedInfo:"Size of zoom-out button image",defaultValue:17,subgroup:"Zooming"},{label:"zoomOutButtonPadding",valueRef:"zoomOutButtonPadding",type:h.NUMBER,detailedInfo:"Padding around the text and image.",defaultValue:8,subgroup:"Zooming"},{label:"zoomOutButtonRollOverAlpha",valueRef:"zoomOutButtonRollOverAlpha",type:h.RANGE,range:{min:0,max:1,step:0.05},detailedInfo:"Opacity of zoom-out button background when mouse is over it.",defaultValue:1,subgroup:"Zooming"},{label:"zoomOutText",valueRef:"zoomOutText",type:h.TEXT,detailedInfo:"Text in the zoom-out button.",defaultValue:"Show all",subgroup:"Zooming"}])
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var i=a.reporting.editor.OptionMetaType;var g=a.reporting.amcharts.meta.AmCoordinateChartOptionsMeta;
h.AmRadarChartOptionsMeta=g.concat([{label:"categoryField",valueRef:"categoryField",type:i.TEXT,detailedInfo:"Field in your data provider containing categories.",defaultValue:"",subgroup:"General settings"},{label:"marginBottom",valueRef:"marginBottom",type:i.NUMBER,detailedInfo:"Bottom margin of the chart.",defaultValue:0,subgroup:"Margins"},{label:"marginLeft",valueRef:"marginLeft",type:i.NUMBER,detailedInfo:"Left margin of the chart.",defaultValue:0,subgroup:"Margins"},{label:"marginRight",valueRef:"marginRight",type:i.NUMBER,detailedInfo:"Right margin of the chart.",defaultValue:0,subgroup:"Margins"},{label:"marginTop",valueRef:"marginTop",type:i.NUMBER,detailedInfo:"Top margin of the chart.",defaultValue:0,subgroup:"Margins"},{label:"radius",valueRef:"radius",type:i.TEXT,detailedInfo:"Radius of a radar.",defaultValue:"35%",subgroup:"General settings"}])
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.AmSerialChartOptionsMeta=g.AmRectangularChartOptionsMeta.concat([{label:"balloonDateFormat",valueRef:"balloonDateFormat",type:h.TEXT,detailedInfo:"Date format of the graph balloon (if chart parses dates and you don't use chartCursor).",defaultValue:"MMM DD, YYYY",subgroup:"Other"},{label:"categoryField",valueRef:"categoryField",type:h.TEXT,detailedInfo:"Category field name tells the chart the name of the field in your dataProvider object which will be used for category axis values.",defaultValue:"",subgroup:"General settings"},{label:"columnSpacing",valueRef:"columnSpacing",type:h.NUMBER,detailedInfo:"The gap in pixels between two columns of the same category.",defaultValue:5,subgroup:"Columns"},{label:"columnSpacing3D",valueRef:"columnSpacing3D",type:h.NUMBER,detailedInfo:"Space between 3D stacked columns.",defaultValue:0,subgroup:"Columns"},{label:"columnWidth",valueRef:"columnWidth",type:h.NUMBER,detailedInfo:"Relative width of columns. Value range is 0 - 1.",defaultValue:0.8,subgroup:"Columns"},{label:"dataDateFormat",valueRef:"dataDateFormat",type:h.TEXT,detailedInfo:"Even if your chart parses dates, you can pass them as strings in your data – all you need to do is to set data date format and the chart will parse dates to date objects. Check this page for available formats.Please note that two-digit years (YY) as well as literal month names (MMM) are NOT supported in this setting.",defaultValue:"",subgroup:"General settings"},{label:"maxSelectedSeries",valueRef:"maxSelectedSeries",type:h.NUMBER,detailedInfo:"Maximum number of series allowed to select.",defaultValue:"",subgroup:"Zooming"},{label:"maxSelectedTime",valueRef:"maxSelectedTime",type:h.NUMBER,detailedInfo:"The longest time span allowed to select (in milliseconds) for example, 259200000 will limit selection to 3 days. Works if equalSpacing is set to false (default).",defaultValue:"",subgroup:"Zooming"},{label:"minSelectedTime",valueRef:"minSelectedTime",type:h.NUMBER,detailedInfo:"The shortest time span allowed to select (in milliseconds) for example, 1000 will limit selection to 1 second. Works if equalSpacing is set to false (default).",defaultValue:0,subgroup:"Zooming"},{label:"mouseWheelScrollEnabled",valueRef:"mouseWheelScrollEnabled",type:h.BOOLEAN,detailedInfo:"Specifies if scrolling of a chart with mouse wheel is enabled. If you press shift while rotating mouse wheel, the chart will zoom-in/out.",defaultValue:false,subgroup:"Zooming"},{label:"mouseWheelZoomEnabled",valueRef:"mouseWheelZoomEnabled",type:h.BOOLEAN,detailedInfo:"Specifies if zooming of a chart with mouse wheel is enabled. If you press shift while rotating mouse wheel, the chart will scroll.",defaultValue:false},{label:"rotate",valueRef:"rotate",type:h.BOOLEAN,detailedInfo:"If you set this to true, the chart will be rotated by 90 degrees (the columns will become bars).",defaultValue:false,subgroup:"General settings"},{label:"zoomOutOnDataUpdate",valueRef:"zoomOutOnDataUpdate",type:h.BOOLEAN,detailedInfo:"Specifies if chart should zoom-out when data is updated.",defaultValue:true,subgroup:"Zooming"}])
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var i=a.reporting.editor.OptionMetaType;var g=a.reporting.amcharts.meta.AmSerialChartOptionsMeta;
h.AmGanttChartOptionsMeta=g.concat([{label:"brightnessStep",valueRef:"brightnessStep",type:i.RANGE,detailedInfo:"Lightness increase of each subsequent bar of one series. Value range is from -255 to 255.",range:{min:-255,max:255},defaultValue:0,subgroup:"Appearance"},{label:"period",valueRef:"period",type:i.TEXT,detailedInfo:"Data period. Used only value axis is date-based.",defaultValue:"ss",subgroup:"Number formatting"},{label:"startDate",valueRef:"startDate",type:i.DATE,detailedInfo:"Initial date of value axis. If you set this date (you can do it using time stamp, Date object or date string), you can then set start/end/duration of segments using number of periods instead of providing exact dates.",defaultValue:"",subgroup:"General settings"}])
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var i=a.reporting.editor.OptionMetaType;var g=a.reporting.amcharts.meta.AmRectangularChartOptionsMeta;
h.AmXYChartOptionsMeta=g.concat([{label:"dataDateFormat",valueRef:"dataDateFormat",type:i.TEXT,detailedInfo:"In case you have date-based value axis in your XY chart, you can specify your corresponding values as strings. In that case you will need to set this setting to whatever format your are using for date/time.\nPlease note that two-digit years (YY) as well as literal month names (MMM) are NOT supported in this setting.",defaultValue:"",subgroup:"General settings"},{label:"hideXScrollbar",valueRef:"hideXScrollbar",type:i.BOOLEAN,detailedInfo:"Specifies if Scrollbar of X axis (horizontal) should be hidden.",defaultValue:false,subgroup:"General settings"},{label:"hideYScrollbar",valueRef:"hideYScrollbar",type:i.BOOLEAN,detailedInfo:"Specifies if Scrollbar of Y axis (vertical) should be hidden.",defaultValue:false,subgroup:"General settings"},{label:"maxZoomFactor",valueRef:"maxZoomFactor",type:i.NUMBER,detailedInfo:"Maximum zoom factor of the chart.",defaultValue:20,subgroup:"Zooming"}])
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var i=a.reporting.editor.OptionMetaType;var g=a.reporting.amcharts.meta.AmChartOptionsMeta;
h.AmSlicedChartOptionsMeta=g.concat([{label:"alpha",valueRef:"alpha",type:i.RANGE,detailedInfo:"Opacity of all slices.",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Appearance"},{label:"alphaField",valueRef:"alphaField",type:i.TEXT,detailedInfo:"Name of the field in chart's dataProvider which holds slice's alpha.",defaultValue:"",subgroup:"Data fields"},{label:"baseColor",valueRef:"baseColor",type:i.COLOR,detailedInfo:"Color of the first slice. All the other will be colored with darker or brighter colors.",defaultValue:"",subgroup:"Appearance"},{label:"classNameField",valueRef:"classNameField",type:i.TEXT,detailedInfo:"If this field is set and addClassNames is enabled, the slice element will have this class name set.",defaultValue:"",subgroup:"Data fields"},{label:"colorField",valueRef:"colorField",type:i.TEXT,detailedInfo:"Name of the field in chart's dataProvider which holds slice's color.",defaultValue:"",subgroup:"Data fields"},{label:"colors",valueRef:"colors",type:i.PALETTE,detailedInfo:"Specifies the colors of the slices, if the slice color is not set. If there are more slices than colors in this array, the chart picks random color.",defaultValue:["#FF0F00","#FF6600","#FF9E01","#FCD202","#F8FF01","#B0DE09","#04D215","#0D8ECF","#0D52D1","#2A0CD0","#8A0CCF","#CD0D74","#754DEB","#DDDDDD","#999999","#333333","#000000","#57032A","#CA9726","#990000","#4B0C25"],subgroup:"Appearance"},{label:"descriptionField",valueRef:"descriptionField",type:i.TEXT,detailedInfo:"Name of the field in chart's dataProvider which holds a string with description.",defaultValue:"",subgroup:"Data fields"},{label:"gradientRatio",valueRef:"gradientRatio",type:i.TEXT,detailedInfo:"Example: [0,10]. Will make slices to be filled with color gradients.",defaultValue:"[0, 0]",subgroup:"Appearance"},{label:"groupedAlpha",valueRef:"groupedAlpha",type:i.RANGE,detailedInfo:"Opacity of the group slice. Value range is 0 - 1.",range:{min:0,max:1,step:0.05},defaultValue:1,subgroup:"Grouping"},{label:"groupedColor",valueRef:"groupedColor",type:i.COLOR,detailedInfo:'Color of the group slice. The default value is not set - this means the next available color from "colors" array will be used.',defaultValue:"",subgroup:"Grouping"},{label:"groupedDescription",valueRef:"groupedDescription",type:i.TEXT,detailedInfo:"Description of the group slice.",defaultValue:"",subgroup:"Grouping"},{label:"groupedPulled",valueRef:"groupedPulled",type:i.BOOLEAN,detailedInfo:"If this is set to true, the group slice will be pulled out when the chart loads.",defaultValue:false,subgroup:"Grouping"},{label:"groupedTitle",valueRef:"groupedTitle",type:i.TEXT,detailedInfo:"Title of the group slice.",defaultValue:"Other",subgroup:"Grouping"},{label:"groupPercent",valueRef:"groupPercent",type:i.NUMBER,detailedInfo:'If there is more than one slice whose percentage of the pie is less than this number, those slices will be grouped together into one slice. This is the "other" slice. It will always be the last slice in a pie.',defaultValue:0,subgroup:"Grouping"},{label:"hideLabelsPercent",valueRef:"hideLabelsPercent",type:i.NUMBER,detailedInfo:"Slices with percent less then hideLabelsPercent won't display labels This is useful to avoid cluttering up the chart, if you have a lot of small slices. 0 means all labels will be shown.",defaultValue:0,subgroup:"General settings"},{label:"hoverAlpha",valueRef:"hoverAlpha",type:i.RANGE,range:{min:0,max:1,step:0.05},detailedInfo:"Opacity of a hovered slice. Value range is 0 - 1.",defaultValue:1,subgroup:"Appearance"},{label:"labelColorField",valueRef:"labelColorField",type:i.COLOR,detailedInfo:"A field in data which holds color value for the tick. Use it to set color of the label for each slice individually.",defaultValue:"#000000",subgroup:"Appearance"},{label:"labelFunction",valueRef:"labelFunction",type:i.FUNCTION,detailedInfo:"You can use it to format data labels in any way you want. Chart will call this method and will pass Slice object and formatted text as attributes. This function should return string which will be displayed as label.",defaultValue:"",subgroup:"General settings"},{label:"labelsEnabled",valueRef:"labelsEnabled",type:i.BOOLEAN,detailedInfo:"Specifies whether data labels are visible.",defaultValue:true,subgroup:"General settings"},{label:"labelTickAlpha",valueRef:"labelTickAlpha",type:i.RANGE,range:{min:0,max:1,step:0.05},detailedInfo:"Label tick opacity. Value range is 0 - 1.",defaultValue:0.2,subgroup:"Appearance"},{label:"labelTickColor",valueRef:"labelTickColor",type:i.COLOR,detailedInfo:"Label tick color.",defaultValue:"#000000",subgroup:"Appearance"},{label:"marginBottom",valueRef:"marginBottom",type:i.NUMBER,detailedInfo:"Bottom margin of the chart.",defaultValue:10,subgroup:"Margins"},{label:"marginLeft",valueRef:"marginLeft",type:i.NUMBER,detailedInfo:"Left margin of the chart.",defaultValue:0,subgroup:"Margins"},{label:"marginRight",valueRef:"marginRight",type:i.NUMBER,detailedInfo:"Right margin of the chart.",defaultValue:0,subgroup:"Margins"},{label:"marginTop",valueRef:"marginTop",type:i.NUMBER,detailedInfo:"Top margin of the chart.",defaultValue:10,subgroup:"Margins"},{label:"maxLabelWidth",valueRef:"maxLabelWidth",type:i.NUMBER,detailedInfo:"If width of the label is bigger than maxLabelWidth, it will be wrapped.",defaultValue:200,subgroup:"General settings"},{label:"outlineAlpha",valueRef:"outlineAlpha",type:i.RANGE,range:{min:0,max:1,step:0.05},detailedInfo:"Outline opacity. Value range is 0 - 1.",defaultValue:0,subgroup:"Appearance"},{label:"outlineColor",valueRef:"outlineColor",type:i.COLOR,detailedInfo:"Outline color.",defaultValue:"#FFFFFF",subgroup:"Appearance"},{label:"outlineThickness",valueRef:"outlineThickness",type:i.NUMBER,detailedInfo:"Pie outline thickness.",defaultValue:1,subgroup:"Appearance"},{label:"patternField",valueRef:"patternField",type:i.TEXT,detailedInfo:'Field name in your data provider which holds pattern information. Value of pattern should be object with url, width, height of an image, optionally it might have x, y, randomX and randomY values. For example: {"url":"../amcharts/patterns/black/pattern1.png", "width":4, "height":4}. Check amcharts/patterns folder for some patterns. You can create your own patterns and use them. Note, x, y, randomX and randomY properties won\'t work with IE8 and older. 3D bar/Pie charts won\'t work properly with patterns.',defaultValue:"",subgroup:"Data fields"},{label:"pulledField",valueRef:"pulledField",type:i.TEXT,detailedInfo:"Name of the field in chart's dataProvider which holds a boolean value telling the chart whether this slice must be pulled or not.",defaultValue:"",subgroup:"Data fields"},{label:"pullOutDuration",valueRef:"pullOutDuration",type:i.NUMBER,detailedInfo:"Pull out duration, in seconds.",defaultValue:1,subgroup:"Animation"},{label:"pullOutEffect",valueRef:"pullOutEffect",type:i.TEXT,detailedInfo:"Pull out effect. Possible values are: easeOutSine, easeInSine, elastic, bounce",defaultValue:"bounce",subgroup:"Animation"},{label:"pullOutOnlyOne",valueRef:"pullOutOnlyOne",type:i.BOOLEAN,detailedInfo:"If this is set to true, only one slice can be pulled out at a time. If the viewer clicks on a slice, any other pulled-out slice will be pulled in.",defaultValue:false,subgroup:"Animation"},{label:"sequencedAnimation",valueRef:"sequencedAnimation",type:i.BOOLEAN,detailedInfo:"Specifies whether the animation should be sequenced or all slices should appear at once.",defaultValue:true,subgroup:"Animation"},{label:"showZeroSlices",valueRef:"showZeroSlices",type:i.BOOLEAN,detailedInfo:"If you set this to true, the chart will display outlines (if visible) and labels for slices even if their value is 0.",defaultValue:false,subgroup:"Other"},{label:"startAlpha",valueRef:"startAlpha",type:i.RANGE,range:{min:0,max:1,step:0.05},detailedInfo:"Initial opacity of all slices. Slices will fade in from startAlpha.",defaultValue:0,subgroup:"Animation"},{label:"startDuration",valueRef:"startDuration",type:i.NUMBER,detailedInfo:"Duration of the animation, in seconds.",defaultValue:1,subgroup:"Animation"},{label:"startEffect",valueRef:"startEffect",type:i.SELECT,detailedInfo:"Animation effect.",suggestion:["easeOutSine","easeInSine","elastic","bounce"],defaultValue:"bounce",subgroup:"Animation"},{label:"titleField",valueRef:"titleField",type:i.TEXT,detailedInfo:"Name of the field in chart's dataProvider which holds slice's title.",defaultValue:"",subgroup:"Data fields"},{label:"urlField",valueRef:"urlField",type:i.TEXT,detailedInfo:"Name of the field in chart's dataProvider which holds url which would be accessed if the user clicks on a slice.",defaultValue:"",subgroup:"Data fields"},{label:"urlTarget",valueRef:"urlTarget",type:i.TEXT,detailedInfo:"If url is specified for a slice, it will be opened when user clicks on it. urlTarget specifies target of this url. Use _blank if you want url to be opened in a new window.",defaultValue:"_self",subgroup:"Other"},{label:"valueField",valueRef:"valueField",type:i.TEXT,detailedInfo:"Name of the field in chart's dataProvider which holds slice's value.",defaultValue:"",subgroup:"Data fields"},{label:"visibleInLegendField",valueRef:"visibleInLegendField",type:i.TEXT,detailedInfo:"Name of the field in chart's dataProvider which holds boolean variable defining whether this data item should have an entry in the legend.",defaultValue:"",subgroup:"Data fields"}])
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var i=a.reporting.editor.OptionMetaType;var g=a.reporting.amcharts.meta.AmSlicedChartOptionsMeta;
h.AmPieChartOptionsMeta=g.concat([{label:"adjustPrecision",valueRef:"adjustPrecision",type:i.BOOLEAN,detailedInfo:"Sometimes, because of a rounding, percent of a sum of all slices is not equal to 100%. If you set this to true, when this case happens, number of decimals will be increased so that sum would become 100%.",defaultValue:false,subgroup:"General settings"},{label:"angle",valueRef:"angle",type:i.NUMBER,detailedInfo:"Pie lean angle (for 3D effect). Valid range is 0 - 90.",defaultValue:0,subgroup:"Plot area"},{label:"balloonText",valueRef:"balloonText",type:i.TEXT,detailedInfo:"Balloon text. The following tags can be used: [[value]], [[title]], [[percents]], [[description]] or any other field name from your data provider. HTML tags can also be used.",defaultValue:"[[title]]: [[percents]]% ([[value]])\n[[description]]",subgroup:"General settings"},{label:"depth3D",valueRef:"depth3D",type:i.NUMBER,detailedInfo:"Depth of the pie (for 3D effect).",defaultValue:0,subgroup:"Plot area"},{label:"innerRadius",valueRef:"innerRadius",type:i.TEXT,detailedInfo:"Inner radius of the pie, in pixels or percents.",defaultValue:0,subgroup:"General settings"},{label:"labelRadius",valueRef:"labelRadius",type:i.NUMBER,detailedInfo:"The distance between the label and the slice, in pixels. You can use negative values to put the label on the slice.",defaultValue:20,subgroup:"Appearance"},{label:"labelRadiusField",valueRef:"labelRadiusField",type:i.TEXT,detailedInfo:"Name of the field in dataProvider which specifies the length of a tick. Note, the chart will not try to arrange labels automatically if this property is set.",defaultValue:"",subgroup:"Data fields"},{label:"labelText",valueRef:"labelText",type:i.TEXT,detailedInfo:"Label text. The following tags can be used: [[value]], [[title]], [[percents]], [[description]] or any other field name from your data provider.",defaultValue:"[[title]]: [[percents]]%",subgroup:"General settings"},{label:"minRadius",valueRef:"minRadius",type:i.NUMBER,detailedInfo:"Minimum radius of the pie, in pixels.",defaultValue:10,subgroup:"General settings"},{label:"pieAlpha",valueRef:"pieAlpha",type:i.RANGE,range:{min:0,max:1,step:0.05},detailedInfo:"Opacity of the slices. You can set the opacity of individual slice too.",defaultValue:1,subgroup:"General settings"},{label:"pieX",valueRef:"pieX",type:i.TEXT,detailedInfo:"You can set fixed position of a pie center, in pixels or in percents.",defaultValue:"",subgroup:"General settings"},{label:"pieY",valueRef:"pieY",type:i.TEXT,detailedInfo:"You can set fixed position of a pie center, in pixels or in percents.",defaultValue:"",subgroup:"General settings"},{label:"pullOutRadius",valueRef:"pullOutRadius",type:i.TEXT,detailedInfo:"Pull out radius, in pixels or percents",defaultValue:"20%",subgroup:"Animation"},{label:"radius",valueRef:"radius",type:i.TEXT,detailedInfo:"Radius of a pie, in pixels or percents. By default, radius is calculated automatically.",defaultValue:"",subgroup:"General settings"},{label:"startAngle",valueRef:"startAngle",type:i.NUMBER,detailedInfo:'Angle of the first slice, in degrees. This will work properly only if "depth3D" is set to 0. If "depth3D" is greater than 0, then there can be two angles only: 90 and 270. Value range is 0-360.',defaultValue:90,subgroup:"General settings"},{label:"startRadius",valueRef:"startRadius",type:i.TEXT,detailedInfo:"Radius of the positions from which the slices will fly in.",defaultValue:"500%",subgroup:"Animation"}])
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var i=a.reporting.editor.OptionMetaType;var g=a.reporting.amcharts.meta.AmSlicedChartOptionsMeta;
h.AmFunnelChartOptionsMeta=g.concat([{label:"angle",valueRef:"angle",type:i.NUMBER,detailedInfo:'The angle of the 3D part of the chart. This creates a 3D effect (if the "depth3D" is > 0).',defaultValue:0,subgroup:"Plot area"},{label:"balloonText",valueRef:"balloonText",type:i.TEXT,detailedInfo:"Balloon text. The following tags can be used: [[value]], [[title]], [[percents]], [[description]] or any other field name from your data provider. HTML tags can also be used.",defaultValue:"[[title]]: [[value]]\n[[description]]",subgroup:"General settings"},{label:"baseWidth",valueRef:"baseWidth",type:i.TEXT,detailedInfo:'Width of a base (first slice) of a chart. "100%" means it will occupy all available space.',defaultValue:"100%",subgroup:"General settings"},{label:"depth3D",valueRef:"depth3D",type:i.NUMBER,detailedInfo:"The depth of funnel/pyramid. Set angle to >0 value in order this to work. Note, neckHeight/neckWidth will become 0 if you set these properties to bigger than 0 values.",defaultValue:0,subgroup:"Plot area"},{label:"labelPosition",valueRef:"labelPosition",type:i.SELECT,detailedInfo:"Specifies where labels should be placed. If you set left or right, you should increase left or right margin in order labels to be visible.",suggestion:["left","center","right"],defaultValue:"right",subgroup:"General settings"},{label:"labelText",valueRef:"labelText",type:i.TEXT,detailedInfo:"Label text. The following tags can be used: [[value]], [[title]], [[percents]], [[description]] or any other field name from your data provider.",defaultValue:"[[title]]: [[value]]",subgroup:"General settings"},{label:"neckHeight",valueRef:"neckHeight",type:i.NUMBER,detailedInfo:"Height of a funnel neck. If default value, zero is used, the funnel won't have neck at all, which will make it look like pyramid.",defaultValue:0,subgroup:"General settings"},{label:"neckWidth",valueRef:"neckWidth",type:i.NUMBER,detailedInfo:"Width of a funnel neck. If default value, zero is used, the funnel won't have neck at all, which will make it look like pyramid.",defaultValue:0,subgroup:"General settings"},{label:"pullDistance",valueRef:"pullDistance",type:i.NUMBER,detailedInfo:"Specifies the distance by which slice should be pulled when user clicks on it.",defaultValue:30,subgroup:"Animation"},{label:"rotate",valueRef:"rotate",type:i.BOOLEAN,detailedInfo:"If rotate is set to true, the funnel will be rotated and will became a pyramid.",defaultValue:false,subgroup:"General settings"},{label:"startX",valueRef:"startX",type:i.NUMBER,detailedInfo:"Initial x coordinate of slices. They will animate to the final x position from this one.",defaultValue:0,subgroup:"Animation"},{label:"startY",valueRef:"startY",type:i.NUMBER,detailedInfo:"Initial y coordinate of slices. They will animate to the final y position from this one.",defaultValue:0,subgroup:"Animation"},{label:"valueRepresents",valueRef:"valueRepresents",type:i.TEXT,detailedInfo:'By default, the height of a slice represents it\'s value. However you might want the area of a slice to represent value - set this property to "area" then.',defaultValue:"height",subgroup:"General settings"}])
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.GaugeBandOptionsMeta=[{label:"alpha",valueRef:"alpha",type:h.RANGE,detailedInfo:"Opacity of band fill. Will use axis.bandAlpha if not set any.",range:{min:0,max:1,step:0.05},defaultValue:""},{label:"balloonText",valueRef:"balloonText",type:h.TEXT,detailedInfo:"When rolled-over, band will display balloon if you set some text for this property.",defaultValue:""},{label:"color",valueRef:"color",type:h.COLOR,detailedInfo:"Color of a band.",defaultValue:"#000000"},{label:"endValue",valueRef:"endValue",type:h.NUMBER,detailedInfo:"End value of a fill.",defaultValue:0},{label:"id",valueRef:"id",type:h.TEXT,detailedInfo:"Unique id of a band.",defaultValue:""},{label:"innerRadius",valueRef:"innerRadius",type:h.NUMBER,detailedInfo:"Inner radius of a band. If not set any, the band will end with the end of minor ticks. Set 0 if you want the band to be drawn to the axis center.",defaultValue:""},{label:"radius",valueRef:"radius",type:h.NUMBER,detailedInfo:"Band radius. If not set any, the band will start with the axis outline.",defaultValue:""},{label:"startValue",valueRef:"startValue",type:h.NUMBER,detailedInfo:"Start value of a fill.",defaultValue:""},{label:"url",valueRef:"url",type:h.TEXT,detailedInfo:"Gauge band can be clickable and can lead to some page.",defaultValue:""}]
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.GaugeAxisOptionsMeta=[{label:"axisAlpha",valueRef:"axisAlpha",type:h.RANGE,detailedInfo:"Axis opacity.",range:{min:0,max:1,step:0.05},defaultValue:1},{label:"axisColor",valueRef:"axisColor",type:h.COLOR,detailedInfo:"Axis color.",defaultValue:"#000000"},{label:"axisThickness",valueRef:"axisThickness",type:h.NUMBER,detailedInfo:"Thickness of the axis outline.",defaultValue:1},{label:"bandAlpha",valueRef:"bandAlpha",type:h.RANGE,detailedInfo:"Opacity of band fills.",range:{min:0,max:1,step:0.05},defaultValue:1},{label:"bandOutlineAlpha",valueRef:"bandOutlineAlpha",type:h.RANGE,detailedInfo:"Opacity of band outlines.",range:{min:0,max:1,step:0.05},defaultValue:0},{label:"bandOutlineColor",valueRef:"bandOutlineColor",type:h.COLOR,detailedInfo:"Color of band outlines.",defaultValue:"#000000"},{label:"bandOutlineThickness",valueRef:"bandOutlineThickness",type:h.NUMBER,detailedInfo:"Thickness of band outlines.",defaultValue:0},{label:"bottomText",valueRef:"bottomText",type:h.TEXT,detailedInfo:"Text displayed below the axis center.",defaultValue:""},{label:"bottomTextBold",valueRef:"bottomTextBold",type:h.BOOLEAN,detailedInfo:"Specifies if text should be bold.",defaultValue:true},{label:"bottomTextColor",valueRef:"bottomTextColor",type:h.COLOR,detailedInfo:"Bottom text color.",defaultValue:"#000000"},{label:"bottomTextFontSize",valueRef:"bottomTextFontSize",type:h.NUMBER,detailedInfo:"Font size of bottom text.",defaultValue:""},{label:"bottomTextYOffset",valueRef:"bottomTextYOffset",type:h.NUMBER,detailedInfo:"Y offset of bottom text.",defaultValue:0},{label:"centerX",valueRef:"centerX",type:h.TEXT,detailedInfo:"X position of the axis, relative to the center of the gauge.",defaultValue:"0%"},{label:"centerY",valueRef:"centerY",type:h.TEXT,detailedInfo:"Y position of the axis, relative to the center of the gauge.",defaultValue:"0%"},{label:"endAngle",valueRef:"endAngle",type:h.NUMBER,detailedInfo:"Axis end angle. Valid values are from - 180 to 180.",defaultValue:120},{label:"endValue",valueRef:"endValue",type:h.NUMBER,detailedInfo:"Axis end (max) value",defaultValue:""},{label:"gridCount",valueRef:"gridCount",type:h.NUMBER,detailedInfo:"Number of grid lines. Note, GaugeAxis doesn't adjust gridCount, so you should check your values and choose a proper gridCount which would result grids at round numbers.",defaultValue:5},{label:"gridInside",valueRef:"gridInside",type:h.BOOLEAN,detailedInfo:"Specifies if grid should be drawn inside or outside the axis.",defaultValue:true},{label:"id",valueRef:"id",type:h.NUMBER,detailedInfo:"Unique id of an axis.",defaultValue:""},{label:"inside",valueRef:"inside",type:h.BOOLEAN,detailedInfo:"Specifies if labels should be placed inside or outside the axis.",defaultValue:true},{label:"labelFrequency",valueRef:"labelFrequency",type:h.NUMBER,detailedInfo:"Frequency of labels.",defaultValue:1},{label:"labelFunction",valueRef:"labelFunction",type:h.FUNCTION,detailedInfo:"You can use this function to format axis labels. This function is called and value is passed as a attribute: labelFunction(value);",defaultValue:""},{label:"labelOffset",valueRef:"labelOffset",type:h.NUMBER,detailedInfo:"Distance from axis to the labels.",defaultValue:15},{label:"labelsEnabled",valueRef:"labelsEnabled",type:h.BOOLEAN,detailedInfo:"Specifies if labels on the axis should be shown.",defaultValue:true},{label:"minorTickInterval",valueRef:"minorTickInterval",type:h.NUMBER,detailedInfo:"Interval, at which minor ticks should be placed.",defaultValue:""},{label:"minorTickInterval",valueRef:"minorTickInterval",type:h.NUMBER,detailedInfo:"Interval, at which minor ticks should be placed.",defaultValue:""},{label:"minorTickLength",valueRef:"minorTickLength",type:h.NUMBER,detailedInfo:"Length of a minor tick.",defaultValue:5},{label:"radius",valueRef:"radius",type:h.TEXT,detailedInfo:"Axis radius.",defaultValue:"95%"},{label:"showFirstLabel",valueRef:"showFirstLabel",type:h.BOOLEAN,detailedInfo:"Specifies if the first label should be shown.",defaultValue:true},{label:"showLastLabel",valueRef:"showLastLabel",type:h.BOOLEAN,detailedInfo:"Specifies if the last label should be shown.",defaultValue:true},{label:"startAngle",valueRef:"startAngle",type:h.NUMBER,detailedInfo:"Axis start angle. Valid values are from - 180 to 180.",defaultValue:"-120"},{label:"startValue",valueRef:"startValue",type:h.NUMBER,detailedInfo:"Axis start (min) value.",defaultValue:0},{label:"tickAlpha",valueRef:"tickAlpha",type:h.RANGE,detailedInfo:"Opacity of axis ticks.",range:{min:0,max:1,step:0.05},defaultValue:1},{label:"tickColor",valueRef:"tickColor",type:h.COLOR,detailedInfo:"Color of axis ticks.",defaultValue:"#555555"},{label:"tickLength",valueRef:"tickLength",type:h.NUMBER,detailedInfo:"Length of a major tick.",defaultValue:10},{label:"tickThickness",valueRef:"tickThickness",type:h.NUMBER,detailedInfo:"Tick thickness.",defaultValue:1},{label:"topText",valueRef:"topText",type:h.TEXT,detailedInfo:"Text displayed above the axis center.",defaultValue:""},{label:"topTextBold",valueRef:"topTextBold",type:h.BOOLEAN,detailedInfo:"Specifies if text should be bold.",defaultValue:true},{label:"topTextColor",valueRef:"topTextColor",type:h.COLOR,detailedInfo:"Color of top text.",defaultValue:""},{label:"topTextFontSize",valueRef:"topTextFontSize",type:h.NUMBER,detailedInfo:"Font size of top text.",defaultValue:""},{label:"topTextYOffset",valueRef:"topTextYOffset",type:h.NUMBER,detailedInfo:"Y offset of top text.",defaultValue:0},{label:"unit",valueRef:"unit",type:h.TEXT,detailedInfo:"A string which can be placed next to axis labels.",defaultValue:""},{label:"unitPosition",valueRef:"unitPosition",type:h.TEXT,detailedInfo:"Position of the unit.",defaultValue:"right"},{label:"usePrefixes",valueRef:"usePrefixes",type:h.BOOLEAN,detailedInfo:"Specifies if small and big numbers should use prefixes to make them more readable.",defaultValue:false},{label:"valueInterval",valueRef:"valueInterval",type:h.NUMBER,detailedInfo:"Interval, at which ticks with values should be placed.",defaultValue:0}]
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.GaugeArrowOptionsMeta=[{label:"alpha",valueRef:"alpha",type:h.RANGE,detailedInfo:"Opacity of an arrow.",range:{min:0,max:1,step:0.05},defaultValue:1},{label:"borderAlpha",valueRef:"borderAlpha",type:h.RANGE,detailedInfo:"Opacity of arrow border.",range:{min:0,max:1,step:0.05},defaultValue:1},{label:"clockWiseOnly",valueRef:"clockWiseOnly",type:h.BOOLEAN,detailedInfo:"In case you need the arrow to rotate only clock-wise, set this property to true.",defaultValue:false},{label:"color",valueRef:"color",type:h.COLOR,detailedInfo:"Color of an arrow.",defaultValue:"#000000"},{label:"id",valueRef:"id",type:h.TEXT,detailedInfo:"Unique id of an arrow.",defaultValue:""},{label:"innerRadius",valueRef:"innerRadius",type:h.NUMBER,detailedInfo:"Inner radius of an arrow.",defaultValue:0},{label:"nailAlpha",valueRef:"nailAlpha",type:h.RANGE,detailedInfo:"Opacity of a nail, holding the arrow.",range:{min:0,max:1,step:0.05},defaultValue:1},{label:"nailBorderAlpha",valueRef:"nailBorderAlpha",type:h.RANGE,detailedInfo:"Opacity of nail border.",range:{min:0,max:1,step:0.05},defaultValue:0},{label:"nailBorderThickness",valueRef:"nailBorderThickness",type:h.NUMBER,detailedInfo:"Thickness of nail border.",defaultValue:1},{label:"nailRadius",valueRef:"nailRadius",type:h.NUMBER,detailedInfo:"Radius of a nail, holding the arrow.",defaultValue:8},{label:"radius",valueRef:"radius",type:h.TEXT,detailedInfo:"Radius of an arrow.",defaultValue:"90%"},{label:"startWidth",valueRef:"startWidth",type:h.NUMBER,detailedInfo:"Width of arrow root.",defaultValue:8},{label:"value",valueRef:"value",type:h.NUMBER,detailedInfo:"Value to which the arrow should point at.",defaultValue:0}]
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.AmAngularGaugeOptionsMeta=g.AmChartOptionsMeta.concat([{label:"adjustSize",valueRef:"adjustSize",type:h.BOOLEAN,detailedInfo:"Uses the whole space of the canvas to draw the gauge.",defaultValue:true,subgroup:"Appearance"},{label:"clockWiseOnly",valueRef:"clockWiseOnly",type:h.BOOLEAN,detailedInfo:"In case you use gauge to create a clock, set this to true.",defaultValue:false,subgroup:"Appearance"},{label:"faceAlpha",valueRef:"faceAlpha",type:h.RANGE,range:{min:0,max:1,step:0.05},detailedInfo:"Gauge face opacity.",defaultValue:0,subgroup:"Appearance"},{label:"faceBorderAlpha",valueRef:"faceBorderAlpha",type:h.RANGE,range:{min:0,max:1,step:0.05},detailedInfo:"Gauge face border opacity.",defaultValue:0,subgroup:"Appearance"},{label:"faceBorderColor",valueRef:"faceBorderColor",type:h.COLOR,detailedInfo:"Gauge face border color.",defaultValue:"#555555",subgroup:"Appearance"},{label:"faceBorderWidth",valueRef:"faceBorderWidth",type:h.NUMBER,detailedInfo:"Gauge face border width.",defaultValue:1,subgroup:"Appearance"},{label:"faceColor",valueRef:"faceColor",type:h.COLOR,detailedInfo:"Gauge face color, requires faceAlpha > 0",defaultValue:"#FAFAFA",subgroup:"Appearance"},{label:"facePattern",valueRef:"facePattern",type:h.TEXT,detailedInfo:'Gauge face image-pattern.\nExample: {"url":"../amcharts/patterns/black/pattern1.png", "width":4, "height":4}',defaultValue:"",subgroup:"Appearance"},{label:"gaugeX",valueRef:"gaugeX",type:h.NUMBER,detailedInfo:"Gauge's horizontal position in pixel, origin is the center. Centered by default.",defaultValue:"",subgroup:"Appearance"},{label:"gaugeY",valueRef:"gaugeY",type:h.NUMBER,detailedInfo:"Gauge's vertical position in pixel, origin is the center. Centered by default.",defaultValue:"",subgroup:"Appearance"},{label:"marginBottom",valueRef:"marginBottom",type:h.NUMBER,detailedInfo:"Bottom spacing between chart and container.",defaultValue:10,subgroup:"General settings"},{label:"marginLeft",valueRef:"marginLeft",type:h.NUMBER,detailedInfo:"Left-hand spacing between chart and container.",defaultValue:10,subgroup:"General settings"},{label:"marginRight",valueRef:"marginRight",type:h.NUMBER,detailedInfo:"Right-hand spacing between chart and container.",defaultValue:10,subgroup:"General settings"},{label:"marginTop",valueRef:"marginTop",type:h.NUMBER,detailedInfo:"Top spacing between chart and container.",defaultValue:10,subgroup:"General settings"},{label:"minRadius",valueRef:"minRadius",type:h.NUMBER,detailedInfo:"Minimum radius of a gauge.",defaultValue:10,subgroup:"General settings"},{label:"startDuration",valueRef:"startDuration",type:h.NUMBER,detailedInfo:"Duration of arrow animation.",defaultValue:1,subgroup:"General settings"},{label:"startEffect",valueRef:"startEffect",type:h.TEXT,detailedInfo:"Transition effect of the arrows, possible effects: easeOutSine, easeInSine, elastic, bounce.",defaultValue:"easeInSine",subgroup:"General settings"}])
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.AmAngularGaugeDataRenderMeta=[{label:"Value",valueRef:"valueFunction",type:h.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:"/**\n * Function should return numeric value to be\n * displayed on chart.\n * @param measuresMap key-value storage, where key\n * represents full value name like:\n * \"[Measures].[Amount]\"\n */\nfunction(measuresMap) {\n    return measuresMap['[Measures].[Default]']['VALUE']\n}"}]
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(i){var j=a.reporting.editor.OptionMetaType;var h=a.reporting.editor.ColorModeType;
var g={title:"Graph Configuration",advanced:{label:"Graph configuration",type:j.OBJECT,valueRef:"chartOptions",detailedInfo:"",defaultValue:{},contextType:"DATA",children:a.reporting.amcharts.meta.AmFunnelChartOptionsMeta}};i.AmFunnelChartDataRenderMeta=[{label:"Value",valueRef:"valueFunction",type:j.EXPRESSION,contextType:"CELL",detailedInfo:"Expression for value evaluation",defaultValue:"Default",subgroup:g,configurable:function(k){return _.includes(["funnel"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"Color Mode",valueRef:"colorMode",type:j.COLOR_MODE,detailedInfo:"Color rendering mode",suggestion:[h.AUTO,h.PALETTE,h.PALETTE_FOR_VALUES,h.MDX_PROP,h.EXPRESSION],defaultValue:{mode:h.AUTO},subgroup:g,configurable:function(k){return _.includes(["funnel"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"Balloon Format",valueRef:"balloonFormat",type:j.EXPRESSION,contextType:"CELL",detailedInfo:"Balloon Format",defaultValue:"[[title]]: [[percents]]% ([[value]])\n[[description]]",suggestion:["[[title]]: [[percents]]% ([[value]])\n[[description]]","[[title]]: [[percents]]%"],subgroup:g,configurable:function(k){return _.includes(["funnel"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"labelPosition",valueRef:"labelPosition",type:j.SELECT,detailedInfo:"Specifies where labels should be placed. If you set left or right, you should increase left or right margin in order labels to be visible.",suggestion:["left","center","right"],defaultValue:"center",subgroup:g,configurable:function(k){return _.includes(["funnel"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"marginRight",valueRef:"marginRight",type:j.NUMBER,detailedInfo:"Right margin of the chart.",defaultValue:240,subgroup:g,configurable:function(k){return _.includes(["funnel"],_.get(k,"chartType.proto.chartPrototype.type"))}},{label:"marginLeft",valueRef:"marginLeft",type:j.NUMBER,detailedInfo:"Left margin of the chart.",defaultValue:50,subgroup:g,configurable:function(k){return _.includes(["funnel"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"startX",valueRef:"startX",type:j.NUMBER,detailedInfo:"Initial x coordinate of slices. They will animate to the final x position from this one.",defaultValue:-500,subgroup:g,configurable:function(k){return _.includes(["funnel"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"rotate",valueRef:"rotate",type:j.BOOLEAN,detailedInfo:"If rotate is set to true, the funnel will be rotated and will became a pyramid.",defaultValue:false,subgroup:g,configurable:function(k){return _.includes(["funnel"],_.get(k,"chartType.proto.chartPrototype.type"))
}}]})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=a.reporting.editor.OptionMetaType;g.AmGanttChart={chartPrototype:{type:"gantt",period:"hh",columnWidth:0.5,brightnessStep:10,graph:{fillAlphas:1},rotate:true,valueScrollbar:{autoGridCount:true},chartCursor:{cursorColor:"#55bb76",valueBalloonsEnabled:false,cursorAlpha:0,valueLineAlpha:0.5,valueLineBalloonEnabled:true,valueLineEnabled:true,zoomable:false,valueZoomable:true}},graphPrototype:{},dataProviderType:a.reporting.amcharts.data.AmChartsDataProvider.GANTT};
g.AmGanttChartDataRenderMeta=[{label:"Value",valueRef:"valueFunction",type:h.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:"/**\n * Function should return numeric value to be\n * displayed on chart.\n * @param measuresMap key-value storage, where key\n * represents full value name like:\n * \"[Measures].[Amount]\"\n */\nfunction(measuresMap) {\n    return measuresMap['[Measures].[Default]']['VALUE']\n}"}]
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(k){var l=a.reporting.editor.OptionMetaType;var i=a.reporting.editor.ColorModeType;
var g=a.reporting.editor.ColorModeStacks;var j={title:"Graph Configuration",advanced:{label:"Graph configuration",type:l.OBJECT,valueRef:"chartOptions",detailedInfo:"",defaultValue:{},contextType:"DATA",children:a.reporting.amcharts.meta.AmPieChartOptionsMeta}};
var h={title:"Legend",advanced:{label:"Legend Configuration",valueRef:"legend",type:l.OBJECT,detailedInfo:"Legend configuration",defaultValue:{},contextType:"DATA",children:a.reporting.amcharts.meta.AmLegendOptionsMeta}};k.AmPieChartDataRenderMeta=[{label:"Value",valueRef:"valueFunction",type:l.EXPRESSION,contextType:"CELL",detailedInfo:"Expression for value evaluation",defaultValue:"Value",subgroup:j,configurable:function(m){return _.includes(["pie"],_.get(m,"chartType.proto.chartPrototype.type"))
}},{label:"Color Mode",valueRef:"colorMode",type:l.COLOR_MODE,detailedInfo:"Color rendering mode",suggestion:g.FULL,contextType:"CELL",defaultValue:{mode:i.AUTO},subgroup:j,configurable:function(m){return _.includes(["pie"],_.get(m,"chartType.proto.chartPrototype.type"))
}},{label:"innerRadius",valueRef:"innerRadius",type:l.TEXT,detailedInfo:"Inner radius of a band. If not set any, the band will end with the end of minor ticks. Set 0 if you want the band to be drawn to the axis center.",defaultValue:"",subgroup:j,configurable:function(m){return _.includes(["pie"],_.get(m,"chartType.proto.chartPrototype.type"))
}},{label:"pullOutRadius",valueRef:"pullOutRadius",type:l.TEXT,detailedInfo:"Pull out radius, in pixels or percents",defaultValue:"20%",subgroup:j,configurable:function(m){return _.includes(["pie"],_.get(m,"chartType.proto.chartPrototype.type"))}},{label:"titleField",valueRef:"titleFieldFunction",type:l.EXPRESSION,contextType:"CELL",detailedInfo:"Name of the field in chart's dataProvider which holds slice's title.",defaultValue:"[[title]]: [[percents]]%",suggestion:["[[title]]: [[percents]]% ([[value]])","[[title]]: [[percents]]%"],subgroup:j,configurable:function(m){return _.includes(["pie"],_.get(m,"chartType.proto.chartPrototype.type"))
}},{label:"Balloon Format",valueRef:"balloonFormat",type:l.EXPRESSION,contextType:"CELL",detailedInfo:"Balloon Format",defaultValue:"[[title]]: [[percents]]% ([[value]])\n[[description]]",suggestion:["[[title]]: [[percents]]% ([[value]])\n[[description]]","[[title]]: [[percents]]%"],subgroup:j,configurable:function(m){return _.includes(["pie"],_.get(m,"chartType.proto.chartPrototype.type"))
}}]})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(i){var j=a.reporting.editor.OptionMetaType;var h=a.reporting.editor.ColorModeType;
var g=a.reporting.editor.ColorModeStacks;i.AmRadarChartDataRenderMeta=[{label:"Value",valueRef:"valueFunction",type:j.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:"/**\n * Function should return numeric value to be\n * displayed on chart.\n * @param measuresMap key-value storage, where key\n * represents full value name like:\n * \"[Measures].[Amount]\"\n */\nfunction(measuresMap) {\n    return measuresMap['[Measures].[Default]']['VALUE']\n}"},{label:"Chart type",valueRef:"chartType",type:j.TYPE_SELECT,detailedInfo:"Radar chart type",defaultValue:{label:"Radar",proto:a.AmRadarChart,id:"radar"},suggestion:[{sectionName:"Radar",suggestions:[{label:"Radar",proto:a.AmRadarChart,id:"radar"}]},{sectionName:"Polar",suggestions:[{label:"Polar",proto:a.AmPolarChart,id:"polar"}]}]},{label:"Color Mode",valueRef:"colorMode",type:j.COLOR_MODE,detailedInfo:"Color rendering mode",suggestion:g.FULL,contextType:"CELL",defaultValue:{mode:h.AUTO}}]
})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(i){var k=a.reporting.editor.OptionMetaType;var l={title:"Scrollbar",advanced:{label:"Scrollbar Configuration",valueRef:"chartScrollbar",type:k.OBJECT,detailedInfo:"Scrollbar configuration",defaultValue:{},contextType:"DATA",children:a.reporting.amcharts.meta.ChartScrollbarOptionsMeta}};
var h={title:"Cursor",advanced:{label:"Cursor Configuration",valueRef:"chartCursor",type:k.OBJECT,detailedInfo:"Cursor configuration",defaultValue:{},contextType:"DATA",children:a.reporting.amcharts.meta.ChartCursorOptionsMeta}};var j={title:"X Axis",advanced:{label:"X Axis Configuration",valueRef:"valueAxis.0",type:k.OBJECT,detailedInfo:"X axis configuration",defaultValue:{},contextType:"DATA",children:a.reporting.amcharts.meta.ValueAxisOptionsMeta,configurable:function(n,o,m){return _.get(n,"xAxisMode")=="New"&&_.get(m["data-render"],"chartType.proto.chartPrototype.type")=="xy"
}}};var g={title:"Y Axis",advanced:{label:"Y Axis Configuration",valueRef:"valueAxis.1",type:k.OBJECT,detailedInfo:"Y axis configuration",defaultValue:{},contextType:"DATA",children:a.reporting.amcharts.meta.ValueAxisOptionsMeta,configurable:function(n,o,m){return _.get(n,"yAxisMode")=="New"&&_.get(m["data-render"],"chartType.proto.chartPrototype.type")=="xy"
}}};i.AmXYChartDataRenderMeta=[{label:"title",valueRef:"valueAxis.0.title",type:k.EXPRESSION,contextType:"DATA",detailedInfo:"Title of the axis.",defaultValue:"",subgroup:j,configurable:function(m){return _.includes(["xy"],_.get(m,"chartType.proto.chartPrototype.type"))
}},{label:"labelFormat",valueRef:"valueAxis.0.labelFunction",type:k.EXPRESSION,contextType:"AmChart",detailedInfo:"Title of the axis.",defaultValue:"AmChartValueText",subgroup:j,configurable:function(m){return _.includes(["xy"],_.get(m,"chartType.proto.chartPrototype.type"))
}},{label:"maximum",valueRef:"valueAxis.0.maximum",type:k.NUMBER,detailedInfo:"If you don't want max value to be calculated by the chart, set it using this property. This value might still be adjusted so that it would be possible to draw grid at rounded intervals.",defaultValue:"",subgroup:j,configurable:function(m){return _.includes(["xy"],_.get(m,"chartType.proto.chartPrototype.type"))
}},{label:"minimum",valueRef:"valueAxis.0.minimum",type:k.NUMBER,detailedInfo:"If you don't want min value to be calculated by the chart, set it using this property. This value might still be adjusted so that it would be possible to draw grid at rounded intervals.",defaultValue:"",subgroup:j,configurable:function(m){return _.includes(["xy"],_.get(m,"chartType.proto.chartPrototype.type"))
}},{label:"title",valueRef:"valueAxis.1.title",type:k.EXPRESSION,contextType:"DATA",detailedInfo:"Title of the axis.",defaultValue:"",subgroup:g,configurable:function(m){return _.includes(["xy"],_.get(m,"chartType.proto.chartPrototype.type"))}},{label:"labelFormat",valueRef:"valueAxis.1.labelFunction",type:k.EXPRESSION,contextType:"AmChart",detailedInfo:"Title of the axis.",defaultValue:"AmChartValueText",subgroup:j,configurable:function(m){return _.includes(["xy"],_.get(m,"chartType.proto.chartPrototype.type"))
}},{label:"maximum",valueRef:"valueAxis.1.maximum",type:k.NUMBER,detailedInfo:"If you don't want max value to be calculated by the chart, set it using this property. This value might still be adjusted so that it would be possible to draw grid at rounded intervals.",defaultValue:"",subgroup:g,configurable:function(m){return _.includes(["xy"],_.get(m,"chartType.proto.chartPrototype.type"))
}},{label:"minimum",valueRef:"valueAxis.1.minimum",type:k.NUMBER,detailedInfo:"If you don't want min value to be calculated by the chart, set it using this property. This value might still be adjusted so that it would be possible to draw grid at rounded intervals.",defaultValue:"",subgroup:g,configurable:function(m){return _.includes(["xy"],_.get(m,"chartType.proto.chartPrototype.type"))
}}]})(f=e.meta||(e.meta={}))})(d=c.amcharts||(c.amcharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){a.AmSerialBaseChart={chartPrototype:{type:"serial",categoryAxis:{id:"CategoryAxis",gridPosition:"start"},valueAxes:[{id:"ValueAxis-1"}],legend:{enabled:false,useGraphSettings:true},chartCursor:{enabled:false},chartScrollbar:{enabled:false}},graphPrototype:{balloonText:"[[title]] of [[category]]: [[value]]"},guidePrototype:{expand:true,labelRotation:0,position:"top",tickLength:5},dataProviderType:a.reporting.amcharts.data.AmChartsDataProvider.MULTI_GRAPH};
a.AmSerialBaseColumnChart=_.merge({},a.AmSerialBaseChart,{graphPrototype:{type:"column",fillAlphas:1,lineThickness:0}});a.AmSerialColumnClusteredChart=a.AmSerialBaseColumnChart;a.AmSerialColumnStackedChart=_.merge({},a.AmSerialBaseColumnChart,{chartPrototype:{valueAxes:[{stackType:"regular"}]}});
a.AmSerialColumnPercentStackedChart=_.merge({},a.AmSerialBaseColumnChart,{chartPrototype:{valueAxes:[{stackType:"100%"}]}});a.AmSerialWaterfallChart=_.merge({},a.AmSerialBaseColumnChart,{chartPrototype:{categoryAxis:{axisAlpha:0,gridAlpha:0.1}},graphPrototype:{balloonText:"<span style='color:[[color]]'>[[rowTitle]]</span><br><b>$[[delta]]</b>",fillAlphas:0.8,labelText:"$[[delta]]"},dataProviderType:a.reporting.amcharts.data.AmChartsDataProvider.WATERFALL});
a.Chart3DProperties={chartPrototype:{angle:30,depth3D:30}};a.AmSerialColumn3DClusteredChart=_.merge({},a.AmSerialColumnClusteredChart,a.Chart3DProperties);a.AmSerialColumn3DStackedChart=_.merge({},a.AmSerialColumnStackedChart,a.Chart3DProperties);a.AmSerialColumn3DPercentStackedChart=_.merge({},a.AmSerialColumnPercentStackedChart,a.Chart3DProperties);
a.AmSerialColumn3DColumnChart=_.merge({},a.AmSerialColumn3DClusteredChart,{chartPrototype:{valueAxes:[{stackType:"3d"}]}});a.ChartRotateProperties={chartPrototype:{rotate:true},guidePrototype:{position:"right",inside:true}};a.AmSerialBarClusteredChart=_.merge({},a.AmSerialColumnClusteredChart,a.ChartRotateProperties);
a.AmSerialBarStackedChart=_.merge({},a.AmSerialColumnStackedChart,a.ChartRotateProperties);a.AmSerialBarPercentStackedChart=_.merge({},a.AmSerialColumnPercentStackedChart,a.ChartRotateProperties);a.AmSerialBar3DClusteredChart=_.merge({},a.AmSerialColumn3DClusteredChart,a.ChartRotateProperties);
a.AmSerialBar3DStackedChart=_.merge({},a.AmSerialColumn3DStackedChart,a.ChartRotateProperties);a.AmSerialBar3DPercentStackedChart=_.merge({},a.AmSerialColumn3DPercentStackedChart,a.ChartRotateProperties);a.AmSerialBar3DBarChart=_.merge({},a.AmSerialColumn3DColumnChart,a.ChartRotateProperties);
a.AmSerialBaseLineChart=_.merge({},a.AmSerialBaseChart,{graphPrototype:{bullet:"round"}});a.AmSerialLineChart=a.AmSerialBaseLineChart;a.AmSerialLineStackedChart=_.merge({},a.AmSerialBaseLineChart,{chartPrototype:{valueAxes:[{stackType:"regular"}]}});a.AmSerialLineRotatedChart=_.merge({},a.AmSerialBaseLineChart,a.ChartRotateProperties);
a.AmSerialLineSmoothedChart=_.merge({},a.AmSerialBaseChart,{graphPrototype:{type:"smoothedLine"}});a.AmSerialLineStepChart=_.merge({},a.AmSerialBaseChart,{graphPrototype:{lineThickness:2,type:"step"}});a.AmSerialLineStopNoRisersChart=_.merge({},a.AmSerialLineStepChart,{graphPrototype:{noStepRisers:true}});
a.AmSerialAreaBaseChart=_.merge({},a.AmSerialBaseChart,{graphPrototype:{fillAlphas:0.7,lineAlpha:0}});a.AmSerialAreaChart=a.AmSerialAreaBaseChart;a.AmSerialAreaStackedChart=_.merge({},a.AmSerialAreaBaseChart,{chartPrototype:{valueAxes:[{stackType:"regular"}]}});
a.AmSerialAreaPercentStackedChart=_.merge({},a.AmSerialAreaBaseChart,{chartPrototype:{valueAxes:[{stackType:"100%"}]}});a.AmSerialAreaRotatedChart=_.merge({},a.AmSerialAreaBaseChart,a.ChartRotateProperties);a.AmSerialBaseOHLCChart=_.merge({},a.AmSerialBaseChart,{graphPrototype:{balloonText:"Open:<b>[[open]]</b><br>Low:<b>[[low]]</b><br>High:<b>[[high]]</b><br>Close:<b>[[close]]</b><br/>"},dataProviderType:a.reporting.amcharts.data.AmChartsDataProvider.OHLC});
a.AmSerialOHLCChart=_.merge({},a.AmSerialBaseOHLCChart,{graphPrototype:{type:"ohlc"}});a.AmSerialCandlestickChart=_.merge({},a.AmSerialBaseOHLCChart,{graphPrototype:{type:"candlestick"}});a.AmGanttChart=_.merge({},a.AmSerialBaseColumnChart,{chartPrototype:{type:"gantt",rotate:true,valueAxis:{}},dataProviderType:a.reporting.amcharts.data.AmChartsDataProvider.GANTT});
a.AmComboSerialLineChart=_.merge({},a.AmSerialAreaBaseChart,{graphConfigurationPrototypes:[{graph:{type:"column"},valueAxis:{},balloonText:"[[title]] of [[category]]: [[value]]"},{graph:{type:"line",valueAxisMode:"New"},valueAxis:{position:"right"}}]})})(ic3||(ic3={}));
var ic3;(function(a){var b={chartPrototype:{type:"funnel",legend:{enabled:true,align:"center",markerType:"circle"},marginLeft:50,marginRight:240},graphPrototype:{balloonText:"[[title]] of [[category]]:[[value]]"},dataProviderType:a.reporting.amcharts.data.AmChartsDataProvider.SLICED};
a.AmFunnelChart=_.merge({},b,{chartPrototype:{labelPosition:"right",neckHeight:"30%",neckWidth:"40%"}});a.AmPyramidChart=_.merge({},b,{chartPrototype:{rotate:true}})})(ic3||(ic3={}));var ic3;(function(a){a.AmAngularGauge={chartPrototype:{type:"gauge",arrows:[{id:"GaugeArrow-1"}],axes:[{id:"GaugeAxis-1"}]},graphPrototype:{},dataProviderType:a.reporting.amcharts.data.AmChartsDataProvider.GAUGE}
})(ic3||(ic3={}));var ic3;(function(a){var b={chartPrototype:{type:"pie",legend:{enabled:true,align:"center",markerType:"circle"}},dataProviderType:a.reporting.amcharts.data.AmChartsDataProvider.SLICED};a.AmPieChart=b;a.AmPie3DChart=_.merge({},a.AmPieChart,{chartPrototype:{angle:12,depth3D:15}});
a.AmDonutChart=_.merge({},a.AmPieChart,{chartPrototype:{innerRadius:"40%"}});a.AmDonut3DChart=_.merge({},a.AmPie3DChart,{chartPrototype:{innerRadius:"40%"}})})(ic3||(ic3={}));var ic3;(function(a){var b={chartPrototype:{type:"radar",valueAxes:[{axisTitleOffset:20,id:"ValueAxis-1",minimum:0,axisAlpha:0.15,dashLength:3}],addClassNames:true},graphPrototype:{balloonText:"[[title]] of [[category]]:[[value]]",bullet:"round"},dataProviderType:a.reporting.amcharts.data.AmChartsDataProvider.MULTI_GRAPH};
a.AmRadarChart=b;a.AmPolarChart=_.merge({},a.AmRadarChart,{chartPrototype:{valueAxes:[{gridType:"circles"}]}})})(ic3||(ic3={}));var ic3;(function(a){var b={chartPrototype:{type:"xy",valueAxes:[{id:"ValueAxis-Y",axisAlpha:0},{id:"ValueAxis-X",position:"bottom",axisAlpha:0}],chartCursor:{enabled:false},chartScrollbar:{enabled:false},legend:{enabled:false}},graphPrototype:{balloonText:"x:<b>[[x]]</b> y:<b>[[y]]</b><br/>value:<b>[[value]]</b>",lineThickness:0},dataProviderType:a.reporting.amcharts.data.AmChartsDataProvider.MULTI_GRAPH};
a.AmXYBubbleChart=_.merge({},b,{graphPrototype:{bullet:"round"}});a.AmXYScatterChart=_.merge({},b,{graphPrototype:{bullet:"diamond"}})})(ic3||(ic3={}));var ic3;(function(a){a.AmChartPresets=[{sectionName:"Column",suggestions:[{label:"Clustered",proto:a.AmSerialColumnClusteredChart,id:"serial-chart-clustered"},{label:"Stacked",proto:a.AmSerialColumnStackedChart,id:"serial-chart-stacked"},{label:"100% Stacked",proto:a.AmSerialColumnPercentStackedChart,id:"serial-chart-stacked-100"},{label:"3D Clustered",proto:a.AmSerialColumn3DClusteredChart,id:"serial-chart-clustered-3d"},{label:"3D Stacked",proto:a.AmSerialColumn3DStackedChart,id:"serial-chart-stacked-3d"},{label:"3D 100% Stacked",proto:a.AmSerialColumn3DPercentStackedChart,id:"serial-chart-stacked-3d-100"},{label:"3D Column",proto:a.AmSerialColumn3DColumnChart,id:"serial-chart-column-3d"}]},{sectionName:"Bar",suggestions:[{label:"Clustered",proto:a.AmSerialBarClusteredChart,id:"serial-chart-bar-clustered"},{label:"Stacked",proto:a.AmSerialBarStackedChart,id:"serial-chart-bar-stacked"},{label:"100% Stacked",proto:a.AmSerialBarPercentStackedChart,id:"serial-chart-bar-stacked-100"},{label:"3D Clustered",proto:a.AmSerialBar3DClusteredChart,id:"serial-chart-bar-clustered-3d"},{label:"3D Stacked",proto:a.AmSerialBar3DStackedChart,id:"serial-chart-bar-stacked-3d"},{label:"3D 100% Stacked",proto:a.AmSerialBar3DPercentStackedChart,id:"serial-chart-bar-stacked-3d-100"},{label:"3D Bar",proto:a.AmSerialBar3DBarChart,id:"serial-chart-bar-column-3d"}]},{sectionName:"Line",suggestions:[{label:"Line",proto:a.AmSerialLineChart,id:"serial-chart-line-line"},{label:"Stacked Line",proto:a.AmSerialLineStackedChart,id:"serial-chart-line-stacked"},{label:"Rotated Line",proto:a.AmSerialLineRotatedChart,id:"serial-chart-line-rotated"},{label:"Smoothed Line",proto:a.AmSerialLineSmoothedChart,id:"serial-chart-line-smoothed-line"},{label:"Step line",proto:a.AmSerialLineStepChart,id:"serial-chart-line-step"},{label:"Step no risers",proto:a.AmSerialLineStopNoRisersChart,id:"serial-chart-line-step-no"}]},{sectionName:"Area",suggestions:[{label:"Area",proto:a.AmSerialAreaChart,id:"serial-chart-area-area"},{label:"Stacked Area",proto:a.AmSerialAreaStackedChart,id:"serial-chart-area-stacked"},{label:"100% Stacked Area",proto:a.AmSerialAreaPercentStackedChart,id:"serial-chart-area-stacked-100"},{label:"Rotated Area",proto:a.AmSerialAreaRotatedChart,id:"serial-chart-area-rotated"}]},{sectionName:"OHLC/Candlestick",suggestions:[{label:"OHLC",proto:a.AmSerialOHLCChart,id:"serial-chart-ohlc"},{label:"Candlestick",proto:a.AmSerialCandlestickChart,id:"serial-chart-candlestick"}]},{sectionName:"Funnel/Pyramid",suggestions:[{label:"Funnel",proto:a.AmFunnelChart,id:"funnel-chart-funnel"},{label:"Pyramid",proto:a.AmPyramidChart,id:"pyramid-chart-pyramid"}]},{sectionName:"Pie/Donut",suggestions:[{label:"Pie",proto:a.AmPieChart,id:"pie-chart-pie"},{label:"3D Pie",proto:a.AmPie3DChart,id:"pie-chart-pie-3d"},{label:"Donut",proto:a.AmDonutChart,id:"pie-chart-donut"},{label:"3D Donut",proto:a.AmDonut3DChart,id:"pie-chart-donut-3d"}]},{sectionName:"Radar/Polar",suggestions:[{label:"Radar",proto:a.AmRadarChart,id:"radar-chart-radar"},{label:"Polar",proto:a.AmPolarChart,id:"polar-chart-polar"}]},{sectionName:"XY",suggestions:[{label:"Bubble",proto:a.AmXYBubbleChart,id:"bubble-chart-bubble"},{label:"Scatter",proto:a.AmXYScatterChart,id:"scatter-chart-scatter"}]},{sectionName:"Gantt/Waterfall",suggestions:[{label:"Gantt",proto:a.AmGanttChart,id:"gantt-chart"},{label:"Waterfall",proto:a.AmSerialWaterfallChart,id:"serial-chart-waterfall"}]},{sectionName:"Gauge",suggestions:[{label:"Gauge",proto:a.AmAngularGauge,id:"gauge-chart"}]},{sectionName:"Combo",suggestions:[{label:"Columns And Line",proto:a.AmComboSerialLineChart,id:"combo-serial-line-chart"}]}]
})(ic3||(ic3={}));var ic3;(function(c){var a=c.reporting.editor.OptionMetaType;var i=c.reporting.editor.ColorModeType;var h=c.reporting.editor.SuggestionType;var b=c.reporting.editor.ColorModeStacks;var j=c.reporting.amcharts.meta.GaugeArrowOptionsMeta;var g=c.reporting.amcharts.meta.GaugeAxisOptionsMeta;
var e=c.reporting.amcharts.meta.GaugeBandOptionsMeta;var f=(function(){function k(){}k.CategoryAxis={title:"Category Axis",advanced:{label:"Category Axis Configuration",valueRef:"categoryAxis",type:a.OBJECT,detailedInfo:"Category axis configuration",defaultValue:{},contextType:"DATA",children:c.reporting.amcharts.meta.CategoryAxisOptionsMeta}};
k.ValueAxis={title:"Value Axis",advanced:{label:"Value Axis Configuration",valueRef:"valueAxis",type:a.OBJECT,detailedInfo:"Value axis configuration",defaultValue:{},contextType:"DATA",children:c.reporting.amcharts.meta.ValueAxisOptionsMeta}};k.Legend={title:"Legend",advanced:{label:"Legend Configuration",valueRef:"legend",type:a.OBJECT,detailedInfo:"Legend configuration",defaultValue:{},contextType:"DATA",children:c.reporting.amcharts.meta.AmLegendOptionsMeta}};
k.Scrollbar={title:"Scrollbar",advanced:{label:"Scrollbar Configuration",valueRef:"chartScrollbar",type:a.OBJECT,detailedInfo:"Scrollbar configuration",defaultValue:{},contextType:"DATA",children:c.reporting.amcharts.meta.ChartScrollbarOptionsMeta}};k.Cursor={title:"Cursor",advanced:{label:"Cursor Configuration",valueRef:"chartCursor",type:a.OBJECT,detailedInfo:"Cursor configuration",defaultValue:{},contextType:"DATA",children:c.reporting.amcharts.meta.ChartCursorOptionsMeta}};
k.GaugeAxis={title:"Axis/Band",advanced:{label:"Axis/Band Configuration",valueRef:"chartOptions",type:a.OBJECT,detailedInfo:"Gauge axis configuration",defaultValue:{},contextType:"DATA",children:[{label:"axes",valueRef:"axes",type:a.OBJECT_ARRAY,children:g,childrenLabel:"Axis",detailedInfo:"Array of axes.",defaultValue:[]},{label:"bands",valueRef:"bands",type:a.OBJECT_ARRAY,children:e,childrenLabel:"Band",detailedInfo:"Array of bands - GaugeBand objects. Bands are used to draw color fills between specified values.",defaultValue:[]}]}};
k.GaugeArrow={title:"Arrow",advanced:{label:"Arrow Configuration",valueRef:"chartOptions",type:a.OBJECT,detailedInfo:"Cursor configuration",defaultValue:{},contextType:"DATA",children:[{label:"arrows",valueRef:"arrows",type:a.OBJECT_ARRAY,children:j,childrenLabel:"Arrow",detailedInfo:"Array of arrows.",defaultValue:[]}]}};
return k}());c.AmChartSubgroups=f;var d=[{label:"Chart type",valueRef:"chartType",type:a.TYPE_SELECT,detailedInfo:"Chart type",defaultValue:{label:"Clustered",proto:c.AmSerialColumnClusteredChart,id:"serial-chart-clustered"},suggestion:c.AmChartPresets,beforeChange:function(k){var l=_.cloneDeep(_.omit(k,["ic3Data"]));
_.set(k,["ic3Data","chartTypeConfig",k.chartType.id],l)},afterChange:function(q,k,o){var m=function(s,r){s.graph=s.graph||{};_.forOwn(s.graph,function(u,t){delete s.graph[t]});_.assign(s.graph,r)};var p=_.get(q,"chartType.proto.graphPrototype");var l=_.get(q,"chartType.proto.graphConfigurationPrototypes");
if(_.has(q,["ic3Data","chartTypeConfig",q.chartType.id])){q=o.dataRenderOptions=_.get(q,["ic3Data","chartTypeConfig",q.chartType.id])}else{if(_.get(q,"chartType.proto.graphConfigurationPrototypes")){for(var n=0;n<Math.max(q.graphsConfiguration.length,l.length);
n++){if(l[n]){q.graphsConfiguration[n]=_.cloneDeep(l[n])}else{m(q.graphsConfiguration[n].graph,p)}}}else{_.each(q.graphsConfiguration,function(r){return m(r,p)})}}}},{label:"Graphs configuration",valueRef:"graphsConfiguration",type:a.OBJECT_ARRAY,detailedInfo:"",contextType:"DATA",defaultValue:[{}],advanced:{label:"Graph configuration",valueRef:"graph",type:a.OBJECT,detailedInfo:"",defaultValue:{},children:c.reporting.amcharts.meta.AmGraphOptionsMeta},children:[{label:"Value",valueRef:"valueFieldFunction",type:a.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:"Value",contextType:"CELL",suggestion:h.EXPRESSION_VALUES_ONLY,configurable:function(l,m,k){return !_.includes(["ohlc","candlestick","gantt"],_.get(l,"graph.type"))&&!_.includes(["gantt"],_.get(k["data-render"],"chartType.proto.chartPrototype.type"))
}},{label:"Open Value",valueRef:"openFieldFunction",type:a.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:"Value",contextType:"CELL",suggestion:h.EXPRESSION_VALUES_ONLY,configurable:function(k){return _.includes(["ohlc","candlestick"],_.get(k,"graph.type"))
}},{label:"Close Value",valueRef:"closeFieldFunction",type:a.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:"Value",contextType:"CELL",suggestion:h.EXPRESSION_VALUES_ONLY,configurable:function(k){return _.includes(["ohlc","candlestick"],_.get(k,"graph.type"))
}},{label:"High Value",valueRef:"highFieldFunction",type:a.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:"Value",contextType:"CELL",suggestion:h.EXPRESSION_VALUES_ONLY,configurable:function(k){return _.includes(["ohlc","candlestick"],_.get(k,"graph.type"))
}},{label:"Low Value",valueRef:"lowFieldFunction",type:a.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:"Value",contextType:"CELL",suggestion:h.EXPRESSION_VALUES_ONLY,configurable:function(k){return _.includes(["ohlc","candlestick"],_.get(k,"graph.type"))
}},{label:"Start Value",valueRef:"startFieldFunction",type:a.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:"Value",contextType:"CELL",suggestion:h.EXPRESSION_VALUES_ONLY,configurable:function(l,m,k){return(_.includes(["gantt"],_.get(k["data-render"],"chartType.proto.chartPrototype.type")))
}},{label:"End Value",valueRef:"endFieldFunction",type:a.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:"",contextType:"CELL",suggestion:h.EXPRESSION_VALUES_ONLY,configurable:function(l,m,k){return(_.includes(["gantt"],_.get(k["data-render"],"chartType.proto.chartPrototype.type")))
}},{label:"Duration Value",valueRef:"durationFieldFunction",type:a.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:"",contextType:"CELL",suggestion:h.EXPRESSION_VALUES_ONLY,configurable:function(l,m,k){return(_.includes(["gantt"],_.get(k["data-render"],"chartType.proto.chartPrototype.type")))
}},{label:"X Value",valueRef:"xFieldFunction",type:a.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:"Value",contextType:"CELL",suggestion:h.EXPRESSION_VALUES_ONLY,configurable:function(l,m,k){return(_.includes(["xy"],_.get(k["data-render"],"chartType.proto.chartPrototype.type")))
}},{label:"Y Value",valueRef:"yFieldFunction",type:a.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:"Value",contextType:"CELL",suggestion:h.EXPRESSION_VALUES_ONLY,configurable:function(l,m,k){return(_.includes(["xy"],_.get(k["data-render"],"chartType.proto.chartPrototype.type")))
}},{label:"baseColumns",valueRef:"baseColumns",type:a.EXPRESSION,detailedInfo:"Specifies column names for waterfall chart, that can be used as base columns.",defaultValue:"Value",contextType:"CELL",configurable:function(l,m,k){return _.get(k["data-render"],"chartType.proto.dataProviderType")===c.reporting.amcharts.data.AmChartsDataProvider.WATERFALL
}},{label:"Color Mode",valueRef:"colorMode",type:a.COLOR_MODE,detailedInfo:"Color rendering mode",suggestion:b.FULL,contextType:"CELL",defaultValue:{mode:i.AUTO}},{label:"maxBulletSize",valueRef:"graph.maxBulletSize",type:a.NUMBER,detailedInfo:"Specifies size of the bullet which value is the biggest (XY chart).",defaultValue:50,configurable:function(l,m,k){return _.get(k["data-render"],"chartType.proto.chartPrototype.type")=="xy"
}},{label:"minBulletSize",valueRef:"graph.minBulletSize",type:a.NUMBER,detailedInfo:"Specifies minimum size of the bullet (XY chart).",defaultValue:4,configurable:function(l,m,k){return _.get(k["data-render"],"chartType.proto.chartPrototype.type")=="xy"}},{label:"Balloon Format",valueRef:"balloonFormat",type:a.EXPRESSION,contextType:"CELL",detailedInfo:"Balloon Format. You can use tags like [[value]], [[title]], [[rowTitle]], [[category]]",defaultValue:"[[rowTitle]] : [[value]]",suggestion:["[[title]] : [[value]]","[[title]] of [[rowTitle]]: [[value]]","[[rowTitle]]: [[value]]"],configurable:function(k){return !_.includes(["gauge"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"Value Axis Configuration",valueRef:"valueAxis",type:a.OBJECT,detailedInfo:"Value axis configuration",defaultValue:{},children:c.reporting.amcharts.meta.ValueAxisOptionsMeta,configurable:function(l,m,k){return _.get(l,"graph.valueAxisMode")=="New"&&_.includes(["serial","radar"],_.get(k["data-render"],"chartType.proto.chartPrototype.type"))
}},{label:"X Axis Configuration",valueRef:"xAxis",type:a.OBJECT,detailedInfo:"X axis configuration",defaultValue:{},children:c.reporting.amcharts.meta.ValueAxisOptionsMeta,configurable:function(l,m,k){return _.get(l,"graph.xAxisMode")=="New"&&_.includes(["xy"],_.get(k["data-render"],"chartType.proto.chartPrototype.type"))
}},{label:"Y Axis Configuration",valueRef:"yAxis",type:a.OBJECT,detailedInfo:"Y axis configuration",defaultValue:{},children:c.reporting.amcharts.meta.ValueAxisOptionsMeta,configurable:function(l,m,k){return _.get(l,"graph.yAxisMode")=="New"&&_.includes(["xy"],_.get(k["data-render"],"chartType.proto.chartPrototype.type"))
}}],configurable:function(k){return _.includes(["serial","radar","xy","gantt"],_.get(k,"chartType.proto.chartPrototype.type"))}},{label:"title",valueRef:"categoryAxis.title",type:a.EXPRESSION,contextType:"DATA",detailedInfo:"Title of the axis.",defaultValue:"",subgroup:f.CategoryAxis,configurable:function(k){return _.includes(["serial"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"labelFormat",valueRef:"categoryAxis.labelFormat",type:a.EXPRESSION,contextType:"CELL",detailedInfo:"Title of the axis.",defaultValue:"",subgroup:f.CategoryAxis,configurable:function(k){return _.includes(["serial"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"Parse Dates",valueRef:"categoryAxis.parseDates",type:a.BOOLEAN,detailedInfo:"Parse Dates",defaultValue:false,flags:{hidePencil:true},subgroup:f.CategoryAxis,configurable:function(k){return _.includes(["serial"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"title",valueRef:"valueAxis.title",type:a.EXPRESSION,contextType:"DATA",detailedInfo:"Title of the axis.",defaultValue:"",subgroup:f.ValueAxis,configurable:function(k){return _.includes(["serial"],_.get(k,"chartType.proto.chartPrototype.type"))}},{label:"labelFormat",valueRef:"valueAxis.labelFunction",type:a.EXPRESSION,contextType:"AmChart",detailedInfo:"Title of the axis.",defaultValue:"AmChartValueText",subgroup:f.ValueAxis,configurable:function(k){return _.includes(["serial"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"minimum",valueRef:"valueAxis.minimum",type:a.NUMBER,detailedInfo:"If you don't want min value to be calculated by the chart, set it using this property. This value might still be adjusted so that it would be possible to draw grid at rounded intervals.",defaultValue:"",subgroup:f.ValueAxis,configurable:function(k){return _.includes(["serial","radar"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"maximum",valueRef:"valueAxis.maximum",type:a.NUMBER,detailedInfo:"If you don't want max value to be calculated by the chart, set it using this property. This value might still be adjusted so that it would be possible to draw grid at rounded intervals.",defaultValue:"",subgroup:f.ValueAxis,configurable:function(k){return _.includes(["serial","radar"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"enabled",valueRef:"legend.enabled",type:a.BOOLEAN,detailedInfo:"Specifies if legend is enabled or not.",defaultValue:false,flags:{hidePencil:true},subgroup:f.Legend},{label:"position",valueRef:"legend.position",type:a.SELECT,detailedInfo:'Position of a legend. In case "absolute", you should set left and top properties too. (this setting is ignored in Stock charts). In case legend is used with AmMap, position is set to "absolute" automatically.',suggestion:["bottom","top","left","right","absolute"],defaultValue:"bottom",subgroup:f.Legend},{label:"enabled",valueRef:"chartScrollbar.enabled",type:a.BOOLEAN,detailedInfo:"Specifies if scrollbar is enabled. You can hide/show scrollbar using this property without actually removing it.",defaultValue:false,flags:{hidePencil:true},subgroup:f.Scrollbar,configurable:function(k){return _.includes(["serial","xy"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"scrollbarHeight",valueRef:"chartScrollbar.scrollbarHeight",type:a.NUMBER,detailedInfo:"Height (width, if chart is rotated) of a scrollbar.",defaultValue:20,subgroup:f.Scrollbar,configurable:function(k){return _.includes(["serial","xy"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"enabled",valueRef:"chartCursor.enabled",type:a.BOOLEAN,detailedInfo:"Specifies whether cursor is enabled.",defaultValue:false,flags:{hidePencil:true},subgroup:f.Cursor,configurable:function(k){return _.includes(["serial","xy"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"Trend Lines / Guides",valueRef:"trendLinesGuides",type:a.OBJECT,detailedInfo:"Additional information markers",defaultValue:{},children:[{label:"trendLine",valueRef:"trendLines",type:a.OBJECT_ARRAY,children:c.reporting.amcharts.meta.TrendLineOptionsMeta,childrenLabel:"Trend line",detailedInfo:"Array of trend lines added to a chart. You can add trend lines to a chart using this array or access already existing trend lines",defaultValue:[]},{label:"guide",valueRef:"guides",type:a.OBJECT_ARRAY,childrenLabel:"Guide",children:c.reporting.amcharts.meta.GuideOptionsMeta,detailedInfo:"Instead of adding guides to the axes, you can push all of them to this array. In case guide has category or date defined, it will automatically will be assigned to the category axis. Otherwise to first value axis, unless you specify a different valueAxis for the guide.",defaultValue:[]}],configurable:function(k){return _.includes(["serial","xy","radar"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"Value",valueRef:"valueFieldFunction",type:a.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:"Value",contextType:"CELL",suggestion:h.EXPRESSION_VALUES_ONLY,subgroup:f.GaugeArrow,configurable:function(k){return _.includes(["gauge"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"Color Mode",valueRef:"colorMode",type:a.COLOR_MODE,detailedInfo:"Color rendering mode",suggestion:b.FULL,contextType:"CELL",defaultValue:{mode:i.AUTO},subgroup:f.GaugeArrow,configurable:function(k){return _.includes(["gauge"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"startValue",valueRef:"axes.0.startValue",type:a.NUMBER,detailedInfo:"Axis start (min) value.",defaultValue:0,subgroup:f.GaugeAxis,configurable:function(k){return _.includes(["gauge"],_.get(k,"chartType.proto.chartPrototype.type"))}},{label:"endValue",valueRef:"axes.0.endValue",type:a.NUMBER,detailedInfo:"Axis end (max) value",defaultValue:"",subgroup:f.GaugeAxis,configurable:function(k){return _.includes(["gauge"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"startAngle",valueRef:"axes.0.startAngle",type:a.NUMBER,detailedInfo:"Axis start angle. Valid values are from - 180 to 180.",defaultValue:"-120",subgroup:f.GaugeAxis,configurable:function(k){return _.includes(["gauge"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"endAngle",valueRef:"axes.0.endAngle",type:a.NUMBER,detailedInfo:"Axis end angle. Valid values are from - 180 to 180.",defaultValue:120,subgroup:f.GaugeAxis,configurable:function(k){return _.includes(["gauge"],_.get(k,"chartType.proto.chartPrototype.type"))
}},{label:"Advanced Configuration",valueRef:"advanced",type:a.OBJECT,contextType:"DATA",detailedInfo:"Advanced chart configuration",defaultValue:{},children:function(k){var l=_.get(k,"chartType.proto.chartPrototype.type")||"serial";switch(l){case"pie":return c.reporting.amcharts.meta.AmPieChartOptionsMeta;
case"funnel":return c.reporting.amcharts.meta.AmFunnelChartOptionsMeta;case"radar":return c.reporting.amcharts.meta.AmRadarChartOptionsMeta;case"xy":return c.reporting.amcharts.meta.AmXYChartOptionsMeta;case"gauge":return c.reporting.amcharts.meta.AmAngularGaugeOptionsMeta;
case"gantt":return c.reporting.amcharts.meta.AmGanttChartOptionsMeta;case"serial":default:return c.reporting.amcharts.meta.AmSerialChartOptionsMeta}}}];c.AmChartDataRenderMeta=d.concat(c.reporting.amcharts.meta.AmPieChartDataRenderMeta,c.reporting.amcharts.meta.AmXYChartDataRenderMeta,c.reporting.amcharts.meta.AmFunnelChartDataRenderMeta)
})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(f){var e;(function(K){var t=a.reporting.editor.OptionMetaType;var J=a.reporting.editor.MetaOverride;var N={min:0,max:1,step:0.05};var l=[{label:"stroke",valueRef:"stroke",type:t.COLOR,detailedInfo:"The color of the border.",defaultValue:"#666666"},{label:"strokeWidth",valueRef:"strokeWidth",type:t.NUMBER,detailedInfo:"The border width, in pixels.",defaultValue:0}];
var y=l.concat([{label:"strokeOpacity",valueRef:"strokeOpacity",type:t.RANGE,detailedInfo:"",range:N,defaultValue:1}]);var i=l.concat([{label:"fill",valueRef:"fill",type:t.COLOR,detailedInfo:"The fill color.",defaultValue:"#ffffff"}]);var k=[{label:"fontName",valueRef:"fontName",type:t.TEXT,detailedInfo:"",defaultValue:"sans-serif"},{label:"fontSize",valueRef:"fontSize",type:t.NUMBER,detailedInfo:"",defaultValue:11},{label:"color",valueRef:"color",type:t.COLOR,detailedInfo:"",defaultValue:"#888888"},{label:"bold",valueRef:"bold",type:t.BOOLEAN,detailedInfo:"",defaultValue:false},{label:"italic",valueRef:"italic",type:t.BOOLEAN,detailedInfo:"",defaultValue:false}];
var h=[{label:"colors",valueRef:"colorAxis.colors",subgroup:"Color axis",type:t.PALETTE,detailedInfo:"Colors to assign to values in the visualization. An array of strings, where each element is an HTML color string, for example: colorAxis: {colors:['red','#004411']}. You must have at least two values; the gradient will include all your values, plus calculated intermediary values, with the first color as the smallest value, and the last color as the highest.",defaultValue:null},{label:"maxValue",valueRef:"colorAxis.maxValue",subgroup:"Color axis",type:t.NUMBER,detailedInfo:"If present, specifies a maximum value for chart color data. Color data values of this value and higher will be rendered as the last color in the colorAxis.colors range.",defaultValue:null},{label:"minValue",valueRef:"colorAxis.minValue",subgroup:"Color axis",type:t.NUMBER,detailedInfo:"If present, specifies a minimum value for chart color data. Color data values of this value and lower will be rendered as the first color in the colorAxis.colors range.",defaultValue:null},{label:"values",valueRef:"colorAxis.values",subgroup:"Color axis",type:t.TEXT,detailedInfo:"If present, controls how values are associated with colors. Each value is associated with the corresponding color in the colorAxis.colors array. These values apply to the chart color data. Coloring is done according to a gradient of the values specified here. Not specifying a value for this option is equivalent to specifying [minValue, maxValue].",defaultValue:null}];
var s=[{label:"backgroundColor",valueRef:"backgroundColor",type:t.COLOR,detailedInfo:"",defaultValue:"#76a7fa"},{label:"color",valueRef:"color",type:t.COLOR,detailedInfo:"",defaultValue:"#a0c3ff"}];var z=[{label:"duration",valueRef:"duration",type:t.NUMBER,detailedInfo:"The duration of the animation, in milliseconds. For details, see the animation documentation.",defaultValue:0},{label:"easing",valueRef:"easing",type:t.SELECT,detailedInfo:"The easing function applied to the animation.",suggestion:["linear","in","out","inAndOut"],defaultValue:"linear"},{label:"startup",valueRef:"startup",type:t.BOOLEAN,detailedInfo:"Determines if the chart will animate on the initial draw. If true, the chart will start at the baseline and animate to its final state.",defaultValue:false}];
var B=[{label:"color",valueRef:"color",type:t.COLOR,detailedInfo:"Determines if the chart will animate on the initial draw. If true, the chart will start at the baseline and animate to its final state.",defaultValue:"#000"},{label:"length",valueRef:"length",type:t.NUMBER,detailedInfo:"Determines if the chart will animate on the initial draw. If true, the chart will start at the baseline and animate to its final state.",defaultValue:12},{label:"style",valueRef:"style",type:t.SELECT,detailedInfo:"Determines if the chart will animate on the initial draw. If true, the chart will start at the baseline and animate to its final state.",suggestion:["line","point"],defaultValue:"point"}];
var w=[].concat(J(B,{subgroup:"Datum",valueRef:function(P){return("datum."+P)},defaultValue:function(Q,P,R){return _.get({color:"black",length:12,style:"point"},R.valueRef)}}),J(B,{subgroup:"Domain",valueRef:function(P){return("domain."+P)},defaultValue:function(Q,P,R){return _.get({color:"black",length:5,style:"point"},R.valueRef)
}}),J(B,{subgroup:"Stem",valueRef:function(P){return("stem."+P)},defaultValue:function(Q,P,R){return _.get({color:"black",length:5},R.valueRef)},configurable:function(Q,P,R){return function(){return R.valueRef!=="stem.style"}}}),[{label:"boxStyle",valueRef:"boxStyle",type:t.TEXT,detailedInfo:"For charts that support annotations, the annotations.boxStyle object controls the appearance of the boxes surrounding annotations",defaultValue:null},{label:"highContrast",valueRef:"highContrast",type:t.BOOLEAN,detailedInfo:"For charts that support annotations, the annotations.highContrast boolean lets you override Google Charts' choice of the annotation color. By default, annotations.highContrast is true, which causes Charts to select an annotation color with good contrast: light colors on dark backgrounds, and dark on light. If you set annotations.highContrast to false and don't specify your own annotation color, Google Charts will use the default series color for the annotation",defaultValue:true},{label:"style",valueRef:"style",type:t.SELECT,detailedInfo:"For charts that support annotations, the annotations.style option lets you override Google Charts' choice of the annotation type.",suggestion:["line","point"],defaultValue:"point"},{label:"textStyle",valueRef:"textStyle",type:t.TEXT,detailedInfo:"For charts that support annotations, the annotations.textStyle object controls the appearance of the text of the annotation",defaultValue:null}]);
var C=[].concat(J(l,{subgroup:"Chart Area Background Color",valueRef:function(P){return("backgroundColor."+P)}}),[{label:"left",valueRef:"left",subgroup:"Chart Area",type:t.NUMBER,detailedInfo:"How far to draw the chart from the left border.",defaultValue:"auto"},{label:"top",valueRef:"top",subgroup:"Chart Area",type:t.NUMBER,detailedInfo:"How far to draw the chart from the top border.",defaultValue:"auto"},{label:"width",valueRef:"width",subgroup:"Chart Area",type:t.NUMBER,detailedInfo:"Chart area width.",defaultValue:"auto"},{label:"height",valueRef:"height",subgroup:"Chart Area",type:t.NUMBER,detailedInfo:"Chart area height.",defaultValue:"auto"}]);
var x=[{label:"color",valueRef:"color",type:t.COLOR,detailedInfo:"The focused crosshair color.",defaultValue:null},{label:"opacity",valueRef:"opacity",type:t.RANGE,detailedInfo:"The focused crosshair opacity.",range:N,defaultValue:null}];var r=[].concat(J(x,{subgroup:"Focused Crosshair",valueRef:function(P){return("focused."+P)
}}),J(x,{subgroup:"Selected Crosshair",valueRef:function(P){return("selected."+P)}}),[{label:"color",valueRef:"color",type:t.COLOR,detailedInfo:"The crosshair color.",defaultValue:null},{label:"opacity",valueRef:"opacity",type:t.RANGE,detailedInfo:"The crosshair opacity, with 0.0 being fully transparent and 1.0 fully opaque.",range:N,defaultValue:1},{label:"orientation",valueRef:"orientation",type:t.SELECT,detailedInfo:"The crosshair orientation.",suggestion:["vertical","horizontal","both"],defaultValue:"both"},{label:"trigger",valueRef:"trigger",type:t.SELECT,detailedInfo:"When to display crosshairs.",suggestion:["focus","selection","both"],defaultValue:"both"}]);
var m=[{label:"color",valueRef:"color",type:t.COLOR,detailedInfo:"The color of the horizontal gridlines inside the chart area.",defaultValue:"#CCC"},{label:"count",valueRef:"count",type:t.NUMBER,detailedInfo:"The number of horizontal gridlines inside the chart area. Minimum value is 2. Specify -1 to automatically compute the number of gridlines.",defaultValue:5},{label:"units",valueRef:"units",type:t.TEXT,detailedInfo:"Overrides the default format for various aspects of date/datetime/timeofday data types when used with chart computed gridlines. Allows formatting for years, months, days, hours, minutes, seconds, and milliseconds.",defaultValue:null}];
var n=[{label:"max",valueRef:"max",type:t.NUMBER,detailedInfo:"Ignored when Axis.viewWindowMode is 'pretty' or 'maximized'.",defaultValue:null},{label:"min",valueRef:"min",type:t.NUMBER,detailedInfo:"Ignored when Axis.viewWindowMode is 'pretty' or 'maximized'.",defaultValue:null}];
var H=[].concat(J(m,{subgroup:"Gridlines",valueRef:function(P){return("gridlines."+P)}}),J(m,{subgroup:"Minor gridlines",valueRef:function(P){return("minorGridlines."+P)}}),J(k,{subgroup:"Text style",valueRef:function(P){return("textStyle."+P)}}),J(k,{subgroup:"Title text style",valueRef:function(P){return("titleTextStyle."+P)
}}),J(n,{subgroup:"View window",valueRef:function(P){return("viewWindow."+P)}}),[{label:"baseline",valueRef:"baseline",type:t.NUMBER,detailedInfo:"The baseline for the axis.",defaultValue:null},{label:"baselineColor",valueRef:"baselineColor",type:t.COLOR,detailedInfo:"The color of the baseline for the axis.",defaultValue:"#000000"},{label:"direction",valueRef:"direction",type:t.SELECT,detailedInfo:"The direction in which the values along the horizontal axis grow. Specify -1 to reverse the order of the values.",suggestion:[1,-1],defaultValue:1},{label:"format",valueRef:"format",type:t.TEXT,detailedInfo:"A format string for numeric or date axis labels.",suggestion:["none","decimal","scientific","currency","percent","short","long"],defaultValue:null},{label:"logScale",valueRef:"logScale",type:t.BOOLEAN,detailedInfo:"property that makes the axis a logarithmic scale (requires all values to be positive). Set to true for yes.",defaultValue:false},{label:"textPosition",valueRef:"textPosition",type:t.SELECT,detailedInfo:"Position of the axis text, relative to the chart area.",suggestion:["out","in","none"],defaultValue:"out"},{label:"ticks",valueRef:"ticks",type:t.TEXT,detailedInfo:"Replaces the automatically generated axis ticks with the specified array. Each element of the array should be either a valid tick value (such as a number, date, datetime, or timeofday), or an object. If it's an object, it should have a v property for the tick value, and an optional f property containing the literal string to be displayed as the label.",defaultValue:null},{label:"title",valueRef:"title",type:t.TEXT,detailedInfo:"property that specifies the title of the axis.",defaultValue:null},{label:"allowContainerBoundaryTextCufoff",valueRef:"allowContainerBoundaryTextCufoff",type:t.BOOLEAN,detailedInfo:"If false, will hide outermost labels rather than allow them to be cropped by the chart container. If true, will allow label cropping.",defaultValue:false},{label:"slantedText",valueRef:"slantedText",type:t.BOOLEAN,detailedInfo:"If true, draw the axis text at an angle, to help fit more text along the axis; if false, draw horizontal axis text upright. Default behavior is to slant text if it cannot all fit when drawn upright. Notice that this option is available only when the Axis.textPosition is set to 'out' (which is the default).",defaultValue:null},{label:"slantedTextAngle",valueRef:"slantedTextAngle",type:t.NUMBER,detailedInfo:"The angle of the axis text, if it's drawn slanted. Ignored if Axis.slantedText is false, or is in auto mode, and the chart decided to draw the text horizontally.",defaultValue:30},{label:"maxAlternation",valueRef:"maxAlternation",type:t.NUMBER,detailedInfo:"Maximum number of levels of axis text. If axis text labels become too crowded, the server might shift neighboring labels up or down in order to fit labels closer together. This value specifies the most number of levels to use; the server can use fewer levels, if labels can fit without overlapping.",defaultValue:2},{label:"maxTextLines",valueRef:"maxTextLines",type:t.NUMBER,detailedInfo:"Maximum number of lines allowed for the text labels. Labels can span multiple lines if they are too long, and the nuber of lines is, by default, limited by the height of the available space.",defaultValue:null},{label:"minTextSpacing",valueRef:"minTextSpacing",type:t.NUMBER,detailedInfo:"Minimum horizontal spacing, in pixels, allowed between two adjacent text labels. If the labels are spaced too densely, or they are too long, the spacing can drop below this threshold, and in this case one of the label-unclutter measures will be applied (e.g, truncating the lables or dropping some of them).",defaultValue:null},{label:"showTextEvery",valueRef:"showTextEvery",type:t.NUMBER,detailedInfo:"How many axis labels to show, where 1 means show every label, 2 means show every other label, and so on. Default is to try to show as many labels as possible without overlapping.",defaultValue:null},{label:"maxValue",valueRef:"maxValue",type:t.NUMBER,detailedInfo:"Moves the max value of the axis to the specified value; this will be rightward in most charts. Ignored if this is set to a value smaller than the maximum x-value of the data. Axis.viewWindow.max overrides this property.",defaultValue:null},{label:"minValue",valueRef:"minValue",type:t.NUMBER,detailedInfo:"Moves the min value of the axis to the specified value; this will be leftward in most charts. Ignored if this is set to a value greater than the minimum x-value of the data. Axis.viewWindow.min overrides this property.",defaultValue:null},{label:"viewWindowMode",valueRef:"viewWindowMode",type:t.SELECT,detailedInfo:"Specifies how to scale the axis to render the values within the chart area.",suggestion:["pretty","maximized","explicit"],defaultValue:"pretty"}]);
var j=[].concat(J(k,{subgroup:"Text style",valueRef:function(P){return("textStyle."+P)}}),[{label:"alignment",valueRef:"alignment",type:t.SELECT,detailedInfo:"Alignment of the legend.",suggestion:["start","center","end"],defaultValue:null},{label:"maxLines",valueRef:"maxLines",type:t.NUMBER,detailedInfo:"Maximum number of lines in the legend. Set this to a number greater than one to add lines to your legend. Note: The exact logic used to determine the actual number of lines rendered is still in flux.",defaultValue:1},{label:"position",valueRef:"position",type:t.SELECT,detailedInfo:"Position of the legend.",suggestion:["bottom","in","none","right","top"],defaultValue:"none"}]);
var q=[].concat(J(k,{subgroup:"Text style",valueRef:function(P){return("textStyle."+P)}}),[{label:"ignoreBounds",valueRef:"ignoreBounds",type:t.BOOLEAN,detailedInfo:"If set to true, allows the drawing of tooltips to flow outside of the bounds of the chart on all sides.",defaultValue:false},{label:"isHtml",valueRef:"isHtml",type:t.BOOLEAN,detailedInfo:"If set to true, use HTML-rendered (rather than SVG-rendered) tooltips. See Customizing Tooltip Content for more details.",defaultValue:false},{label:"showColorCode",valueRef:"showColorCode",type:t.BOOLEAN,detailedInfo:"If true, show colored squares next to the series information in the tooltip. The default is true when focusTarget is set to 'category', otherwise the default is false.",defaultValue:null},{label:"trigger",valueRef:"trigger",type:t.SELECT,detailedInfo:"The user interaction that causes the tooltip to be displayed",suggestion:["focus","none","selection"],defaultValue:"focus"}]);
var I=[].concat(J(k,{subgroup:"Text style",valueRef:function(P){return("textStyle."+P)}}),[{label:"numberFormat",valueRef:"numberFormat",type:t.TEXT,detailedInfo:"A format string for numeric labels. This is a subset of the ICU pattern set.",suggestion:[".##"],defaultValue:null}]);
var F=[{label:"enable",valueRef:"enable",type:t.BOOLEAN,detailedInfo:"If true, when the user lingers over a cluttered marker, a magnifiying glass will be opened.",defaultValue:true},{label:"zoomFactor",valueRef:"zoomFactor",type:t.NUMBER,detailedInfo:"The zoom factor of the magnifying glass. Can be any number greater than 0.",defaultValue:5}];
var A=[{label:"maxSize",valueRef:"maxSize",type:t.NUMBER,detailedInfo:"Maximum radius of the largest possible bubble, in pixels.",defaultValue:12},{label:"maxValue",valueRef:"maxValue",type:t.NUMBER,detailedInfo:"The size value (as appears in the chart data) to be mapped to sizeAxis.maxSize. Larger values will be cropped to this value.",defaultValue:"Maximum value of size column in chart data"},{label:"minSize",valueRef:"minSize",type:t.NUMBER,detailedInfo:"Mininum radius of the smallest possible bubble, in pixels.",defaultValue:3},{label:"minValue",valueRef:"minValue",type:t.NUMBER,detailedInfo:"The size value (as appears in the chart data) to be mapped to sizeAxis.minSize. Smaller values will be cropped to this value.",defaultValue:"Minimum value of size column in chart data"}];
var O=i.concat([{label:"fillOpacity",valueRef:"fillOpacity",type:t.RANGE,detailedInfo:"Transparency of the link.",range:N,defaultValue:1}]);var p=[].concat(J(O,{subgroup:"Text style",valueRef:function(P){return("color."+P)}}),[{label:"colorMode",valueRef:"colorMode",type:t.SELECT,detailedInfo:"Sets a coloring mode for the links between nodes. This option overrides link color.",suggestion:["source","target","gradient","none"],defaultValue:"none"},{label:"colors",valueRef:"colors",type:t.PALETTE,detailedInfo:"Custom color palette for sankey links",defaultValue:null}]);
var g=[].concat(J(k,{subgroup:"Label",valueRef:function(P){return("label."+P)}}),[{label:"colorMode",valueRef:"colorMode",type:t.SELECT,detailedInfo:"Sets a coloring mode for the sankey nodes",suggestion:["unique"],defaultValue:"unique"},{label:"interactivity",valueRef:"interactivity",type:t.BOOLEAN,detailedInfo:"Allows you to select nodes.",defaultValue:null},{label:"labelPadding",valueRef:"labelPadding",type:t.NUMBER,detailedInfo:"Horizontal distance between the label and the node.",defaultValue:null},{label:"nodePadding",valueRef:"nodePadding",type:t.NUMBER,detailedInfo:"Vertical distance between nodes.",defaultValue:null},{label:"width",valueRef:"width",type:t.NUMBER,detailedInfo:"Thickness of the node.",defaultValue:null},{label:"colors",valueRef:"colors",type:t.PALETTE,detailedInfo:"Custom color palette for sankey links",defaultValue:null}]);
var E=[{label:"actions",valueRef:"explorer.actions",subgroup:"Explorer",type:t.MULTISELECT,detailedInfo:"The Google Charts explorer supports three actions",suggestion:["dragToPan","dragToZoom","rightClickToReset"],defaultValue:["dragToPan","rightClickToReset"]},{label:"axis",valueRef:"explorer.axis",subgroup:"Explorer",type:t.SELECT,detailedInfo:"By default, users can pan both horizontally and vertically when the explorer option is used. If you want to users to only pan horizontally, use axis: 'horizontal'. Similarly, axis: 'vertical' enables vertical-only panning.",suggestion:[null,"horizontal","vertical"],defaultValue:null},{label:"keepInBounds",valueRef:"explorer.keepInBounds",subgroup:"Explorer",type:t.BOOLEAN,detailedInfo:"By default, users can pan all around, regardless of where the data is. To ensure that users don't pan beyond the original chart, use keepInBounds: true.",defaultValue:false},{label:"maxZoomIn",valueRef:"explorer.maxZoomIn",subgroup:"Explorer",type:t.RANGE,detailedInfo:"The maximum that the explorer can zoom in. By default, users will be able to zoom in enough that they'll see only 25% of the original view. Setting maxZoomIn: .5 would let users zoom in only far enough to see half of the original view.",range:N,defaultValue:0.25},{label:"maxZoomOut",valueRef:"explorer.maxZoomOut",subgroup:"Explorer",type:t.NUMBER,detailedInfo:"The maximum that the explorer can zoom out. By default, users will be able to zoom out far enough that the chart will take up only 1/4 of the available space. Setting maxZoomOut: 8 would let users zoom out far enough that the chart would take up only 1/8 of the available space.",defaultValue:4},{label:"zoomDelta",valueRef:"explorer.zoomDelta",subgroup:"Explorer",type:t.NUMBER,detailedInfo:"When users zoom in or out, zoomDelta determines how much they zoom by. The smaller the number, the smoother and slower the zoom.",defaultValue:1.5}];
var G=[].concat([{label:"type",valueRef:"type",type:t.SELECT,detailedInfo:"The type of marker for this series. Valid values are 'line', 'area', 'bars', 'candlesticks' and 'steppedArea'. Note that bars are actually vertical bars (columns). The default value is specified by the chart's seriesType option.",suggestion:["line","area","bars","candlesticks","steppedArea"],defaultValue:""},{label:"areaOpacity",valueRef:"areaOpacity",type:t.RANGE,range:{min:0,max:1,step:0.1},detailedInfo:"The default opacity of the colored area under an area chart series, where 0.0 is fully transparent and 1.0 is fully opaque. To specify opacity for an individual series, set the areaOpacity value in the series property.",defaultValue:0.3,subgroup:"Appearance"},{label:"color",valueRef:"color",type:t.COLOR,detailedInfo:"The color to use for this series. Specify a valid HTML color string.",defaultValue:"#000000",subgroup:"Appearance"},{label:"curveType",valueRef:"curveType",type:t.SELECT,detailedInfo:"Controls the curve of the lines when the line width is not zero. Can be one of the following: 'none' - Straight lines without curve, 'function' - The angles of the line will be smoothed.",suggestion:["none","function"],defaultValue:"none",subgroup:"General"},{label:"labelInLegend",valueRef:"labelInLegend",type:t.TEXT,detailedInfo:"The description of the series to appear in the chart legend.",defaultValue:"",subgroup:"General"},{label:"lineWidth",valueRef:"lineWidth",type:t.NUMBER,detailedInfo:"Data line width in pixels. Use zero to hide all lines and show only the points. You can override values for individual series using the series property",defaultValue:2,subgroup:"Appearance"},{label:"pointShape",valueRef:"pointShape",type:t.SELECT,detailedInfo:"The shape of individual data elements: 'circle', 'triangle', 'square', 'diamond', 'star', or 'polygon'. See the points documentation for examples.",suggestion:["circle","triangle","square","diamond","star","polygon"],defaultValue:"circle",subgroup:"Appearance"},{label:"pointSize",valueRef:"pointSize",type:t.NUMBER,detailedInfo:"Diameter of displayed points in pixels. Use zero to hide all points. You can override values for individual series using the series property. If you're using a trendline, the pointSize option will affect the width of the trendline unless you override it with the trendlines.n.pointsize option.",defaultValue:0,subgroup:"Appearance"},{label:"pointsVisible",valueRef:"pointsVisible",type:t.BOOLEAN,detailedInfo:"Determines whether points will be displayed. Set to false to hide all points. You can override values for individual series using the series property. If you're using a trendline, the pointsVisible option will affect the visibility of the points on all trendlines unless you override it with the trendlines.n.pointsVisible option.",defaultValue:true,subgroup:"General"},{label:"targetAxisIndex",valueRef:"targetAxisIndex",type:t.NUMBER,detailedInfo:"Which axis to assign this series to, where 0 is the default axis, and 1 is the opposite axis. Default value is 0; set to 1 to define a chart where different series are rendered against different axes. At least one series much be allocated to the default axis. You can define a different scale for different axes.",defaultValue:null,subgroup:"General"},{label:"visibleInLegend",valueRef:"visibleInLegend",type:t.BOOLEAN,detailedInfo:"A boolean value, where true means that the series should have a legend entry, and false means that it should not. Default is true.",defaultValue:true,subgroup:"General"}],J(w,{subgroup:"Annotations",valueRef:function(P){return("annotations."+P)
}}),J(i,{subgroup:"Falling color style",valueRef:function(P){return("fallingColor."+P)}}),J(i,{subgroup:"Rising color style",valueRef:function(P){return("risingColor."+P)}}));var M=[{label:"color",valueRef:"color",type:t.COLOR,detailedInfo:"The color of the trendline.",defaultValue:null},{label:"degree",valueRef:"degree",type:t.NUMBER,detailedInfo:"For trendlines of type: 'polynomial', the degree of the polynomial (2 for quadratic, 3 for cubic, and so on). (The default degree may change from 3 to 2 in an upcoming release of Google Charts.)",defaultValue:3},{label:"labelInLegend",valueRef:"labelInLegend",type:t.TEXT,detailedInfo:"If set, the trendline will appear in the legend as this string.",defaultValue:null},{label:"lineWidth",valueRef:"lineWidth",subgroup:"Line style",type:t.NUMBER,detailedInfo:"The line width of the trendline, in pixels.",defaultValue:2},{label:"opacity",valueRef:"opacity",type:t.RANGE,detailedInfo:"The transparency of the trendline, from 0.0 (transparent) to 1.0 (opaque).",range:N,defaultValue:1},{label:"pointSize",valueRef:"pointSize",subgroup:"Point style",type:t.NUMBER,detailedInfo:"Trendlines are constucted by stamping a bunch of dots on the chart; this rarely-needed option lets you customize the size of the dots. The trendline's lineWidth option will usually be preferable. However, you'll need this option if you're using the global pointSize option and want a different point size for your trendlines.",defaultValue:1},{label:"pointsVisible",valueRef:"pointsVisible",subgroup:"Point style",type:t.BOOLEAN,detailedInfo:"Trendlines are constucted by stamping a bunch of dots on the chart. The trendline's pointsVisible option determines whether the points for a particular trendline are visible.",defaultValue:true},{label:"showR2",valueRef:"showR2",type:t.BOOLEAN,detailedInfo:"Whether to show the coefficient of determination in the legend or trendline tooltip.",defaultValue:false},{label:"type",valueRef:"type",type:t.SELECT,detailedInfo:"Whether the trendlines is 'linear' (the default), 'exponential', or 'polynomial'.",suggestion:["linear","exponential","polynomial"],defaultValue:"linear"},{label:"visibleInLegend",valueRef:"visibleInLegend",type:t.BOOLEAN,detailedInfo:"Whether the trendline equation appears in the legend. (It will appear in the trendline tooltip.)",defaultValue:false}];
var v=[{label:"maxSize",valueRef:"maxSize",type:t.NUMBER,detailedInfo:"Maximum radius of the largest possible bubble, in pixels.",defaultValue:30},{label:"maxValue",valueRef:"maxValue",type:t.NUMBER,detailedInfo:"The size value (as appears in the chart data) to be mapped to maxSize. Larger values will be cropped to this value.",defaultValue:null},{label:"minSize",valueRef:"minSize",type:t.NUMBER,detailedInfo:"Mininum radius of the smallest possible bubble, in pixels.",defaultValue:5},{label:"minValue",valueRef:"minValue",type:t.NUMBER,detailedInfo:"The size value (as appears in the chart data) to be mapped to sizeAxis.minSize. Smaller values will be cropped to this value.",defaultValue:null}];
var D=[].concat(J(i,{subgroup:"Falling color style",valueRef:function(P){return("fallingColor."+P)}}),J(i,{subgroup:"Rising color style",valueRef:function(P){return("risingColor."+P)}}),[{label:"hollowIsRising",valueRef:"hollowIsRising",type:t.BOOLEAN,detailedInfo:"If true, rising candles will appear hollow and falling candles will appear solid, otherwise, the opposite.",defaultValue:false}]);
var L=[{label:"angle",valueRef:"angle",type:t.NUMBER,detailedInfo:"The angle of the head of the arrow.",defaultValue:45},{label:"color",valueRef:"color",type:t.COLOR,detailedInfo:"The color of the arrows.",defaultValue:"#000"},{label:"length",valueRef:"length",type:t.NUMBER,detailedInfo:"The length of the head of the arrow.",defaultValue:8},{label:"radius",valueRef:"radius",type:t.NUMBER,detailedInfo:"The radius for defining the curve of the arrow between two tasks.",defaultValue:15},{label:"spaceAfter",valueRef:"spaceAfter",type:t.NUMBER,detailedInfo:"The amount of whitespace between the head of an arrow and the task to which it points.",defaultValue:4},{label:"width",valueRef:"width",type:t.NUMBER,detailedInfo:"The width of the arrows.",defaultValue:1.4}];
var u=[].concat(J(z,{subgroup:"Animation",valueRef:function(P){return("animation."+P)}}),J(w,{subgroup:function(P){return("Annotations "+(P?P:""))},valueRef:function(P){return("annotations."+P)}}),J(i,{subgroup:"Background color",valueRef:function(P){return("backgroundColor."+P)
}}),J(C,{subgroup:"Chart area",valueRef:function(P){return("chartArea."+P)}}),J(H,{subgroup:function(P){return("H Axis "+(P?P:""))},valueRef:function(P){return("hAxis."+P)}}),J(H,{subgroup:function(P){return("V Axis "+(P?P:""))},valueRef:function(P){return("vAxis."+P)
}}),J(j,{subgroup:"Legend",valueRef:function(P){return("legend."+P)}}),J(k,{subgroup:"Title text style",valueRef:function(P){return("titleTextStyle."+P)}}),J(q,{subgroup:"Tooltip",valueRef:function(P){return("tooltip."+P)}}),[{label:"axisTitlesPosition",valueRef:"axisTitlesPosition",subgroup:"Appearance",type:t.SELECT,detailedInfo:"Where to place the axis titles, compared to the chart area. Supported values",suggestion:["in","out","none"],defaultValue:"out"},{label:"colors",valueRef:"colors",subgroup:"Appearance",type:t.PALETTE,detailedInfo:"The colors to use for the chart elements.",defaultValue:null},{label:"dataOpacity",valueRef:"dataOpacity",subgroup:"Appearance",type:t.RANGE,detailedInfo:"The transparency of data points, with 1.0 being completely opaque and 0.0 fully transparent. In scatter, histogram, bar, and column charts, this refers to the visible data: dots in the scatter chart and rectangles in the others. In charts where selecting data creates a dot, such as the line and area charts, this refers to the circles that appear upon hover or selection. The combo chart exhibits both behaviors, and this option has no effect on other charts. (To change the opacity of a trendline, see trendline opacity .)",range:N,defaultValue:1},{label:"enableInteractivity",valueRef:"enableInteractivity",subgroup:"General settings",type:t.BOOLEAN,detailedInfo:"Whether the chart throws user-based events or reacts to user interaction. If false, the chart will not throw 'select' or other interaction-based events (but will throw ready or error events), and will not display hovertext or otherwise change depending on user input.",defaultValue:true},{label:"focusTarget",valueRef:"focusTarget",subgroup:"General settings",type:t.SELECT,detailedInfo:"The type of the entity that receives focus on mouse hover. Also affects which entity is selected by mouse click, and which data table element is associated with events.",suggestion:["datum","category"],defaultValue:"datum"},{label:"fontSize",valueRef:"fontSize",subgroup:"Appearance",type:t.NUMBER,detailedInfo:"The default font size, in pixels, of all text in the chart. You can override this using properties for specific chart elements.",defaultValue:null},{label:"fontName",valueRef:"fontName",subgroup:"Appearance",type:t.TEXT,detailedInfo:"The default font face for all text in the chart. You can override this using properties for specific chart elements.",defaultValue:"Arial"},{label:"forceIFrame",valueRef:"forceIFrame",subgroup:"General settings",type:t.BOOLEAN,detailedInfo:"Draws the chart inside an inline frame. (Note that on IE8, this option is ignored; all IE8 charts are drawn in i-frames.)",defaultValue:false},{label:"height",valueRef:"height",subgroup:"General settings",type:t.NUMBER,detailedInfo:"Height of the chart, in pixels.",defaultValue:null},{label:"isStacked",valueRef:"isStacked",subgroup:"General settings",type:t.SELECT,detailedInfo:"If set to true, series elements of the same type are stacked. Affects bar, column and area series only.",suggestion:["false","percent","relative","absolute"],defaultValue:"false"},{label:"orientation",valueRef:"orientation",subgroup:"General settings",type:t.SELECT,detailedInfo:"The orientation of the chart. When set to 'vertical', rotates the axes of the chart so that (for instance) a column chart becomes a bar chart, and an area chart grows rightward instead of up",suggestion:["horizontal","vertical"],defaultValue:"horizontal"},{label:"reverseCategories",valueRef:"reverseCategories",subgroup:"General settings",type:t.BOOLEAN,detailedInfo:"If set to true, will draw series from right to left. The default is to draw left-to-right.",defaultValue:false},{label:"theme",valueRef:"theme",subgroup:"Appearance",type:t.SELECT,detailedInfo:"A theme is a set of predefined option values that work together to achieve a specific chart behavior or visual effect. Currently only one theme is available",suggestion:["maximized"],defaultValue:null},{label:"title",valueRef:"title",subgroup:"General settings",type:t.TEXT,detailedInfo:"Text to display above the chart.",defaultValue:null},{label:"titlePosition",valueRef:"titlePosition",subgroup:"Appearance",type:t.SELECT,detailedInfo:"Where to place the chart title, compared to the chart area.",suggestion:["in","out","none"],defaultValue:"out"},{label:"width",valueRef:"width",subgroup:"General settings",type:t.NUMBER,detailedInfo:"Width of the chart, in pixels.",defaultValue:null}]);
var o=[{label:"aggregationTarget",valueRef:"aggregationTarget",subgroup:"General settings",type:t.SELECT,detailedInfo:"How multiple data selections are rolled up into tooltips",suggestion:["category","series","auto","none"],defaultValue:"auto"},{label:"areaOpacity",valueRef:"areaOpacity",subgroup:"Appearance",type:t.RANGE,detailedInfo:"The default opacity of the colored area under an area chart series, where 0.0 is fully transparent and 1.0 is fully opaque. To specify opacity for an individual series, set the areaOpacity value in the series property.",range:N,defaultValue:0.3},{label:"interpolateNulls",valueRef:"interpolateNulls",subgroup:"General settings",type:t.BOOLEAN,detailedInfo:"Whether to guess the value of missing points. If true, it will guess the value of any missing data based on neighboring points. If false, it will leave a break in the line at the unknown point.",defaultValue:false},{label:"lineDashStyle",valueRef:"lineDashStyle",subgroup:"Line style",type:t.TEXT,detailedInfo:"The on-and-off pattern for dashed lines. For instance, [4, 4] will repeat 4-length dashes followed by 4-length gaps, and [5, 1, 3] will repeat a 5-length dash, a 1-length gap, a 3-length dash, a 5-length gap, a 1-length dash, and a 3-length gap. See Dashed Lines for more information.",defaultValue:null},{label:"lineWidth",valueRef:"lineWidth",subgroup:"Line style",type:t.NUMBER,detailedInfo:"Data line width in pixels. Use zero to hide all lines and show only the points. You can override values for individual series using the series property.",defaultValue:2},{label:"pointShape",valueRef:"pointShape",subgroup:"Point style",type:t.SELECT,detailedInfo:"The shape of individual data elements. See the points documentation for examples.",suggestion:["circle","triangle","square","diamond","star","polygon"],defaultValue:"circle"},{label:"pointSize",valueRef:"pointSize",subgroup:"Point style",type:t.NUMBER,detailedInfo:"Diameter of displayed points in pixels. Use zero to hide all points. You can override values for individual series using the series property. If you're using a trendline, the pointSize option will affect the width of the trendline unless you override it with the trendlines.n.pointsize option.",defaultValue:0},{label:"pointsVisible",valueRef:"pointsVisible",subgroup:"Point style",type:t.BOOLEAN,detailedInfo:"Determines whether points will be displayed. Set to false to hide all points. You can override values for individual series using the series property. If you're using a trendline, the pointsVisible option will affect the visibility of the points on all trendlines unless you override it with the trendlines.n.pointsVisible option.",defaultValue:true},{label:"selectionMode",valueRef:"selectionMode",subgroup:"General settings",type:t.SELECT,detailedInfo:"When selectionMode is 'multiple', users may select multiple data points.",suggestion:["single","multiple"],defaultValue:"single"}];
K.GooAxesObjectArrayOptions=[{label:"hAxes",valueRef:"hAxes",type:t.OBJECT_ARRAY,children:H,detailedInfo:"Specifies properties for individual horizontal axes, if the chart has multiple horizontal axes. Each child object is an Axis object, and can contain all the properties supported by Axis. These property values override any global settings for the same property.",defaultValue:null,configurable:function(Q,R,P){return _.includes(["bar-google-chart"],_.get(P,"data-render.chartType.id"))
}},{label:"vAxes",valueRef:"vAxes",type:t.OBJECT_ARRAY,children:H,detailedInfo:"Specifies properties for individual vertical axes, if the chart has multiple vertical axes. Each child object is a vAxis object, and can contain all the properties supported by vAxis. These property values override any global settings for the same property.",defaultValue:null,configurable:function(Q,R,P){return _.includes(["area-google-chart","candlestick-google-chart","waterfall-google-chart","column-google-chart","combo-google-chart","histogram-google-chart","interval-google-chart","line-google-chart","stepped-area-google-chart"],_.get(P,"data-render.chartType.id"))
}}];K.GooGraphObjectArrayOptions=[{label:"trendlines",valueRef:"trendlines",type:t.OBJECT_ARRAY,children:M,detailedInfo:"Displays trendlines on the charts that support them. By default, linear trendlines are used, but this can be customized with the trendlines.n.type option.",defaultValue:null,configurable:function(Q,R,P){return _.includes(["bar-google-chart","column-google-chart","interval-google-chart","line-google-chart"],_.get(P,"data-render.chartType.id"))
}},{label:"series",valueRef:"series",type:t.OBJECT_ARRAY,children:G,detailedInfo:"An array of objects, each describing the format of the corresponding series in the chart. If a series or a value is not specified, the global value will be used.",defaultValue:[],configurable:function(Q,R,P){return _.includes(["scatter-google-chart","linear-trend-google-chart","exp-trend-google-chart","poly-trend-google-chart","combo-google-chart"],_.get(P,"data-render.chartType.id"))
}},{label:"slices",valueRef:"slices",type:t.OBJECT_ARRAY,children:[].concat(J(k,{subgroup:"Gridlines",valueRef:function(P){return("textStyle."+P)}}),[{label:"color",valueRef:"color",type:t.COLOR,detailedInfo:"The color to use for this slice. Specify a valid HTML color string.",defaultValue:"#000"},{label:"offset",valueRef:"offset",type:t.RANGE,detailedInfo:"How far to separate the slice from the rest of the pie, from 0.0 (not at all) to 1.0 (the pie's radius).",range:N,defaultValue:0}]),detailedInfo:"An array of objects, each describing the format of the corresponding slice in the pie. To use default values for a slice, specify an empty object (i.e., {}). If a slice or a value is not specified, the global value will be used.",defaultValue:{},configurable:function(Q,R,P){return _.includes(["pie-google-chart","donut-google-chart"],_.get(P,"data-render.chartType.id"))
}},{label:"maps",valueRef:"maps",type:t.OBJECT_ARRAY,children:[{label:"name",valueRef:"name",type:t.TEXT,detailedInfo:"The name of the map that will be displayed in the map control if useMapTypeControl is set to true.",defaultValue:null},{label:"styles",valueRef:"styles",type:t.OBJECT_ARRAY,children:[{label:"featureType",valueRef:"featureType",type:t.TEXT,detailedInfo:"If featureType and elementType are omitted, the styles will be applied to all map features/elements.",defaultValue:"roadway.highway"},{label:"elementType",valueRef:"elementType",type:t.TEXT,detailedInfo:"",defaultValue:"labels.text.fill"},{label:"stylers",valueRef:"stylers",type:t.TEXT,detailedInfo:"If featureType and elementType are omitted, the styles will be applied to all map features/elements.",defaultValue:null}],detailedInfo:"Holds the style objects for the various elements of a custom map type.",defaultValue:null}],detailedInfo:"An object containing properties of a custom map type. This custom map type will be accessed by the mapTypeId you specify for the custom map type. A new mapTypeId must be given for each custom map type created.",defaultValue:null,configurable:function(Q,R,P){return _.includes(["map-google-chart"],_.get(P,"data-render.chartType.id"))
}}];K.GooAnnotationOptionsMeta=[{label:"allowHtml",valueRef:"allowHtml",subgroup:"General settings",type:t.BOOLEAN,detailedInfo:"If set to true, any annotation text that includes HTML tags will be rendered as HTML.",defaultValue:false},{label:"allValuesSuffix",valueRef:"allValuesSuffix",subgroup:"General settings",type:t.TEXT,detailedInfo:"A suffix to be added to all values in the legend and tick labels in the vertical axes.",defaultValue:""},{label:"annotationsWidth",valueRef:"annotationsWidth",subgroup:"Appearance",type:t.RANGE,detailedInfo:"The width (in percent) of the annotations area, out of the entire chart area. Must be a number in the range 5-80.",range:{min:5,max:80,step:1},defaultValue:25},{label:"colors",valueRef:"colors",subgroup:"Appearance",type:t.PALETTE,detailedInfo:"The colors to use for the chart lines and labels.",defaultValue:null},{label:"dateFormat",valueRef:"dateFormat",subgroup:"General settings",type:t.TEXT,detailedInfo:"The format used to display the date information in the top right corner. The format of this field is as specified by the java SimpleDateFormat class.",defaultValue:"HH:mm MMMM dd, yyyy"},{label:"displayAnnotations",valueRef:"displayAnnotations",subgroup:"Plot area",type:t.BOOLEAN,detailedInfo:"If set to false, the chart will hide the annotations table, and the annotations and annotationText will not be visible (the annotations table will also not be displayed if there are no annotations in your data, regardless of this option). When this option is set to true, after every numeric column, two optional annotation string columns can be added, one for the annotation title and one for the annotation text.",defaultValue:true},{label:"displayAnnotationsFilter",valueRef:"displayAnnotationsFilter",subgroup:"Plot area",type:t.BOOLEAN,detailedInfo:"If set to true, the chart will display a filter control to filter annotations. Use this option when there are many annotations.",defaultValue:false},{label:"displayDateBarSeparator",valueRef:"displayDateBarSeparator",subgroup:"Plot area",type:t.BOOLEAN,detailedInfo:"Whether to display a small bar separator ( | ) between the series values and the date in the legend, where true means yes.",defaultValue:true},{label:"displayExactValues",valueRef:"displayExactValues",subgroup:"Plot area",type:t.BOOLEAN,detailedInfo:"Whether to display a shortened, rounded version of the values on the top of the graph, to save space; false indicates that it may. For example, if set to false, 56123.45 might be displayed as 56.12k.",defaultValue:false},{label:"displayLegendDots",valueRef:"displayLegendDots",subgroup:"Plot area",type:t.BOOLEAN,detailedInfo:"Whether to display dots next to the values in the legend text, where true means yes.",defaultValue:true},{label:"displayLegendValues",valueRef:"displayLegendValues",subgroup:"Plot area",type:t.BOOLEAN,detailedInfo:"Whether to display the highlighted values in the legend, where true means yes.",defaultValue:true},{label:"displayRangeSelector",valueRef:"displayRangeSelector",subgroup:"Plot area",type:t.BOOLEAN,detailedInfo:"Whether to show the zoom range selection area (the area at the bottom of the chart), where false means no.",defaultValue:true},{label:"displayZoomButtons",valueRef:"displayZoomButtons",subgroup:"Plot area",type:t.BOOLEAN,detailedInfo:'Whether to show the zoom buttons ("1d 5d 1m" and so on), where false means no.',defaultValue:true},{label:"fill",valueRef:"fill",subgroup:"Appearance",type:t.RANGE,detailedInfo:"A number from 0—100 (inclusive) specifying the alpha of the fill below each line in the line graph. 100 means 100% opaque, and 0 means no fill at all. The fill color is the same color as the line above it.",range:{min:0,max:100,step:1},defaultValue:0},{label:"legendPosition",valueRef:"legendPosition",subgroup:"Appearance",type:t.SELECT,detailedInfo:"Whether to put the colored legend on the same row with the zoom buttons and the date ('sameRow'), or on a new row ('newRow').",suggestion:["newRow","sameRow"],defaultValue:"sameRow"},{label:"max",valueRef:"max",subgroup:"General settings",type:t.NUMBER,detailedInfo:"The maximum value to show on the Y axis. If the maximum data point exceeds this value, this setting will be ignored, and the chart will be adjusted to show the next major tick mark above the maximum data point. This will take precedence over the Y axis maximum determined by scaleType.",defaultValue:null},{label:"min",valueRef:"min",subgroup:"General settings",type:t.NUMBER,detailedInfo:"The minimum value to show on the Y axis. If the minimum data point is less than this value, this setting will be ignored, and the chart will be adjusted to show the next major tick mark below the minimum data point. This will take precedence over the Y axis minimum determined by scaleType.",defaultValue:null},{label:"numberFormats",valueRef:"numberFormats",subgroup:"General settings",type:t.TEXT,detailedInfo:"Specifies the number format patterns to be used to format the values at the top of the graph. If this option is specified, the displayExactValues option is ignored.",defaultValue:null},{label:"scaleColumns",valueRef:"scaleColumns",subgroup:"Scaling",type:t.TEXT,detailedInfo:"Specifies which values to show on the Y axis tick marks in the graph. The default is to have a single scale on the right side, which applies to both series; but you can have different sides of the graph scaled to different series values. When displaying more than one scale, it is advisable to set the scaleType option to either 'allfixed' or 'allmaximized'.",defaultValue:[]},{label:"scaleFormat",valueRef:"scaleFormat",subgroup:"Scaling",type:t.TEXT,detailedInfo:"Number format to be used for the axis tick labels. The default of '#' displays as an integer.",defaultValue:"#"},{label:"scaleType",valueRef:"scaleType",subgroup:"Scaling",type:t.SELECT,detailedInfo:"Sets the maximum and minimum values shown on the Y axis.",suggestion:["maximized","fixed","allmaximized","allfixed"],defaultValue:"fixed"},{label:"sortAscending",valueRef:"table.sortAscending",subgroup:"Annotations table",type:t.BOOLEAN,detailedInfo:"If set to true, reverses the order of the annotations table and displays them in ascending order.",defaultValue:false},{label:"sortColumn",valueRef:"table.sortColumn",subgroup:"Annotations table",type:t.NUMBER,detailedInfo:"The column index of the annotations table for which the annotations will be sorted. The index must be either 0, for the annotation label column, or 1, for the annotation text column.",defaultValue:0},{label:"thickness",valueRef:"thickness",subgroup:"Appearance",type:t.RANGE,detailedInfo:"A number from 0—10 (inclusive) specifying the thickness of the lines, where 0 is the thinnest.",range:{min:0,max:10,step:1},defaultValue:0},{label:"zoomEndTime",valueRef:"zoomEndTime",subgroup:"General settings",type:t.DATE,detailedInfo:"Sets the end date/time of the selected zoom range.",defaultValue:null},{label:"zoomStartTime",valueRef:"zoomStartTime",subgroup:"General settings",type:t.DATE,detailedInfo:"Sets the start date/time of the selected zoom range.",defaultValue:null}];
K.GooAreaOptionsMeta=[].concat(u,o,E);K.GooBarOptionsMeta=[].concat(u,E,[{label:"barGroupWidth",valueRef:"bar.groupWidth",subgroup:"Appearance",type:t.TEXT,detailedInfo:"The width of a group of bars",defaultValue:null},{label:"bars",valueRef:"bars",subgroup:"Appearance",type:t.SELECT,detailedInfo:"Whether the bars in a Material Bar Chart are vertical or horizontal. This option has no effect on Classic Bar Charts or Classic Column Charts.",suggestion:["horizontal","vertical"],defaultValue:"vertical"}]);
K.GooBubbleOptionsMeta=[].concat(u,E,h,J(k,{subgroup:"Bubble Text Style",valueRef:function(P){return("bubble.textStyle."+P)}}),J(v,{subgroup:"Chart Area Background Color",valueRef:function(P){return("sizeAxis."+P)}}),J(I.concat([{label:"position",valueRef:"position",type:t.SELECT,detailedInfo:"Position of the legend.",suggestion:["bottom","bottom","in","none","right","top"],defaultValue:"right"}]),{subgroup:"Legend",valueRef:function(P){return("colorAxis.legend."+P)
}}),[{label:"opacity",valueRef:"bubble.opacity",subgroup:"Bubble",type:t.RANGE,detailedInfo:"The opacity of the bubbles, where 0 is fully transparent and 1 is fully opaque.",range:N,defaultValue:0.8},{label:"stroke",valueRef:"bubble.stroke",subgroup:"Bubble",type:t.COLOR,detailedInfo:"The color of the bubbles' stroke.",defaultValue:"#ccc"},{label:"selectionMode",valueRef:"selectionMode",subgroup:"General settings",type:t.SELECT,detailedInfo:"When selectionMode is 'multiple', users may select multiple data points.",suggestion:["single","multiple"],defaultValue:"single"},{label:"sortBubblesBySize",valueRef:"sortBubblesBySize",subgroup:"General settings",type:t.BOOLEAN,detailedInfo:"If true, sorts the bubbles by size so the smaller bubbles appear above the larger bubbles. If false, bubbles are sorted according to their order in the DataTable.",defaultValue:true}]);
K.GooCalendarOptionsMeta=[].concat(h,J(y,{subgroup:"Cell color",defaultValue:function(Q,P,R){return _.get({stroke:"#ffffff",strokeOpacity:1,strokeWidth:1},R.valueRef)},valueRef:function(P){return("calendar.cellColor."+P)}}),J(y,{subgroup:"Focused cell color",defaultValue:function(Q,P,R){return _.get({stroke:"#000",strokeOpacity:1,strokeWidth:2},R.valueRef)
},valueRef:function(P){return("calendar.focusedCellColor."+P)}}),J(y,{subgroup:"Month outline color",defaultValue:function(Q,P,R){return _.get({stroke:"#000",strokeOpacity:1,strokeWidth:1},R.valueRef)},valueRef:function(P){return("calendar.monthOutlineColor."+P)
}}),J(y,{subgroup:"Unused month outline color",defaultValue:function(Q,P,R){return _.get({stroke:"#c9c9c9",strokeOpacity:1,strokeWidth:1},R.valueRef)},valueRef:function(P){return("calendar.unusedMonthOutlineColor."+P)}}),J(k,{subgroup:"Day Of Week Label",defaultValue:function(Q,P,R){return _.get({fontName:"sans-serif",color:"#888",bold:false,italic:false},R.valueRef)
},valueRef:function(P){return("calendar.dayOfWeekLabel."+P)}}),J(k,{subgroup:"Month label font style",defaultValue:function(Q,P,R){return _.get({fontName:"sans-serif",color:"#888",bold:false,italic:false},R.valueRef)},valueRef:function(P){return("calendar.monthLabel."+P)
}}),J(s,{subgroup:"Day Of Week Label",valueRef:function(P){return("noDataPattern."+P)}}),[{label:"cellSize",valueRef:"calendar.cellSize",subgroup:"Appearance",type:t.NUMBER,detailedInfo:"The size of the calendar day squares",defaultValue:16},{label:"dayOfWeekRightSpace",valueRef:"calendar.dayOfWeekRightSpace",subgroup:"Appearance",type:t.NUMBER,detailedInfo:"The distance between the right edge of the week labels and the left edge of the chart day squares.",defaultValue:4},{label:"daysOfWeek",valueRef:"calendar.daysOfWeek",subgroup:"Appearance",type:t.TEXT,detailedInfo:"The single-letter labels to use for Sunday through Saturday.",defaultValue:"SMTWTFS"},{label:"underMonthSpace",valueRef:"calendar.underMonthSpace",subgroup:"Appearance",type:t.NUMBER,detailedInfo:"The number of pixels between the bottom of the month labels and the top of the day squares",defaultValue:6},{label:"underYearSpace",valueRef:"calendar.underYearSpace",subgroup:"Appearance",type:t.NUMBER,detailedInfo:"The number of pixels between the bottom-most year label and the bottom of the chart",defaultValue:0},{label:"forceIFrame",valueRef:"forceIFrame",subgroup:"Appearance",type:t.BOOLEAN,detailedInfo:"Draws the chart inside an inline frame. (Note that on IE8, this option is ignored; all IE8 charts are drawn in i-frames.)",defaultValue:false},{label:"height",valueRef:"height",subgroup:"General settings",type:t.NUMBER,detailedInfo:"Height of the chart, in pixels.",defaultValue:null},{label:"isHtml",valueRef:"tooltip.isHtml",subgroup:"Appearance",type:t.BOOLEAN,detailedInfo:"Set to false to use SVG-rendered (rather than HTML-rendered) tooltips. See Customizing Tooltip Content for more details.",defaultValue:true},{label:"width",valueRef:"width",subgroup:"Appearance",type:t.NUMBER,detailedInfo:"Width of the chart, in pixels.",defaultValue:null}]);
K.GooCandlestickOptionsMeta=[].concat(u,J(D,{subgroup:"Candlestick",valueRef:function(P){return("candlestick."+P)}}),[{label:"aggregationTarget",valueRef:"aggregationTarget",subgroup:"Appearance",type:t.SELECT,detailedInfo:"How multiple data selections are rolled up into tooltips",suggestion:["category","series","auto","none"],defaultValue:"auto"},{label:"barGroupWidth",valueRef:"bar.groupWidth",subgroup:"Appearance",type:t.TEXT,detailedInfo:"The width of a group of bars",defaultValue:null},{label:"selectionMode",valueRef:"selectionMode",subgroup:"General settings",type:t.SELECT,detailedInfo:"When selectionMode is 'multiple', users may select multiple data points.",suggestion:["single","multiple"],defaultValue:"single"}]);
K.GooColumnOptionsMeta=[].concat(u,E,[{label:"barGroupWidth",valueRef:"bar.groupWidth",subgroup:"Appearance",type:t.TEXT,detailedInfo:"The width of a group of bars",defaultValue:null},{label:"bars",valueRef:"bars",subgroup:"Appearance",type:t.SELECT,detailedInfo:"Whether the bars in a Material Bar Chart are vertical or horizontal. This option has no effect on Classic Bar Charts or Classic Column Charts.",suggestion:["horizontal","vertical"],defaultValue:"vertical"}]);
K.GooComboOptionsMeta=[].concat(u,o,J(D,{subgroup:"Candlestick",valueRef:function(P){return("candlestick."+P)}}),[{label:"barGroupWidth",valueRef:"bar.groupWidth",subgroup:"Appearance",type:t.TEXT,detailedInfo:"The width of a group of bars",defaultValue:null},{label:"curveType",valueRef:"curveType",type:t.SELECT,detailedInfo:"Controls the curve of the lines when the line width is not zero.",suggestion:["none","function"],defaultValue:"none"},{label:"seriesType",valueRef:"seriesType",type:t.SELECT,detailedInfo:"The default line type for any series not specified in the series property.",suggestion:["line","area","bars","candlesticks","steppedArea"],defaultValue:"line"}]);
K.GooGanttOptionsMeta=[].concat(J([].concat(J(L,{subgroup:"Arrow",valueRef:function(P){return("calendar.monthLabel."+P)}}),J(l,{subgroup:"Critical Path Style",valueRef:function(P){return("calendar.monthLabel."+P)}}),J(l,{subgroup:"Inner Grid Horiz Line",valueRef:function(P){return("calendar.monthLabel."+P)
}}),J(k,{subgroup:"Label Style",valueRef:function(P){return("calendar.monthLabel."+P)}}),[{label:"fill",valueRef:"innerGridTrack.fill",type:t.COLOR,detailedInfo:"The fill color of the inner grid track. If no innerGridDarkTrack.fill is specified, this will be applied to every grid track.",defaultValue:null,subgroup:"Inner Grid Track"},{label:"fill",valueRef:"innerGridDarkTrack.fill",type:t.COLOR,detailedInfo:"The fill color of the alternate, dark inner grid track.",defaultValue:null,subgroup:"Inner Grid Dark Track"},{label:"fill",valueRef:"percentStyle.fill",type:t.COLOR,detailedInfo:"The color of the percentage completed portion of a task bar.",defaultValue:null,subgroup:"Percent Style"},{label:"barCornerRadius",valueRef:"barCornerRadius",type:t.NUMBER,detailedInfo:"The radius for defining the curve of a bar's corners.",defaultValue:2},{label:"barHeight",valueRef:"barHeight",type:t.NUMBER,detailedInfo:"The height of the bars for tasks.",defaultValue:null},{label:"criticalPathEnabled",valueRef:"criticalPathEnabled",type:t.BOOLEAN,detailedInfo:"If true any arrows on the critical path will be styled differently.",defaultValue:true},{label:"defaultStartDate",valueRef:"defaultStartDate",type:t.DATE,detailedInfo:"If the start date cannot be computed from the values in the DataTable, the start date will be set to this.",defaultValue:null},{label:"labelMaxWidth",valueRef:"labelMaxWidth",type:t.NUMBER,detailedInfo:"The maximum amount of space allowed for each task label.",defaultValue:300},{label:"percentEnabled",valueRef:"percentEnabled",type:t.BOOLEAN,detailedInfo:"Fills the task bar based on the percentage completed for the task.",defaultValue:true},{label:"shadowEnabled",valueRef:"shadowEnabled",type:t.BOOLEAN,detailedInfo:"If set to true, draws a shadow under each task bar which has dependencies.",defaultValue:true},{label:"shadowColor",valueRef:"shadowColor",type:t.COLOR,detailedInfo:"Defines the color of the shadows under any task bar which has dependencies.",defaultValue:"#000"},{label:"shadowOffset",valueRef:"shadowOffset",type:t.NUMBER,detailedInfo:"Defines the offset, in pixels, of the shadows under any task bar which has dependencies.",defaultValue:1},{label:"trackHeight",valueRef:"trackHeight",type:t.NUMBER,detailedInfo:"The height of the tracks.",defaultValue:null}]),{subgroup:"Gantt",valueRef:function(P){return("gantt."+P)
}}),[{label:"fill",valueRef:"backgroundColor.fill",type:t.COLOR,detailedInfo:"The fill color.",defaultValue:"#ffffff",subgroup:"Background Color"},{label:"height",valueRef:"height",type:t.NUMBER,detailedInfo:"Height of the chart, in pixels.",defaultValue:null},{label:"width",valueRef:"width",type:t.NUMBER,detailedInfo:"Width of the chart, in pixels.",defaultValue:null}]);
K.GooGaugeOptionsMeta=[].concat(J(z,{subgroup:"Animation",valueRef:function(P){return("animation."+P)}}),[{label:"forceIFrame",valueRef:"forceIFrame",type:t.BOOLEAN,detailedInfo:"Draws the chart inside an inline frame. (Note that on IE8, this option is ignored; all IE8 charts are drawn in i-frames.)",defaultValue:false},{label:"greenColor",valueRef:"greenColor",type:t.COLOR,detailedInfo:"The color to use for the green section.",defaultValue:"#109618"},{label:"greenFrom",valueRef:"greenFrom",type:t.NUMBER,detailedInfo:"The lowest value for a range marked by a green color.",defaultValue:null},{label:"greenTo",valueRef:"greenTo",type:t.NUMBER,detailedInfo:"The highest value for a range marked by a green color.",defaultValue:null},{label:"height",valueRef:"height",type:t.NUMBER,detailedInfo:"Height of the chart in pixels.",defaultValue:null},{label:"majorTicks",valueRef:"majorTicks",type:t.TEXT,detailedInfo:"Labels for major tick marks. The number of labels define the number of major ticks in all gauges. The default is five major ticks, with the labels of the minimal and maximal gauge value.",defaultValue:null},{label:"max",valueRef:"max",type:t.NUMBER,detailedInfo:"The maximal value of a gauge.",defaultValue:100},{label:"min",valueRef:"min",type:t.NUMBER,detailedInfo:"The minimal value of a gauge.",defaultValue:0},{label:"minorTicks",valueRef:"minorTicks",type:t.NUMBER,detailedInfo:"The number of minor tick section in each major tick section.",defaultValue:2},{label:"redColor",valueRef:"redColor",type:t.COLOR,detailedInfo:"The color to use for the red section, in HTML color notation.",defaultValue:"#DC3912"},{label:"redFrom",valueRef:"redFrom",type:t.NUMBER,detailedInfo:"The lowest value for a range marked by a red color.",defaultValue:null},{label:"redTo",valueRef:"redTo",type:t.NUMBER,detailedInfo:"The highest value for a range marked by a red color.",defaultValue:null},{label:"width",valueRef:"width",type:t.NUMBER,detailedInfo:"Width of the chart in pixels.",defaultValue:null},{label:"yellowColor",valueRef:"yellowColor",type:t.COLOR,detailedInfo:"The color to use for the yellow section, in HTML color notation.",defaultValue:"#FF9900"},{label:"yellowFrom",valueRef:"yellowFrom",type:t.NUMBER,detailedInfo:"The lowest value for a range marked by a yellow color.",defaultValue:null},{label:"yellowTo",valueRef:"yellowTo",type:t.NUMBER,detailedInfo:"The highest value for a range marked by a yellow color.",defaultValue:null}]);
K.GooGeoOptionsMeta=[].concat(h,J(i,{subgroup:"Animation",valueRef:function(P){return("backgroundColor."+P)}}),J(I,{subgroup:"Legend",valueRef:function(P){return("legend."+P)}}),J(F,{subgroup:"Magnifying Glass",valueRef:function(P){return("magnifyingGlass."+P)
},defaultValue:function(Q,P,R){return _.get({enable:true,zoomFactor:5},R.valueRef)}}),J(A,{subgroup:"Size Axis",valueRef:function(P){return("sizeAxis."+P)}}),J(q,{subgroup:"Tooltip",valueRef:function(P){return("tooltip."+P)}}),[{label:"datalessRegionColor",valueRef:"datalessRegionColor",type:t.COLOR,detailedInfo:"Color to assign to regions with no associated data.",defaultValue:"#F5F5F5"},{label:"defaultColor",valueRef:"defaultColor",type:t.COLOR,detailedInfo:"The color to use when for data points in a Geochart when the location (e.g., 'US' ) is present but the value is either null or unspecified. This is distinct from datalessRegionColor, which is the color used when data is missing.",defaultValue:"#267114"},{label:"displayMode",valueRef:"displayMode",type:t.SELECT,detailedInfo:"Which type of geochart this is. The DataTable format must match the value specified.",suggestion:["auto","regions","markers","text"],defaultValue:"auto"},{label:"domain",valueRef:"domain",type:t.TEXT,detailedInfo:"Show the geochart as though it were being served from this region. For instance, setting domain to 'IN' will display Kashmir as belonging to India rather than as a disputed territory.",defaultValue:null},{label:"enableRegionInteractivity",valueRef:"enableRegionInteractivity",type:t.BOOLEAN,detailedInfo:"If true, enable region interactivity, including focus and tool-tip elaboration on mouse hover, and region selection and firing of regionClick and select events on mouse click. The default is true in region mode, and false in marker mode.",defaultValue:null},{label:"forceIFrame",valueRef:"forceIFrame",type:t.BOOLEAN,detailedInfo:"Draws the chart inside an inline frame. (Note that on IE8, this option is ignored; all IE8 charts are drawn in i-frames.)",defaultValue:false},{label:"height",valueRef:"height",type:t.NUMBER,detailedInfo:"Height of the visualization, in pixels. The default height is 347 pixels, unless the width option is specified and keepAspectRatio is set to true - in which case the height is calculated accordingly.",defaultValue:null},{label:"keepAspectRatio",valueRef:"keepAspectRatio",type:t.BOOLEAN,detailedInfo:"If true, the geochart will be drawn at the largest size that can fit inside the chart area at its natural aspect ratio. If only one of the width and height options is specified, the other one will be calculated according to the aspect ratio.",defaultValue:true},{label:"region",valueRef:"region",type:t.TEXT,detailedInfo:"The area to display on the geochart. (Surrounding areas will be displayed as well.)",defaultValue:"world"},{label:"markerOpacity",valueRef:"markerOpacity",type:t.RANGE,detailedInfo:"The opacity of the markers, where 0.0 is fully transparent and 1.0 is fully opaque.",range:N,defaultValue:1},{label:"resolution",valueRef:"resolution",type:t.SELECT,detailedInfo:"The resolution of the geochart borders. Choose one of the following values",suggestion:["countries","provinces","metros"],defaultValue:"countries"},{label:"width",valueRef:"width",type:t.NUMBER,detailedInfo:"Width of the visualization, in pixels. The default width is 556 pixels, unless the height option is specified and keepAspectRatio is set to true - in which case the width is calculated accordingly.",defaultValue:null}]);
K.GooHistogramOptionsMeta=[].concat(u,J([{label:"bucketSize",valueRef:"bucketSize",type:t.NUMBER,detailedInfo:"Hardcode the size of each histogram bar, rather than letting it be determined algorithmically.",defaultValue:null},{label:"hideBucketItems",valueRef:"hideBucketItems",type:t.BOOLEAN,detailedInfo:"Omit the thin divisions between the blocks of the histogram, making it into a series of solid bars.",defaultValue:false},{label:"lastBucketPercentile",valueRef:"lastBucketPercentile",type:t.NUMBER,detailedInfo:"When calculating the histogram's bucket size, ignore the top and bottom lastBucketPercentile percent. The values are still included in the histogram, but do not affect bucketing.",defaultValue:null}],{subgroup:"Histogram",defaultValue:function(Q,P,R){return _.get({fontName:"sans-serif",color:"#888",bold:false,italic:false},R.valueRef)
},valueRef:function(P){return("histogram."+P)}}),[{label:"barGroupWidth",valueRef:"bar.groupWidth",subgroup:"Appearance",type:t.TEXT,detailedInfo:"The width of a group of bars",defaultValue:null},{label:"interpolateNulls",valueRef:"interpolateNulls",type:t.BOOLEAN,detailedInfo:"Whether to guess the value of missing points. If true, it will guess the value of any missing data based on neighboring points. If false, it will leave a break in the line at the unknown point.",defaultValue:false}]);
K.GooLineOptionsMeta=[].concat(u,E,J(r,{subgroup:"Falling color style",valueRef:function(P){return("crosshair."+P)}}),[{label:"aggregationTarget",valueRef:"aggregationTarget",type:t.SELECT,detailedInfo:"How multiple data selections are rolled up into tooltips",suggestion:["category","series","auto","none"],defaultValue:"auto"},{label:"curveType",valueRef:"curveType",type:t.SELECT,detailedInfo:"Controls the curve of the lines when the line width is not zero.",suggestion:["none","function"],defaultValue:"none"},{label:"interpolateNulls",valueRef:"interpolateNulls",type:t.BOOLEAN,detailedInfo:"Whether to guess the value of missing points. If true, it will guess the value of any missing data based on neighboring points. If false, it will leave a break in the line at the unknown point.",defaultValue:false},{label:"lineDashStyle",valueRef:"lineDashStyle",subgroup:"Line style",type:t.TEXT,detailedInfo:"The on-and-off pattern for dashed lines. For instance, [4, 4] will repeat 4-length dashes followed by 4-length gaps, and [5, 1, 3] will repeat a 5-length dash, a 1-length gap, a 3-length dash, a 5-length gap, a 1-length dash, and a 3-length gap. See Dashed Lines for more information.",defaultValue:null},{label:"lineWidth",valueRef:"lineWidth",subgroup:"Line style",type:t.NUMBER,detailedInfo:"Data line width in pixels. Use zero to hide all lines and show only the points. You can override values for individual series using the series property.",defaultValue:2},{label:"pointShape",valueRef:"pointShape",subgroup:"Point style",type:t.SELECT,detailedInfo:"The shape of individual data elements. See the points documentation for examples.",suggestion:["circle","triangle","square","diamond","star","polygon"],defaultValue:"circle"},{label:"pointSize",valueRef:"pointSize",subgroup:"Point style",type:t.NUMBER,detailedInfo:"Diameter of displayed points in pixels. Use zero to hide all points. You can override values for individual series using the series property. If you're using a trendline, the pointSize option will affect the width of the trendline unless you override it with the trendlines.n.pointsize option.",defaultValue:0},{label:"pointsVisible",valueRef:"pointsVisible",subgroup:"Point style",type:t.BOOLEAN,detailedInfo:"Determines whether points will be displayed. Set to false to hide all points. You can override values for individual series using the series property. If you're using a trendline, the pointsVisible option will affect the visibility of the points on all trendlines unless you override it with the trendlines.n.pointsVisible option.",defaultValue:true},{label:"selectionMode",valueRef:"selectionMode",type:t.SELECT,detailedInfo:"When selectionMode is 'multiple', users may select multiple data points.",suggestion:["single","multiple"],defaultValue:"single"}]);
K.GooMapOptionsMeta=[{label:"enableScrollWheel",valueRef:"enableScrollWheel",type:t.BOOLEAN,detailedInfo:"If set to true, enables zooming in and out using the mouse scroll wheel.",defaultValue:false},{label:"icons",valueRef:"icons",type:t.TEXT,detailedInfo:"Holds set(s) of custom markers. Each marker set can specify a normal and selected marker image. Can set a default set by setting the default option, or custom marker sets by setting a unique marker ID.",defaultValue:null},{label:"lineColor",valueRef:"lineColor",subgroup:"Line style",type:t.COLOR,detailedInfo:"If showLine is true, defines the line color. For example: '#800000'.",defaultValue:null},{label:"lineWidth",valueRef:"lineWidth",subgroup:"Line style",type:t.NUMBER,detailedInfo:"If showLine is true, defines the line width (in pixels).",defaultValue:10},{label:"mapType",valueRef:"mapType",type:t.TEXT,detailedInfo:"The type of map to show. Possible values are 'normal', 'terrain', 'satellite', 'hybrid', or the ID of a custom map type, if any were created.",suggestion:["normal","terrain","satellite","hybrid"],defaultValue:"hybrid"},{label:"mapTypeIds",valueRef:"mapTypeIds",type:t.TEXT,detailedInfo:"If using the map type control (useMapTypeControl: true), the IDs specified in this array will be the only map types displayed in the map type control. If this option is not set, the map type control will default to the standard Google Maps map type control options plus any custom map types that may be available.",defaultValue:null},{label:"showLine",valueRef:"showLine",type:t.BOOLEAN,detailedInfo:"If set to true, shows a Google Maps polyline through all the points.",defaultValue:false},{label:"showTip",valueRef:"showTip",type:t.BOOLEAN,detailedInfo:"If set to true, shows the location description as a tooltip when the mouse is positioned above a point marker.",defaultValue:false},{label:"useMapTypeControl",valueRef:"useMapTypeControl",type:t.BOOLEAN,detailedInfo:"Show a map type selector that enables the viewer to switch between [map, satellite, hybrid, terrain]. When useMapTypeControl is false (default) no selector is presented and the type is determined by the mapType option.",defaultValue:false},{label:"zoomLevel",valueRef:"zoomLevel",type:t.NUMBER,detailedInfo:'An integer indicating the initial zoom level of the map, where 0 is completely zoomed out (whole world) and 19 is the maximum zoom level. (See "Zoom Levels" in the Google Maps API.)',defaultValue:null}];
K.GooOrgOptionsMeta=[{label:"allowCollapse",valueRef:"allowCollapse",type:t.BOOLEAN,detailedInfo:"Determines if double click will collapse a node.",defaultValue:false},{label:"allowHtml",valueRef:"allowHtml",type:t.BOOLEAN,detailedInfo:"If set to true, names that includes HTML tags will be rendered as HTML.",defaultValue:false},{label:"color",valueRef:"color",type:t.COLOR,detailedInfo:"Deprecated. Use nodeClass instead. The background color of the orgchart elements.",defaultValue:"#edf7ff"},{label:"nodeClass",valueRef:"nodeClass",type:t.TEXT,detailedInfo:"A class name to assign to node elements. Apply CSS to this class name to specify colors or styles for the chart elements.",defaultValue:null},{label:"selectedNodeClass",valueRef:"selectedNodeClass",type:t.TEXT,detailedInfo:"A class name to assign to selected node elements. Apply CSS to this class name to specify colors or styles for selected chart elements.",defaultValue:null},{label:"selectionColor",valueRef:"selectionColor",type:t.COLOR,detailedInfo:"Deprecated. Use selectedNodeClass instead. The background color of selected orgchart elements.",defaultValue:"#d6e9f8"},{label:"size",valueRef:"size",type:t.SELECT,detailedInfo:"",suggestion:["small","medium","large"],defaultValue:"medium"}];
K.GooPieOptionsMeta=[].concat(J(i,{subgroup:"Background color",valueRef:function(P){return("backgroundColor."+P)}}),J(C,{subgroup:"Chart area",valueRef:function(P){return("chartArea."+P)}}),J(j,{subgroup:"Legend",valueRef:function(P){return("legend."+P)}}),J(k,{subgroup:"Pie Slice Text Style",valueRef:function(P){return("pieSliceTextStyle."+P)
}}),J(k,{subgroup:"Title Text Style",valueRef:function(P){return("titleTextStyle."+P)}}),J(q,{subgroup:"Tooltip",valueRef:function(P){return("tooltip."+P)}}),[{label:"colors",valueRef:"colors",type:t.PALETTE,detailedInfo:"The colors to use for the chart elements.",defaultValue:null},{label:"enableInteractivity",valueRef:"enableInteractivity",type:t.BOOLEAN,detailedInfo:"Whether the chart throws user-based events or reacts to user interaction. If false, the chart will not throw 'select' or other interaction-based events (but will throw ready or error events), and will not display hovertext or otherwise change depending on user input.",defaultValue:true},{label:"fontSize",valueRef:"fontSize",type:t.NUMBER,detailedInfo:"The default font size, in pixels, of all text in the chart. You can override this using properties for specific chart elements.",defaultValue:null},{label:"fontName",valueRef:"fontName",type:t.TEXT,detailedInfo:"The default font face for all text in the chart. You can override this using properties for specific chart elements.",defaultValue:"Arial"},{label:"forceIFrame",valueRef:"forceIFrame",type:t.BOOLEAN,detailedInfo:"Draws the chart inside an inline frame. (Note that on IE8, this option is ignored; all IE8 charts are drawn in i-frames.)",defaultValue:false},{label:"height",valueRef:"height",type:t.NUMBER,detailedInfo:"Height of the chart, in pixels.",defaultValue:null},{label:"is3D",valueRef:"is3D",type:t.BOOLEAN,detailedInfo:"If true, displays a three-dimensional chart.",defaultValue:false},{label:"pieHole",valueRef:"pieHole",type:t.RANGE,detailedInfo:"If between 0 and 1, displays a donut chart. The hole with have a radius equal to number times the radius of the chart.",range:N,defaultValue:0},{label:"pieSliceBorderColor",valueRef:"pieSliceBorderColor",type:t.COLOR,detailedInfo:"The color of the slice borders. Only applicable when the chart is two-dimensional.",defaultValue:"#fff"},{label:"pieSliceText",valueRef:"pieSliceText",type:t.SELECT,detailedInfo:"The content of the text displayed on the slice.",suggestion:["percentage","value","label","none"],defaultValue:"percentage"},{label:"pieStartAngle",valueRef:"pieStartAngle",type:t.RANGE,detailedInfo:"The angle, in degrees, to rotate the chart by. The default of 0 will orient the leftmost edge of the first slice directly up.",range:{min:0,max:360,step:1},defaultValue:0},{label:"reverseCategories",valueRef:"reverseCategories",type:t.BOOLEAN,detailedInfo:"If set to true, will draw series from right to left. The default is to draw left-to-right.",defaultValue:false},{label:"pieResidueSliceColor",valueRef:"pieResidueSliceColor",type:t.COLOR,detailedInfo:"Color for the combination slice that holds all slices below sliceVisibilityThreshold.",defaultValue:"#ccc"},{label:"pieResidueSliceLabel",valueRef:"pieResidueSliceLabel",type:t.TEXT,detailedInfo:"A label for the combination slice that holds all slices below sliceVisibilityThreshold.",defaultValue:"Other"},{label:"sliceVisibilityThreshold",valueRef:"sliceVisibilityThreshold",type:t.NUMBER,detailedInfo:'The fractional value of the pie, below which a slice will not show individually. All slices that have not passed this threshold will be combined to a single "Other" slice, whose size is the sum of all their sizes. Default is not to show individually any slice which is smaller than half a degree.',defaultValue:0.0014},{label:"title",valueRef:"title",type:t.TEXT,detailedInfo:"Text to display above the chart.",defaultValue:null},{label:"width",valueRef:"width",type:t.NUMBER,detailedInfo:"Width of the chart, in pixels.",defaultValue:null}]);
K.GooSankeyOptionsMeta=[].concat(J(p,{subgroup:"Link",valueRef:function(P){return("sankey.link."+P)}}),J(g,{subgroup:"Node",valueRef:function(P){return("sankey.node."+P)}}),J(q,{subgroup:"Tooltip",valueRef:function(P){return("calendar.monthLabel."+P)}}),[{label:"forceIFrame",valueRef:"forceIFrame",type:t.BOOLEAN,detailedInfo:"Draws the chart inside an inline frame. (Note that on IE8, this option is ignored; all IE8 charts are drawn in i-frames.)",defaultValue:false},{label:"height",valueRef:"height",type:t.NUMBER,detailedInfo:"Height of the chart, in pixels.",defaultValue:null},{label:"iterations",valueRef:"sankey.iterations",type:t.NUMBER,detailedInfo:"With multilevel sankeys, it's sometimes nonobvious where nodes should be placed for optimal readability. The D3 layout engine experiments with different node layouts, stopping when sankey.iterations attempts have been made. The larger this number, the more pleasing the layout of complex sankeys, but it comes with a cost: the sankeys will take longer to render. Conversely, the shorter this number, the quicker your charts will render.",defaultValue:32},{label:"width",valueRef:"width",type:t.NUMBER,detailedInfo:"Width of the chart, in pixels.",defaultValue:null}]);
K.GooScatterOptionsMeta=[].concat(u,E,J([{label:"title",valueRef:"title",type:t.TEXT,detailedInfo:"For Material Charts, this option specifies the title.",defaultValue:null},{label:"subtitle",valueRef:"subtitle",type:t.TEXT,detailedInfo:"For Material Charts, this option specifies the subtitle. Only Material Charts support subtitles.",defaultValue:null}],{subgroup:"Chart",valueRef:function(P){return("chart."+P)
}}),J(r,{subgroup:"Crosshair",valueRef:function(P){return("calendar.monthLabel."+P)}}),[{label:"aggregationTarget",valueRef:"aggregationTarget",type:t.SELECT,detailedInfo:"How multiple data selections are rolled up into tooltips",suggestion:["category","series","auto","none"],defaultValue:"auto"},{label:"curveType",valueRef:"curveType",type:t.SELECT,detailedInfo:"Controls the curve of the lines when the line width is not zero.",suggestion:["none","function"],defaultValue:"none"},{label:"lineWidth",valueRef:"lineWidth",subgroup:"Line style",type:t.NUMBER,detailedInfo:"Data line width in pixels. Use zero to hide all lines and show only the points. You can override values for individual series using the series property.",defaultValue:2},{label:"pointShape",valueRef:"pointShape",subgroup:"Point style",type:t.SELECT,detailedInfo:"The shape of individual data elements. See the points documentation for examples.",suggestion:["circle","triangle","square","diamond","star","polygon"],defaultValue:"circle"},{label:"pointSize",valueRef:"pointSize",subgroup:"Point style",type:t.NUMBER,detailedInfo:"Diameter of displayed points in pixels. Use zero to hide all points. You can override values for individual series using the series property. If you're using a trendline, the pointSize option will affect the width of the trendline unless you override it with the trendlines.n.pointsize option.",defaultValue:0},{label:"pointsVisible",valueRef:"pointsVisible",subgroup:"Point style",type:t.BOOLEAN,detailedInfo:"Determines whether points will be displayed. Set to false to hide all points. You can override values for individual series using the series property. If you're using a trendline, the pointsVisible option will affect the visibility of the points on all trendlines unless you override it with the trendlines.n.pointsVisible option.",defaultValue:true},{label:"selectionMode",valueRef:"selectionMode",type:t.SELECT,detailedInfo:"When selectionMode is 'multiple', users may select multiple data points.",suggestion:["single","multiple"],defaultValue:"single"}]);
K.GooSteppedAreaOptionsMeta=[].concat(u,[{label:"aggregationTarget",valueRef:"aggregationTarget",type:t.SELECT,detailedInfo:"How multiple data selections are rolled up into tooltips",suggestion:["category","series","auto","none"],defaultValue:"auto"},{label:"areaOpacity",valueRef:"areaOpacity",type:t.RANGE,detailedInfo:"The default opacity of the colored area under an area chart series, where 0.0 is fully transparent and 1.0 is fully opaque. To specify opacity for an individual series, set the areaOpacity value in the series property.",range:N,defaultValue:0.3},{label:"connectSteps",valueRef:"connectSteps",type:t.BOOLEAN,detailedInfo:"If set to true, will connect the steps to form a stepped line. Otherwise, only a top line appears. The default is to connect the steps.",defaultValue:true},{label:"lineDashStyle",valueRef:"lineDashStyle",subgroup:"Line style",type:t.TEXT,detailedInfo:"The on-and-off pattern for dashed lines. For instance, [4, 4] will repeat 4-length dashes followed by 4-length gaps, and [5, 1, 3] will repeat a 5-length dash, a 1-length gap, a 3-length dash, a 5-length gap, a 1-length dash, and a 3-length gap. See Dashed Lines for more information.",defaultValue:null},{label:"selectionMode",valueRef:"selectionMode",type:t.SELECT,detailedInfo:"When selectionMode is 'multiple', users may select multiple data points.",suggestion:["single","multiple"],defaultValue:"single"}]);
K.GooTableOptionsMeta=[{label:"allowHtml",valueRef:"allowHtml",type:t.BOOLEAN,detailedInfo:"If set to true, formatted values of cells that include HTML tags will be rendered as HTML. If set to false, most custom formatters will not work properly.",defaultValue:false},{label:"alternatingRowStyle",valueRef:"alternatingRowStyle",type:t.BOOLEAN,detailedInfo:"Determines if alternating color style will be assigned to odd and even rows.",defaultValue:true},{label:"cssClassNames",valueRef:"cssClassNames",type:t.TEXT,detailedInfo:"An object in which each property name describes a table element, and the property value is a string, defining a class to assign to that table element. Use this property to assign custom CSS to specific elements of your table. To use this property, assign an object, where the property name specifies the table element, and the property value is a string, specifying a class name to assign to that element. You must then define a CSS style for that class on your page.",defaultValue:null},{label:"firstRowNumber",valueRef:"firstRowNumber",type:t.NUMBER,detailedInfo:"The row number for the first row in the dataTable. Used only if showRowNumber is true.",defaultValue:1},{label:"frozenColumns",valueRef:"frozenColumns",type:t.NUMBER,detailedInfo:"The number of columns from the left that will be frozen. These columns will remain in place when scrolling the remaining columns horizontally. If showRowNumber is false, setting frozenColumns to 0 will appear the same as if set to null, but if showRowNumber is set to true, the row number column will be frozen.",defaultValue:null},{label:"height",valueRef:"height",type:t.TEXT,detailedInfo:"Sets the height of the visualization's container element. You can use standard HTML units (for example, '100px', '80em', '60'). If no units are specified the number is assumed to be pixels. If not specified, the browser will adjust the height automatically to fit the table, shrinking as much as possible in the process; if set smaller than the height required, the table will add a vertical scroll bar (the header row is also frozen). If set to '100%', the table will expand as much as possible into the container element.",defaultValue:null},{label:"page",valueRef:"page",type:t.SELECT,detailedInfo:"If and how to enable paging through the data.",suggestion:["enable","event","disable"],defaultValue:"disable"},{label:"pageSize",valueRef:"pageSize",type:t.NUMBER,detailedInfo:"The number of rows in each page, when paging is enabled with the page option.",defaultValue:10},{label:"pagingButtons",valueRef:"pagingButtons",type:t.TEXT,detailedInfo:"Sets a specified option for the paging buttons or the number of paging buttons to show. This explicit number will override computed number from pageSize.",suggestion:["both","prev","next","auto",10],defaultValue:"auto"},{label:"rtlTable",valueRef:"rtlTable",type:t.BOOLEAN,detailedInfo:"Adds basic support for right-to-left languages (such as Arabic or Hebrew) by reversing the column order of the table, so that column zero is the rightmost column, and the last column is the leftmost column. This does not affect the column index in the underlying data, only the order of display. Full bi-directional (BiDi) language display is not supported by the table visualization even with this option. This option will be ignored if you enable paging (using the page option), or if the table has scroll bars because you have specified height and width options smaller than the required table size.",defaultValue:false},{label:"scrollLeftStartPosition",valueRef:"scrollLeftStartPosition",type:t.NUMBER,detailedInfo:"Sets the horizontal scrolling position, in pixels, if the table has horizontal scroll bars because you have set the width property. The table will open scrolled that many pixels past the leftmost column.",defaultValue:0},{label:"showRowNumber",valueRef:"showRowNumber",type:t.BOOLEAN,detailedInfo:"If set to true, shows the row number as the first column of the table.",defaultValue:false},{label:"sort",valueRef:"sort",type:t.SELECT,detailedInfo:"If and how to sort columns when the user clicks a column heading. If sorting is enabled, consider setting the sortAscending and sortColumn properties as well. Choose one of the following string values",suggestion:["enable","event","disable"],defaultValue:"enable"},{label:"sortAscending",valueRef:"sortAscending",type:t.BOOLEAN,detailedInfo:"The order in which the initial sort column is sorted. True for ascending, false for descending. Ignored if sortColumn is not specified.",defaultValue:true},{label:"sortColumn",valueRef:"sortColumn",type:t.NUMBER,detailedInfo:"An index of a column in the data table, by which the table is initially sorted. The column will be marked with a small arrow indicating the sort order.",defaultValue:-1},{label:"startPage",valueRef:"startPage",type:t.NUMBER,detailedInfo:"The first table page to display. Used only if page is in mode enable/event.",defaultValue:0},{label:"width",valueRef:"width",type:t.TEXT,detailedInfo:"Sets the width of the visualization's container element. You can use standard HTML units (for example, '100px', '80em', '60'). If no units are specified the number is assumed to be pixels. If not specified, the browser will adjust the width automatically to fit the table, shrinking as much as possible in the process; if set smaller than the width required, the table will add a horizontal scroll bar. If set to '100%', the table will expand as much as possible into the container element.",defaultValue:"automatic"}];
K.GooTimelineOptionsMeta=[].concat(J(i,{subgroup:"Background Color",valueRef:function(P){return("backgroundColor."+P)}}),J([].concat(J(k,{subgroup:"Bar Label Style",valueRef:function(P){return("barLabelStyle."+P)}}),J(k,{subgroup:"Row Label Style",valueRef:function(P){return("rowLabelStyle."+P)
}}),[{label:"colorByRowLabel",valueRef:"colorByRowLabel",type:t.BOOLEAN,detailedInfo:"If set to true, colors every bar on the row the same. The default is to use one color per bar label.",defaultValue:false},{label:"groupByRowLabel",valueRef:"groupByRowLabel",type:t.BOOLEAN,detailedInfo:"If set to false, creates one row for every dataTable entry. The default is to collect bars with the same row label into one row.",defaultValue:true},{label:"showBarLabels",valueRef:"showBarLabels",type:t.BOOLEAN,detailedInfo:"If set to false, omits bar labels. The default is to show them.",defaultValue:true},{label:"showRowLabels",valueRef:"showRowLabels",type:t.BOOLEAN,detailedInfo:"If set to false, omits row labels. The default is to show them.",defaultValue:true},{label:"singleColor",valueRef:"singleColor",type:t.COLOR,detailedInfo:"Colors all bars the same.",defaultValue:null}]),{subgroup:function(P){return("Timeline "+(P?P:""))
},valueRef:function(P){return("timeline."+P)}}),J(q,{subgroup:"Tooltip",valueRef:function(P){return("tooltip."+P)}}),[{label:"avoidOverlappingGridLines",valueRef:"avoidOverlappingGridLines",type:t.BOOLEAN,detailedInfo:"Whether display elements (e.g., the bars in a timeline) should obscure grid lines. If false, grid lines may be covered completely by display elements. If true, display elements may be altered to keep grid lines visible.",defaultValue:true},{label:"colors",valueRef:"colors",type:t.PALETTE,detailedInfo:"The colors to use for the chart elements.",defaultValue:null},{label:"enableInteractivity",valueRef:"enableInteractivity",type:t.BOOLEAN,detailedInfo:"Whether the chart throws user-based events or reacts to user interaction. If false, the chart will not throw 'select' or other interaction-based events (but will throw ready or error events), and will not display hovertext or otherwise change depending on user input.",defaultValue:true},{label:"forceIFrame",valueRef:"forceIFrame",type:t.BOOLEAN,detailedInfo:"Draws the chart inside an inline frame. (Note that on IE8, this option is ignored; all IE8 charts are drawn in i-frames.)",defaultValue:false},{label:"height",valueRef:"height",type:t.NUMBER,detailedInfo:"Height of the chart, in pixels.",defaultValue:null},{label:"width",valueRef:"width",type:t.NUMBER,detailedInfo:"Width of the chart, in pixels.",defaultValue:null}]);
K.GooTreemapOptionsMeta=[].concat(J(k,{subgroup:"Text Style",valueRef:function(P){return("textStyle."+P)}}),J(k,{subgroup:"Title Text Style",valueRef:function(P){return("titleTextStyle."+P)}}),[{label:"fontColor",valueRef:"fontColor",type:t.COLOR,detailedInfo:"The text color.",defaultValue:"#ffffff"},{label:"fontFamily",valueRef:"fontFamily",type:t.TEXT,detailedInfo:"The font family to use for all text.",defaultValue:null},{label:"fontSize",valueRef:"fontSize",type:t.NUMBER,detailedInfo:"The font size for all text, in points.",defaultValue:12},{label:"forceIFrame",valueRef:"forceIFrame",type:t.BOOLEAN,detailedInfo:"Draws the chart inside an inline frame. (Note that on IE8, this option is ignored; all IE8 charts are drawn in i-frames.)",defaultValue:false},{label:"headerColor ",valueRef:"headerColor ",type:t.COLOR,detailedInfo:"The color of the header section for each node.",defaultValue:"#988f86"},{label:"headerHeight",valueRef:"headerHeight",type:t.NUMBER,detailedInfo:"The height of the header section for each node, in pixels (can be zero).",defaultValue:0},{label:"headerHighlightColor",valueRef:"headerHighlightColor",type:t.COLOR,detailedInfo:"The color of the header of a node being hovered over. If null this value will be headerColor lightened by 35%.",defaultValue:null},{label:"highlightOnMouseOver",valueRef:"highlightOnMouseOver",type:t.BOOLEAN,detailedInfo:"Determines if elements should show highlighted effects when moused over. If set to true, highlighting for different elements can be specified using the various highlightColor options.",defaultValue:false},{label:"hintOpacity",valueRef:"hintOpacity",type:t.RANGE,detailedInfo:"When maxPostDepth is greater than 1, causing nodes below the current depth to be shown, hintOpacity specifies how transparent it should be. It should be between 0 and 1; the higher the value, the fainter the node.",range:N,defaultValue:0},{label:"maxColor",valueRef:"maxColor",type:t.COLOR,detailedInfo:"The color for a rectangle with a column 3 value of maxColorValue.",defaultValue:"#00dd00"},{label:"maxDepth",valueRef:"maxDepth",type:t.NUMBER,detailedInfo:"The maximum number of node levels to show in the current view. Levels will be flattened into the current plane. If your tree has more levels than this, you will have to go up or down to see them. You can additionally see maxPostDepth levels below this as shaded rectangles within these nodes.",defaultValue:1},{label:"maxHighlightColor",valueRef:"maxHighlightColor",type:t.COLOR,detailedInfo:"The highlight color to use for the node with the largest value in column 3. If null, this value will be the value of maxColor lightened by 35%",defaultValue:null},{label:"maxPostDepth",valueRef:"maxPostDepth",type:t.NUMBER,detailedInfo:'How many levels of nodes beyond maxDepth to show in "hinted" fashion. Hinted nodes are shown as shaded rectangles within a node that is within the maxDepth limit.',defaultValue:0},{label:"maxColorValue",valueRef:"maxColorValue",type:t.NUMBER,detailedInfo:"The maximum value allowed in column 3. All values greater than this will be trimmed to this value. If set to null, it will be set to the max value in the column.",defaultValue:null},{label:"midColor",valueRef:"midColor",type:t.COLOR,detailedInfo:"The color for a rectangle with a column 3 value midway between maxColorValue and minColorValue.",defaultValue:"#000000"},{label:"midHighlightColor",valueRef:"midHighlightColor",type:t.COLOR,detailedInfo:"The highlight color to use for the node with a column 3 value near the median of minColorValue and maxColorValue. If null, this value will be the value of midColor lightened by 35%.",defaultValue:null},{label:"minColor",valueRef:"minColor",type:t.COLOR,detailedInfo:"The color for a rectangle with the column 3 value of minColorValue.",defaultValue:"#dd0000"},{label:"minHighlightColor",valueRef:"minHighlightColor",type:t.COLOR,detailedInfo:"The highlight color to use for the node with a column 3 value nearest to minColorValue. If null, this value will be the value of minColor lightened by 35%",defaultValue:null},{label:"minColorValue",valueRef:"minColorValue",type:t.NUMBER,detailedInfo:"The minimum value allowed in column 3. All values less than this will be trimmed to this value. If set to null, it will be calculated as the minimum value in the column.",defaultValue:null},{label:"noColor",valueRef:"noColor",type:t.COLOR,detailedInfo:"The color to use for a rectangle when a node has no value for column 3, and that node is a leaf (or contains only leaves).",defaultValue:"#000000"},{label:"noHighlightColor",valueRef:"noHighlightColor",type:t.COLOR,detailedInfo:'The color to use for a rectangle of "no" color when highlighted. If null, this will be the value of noColor lightened by 35%.',defaultValue:null},{label:"showScale",valueRef:"showScale",type:t.BOOLEAN,detailedInfo:"Whether or not to show a color gradient scale from minColor to maxColor along the top of the chart. Specify true to show the scale.",defaultValue:false},{label:"showTooltips",valueRef:"showTooltips",type:t.BOOLEAN,detailedInfo:"Whether to show tooltips.",defaultValue:true},{label:"title",valueRef:"title",type:t.TEXT,detailedInfo:"Text to display above the chart.",defaultValue:"no title"},{label:"useWeightedAverageForAggregation",valueRef:"useWeightedAverageForAggregation",type:t.BOOLEAN,detailedInfo:"Whether to use weighted averages for aggregation.",defaultValue:false}]);
K.GooWordTreeOptionsMeta=[].concat(J([{label:"format",valueRef:"format",type:t.SELECT,detailedInfo:"If implicit, the input text will be split into sentences and words, and displayed according to frequency. If explicit, words and their connections are specified directly.",suggestion:["implicit","explicit"],defaultValue:"implicit"},{label:"sentenceRegex",valueRef:"sentenceRegex",type:t.TEXT,detailedInfo:"For implicit word trees, the regular expression to use to break the text into sentences. The sentences are then broken into words using the wordRegex option.",defaultValue:"\\s*(.+?(?:[?!]+|$|\\.(?=\\s+[A-Z]|$)))\\s*"},{label:"type",valueRef:"type",type:t.SELECT,detailedInfo:"Whether the word tree is a prefix tree (root word on the right), a suffix tree (left), or double tree (middle).",suggestion:["prefix","suffix","double"],defaultValue:"suffix"},{label:"word",valueRef:"word",type:t.TEXT,detailedInfo:"For implicit word trees, which word to use as the root of the tree. (Note that word trees are case sensitive.) This option must be specified for double word trees.",defaultValue:true},{label:"wordRegex",valueRef:"wordRegex",type:t.TEXT,detailedInfo:"For implicit word trees, the regular expression to use to break sentences into individual words to be displayed.",defaultValue:'/([!?,;:.&"-]+|\\S*[A-Z]\\.|\\S*(?:[^!?,;:.\\s&-]))'}],{subgroup:"Wordtree",valueRef:function(P){return("wordtree."+P)
}}),[{label:"colors",valueRef:"colors",type:t.PALETTE,detailedInfo:"The colors to use for the chart elements.",defaultValue:null},{label:"fontName",valueRef:"fontName",type:t.TEXT,detailedInfo:"The default font face for all text in the chart. You can override this using properties for specific chart elements.",defaultValue:"Arial"},{label:"forceIFrame",valueRef:"forceIFrame",type:t.BOOLEAN,detailedInfo:"Draws the chart inside an inline frame. (Note that on IE8, this option is ignored; all IE8 charts are drawn in i-frames.)",defaultValue:false},{label:"height",valueRef:"height",type:t.NUMBER,detailedInfo:"Height of the chart, in pixels.",defaultValue:null},{label:"maxFontSize",valueRef:"maxFontSize",type:t.NUMBER,detailedInfo:"The upper limit for font size of displayed words.",defaultValue:null},{label:"width",valueRef:"width",type:t.NUMBER,detailedInfo:"Width of the chart, in pixels.",defaultValue:null}])
})(e=f.meta||(f.meta={}))})(d=c.googlecharts||(c.googlecharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(f){var e;(function(D){var v=a.reporting.editor.OptionMetaType;var G=a.reporting.editor.ColorModeType;
var n=a.reporting.editor.SuggestionType;var s=a.reporting.editor.ColorModeStacks;var L={label:"Generic",id:"generic-google-chart",proto:{options:{width:"100%",height:"100%"}}};var x=function(){var O=[];for(var P=0;P<arguments.length;P++){O[P-0]=arguments[P]
}return _.merge.apply(_,[{},L].concat(O))};var k=function(O){return _.includes(["AreaChart","BarChart","BubbleChart","CandlestickChart","ColumnChart","ComboChart","Histogram","LineChart","ScatterChart","SteppedAreaChart"],_.get(O,"chartType.proto.chartType"))
};var K=x({label:"Annotation",id:"annotation-google-chart",proto:{chartType:"AnnotationChart",options:{displayAnnotations:true}}});var u=x({label:"Area",id:"area-google-chart",proto:{chartType:"AreaChart",options:{hAxis:{titleTextStyle:{color:"#333"}}}}});var B=x({label:"Bar",id:"bar-google-chart",proto:{chartType:"BarChart",options:{bar:{groupWidth:"95%"},legend:{position:"none"}}}});
var q=x({label:"Bubble",id:"bubble-google-chart",proto:{chartType:"BubbleChart",options:{bubble:{textStyle:{fontSize:11}}}}});D.CalendarChart=x({label:"Calendar",id:"calendar-google-chart",proto:{chartType:"Calendar",options:{}}});var I=x({label:"Candlestick",id:"candlestick-google-chart",proto:{chartType:"CandlestickChart",options:{legend:"none"}}});
D.ColumnChart=x({label:"Column",id:"column-google-chart",proto:{chartType:"ColumnChart",options:{bar:{groupWidth:"95%"},legend:{position:"none"}}}});D.ComboChart=x({label:"Combo",id:"combo-google-chart",proto:{chartType:"ComboChart",options:{seriesType:"bars"}}});
var o=x({label:"Donut",id:"donut-google-chart",proto:{chartType:"PieChart",options:{pieHole:0.4}}});var r=x({label:"Gantt",id:"gantt-google-chart",proto:{chartType:"GanttChart",options:{gantt:{trackHeight:30,criticalPathEnabled:true,criticalPathStyle:{stroke:"#e64a19",strokeWidth:5},arrow:{angle:100,width:5,color:"#e64a19",radius:0}}}}});
var p=x({label:"Gauge",id:"gauge-google-chart",proto:{chartType:"Gauge",options:{redFrom:90,redTo:100,yellowFrom:75,yellowTo:90,minorTicks:5}}});D.GeoChart=x({label:"Geo",id:"geo-google-chart",proto:{chartType:"GeoChart",options:{}}});var A=x({label:"Histogram",id:"histogram-google-chart",proto:{chartType:"Histogram",options:{legend:{position:"none"},colors:["#e7711c"],histogram:{lastBucketPercentile:5}}}});
var w=x({label:"Interval",id:"interval-google-chart",proto:{chartType:"LineChart",options:{curveType:"function",lineWidth:4,intervals:{style:"line"},legend:"none"}}});var h=x({label:"Line",id:"line-google-chart",proto:{chartType:"LineChart",options:{curveType:"function",legend:{position:"bottom"}}}});
var J=x({label:"Visualization: Map",id:"map-google-chart",proto:{chartType:"Map",options:{showTip:true}}});var N=x({label:"Organization",id:"org-google-chart",proto:{chartType:"OrgChart",options:{allowHtml:true}}});var t=x({label:"Pie",id:"pie-google-chart",proto:{chartType:"PieChart",options:{is3D:true}}});
D.SankeyChart=x({label:"Sankey",id:"sankey-google-chart",proto:{chartType:"Sankey",options:{sankey:{node:{colors:["#a61d4c"]},link:{color:{stroke:"#000000",strokeWidth:1}}}}}});var m=x({label:"Scatter",id:"scatter-google-chart",proto:{chartType:"ScatterChart",options:{legend:"none"}}});
var g=x({label:"Stepped Area",id:"stepped-area-google-chart",proto:{chartType:"SteppedAreaChart",options:{isStacked:true,legend:{position:"bottom"}}}});D.TableChart=x({label:"Table",id:"table-google-chart",proto:{chartType:"Table",options:{showRowNumber:true}}});
var l=x({label:"Timeline",id:"timeline-google-chart",proto:{chartType:"Timeline",options:{}}});var C=x({label:"Tree Map",id:"tree-map-google-chart",proto:{chartType:"TreeMap",options:{minColor:"#f00",midColor:"#ddd",maxColor:"#0d0",headerHeight:15,fontColor:"#000000",showScale:true}}});
var E=x({label:"Linear Trendline",id:"linear-trend-google-chart",proto:{chartType:"ScatterChart",options:{legend:"none",trendlines:{0:{}}}}});var z=x({label:"Exponential Trendline",id:"exp-trend-google-chart",proto:{chartType:"ScatterChart",options:{trendlines:{0:{type:"exponential",visibleInLegend:true}}}}});
var y=x({label:"Polynomial Trendline",id:"poly-trend-google-chart",proto:{chartType:"ScatterChart",options:{legend:"none",crosshair:{trigger:"both",orientation:"both"},trendlines:{0:{type:"polynomial",degree:3,visibleInLegend:true}}}}});var M=x({label:"Waterfall",id:"waterfall-google-chart",proto:{chartType:"CandlestickChart",options:{legend:"none",bar:{groupWidth:"100%"},candlestick:{fallingColor:{strokeWidth:0,fill:"#a52714"},risingColor:{strokeWidth:0,fill:"#0f9d58"}}}}});
var H=x({label:"Word Tree",id:"word-tree-google-chart",proto:{chartType:"WordTree",options:{format:"explicit",type:"suffix"}}});var F={defaultValue:D.ColumnChart,suggestion:[{sectionName:"Bar / Column",suggestions:[B,D.ColumnChart,A,D.ComboChart,l]},{sectionName:"Area / Line / Trendline",suggestions:[u,g,K,h,E,z,y]},{sectionName:"Pie",suggestions:[t,o]},{sectionName:"Candlestick",suggestions:[I,M,w]},{sectionName:"XY",suggestions:[q,m]},{sectionName:"Maps",suggestions:[D.GeoChart,J,C]},{sectionName:"Tree",suggestions:[N]},{sectionName:"Misc",suggestions:[D.CalendarChart,p,D.SankeyChart,D.TableChart]}]};
var j=[{label:"Chart type",valueRef:"chartType",type:v.TYPE_SELECT,detailedInfo:"Google chart type"},{label:"Value",valueRef:"valueFieldFunction",type:v.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:"Value",contextType:"CELL",suggestion:n.EXPRESSION_VALUES_ONLY},{label:"Palette",valueRef:"dataPalette",type:v.PALETTE,detailedInfo:"Chart color palette",simpleMode:true,configurable:function(O){return _.includes(["CandlestickChart","Timeline","OrgChart","TreeMap","GeoChart"],_.get(O,"chartType.proto.chartType"))
},defaultValue:null},{label:"Color Mode",valueRef:"dataColors",type:v.COLOR_MODE,detailedInfo:"Color rendering mode",simpleMode:true,suggestion:s.FULL,contextType:"CELL",defaultValue:{mode:G.AUTO},configurable:function(O){return !_.includes(["CandlestickChart","Timeline","OrgChart","TreeMap","GeoChart"],_.get(O,"chartType.proto.chartType"))
}},{label:"Axes configuration",valueRef:"axesConfiguration",type:v.OBJECT,defaultValue:null,children:D.GooAxesObjectArrayOptions},{label:"Graphs configuration",valueRef:"graphsConfiguration",type:v.OBJECT,defaultValue:null,children:D.GooGraphObjectArrayOptions},{label:"Advanced Configuration",valueRef:"advanced",type:v.OBJECT,contextType:"DATA",detailedInfo:"Advanced chart configuration",defaultValue:{},children:function(P){var Q=_.get(P,"chartType.id","serial");
var O=D.GooColumnOptionsMeta;if(Q){O={"annotation-google-chart":D.GooAnnotationOptionsMeta,"area-google-chart":D.GooAreaOptionsMeta,"bar-google-chart":D.GooBarOptionsMeta,"bubble-google-chart":D.GooBubbleOptionsMeta,"calendar-google-chart":D.GooCalendarOptionsMeta,"candlestick-google-chart":D.GooCandlestickOptionsMeta,"column-google-chart":D.GooColumnOptionsMeta,"combo-google-chart":D.GooComboOptionsMeta,"donut-google-chart":D.GooPieOptionsMeta,"gantt-google-chart":D.GooGanttOptionsMeta,"gauge-google-chart":D.GooGaugeOptionsMeta,"geo-google-chart":D.GooGeoOptionsMeta,"histogram-google-chart":D.GooHistogramOptionsMeta,"interval-google-chart":D.GooLineOptionsMeta,"line-google-chart":D.GooLineOptionsMeta,"map-google-chart":D.GooMapOptionsMeta,"org-google-chart":D.GooOrgOptionsMeta,"pie-google-chart":D.GooPieOptionsMeta,"sankey-google-chart":D.GooSankeyOptionsMeta,"scatter-google-chart":D.GooScatterOptionsMeta,"stepped-area-google-chart":D.GooSteppedAreaOptionsMeta,"table-google-chart":D.GooTableOptionsMeta,"timeline-google-chart":D.GooTimelineOptionsMeta,"tree-map-google-chart":D.GooTreemapOptionsMeta,"linear-trend-google-chart":D.GooScatterOptionsMeta,"exp-trend-google-chart":D.GooScatterOptionsMeta,"poly-trend-google-chart":D.GooScatterOptionsMeta,"waterfall-google-chart":D.GooCandlestickOptionsMeta,"word-tree-google-chart":D.GooWordTreeOptionsMeta}[Q]
}return O}},{label:"title",valueRef:"advanced.hAxis.title",subgroup:"Horizontal Axis",type:v.TEXT,detailedInfo:"Property that specifies the title of the axis.",defaultValue:null,configurable:k},{label:"format",valueRef:"advanced.hAxis.format",subgroup:"Horizontal Axis",type:v.TEXT,detailedInfo:"A format string for numeric or date axis labels.",suggestion:["none","decimal","scientific","currency","percent","short","long"],defaultValue:null,configurable:k},{label:"title",valueRef:"advanced.vAxis.title",subgroup:"Vertical Axis",type:v.TEXT,detailedInfo:"Property that specifies the title of the axis.",defaultValue:null,configurable:k},{label:"format",valueRef:"advanced.vAxis.format",subgroup:"Vertical Axis",type:v.TEXT,detailedInfo:"A format string for numeric or date axis labels.",suggestion:["none","decimal","scientific","currency","percent","short","long"],defaultValue:null,configurable:k},{label:"position",valueRef:"advanced.legend.position",subgroup:"Legend",type:v.SELECT,detailedInfo:"Position of the legend.",suggestion:["bottom","in","none","right","top"],defaultValue:"none"},{label:"axis",valueRef:"advanced.explorer.axis",subgroup:"Explorer",type:v.SELECT,detailedInfo:"By default, users can pan both horizontally and vertically when the explorer option is used. If you want to users to only pan horizontally, use axis: 'horizontal'. Similarly, axis: 'vertical' enables vertical-only panning.",suggestion:[null,"horizontal","vertical"],defaultValue:null,configurable:k},{label:"tooltipFormat",valueRef:"advanced.tooltip.format",subgroup:"Tooltip",type:v.EXPRESSION,contextType:"CELL",defaultValue:"",configurable:function(){return !_.includes(["BubbleChart","HistogramChart","OrgChart","Gauge","TimelineChart"],_.get(c.data,"chartType.proto.chartType"))
}},{label:"isHtml",valueRef:"advanced.tooltip.isHtml",subgroup:"Tooltip",type:v.BOOLEAN,detailedInfo:"If set to true, use HTML-rendered (rather than SVG-rendered) tooltips. See Customizing Tooltip Content for more details.",defaultValue:false}];function i(Q,R){if(R===void 0){R=[]
}var P=_.cloneDeep(j);var O=_.findIndex(P,{valueRef:"chartType"});P[O]=_.extend({},P[O],Q);return P.concat(R)}D.GoogleGenericDataRenderMeta=i(F);D.GoogleTableDataRenderMeta=i({defaultValue:D.TableChart,suggestion:[],configurable:function(){return false}});D.GoogleGeoDataRenderMeta=i({defaultValue:D.GeoChart,suggestion:[],configurable:function(){return false
}},[{label:"No Data Region Color",valueRef:"datalessColor",type:v.COLOR_MODE,detailedInfo:"Color rendering mode",subgroup:"Colors",simpleMode:true,suggestion:s.SINGLE,defaultValue:{mode:G.AUTO},afterChange:function(P){var Q=function(S){return"datalessColor"+S
},O=function(T,S){return _.set(P,Q(T),_.get(P,Q(T),S))},R=_.get(P,Q(".mode"));switch(R){case G.AUTO:O(".color","inherit");break;case G.EXPRESSION:O(".colorFunc","inherit");break;case G.SINGLE_COLOR:default:O(".color","inherit")}}},{label:"Display Mode",valueRef:"displayMode",type:v.SELECT,suggestion:["Auto","Regions","Markers"],defaultValue:"Auto",detailedInfo:"Defines what region should be rendered."},{label:"Region",valueRef:"region",type:v.EXPRESSION,suggestion:["World","Europe","Americas","Africa","Asia","Oceania"],detailedInfo:"Defines what region should be rendered.",defaultValue:"World"}]);
D.GoogleComboDataRenderMeta=i({defaultValue:D.ComboChart,suggestion:[],configurable:function(){return false}});D.GoogleSankeyDataRenderMeta=i({defaultValue:D.SankeyChart,suggestion:[],configurable:function(){return false}});D.GoogleCalendarDataRenderMeta=i({defaultValue:D.CalendarChart,suggestion:[],configurable:function(){return false
}})})(e=f.meta||(f.meta={}))})(d=c.googlecharts||(c.googlecharts={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var d=a.reporting.editor.OptionMetaType;var b=(function(){function e(){}e.TERRAIN=_.get(window,"google.maps.MapTypeId.TERRAIN","terrain");
e.SATELLITE=_.get(window,"google.maps.MapTypeId.SATELLITE","satellite");e.ROADMAP=_.get(window,"google.maps.MapTypeId.ROADMAP","roadmap");e.HYBRID=_.get(window,"google.maps.MapTypeId.HYBRID","hybrid");return e}());a.GoogleMapType=b;var c=[{label:"centerLatitude",valueRef:"centerLatitude",type:d.NUMBER,detailedInfo:""},{label:"centerLongitude",valueRef:"centerLongitude",type:d.NUMBER,detailedInfo:""},{label:"Google Map Properties",valueRef:"googleMapProperties",type:d.OBJECT,detailedInfo:"",defaultValue:{},children:[{label:"backgroundColor",valueRef:"backgroundColor",type:d.COLOR,detailedInfo:""},{label:"disableDoubleClickZoom",valueRef:"disableDoubleClickZoom",type:d.BOOLEAN,detailedInfo:"",defaultValue:false},{label:"draggable",valueRef:"draggable",type:d.BOOLEAN,detailedInfo:"",defaultValue:true},{label:"heading",valueRef:"heading",type:d.BOOLEAN,detailedInfo:"",defaultValue:false},{label:"keyboardShortcuts",valueRef:"keyboardShortcuts",type:d.BOOLEAN,detailedInfo:""},{label:"mapType",valueRef:"mapTypeId",type:d.SELECT,detailedInfo:"",defaultValue:b.TERRAIN,suggestion:[b.TERRAIN,b.SATELLITE,b.ROADMAP,b.HYBRID]},{label:"maxZoom",valueRef:"maxZoom",type:d.NUMBER,detailedInfo:""},{label:"minZoom",valueRef:"minZoom",type:d.NUMBER,detailedInfo:""},{label:"rotateControl",valueRef:"rotateControl",type:d.BOOLEAN,detailedInfo:"",defaultValue:false},{label:"scaleControl",valueRef:"scaleControl",type:d.BOOLEAN,detailedInfo:"",defaultValue:false},{label:"zoomControl",valueRef:"zoomControl",type:d.BOOLEAN,detailedInfo:"",defaultValue:true},{label:"zoom",valueRef:"zoom",type:d.NUMBER,detailedInfo:""},{label:"scrollWheel",valueRef:"scrollwheel",type:d.BOOLEAN,detailedInfo:"",defaultValue:false}]},{label:"googleMapExtraProperties",valueRef:"googleMapExtraProperties",type:d.TEXT,detailedInfo:""}];
a.GoogleMapDataRenderMeta=c.concat([{label:"heatMapExtraProperties",valueRef:"heatMapExtraProperties",type:d.TEXT,detailedInfo:""},{label:"Heat Map Properties",valueRef:"heatMapProperties",type:d.OBJECT,detailedInfo:"",defaultValue:{},children:[{label:"dissipating",valueRef:"dissipating",type:d.BOOLEAN,detailedInfo:"",defaultValue:false},{label:"gradient",valueRef:"gradient",type:d.GRADIENT,detailedInfo:""},{label:"maxIntensity",valueRef:"maxIntensity",type:d.NUMBER,detailedInfo:""},{label:"opacity",valueRef:"opacity",type:d.NUMBER,detailedInfo:""},{label:"radius",valueRef:"radius",type:d.NUMBER,detailedInfo:""}]}]);
a.GoogleRegionsMapDataRenderMeta=c.concat([{label:"palette",valueRef:"palette",type:d.PALETTE,detailedInfo:""},{label:"colorOpacity",valueRef:"colorOpacity",type:d.NUMBER,detailedInfo:""},{label:"polygonTooltip",valueRef:"polygonTooltip",type:d.TEXT,detailedInfo:""},{label:"fusionTableId",valueRef:"fusionTableId",type:d.TEXT,detailedInfo:""},{label:"fusionTableId",valueRef:"fusionTableId",type:d.TEXT,detailedInfo:""},{label:"fusionTablePolygonIdColumn",valueRef:"fusionTablePolygonIdColumn",type:d.TEXT,detailedInfo:""},{label:"fusionTablePolygonColumn",valueRef:"fusionTablePolygonColumn",type:d.TEXT,detailedInfo:""}])
})(ic3||(ic3={}));var ic3;(function(a){var b;(function(d){var c;(function(e){var f;(function(g){g.SlickGridDataRenderMeta=[]})(f=e.meta||(e.meta={}))})(c=d.slickgrid||(d.slickgrid={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;
(function(c){var d;(function(e){var f;(function(g){g.TableAppearance={Default:{},Classic:{styles:{fontSize:12},components:{headers:{styles:{textAlign:"left",fontWeight:"normal"}},"left-headers":{styles:{borderRightWidth:1}},"top-headers":{styles:{borderBottomWidth:1}},cells:{styles:{textAlign:"right"}}}},Modern:{styles:{fontSize:13},components:{headers:{styles:{padding:5,backgroundColor:"#34495e",borderColor:"#3a536b",borderStyle:"solid",borderWidth:0}},"left-headers":{styles:{color:"#ededed",borderColor:"",backgroundColor:"",borderTopWidth:"",borderRightWidth:0,borderBottomWidth:1,borderLeftWidth:""}},"top-headers":{styles:{borderColor:"",color:"#BEC055",borderTopWidth:"",borderRightWidth:0,borderBottomWidth:1,borderLeftWidth:""}},cells:{styles:{padding:5,textAlign:"left",color:"#ededed",backgroundColor:"#34495e",borderColor:"#3a536b",borderStyle:"solid",borderTopWidth:0,borderRightWidth:0,borderBottomWidth:1,borderLeftWidth:0}}}}}
})(f=e.meta||(e.meta={}))})(d=c.table||(c.table={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(k){var h=a.reporting.editor.OptionMetaType;var q=a.reporting.editor.ColorModeType;
var j=a.reporting.editor.ColorModeStacks;k.GenericTableType={SimpleTable:"table-chart-simple-table",SlickGrid:"table-chart-slick-grid",PivotTable:"table-chart-pivot-table"};k.TableType={SimpleTable:{label:"Simple Table",id:k.GenericTableType.SimpleTable,proto:{chartType:k.GenericTableType.SimpleTable}},SlickGrid:{label:"Slick Grid",id:k.GenericTableType.SlickGrid,proto:{chartType:k.GenericTableType.SlickGrid}},PivotTable:{label:"Pivot Table",id:k.GenericTableType.PivotTable,proto:{chartType:k.GenericTableType.PivotTable}}};
k.GenericTableCellType={TextCell:"text-cell",BarCell:"bar-cell",CondCell:"svg-cell",HtmlCell:"html-cell"};k.CellType={TextCell:{label:"Text Cell",id:k.GenericTableCellType.TextCell},BarCell:{label:"Bar Cell",id:k.GenericTableCellType.BarCell},CondCell:{label:"Conditional Formatting",id:k.GenericTableCellType.CondCell},CustomHtmlCell:{label:"Custom HTML",id:k.GenericTableCellType.HtmlCell}};
k.SVGType={Circle:"cond-cell-circle",Square:"cond-cell-square",Arrow:"cond-cell-arrow"};var r={Circle:{label:"Circle",id:k.SVGType.Circle},Square:{label:"Square",id:k.SVGType.Square},Arrow:{label:"Arrow",id:k.SVGType.Arrow}};k.getCondFormatterMeta=function(){return({targetValue:"Value",comparator:"",source:"",props:{type:_.cloneDeep(r.Circle),angle:"0",text:"Value",color:{mode:"Auto"},size:{evaluationType:"JS",contextType:"CELL",jsFunctionBody:"return context.zoomValue()*20+10"},showText:"None"}})
};k.getGenericCellRendererMeta=function(){return({type:_.cloneDeep(k.CellType.TextCell),pivotTopHeaderLabel:"Pivot Column Label",pivotLeftHeaderLabel:"Pivot Row Label",topHeaderLabel:"Column Label",leftHeaderLabel:"Row Label",target:{type:"Default",options:{predicate:{evaluationType:"JS",contextType:"CELL",jsFunctionBody:"return context.cellValue() != null"}}},advancedStyling:{rules:[{}]},text:{cellValue:"Value",cellFormatting:"",staticStyling:{color:{mode:q.AUTO},backgroundColor:{mode:q.AUTO},fontFamily:null,fontSize:null,fontStyle:null,fontWeight:null}},bar:{value:{evaluationType:"JS",contextType:"CELL",jsFunctionBody:"return context.zoomValue()"},text:"Value",showText:false,color:{mode:"Auto",color:"#951b81"}},cond:{formatters:[k.getCondFormatterMeta()]},customCellRenderer:'function(context){return "<span>"+context.getFValue()+"</span>";}'})
};var p=[{label:"Top Header Text",valueRef:"topHeaderLabel",type:h.EXPRESSION,suggestion:["Column Label"],detailedInfo:"Expression for header caption evaluation",subgroup:"Header",contextType:"CELL",defaultValue:k.getGenericCellRendererMeta().topHeaderLabel,configurable:function(u,s,t){return _.get(t,"data-render.chartType.id")&&_.get(u,"chartType.id")!==k.GenericTableType.PivotTable&&_.get(s,"type.id",k.GenericTableCellType.TextCell)==k.GenericTableCellType.TextCell
}},{label:"Left Header Text",valueRef:"leftHeaderLabel",type:h.EXPRESSION,suggestion:["Row Label"],detailedInfo:"Expression for header caption evaluation",subgroup:"Header",contextType:"CELL",defaultValue:k.getGenericCellRendererMeta().leftHeaderLabel,configurable:function(u,s,t){return _.get(t,"data-render.chartType.id")&&_.get(u,"chartType.id")!==k.GenericTableType.PivotTable&&_.get(s,"type.id",k.GenericTableCellType.TextCell)==k.GenericTableCellType.TextCell
}},{label:"Top Header Text",valueRef:"pivotTopHeaderLabel",type:h.EXPRESSION,suggestion:["Pivot Column Label"],detailedInfo:"Expression for header caption evaluation",subgroup:"Header",contextType:"CELL",defaultValue:k.getGenericCellRendererMeta().pivotTopHeaderLabel,configurable:function(u,s,t){return(_.isUndefined(_.get(t,"data-render.chartType.id"))||_.get(u,"chartType.id")==k.GenericTableType.PivotTable)&&_.get(s,"type.id",k.GenericTableCellType.TextCell)==k.GenericTableCellType.TextCell
}},{label:"Left Header Text",valueRef:"pivotLeftHeaderLabel",type:h.EXPRESSION,suggestion:["Pivot Row Label"],detailedInfo:"Expression for header caption evaluation",subgroup:"Header",contextType:"CELL",defaultValue:k.getGenericCellRendererMeta().pivotLeftHeaderLabel,configurable:function(u,s,t){return(_.isUndefined(_.get(t,"data-render.chartType.id"))||_.get(u,"chartType.id")==k.GenericTableType.PivotTable)&&_.get(s,"type.id",k.GenericTableCellType.TextCell)==k.GenericTableCellType.TextCell
}},{label:"Use Cell Renderer Options",valueRef:"applyToHeaders",type:h.BOOLEAN,detailedInfo:"Defines should this cell renderer be applied to headers",subgroup:"Header",defaultValue:false,configurable:function(t,s){return _.get(s,"type.id",k.GenericTableCellType.TextCell)==k.GenericTableCellType.TextCell
}}];var i=_.union([{label:"Cell Text",valueRef:"text.cellValue",type:h.EXPRESSION,detailedInfo:"Cell value expression.",defaultValue:k.getGenericCellRendererMeta().text.cellValue,contextType:"CELL",configurable:function(t,s){return _.get(s,"type.id","text-cell")===k.GenericTableCellType.TextCell
}},{label:"Cell Formatting",valueRef:"text.cellFormatting",type:h.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:k.getGenericCellRendererMeta().text.cellFormatting,suggestion:["#.###","#,###.00","$ #,###.00","##.# ℃"],configurable:function(t,s){return _.get(s,"type.id","text-cell")===k.GenericTableCellType.TextCell
}},{label:"Text Color",valueRef:"text.staticStyling.color",type:h.COLOR_MODE,detailedInfo:"Color rendering mode",suggestion:j.FULL,defaultValue:k.getGenericCellRendererMeta().text.staticStyling.color,contextType:"CELL",subgroup:"Colors",configurable:function(t,s){return _.get(s,"type.id","text-cell")===k.GenericTableCellType.TextCell
}},{label:"Cell Background Color",valueRef:"text.staticStyling.backgroundColor",type:h.COLOR_MODE,detailedInfo:"Color rendering mode",suggestion:j.FULL,defaultValue:k.getGenericCellRendererMeta().text.staticStyling.backgroundColor,contextType:"CELL",subgroup:"Colors",configurable:function(t,s){return _.get(s,"type.id","text-cell")===k.GenericTableCellType.TextCell
}},{label:"Font",valueRef:"text.staticStyling.fontFamily",type:h.EXPRESSION,detailedInfo:"Cell text font weight definition",defaultValue:k.getGenericCellRendererMeta().text.staticStyling.fontFamily,contextType:"CELL",suggestion:["inherit","Arial","Times","Verdana","Lucida"],subgroup:"Font",configurable:function(t,s){return _.get(s,"type.id","text-cell")===k.GenericTableCellType.TextCell
}},{label:"Font Size",valueRef:"text.staticStyling.fontSize",type:h.NUMBER,detailedInfo:"Cell text font weight definition",defaultValue:k.getGenericCellRendererMeta().text.staticStyling.fontSize,suggestion:["inherit","10","12","14","16","18","20"],subgroup:"Font",configurable:function(t,s){return _.get(s,"type.id","text-cell")===k.GenericTableCellType.TextCell
}},{label:"Font Style",valueRef:"text.staticStyling.fontStyle",type:h.EXPRESSION,detailedInfo:"Cell text font weight definition",defaultValue:k.getGenericCellRendererMeta().text.staticStyling.fontStyle,contextType:"CELL",subgroup:"Font",suggestion:["inherit","italic","normal"],configurable:function(t,s){return _.get(s,"type.id","text-cell")===k.GenericTableCellType.TextCell
}},{label:"Font Weight",valueRef:"text.staticStyling.fontWeight",type:h.EXPRESSION,detailedInfo:"Cell text font weight definition",defaultValue:k.getGenericCellRendererMeta().text.staticStyling.fontWeight,contextType:"CELL",suggestion:["bolder","normal","lighter","400","800"],subgroup:"Font",configurable:function(t,s){return _.get(s,"type.id","text-cell")===k.GenericTableCellType.TextCell
}}],p);var n=[{label:"Formatter",valueRef:"cond.formatters",type:h.INLINE_ARRAY,alwaysOpened:true,children:[{label:"Comparison Value",valueRef:"targetValue",type:h.EXPRESSION,detailedInfo:"",defaultValue:k.getCondFormatterMeta().targetValue,contextType:"CELL",flags:{readOnly:true}},{label:"Comparator",valueRef:"comparator",type:h.EXPRESSION,detailedInfo:"",suggestion:[">","<",">=","<=","=="],defaultValue:k.getCondFormatterMeta().comparator},{label:"Compare With",valueRef:"source",type:h.EXPRESSION,detailedInfo:"",defaultValue:k.getCondFormatterMeta().source,contextType:"CELL"}],advanced:{label:"Formatter",valueRef:"props",type:h.OBJECT,defaultValue:{},children:[{label:"Type",valueRef:"type",type:h.TYPE_SELECT,detailedInfo:"Svg value",suggestion:[r.Circle,r.Square,r.Arrow],defaultValue:k.getCondFormatterMeta().props.type,contextType:"CELL"},{label:"Angle",valueRef:"angle",type:h.NUMBER,detailedInfo:"Svg angle number value. Can be negative.",defaultValue:k.getCondFormatterMeta().props.angle,contextType:"CELL",configurable:function(t,s){return _.get(s,"type.id",r.Circle.id)!==r.Circle.id
}},{label:"Size",valueRef:"size",type:h.NUMBER,detailedInfo:"Expression for value evaluation",defaultValue:k.getCondFormatterMeta().props.size,contextType:"CELL"},{label:"Color",valueRef:"color",type:h.COLOR_MODE,detailedInfo:"Color rendering mode",suggestion:j.FULL,contextType:"CELL",defaultValue:{mode:q.AUTO}},{label:"Text placement",valueRef:"showText",type:h.SELECT,suggestion:["None","Left","Right"],detailedInfo:"Defines should a value be placed besides an svg",defaultValue:k.getCondFormatterMeta().props.showText},{label:"Text",valueRef:"text",type:h.EXPRESSION,detailedInfo:"Expression for value evaluation",defaultValue:k.getCondFormatterMeta().props.text,contextType:"CELL",configurable:function(t,s){return _.get(s,"showText","None")!="None"
}}],configurable:function(){return true}},defaultValue:k.getGenericCellRendererMeta().cond.formatters,configurable:function(t,s){return _.get(s,"type.id")==k.GenericTableCellType.CondCell}}];var o=[{label:"Bar Width",valueRef:"bar.value",type:h.EXPRESSION,detailedInfo:"Should be percentage value from 0 to 100. Defines width of a bar relatively to the cell`s width",defaultValue:k.getGenericCellRendererMeta().bar.value,contextType:"CELL",configurable:function(t,s){return _.get(s,"type.id")===k.GenericTableCellType.BarCell
}},{label:"Bar Color",valueRef:"bar.color",type:h.COLOR_MODE,detailedInfo:"Color rendering mode",suggestion:j.FULL,contextType:"CELL",defaultValue:{mode:q.AUTO},configurable:function(t,s){return _.get(s,"type.id")===k.GenericTableCellType.BarCell}},{label:"Show Text",valueRef:"bar.showText",type:h.BOOLEAN,detailedInfo:"Defines should a text value be placed besides a bar",defaultValue:k.getGenericCellRendererMeta().bar.showText,configurable:function(t,s){return _.get(s,"type.id")===k.GenericTableCellType.BarCell
}},{label:"Text",valueRef:"bar.text",type:h.EXPRESSION,detailedInfo:"Expression for text value",defaultValue:k.getGenericCellRendererMeta().bar.text,contextType:"CELL",configurable:function(t,s){return _.get(s,"type.id")===k.GenericTableCellType.BarCell&&!!_.get(s,"bar.showText")
}}];var l=[{label:"Cell Rendering",valueRef:"customCellRenderer",type:h.FUNCTION,defaultTemplateValue:'return "<span>"+context.getFValue()+"</span>";',template:"/**\n * Return cell custom HTML\n */\nfunction(context) {\n\t${funcBody}\n}",contextType:"CELL",configurable:function(t,s){return _.get(s,"type.id")===k.GenericTableCellType.HtmlCell
}}];var m=_.union(i,n,o,l);var g={label:"Advanced Styling",valueRef:"advancedStyling",type:h.OBJECT,defaultValue:{},children:[{label:"Rule",valueRef:"rules",type:h.INLINE_ARRAY,children:[{label:"Style Property",valueRef:"name",type:h.EXPRESSION,suggestion:["textAlign","textDecoration"]},{label:"Value",valueRef:"value",type:h.EXPRESSION}],defaultValue:k.getGenericCellRendererMeta().advancedStyling.rules}],configurable:function(t,s){return _.get(s,"type.id","text-cell")===k.GenericTableCellType.TextCell
}};k.GenericTableBaseRenderMeta=[{label:"Chart type",valueRef:"chartType",type:h.TYPE_SELECT,detailedInfo:"Table type",defaultValue:k.TableType.PivotTable,suggestion:[k.TableType.PivotTable,k.TableType.SlickGrid,k.TableType.SimpleTable]},{label:"Widget Appearance",valueRef:"theming",type:a.reporting.editor.OptionMetaType.STYLING,suggestion:k.TableAppearance,defaultValue:{},disabledProperties:{padding:function(t,s){return _.get(s,"data-render.chartType.id")===a.reporting.table.meta.GenericTableType.SlickGrid
}},configurableProperties:{any:function(t,s){if(t.subgroup.toLowerCase().indexOf("drilldown icons")>-1){return _.get(s,"data-render.chartType.id")===a.reporting.table.meta.GenericTableType.PivotTable}return true}}},{label:"Column Width",valueRef:"columnWidths",type:h.TEXT,detailedInfo:"Coma separated widths of columns",placeholder:"Auto",defaultValue:"Auto",flags:{hidePencil:true},configurable:function(s){return _.get(s,"chartType.id")!==k.GenericTableType.SimpleTable
}},{label:"Drilldown Icons Visibility",valueRef:"iconsBehaviour",type:h.SELECT,defaultValue:"Always",suggestion:["Always","On hover","Never"],configurable:function(s){return _.get(s,"chartType.id",k.GenericTableType.PivotTable)===k.GenericTableType.PivotTable
}},{label:"Cell Renderer",valueRef:"cellRenderer",type:h.OBJECT_ARRAY,detailedInfo:"Cell Renderer",defaultValue:[{}],advanced:g,children:_.union([{label:"Target Columns/Rows",valueRef:"target.type",type:h.SELECT,suggestion:["Default","List of Columns","Even Columns","Odd Columns","List of Rows","Even Rows","Odd Rows","Ad-Hoc Expression"],detailedInfo:"The column(s) these options apply to",defaultValue:"Default"},{label:"",placeholder:"Column Indices",valueRef:"target.options.items",type:h.TEXT,detailedInfo:"One or more column indices separated by a comma. The first data column is 1, last headers ends at 0",defaultValue:"",configurable:function(t,s){return _.get(s,"target.type")==="List of Columns"
}},{label:"",placeholder:"Row Indices",valueRef:"target.options.items",type:h.TEXT,detailedInfo:"One or more row indices separated by a comma. The first data column is 1, last headers ends at 0",defaultValue:"",configurable:function(t,s){return _.get(s,"target.type")==="List of Rows"
}},{label:"",placeholder:"Predicate expression",valueRef:"target.options.predicate",type:h.EXPRESSION,defaultValue:k.getGenericCellRendererMeta().target.options.predicate,contextType:"CELL",configurable:function(t,s){return _.get(s,"target.type")==="Ad-Hoc Expression"
}},{label:"Cell Renderer Type",valueRef:"type",type:h.TYPE_SELECT,suggestion:[k.CellType.TextCell,k.CellType.BarCell,k.CellType.CondCell,k.CellType.CustomHtmlCell],defaultValue:k.CellType.TextCell}],m)}]})(f=e.meta||(e.meta={}))})(d=c.table||(c.table={}))})(b=a.reporting||(a.reporting={}))
})(ic3||(ic3={}));var ic3;(function(a){var b;(function(d){var c;(function(f){var h=a.reporting.editor.OptionMetaType;var e=a.reporting.editor.EventSuggestionsType;function g(i){return _.reduce(i,function(j,l){var k=_.find(f.EventWidgetOptionsMeta,{valueRef:l.name});
if(!_.isEmpty(k)){j.push(k)}return j},[])}f.convertMetaFromEventMapper=g;f.EventWidgetOptionsMeta=[{label:"@d{ic3.event.fire_on_refresh.name}",valueRef:"fireOnRefresh",type:h.SELECT,detailedInfo:"@d{ic3.event.fire_on_refresh.detail}",suggestion:["all","only_refresh"],defaultValue:"all"},{label:"@d{ic3.event.ic3_button_click.name}",valueRef:"ic3buttonClick",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_button_click.detail}",suggestEvents:e.NONE},{label:"@d{ic3.event.ic3_cell_click.name}",valueRef:"ic3cellClick",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_cell_click.detail}",suggestEvents:e.NONE},{label:"@d{ic3.event.ic3_column_click.name}",valueRef:"ic3columnClick",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_column_click.detail}",suggestEvents:e.NONE},{label:"@d{ic3.event.ic3_input_change.name}",valueRef:"ic3inputChange",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_input_change.detail}",suggestEvents:e.NONE},{label:"@d{ic3.event.ic3_legend_click.name}",valueRef:"ic3legendClick",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_legend_click.detail}",suggestEvents:e.NONE},{label:"@d{ic3.event.ic3_mdx_query_change.name}",valueRef:"ic3mdxQueryChange",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_mdx_query_change.detail}",suggestEvents:e.NONE},{label:"@d{ic3.event.ic3_mdx_query_execution.name}",valueRef:"ic3mdxQueryExecution",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_mdx_query_execution.detail}",suggestEvents:e.NONE},{label:"@d{ic3.event.ic3_mdx_query_generation.name}",valueRef:"ic3mdxQueryGeneration",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_mdx_query_generation.detail}",suggestEvents:e.NONE},{label:"@d{ic3.event.ic3_new_label.name}",valueRef:"ic3newLabel",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_new_label.detail}",suggestEvents:e.NONE},{label:"@d{ic3.event.ic3_query_history_size_change.name}",valueRef:"ic3queryHistorySizeChange",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_query_history_size_change.detail}",suggestEvents:e.NONE},{label:"@d{ic3.event.ic3_row_click.name}",valueRef:"ic3rowClick",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_row_click.detail}",suggestEvents:e.NONE},{label:"@d{ic3.event.ic3_selection.name}",valueRef:"ic3selection",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_selection.detail}",suggestEvents:e.NONE},{label:"@d{ic3.event.ic3_do_add_selection.name}",valueRef:"ic3doAddSelection",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_do_add_selection.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_do_open_report.name}",valueRef:"ic3doOpenReport",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_do_open_report.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_do_resize_widget.name}",valueRef:"ic3doResizeWidget",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_do_resize_widget.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_do_row_click.name}",valueRef:"ic3doRowClick",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_do_row_click.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_do_select_all.name}",valueRef:"ic3doSelectAll",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_do_select_all.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_do_select_none.name}",valueRef:"ic3doSelectNone",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_do_select_none.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_do_set_mdx_content.name}",valueRef:"ic3doSetMdxContent",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_do_set_mdx_content.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_do_set_selection.name}",valueRef:"ic3doSetSelection",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_do_set_selection.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_export_am_chart.name}",valueRef:"ic3exportAmChart",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_export_am_chart.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_set_chart_type.name}",valueRef:"ic3setChartType",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_set_chart_type.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_export_to_excel.name}",valueRef:"ic3exportToExcel",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_export_to_excel.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_filter_to_default.name}",valueRef:"ic3filterToDefault",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_filter_to_default.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_fire_mdx_query_execution.name}",valueRef:"ic3fireMdxQueryExecution",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_fire_mdx_query_execution.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_fire_mdx_query_generation.name}",valueRef:"ic3fireMdxQueryGeneration",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_fire_mdx_query_generation.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_navigate.name}",valueRef:"ic3navigate",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_navigate.detail}",suggestEvents:e.NONE},{label:"@d{ic3.event.ic3_toggle_mdx_query_generation_mode.name}",valueRef:"ic3toggleMdxQueryGenerationMode",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_toggle_mdx_query_generation_mode.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_switch_columns_rows.name}",valueRef:"ic3switchColumnsRows",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_switch_columns_rows.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_query_back.name}",valueRef:"ic3queryBack",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_query_back.detail}",suggestEvents:e.PLAIN},{label:"@d{ic3.event.ic3_query_refresh.name}",valueRef:"ic3queryRefresh",type:h.PLAIN_TEXT,detailedInfo:"@d{ic3.event.ic3_query_refresh.detail}",suggestEvents:e.PLAIN}]
})(c=d.events||(d.events={}))})(b=a.common||(a.common={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(f){var e=a.reporting.editor.OptionMetaType;f.InputMeta=[{label:"Width",valueRef:"inputWidth",type:e.TEXT,detailedInfo:"Width of the Input. (e.g. 100px)"},{label:"Type",valueRef:"type",type:e.SELECT,suggestion:["text","number"]},{label:"Min",valueRef:"min",type:e.NUMBER,configurable:function(g){return g.type=="number"
}},{label:"Max",valueRef:"max",type:e.NUMBER,configurable:function(g){return g.type=="number"}},{label:"Default Value",valueRef:"defaultValue",type:e.TEXT,detailedInfo:"Default value for the Input."},{label:"Placeholder",valueRef:"inputPlaceholder",type:e.TEXT},{label:"Fire on Input Change",valueRef:"fireOnInputChange",type:e.BOOLEAN,detailedInfo:"Should the Input fire event on change.",defaultValue:true},{label:"Button",valueRef:"button.showButton",type:e.BOOLEAN,detailedInfo:"",defaultValue:false},{label:"Button Text",valueRef:"button.buttonText",type:e.TEXT,detailedInfo:"",defaultValue:false,configurable:function(g){return g.button&&g.button.showButton
}},{label:"Button Width",valueRef:"button.buttonWidth",type:e.NUMBER,detailedInfo:"",configurable:function(g){return g.button&&g.button.showButton}},{label:"Validator",valueRef:"validator.enabled",type:e.BOOLEAN,detailedInfo:"",defaultValue:false},{label:"Validator Function",valueRef:"validator.methodBody",type:e.FUNCTION,template:"function(value){\n ${funcBody} \n}",configurable:function(g){return g.validator&&g.validator.enabled
}}]})(d=c.actions||(c.actions={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b;(function(d){var c;(function(f){var h=a.reporting.editor.OptionMetaType;f.GenericActionSelectType={Buttons:"buttons",HorizontalButtons:"horizontal-buttons",DropDown:"dropdown",ContextMenu:"contextmenu",Accordion:"accordion"};
f.ActionButtons={label:"@d{ic3.widget.action_select_control.type.buttons_list}",id:f.GenericActionSelectType.Buttons,prototype:{layout:"vertical",css:{clickBehaviour:{duration:200}}}};var g={label:"@d{ic3.widget.action_select_control.type.horizontal_buttons_list}",id:f.GenericActionSelectType.HorizontalButtons,prototype:{layout:"horizontal",css:{clickBehaviour:{duration:200}}}};
var e={label:"@d{ic3.widget.action_select_control.type.drop_down}",id:f.GenericActionSelectType.DropDown};var i={label:"@d{ic3.widget.action_select_control.type.context_menu}",id:f.GenericActionSelectType.ContextMenu};f.ActionSelectControlMeta=[{label:"@d{ic3.widget.action_select_control.options.type}",valueRef:"type",type:h.TYPE_SELECT,detailedInfo:"",defaultValue:f.ActionButtons,suggestion:[f.ActionButtons,g,e,i]},{label:"@d{ic3.widget.action_select_control.options.behavior}",valueRef:"behaviour",type:h.SELECT,detailedInfo:"",defaultValue:"button",suggestion:["Button","Choice","Multiple Choice"],configurable:function(j){return !j.type||(j.type.id=="buttons"||j.type.id=="horizontal-buttons")
}},{label:"@d{ic3.widget.action_select_control.options.fit_to_container}",valueRef:"fitToContainer",type:h.BOOLEAN,detailedInfo:"",defaultValue:false,configurable:function(j){return j.type&&j.type.id=="dropdown"}},{label:"@d{ic3.widget.action_select_control.options.empty_message}",valueRef:"emptyMessage",type:h.TEXT,detailedInfo:"",defaultValue:"",configurable:function(j){return j.type&&j.type.id=="dropdown"
}},{label:"@d{ic3.widget.action_select_control.options.trigger}",valueRef:"trigger",type:h.SELECT,detailedInfo:"",defaultValue:"right button",suggestion:["left button","right button"],configurable:function(j){return j.type&&j.type.id=="contextmenu"}}]})(c=d.controls||(d.controls={}))
})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b=a.reporting.editor.OptionMetaType;a.DatePickerMeta=[{label:"@d{ic3.widget.date_picker.options.is_range}",valueRef:"isRange",type:b.BOOLEAN,detailedInfo:"",defaultValue:false},{label:"@d{ic3.widget.date_picker.options.separator}",valueRef:"separator",type:b.TEXT,detailedInfo:"",defaultValue:":",configurable:function(c){return c&&c.isRange
}},{label:"@d{ic3.widget.date_picker.options.placeholder}",valueRef:"fromPlaceholder",type:b.TEXT,detailedInfo:"",defaultValue:"",configurable:function(c){return c&&!c.isRange&&c.pickerRenderer=="React"}},{label:"@d{ic3.widget.date_picker.options.from_placeholder}",valueRef:"fromPlaceholder",type:b.TEXT,detailedInfo:"",defaultValue:"",configurable:function(c){return c&&c.isRange&&c.pickerRenderer=="React"
}},{label:"@d{ic3.widget.date_picker.options.to_placeholder}",valueRef:"toPlaceholder",type:b.TEXT,detailedInfo:"",defaultValue:"",configurable:function(c){return c&&c.isRange&&c.pickerRenderer=="React"}},{label:"@d{ic3.widget.date_picker.options.renderer}",valueRef:"pickerRenderer",type:b.SELECT,detailedInfo:"",defaultValue:"UseBrowser",suggestion:["UseBrowser","React"],subgroup:"Advanced"},{label:"@d{ic3.widget.date_picker.options.date_format}",valueRef:"vDateFormat",type:b.TEXT,detailedInfo:"",defaultValue:"",suggestion:["MM/DD/YY","MM/DD/YYYY","YY-MM-DD","YYYY-MM-DD","D MMM, YY","D MMMM, YY","dddd, D MMMM, YY"],subgroup:"Advanced"},{label:"@d{ic3.widget.date_picker.options.fire_on_blur}",valueRef:"fireOnBlur",type:b.BOOLEAN,detailedInfo:"Change to fire onSelection event on blur rather than on change.",defaultValue:false,subgroup:"Advanced"}]
})(ic3||(ic3={}));var ic3;(function(a){var b;(function(d){var c;(function(g){var k=a.reporting.editor.OptionMetaType;var i=a.reporting.editor.ColorModeType;var f=a.reporting.editor.ColorModeStacks;var e=viz.SelectionMode;g.GenericSelectType={MultiSelect:"multiselect",Buttons:"buttons",HorizontalButtons:"horizontal-buttons",DropDown:"dropdown",Tree:"tree",Autocomplete:"autocomplete",Slider:"slider",ContextMenu:"contextmenu"};
g.MultiSelect={label:"@d{ic3.widget.select_control.type.multi_select}",id:g.GenericSelectType.MultiSelect,proto:{chartType:g.GenericSelectType.MultiSelect}};g.Buttons={label:"@d{ic3.widget.select_control.type.buttons_list}",id:g.GenericSelectType.Buttons,proto:{chartType:g.GenericSelectType.Buttons}};
g.HorizontalButtons={label:"@d{ic3.widget.select_control.type.horizontal_buttons_list}",id:g.GenericSelectType.HorizontalButtons,prototype:{layout:"horizontal"},proto:{chartType:g.GenericSelectType.HorizontalButtons}};g.DropDown={label:"@d{ic3.widget.select_control.type.drop_down}",id:g.GenericSelectType.DropDown,proto:{chartType:g.GenericSelectType.DropDown}};
g.Tree={label:"@d{ic3.widget.select_control.type.tree}",id:g.GenericSelectType.Tree,proto:{chartType:g.GenericSelectType.Tree}};g.Autocomplete={label:"@d{ic3.widget.select_control.type.autocomplete}",id:g.GenericSelectType.Autocomplete,proto:{chartType:g.GenericSelectType.Autocomplete}};
var h={label:"@d{ic3.widget.select_control.type.slider}",id:g.GenericSelectType.Slider,proto:{chartType:g.GenericSelectType.Slider}};var j={label:"@d{ic3.widget.select_control.type.context_menu}",id:g.GenericSelectType.ContextMenu,proto:{chartType:g.GenericSelectType.ContextMenu}};
var l=_.map([{label:"@d{ic3.widget.select_control.options.text_color}",valueRef:"textColor",detailedInfo:""},{label:"@d{ic3.widget.select_control.options.text_background}",valueRef:"textBgColor",detailedInfo:""},{label:"@d{ic3.widget.select_control.options.selected_text_color}",valueRef:"selectedTextColor",detailedInfo:""},{label:"@d{ic3.widget.select_control.options.selected_text_background_color}",valueRef:"selectedTextBgColor",detailedInfo:""},{label:"@d{ic3.widget.select_control.options.empty_member_text_color}",valueRef:"emptyTextColor",detailedInfo:""}],function(m){return _.defaults(m,{type:k.COLOR_MODE,detailedInfo:"",suggestion:f.FILTER,defaultValue:{mode:i.AUTO}})
});g.SelectControlMeta=[{label:"@d{ic3.widget.select_control.options.type}",valueRef:"type",type:k.TYPE_SELECT,detailedInfo:"",defaultValue:g.MultiSelect,suggestion:[g.MultiSelect,g.Buttons,g.HorizontalButtons,g.DropDown,g.Tree,g.Autocomplete,h],afterChange:function(m){if(m.type.id!=g.GenericSelectType.Tree&&m.selectionMode==e.HIERARCHICAL_MULTI){delete m.selectionMode
}}},{label:"@d{ic3.widget.select_control.options.mode}",valueRef:"selectionMode",type:k.SELECT,detailedInfo:"Mode of widget selection",defaultValue:"multi",suggestion:function(n){var m=[e.MULTI,e.SINGLE];if(n["data-render"].type.id==g.GenericSelectType.Tree){m.push(e.HIERARCHICAL_MULTI)
}return m},configurable:function(m){return m.type&&m.type.id!="slider"}},{label:"@d{ic3.widget.select_control.options.inverse_selection}",valueRef:"inverseSelection",type:k.BOOLEAN,detailedInfo:"",defaultValue:false,configurable:function(m){return m.type&&m.type.id!="slider"
}},{label:"@d{ic3.widget.select_control.options.range}",valueRef:"range",type:k.BOOLEAN,detailedInfo:"",defaultValue:false,configurable:function(m){return m.type&&m.type.id=="slider"}},{label:"@d{ic3.widget.select_control.options.show_labels}",valueRef:"showLabels",type:k.SELECT,suggestion:["None","Handles","Options"],detailedInfo:"",defaultValue:"None",configurable:function(m){return m.type&&m.type.id=="slider"
}},{label:"@d{ic3.widget.select_control.options.orientation}",valueRef:"orientation",type:k.SELECT,detailedInfo:"",defaultValue:"horizontal",suggestion:["horizontal","vertical"],configurable:function(m){return !m.type||m.type.id=="slider"}},{label:"@d{ic3.widget.select_control.options.apply_instantly}",valueRef:"applyInstantly",type:k.BOOLEAN,detailedInfo:"",defaultValue:true,configurable:function(m){return m.type&&m.type.id=="multiselect"
}},{label:"@d{ic3.widget.select_control.options.collapsible}",valueRef:"collapsible",type:k.BOOLEAN,detailedInfo:"",defaultValue:false,configurable:function(m){return m.type&&m.type.id=="multiselect"}},{label:"@d{ic3.widget.select_control.options.empty_selection_allowed}",valueRef:"emptySelectionAllowed",type:k.BOOLEAN,detailedInfo:"",defaultValue:false,configurable:function(m){return m.type&&(m.type.id=="buttons"||m.type.id=="horizontal-buttons")
}},{label:"@d{ic3.widget.select_control.options.fit_to_container}",valueRef:"fitToContainer",type:k.BOOLEAN,detailedInfo:"",defaultValue:false,configurable:function(m){return m.type&&m.type.id=="dropdown"}},{label:"@d{ic3.widget.select_control.options.empty_message}",valueRef:"emptyMessage",type:k.TEXT,detailedInfo:"",defaultValue:"",configurable:function(m){return m.type&&m.type.id=="dropdown"
}},{label:"@d{ic3.widget.select_control.options.empty_message}",valueRef:"emptyMessage",type:k.TEXT,detailedInfo:"",defaultValue:"",configurable:function(m){return m.type&&m.type.id=="autocomplete"}},{label:"@d{ic3.widget.select_control.options.more_message}",valueRef:"moreMessage",type:k.TEXT,detailedInfo:"",defaultValue:"",configurable:function(m){return m.type&&m.type.id=="autocomplete"
}},{label:"@d{ic3.widget.select_control.options.suggestion_length}",valueRef:"suggestionLength",type:k.NUMBER,detailedInfo:"",defaultValue:"",configurable:function(m){return m.type&&m.type.id=="autocomplete"}},{label:"@d{ic3.widget.select_control.options.add_hierarchy_default}",valueRef:"addHierarchyDefault",type:k.BOOLEAN,detailedInfo:"",defaultValue:false,configurable:function(m){return m.type&&m.type.id=="autocomplete"
}},{label:"@d{ic3.widget.select_control.options.use_default_if_no_selection}",valueRef:"useDefaultMemberOnEmptySelection",type:k.BOOLEAN,detailedInfo:"Use default member if empty",defaultValue:false,configurable:function(m){return m.type&&m.type.id!="slider"
}},{label:"@d{ic3.widget.select_control.options.use_all_if_all_selected}",valueRef:"useALL_MEMBER",type:k.BOOLEAN,detailedInfo:"Use ALL member for all selected items",defaultValue:false,configurable:function(m){return m.type&&m.type.id!="slider"}},{label:"@d{ic3.widget.select_control.options.advanced_styling}",valueRef:"styling",type:k.OBJECT,defaultValue:false,children:l}]
})(c=d.controls||(d.controls={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var viz;(function(viz){var data;(function(data){var table;
(function(table){function parseErrorCellValue(value){try{return value.indexOf(ic3.IcCubeMdxBuilder.ERROR_MARKER)==0?_.last(value.split(ic3.IcCubeMdxBuilder.ERROR_MARKER)):null}catch(ignore){return null}}var CellWrapper=(function(_super){__extends(CellWrapper,_super);
function CellWrapper(){_super.apply(this,arguments)}CellWrapper.prototype.render=function(){return(React.createElement("div",__assign({},this.props.customAttributes,{style:_.merge({display:"table",height:this.props.height,width:"100%"},this.props.style)}),this.props.child))
};return CellWrapper}(React.Component));table.CellWrapper=CellWrapper;var TextCell=(function(_super){__extends(TextCell,_super);function TextCell(){_super.apply(this,arguments)}TextCell.prototype.render=function(){var value=this.props.text.cellValue;if(_.isUndefined(value)||_.isNull(value)){return(React.createElement("span",null,"\u00A0"))
}if(_.isArray(value)){value=value.toString()}else{if(_.isObject(value)){value=_.reduce(value,function(acc,value,key){return acc+(acc&&", ")+key+":"+value},"")}}var serverStyle=viz.reactCSSObject(this.props._cellContext.getValue(null,null,null,"style")),className=this.props._cellContext.getValue(null,null,null,"className")||null,error=parseErrorCellValue(value);
return(React.createElement("span",{className:className,style:_.merge({display:"table-cell",verticalAlign:"middle",color:error&&"red"},serverStyle),title:error||value},error?"error":value))};return TextCell}(React.Component));table.TextCell=TextCell;var BarCell=(function(_super){__extends(BarCell,_super);
function BarCell(){_super.apply(this,arguments)}BarCell.prototype.render=function(){var error=parseErrorCellValue(this.props.bar.text),width=(100*Math.max(0,Math.min(1,this.props.bar.value))).toFixed(1)+"%",text=(React.createElement("div",{style:{position:"relative",color:error&&"red"},title:error},error?"error":this.props.bar.text));
var rowHeight=this.props.parent.getMaxHeight();var color=new ic3.ColorEvaluator(this.props._cellContext,this.props.bar.color).evaluate();var serverStyle=viz.reactCSSObject(this.props._cellContext.getValue(null,null,null,"style")),className=this.props._cellContext.getValue(null,null,null,"className")||null;
return(React.createElement("div",{className:className,style:_.merge({position:"relative"},serverStyle)},React.createElement("div",{className:"ic3-gizmo-simplebardata",style:{width:width,height:rowHeight-4,marginTop:2,backgroundColor:color}}," "),this.props.bar.showText?text:null))
};return BarCell}(React.Component));table.BarCell=BarCell;var HtmlCell=(function(_super){__extends(HtmlCell,_super);function HtmlCell(){_super.apply(this,arguments)}HtmlCell.prototype.evaluateHTMLFunction=function(){var cellContent;try{var renderCell;eval("renderCell = "+this.props.customCellRenderer);
cellContent=renderCell(this.props._cellContext)}catch(error){cellContent="<span style='color: red' title='"+error.toString()+"'>error</span>"}return cellContent||""};HtmlCell.prototype.render=function(){var _this=this;var getContent=function(){return{__html:_this.evaluateHTMLFunction()}
};return(React.createElement("span",{dangerouslySetInnerHTML:getContent()}))};return HtmlCell}(React.Component));table.HtmlCell=HtmlCell;var CondCell=(function(_super){__extends(CondCell,_super);function CondCell(){_super.apply(this,arguments)}CondCell.prototype.getSVG=function(formatter){switch(formatter.props.type.id){case ic3.reporting.table.meta.SVGType.Circle:return(React.createElement("circle",{stroke:formatter.props.color,fill:formatter.props.color,cx:"16",cy:"16",r:"16",strokeWidth:"0"}));
case ic3.reporting.table.meta.SVGType.Square:return(React.createElement("rect",{stroke:formatter.props.color,fill:formatter.props.color,x:"0",y:"0",rx:"0",ry:"0",width:"32",height:"32",strokeWidth:"0"}));case ic3.reporting.table.meta.SVGType.Arrow:default:return(React.createElement("g",{transform:"rotate ("+formatter.props.angle+" 16 16)"},React.createElement("title",null,formatter.props.text),React.createElement("path",{style:{fill:formatter.props.color},d:"M16.016,0l-5.668,5.672c0,0,3.18,3.18,6.312,6.312H0v8.027h16.66l-6.316,6.316L16.016,32L32,16L16.016,0z"})))
}};CondCell.prototype.applicableFormatter=function(){var formatters=_.map(this.props.cond.formatters,function(formatter){var defaults=ic3.reporting.table.meta.getCondFormatterMeta();formatter.props=_.defaultsDeep(formatter.props,defaults.props);return formatter
});var result=null;for(var i=0;i<formatters.length;i++){var current=formatters[i];var props={source:current.source,comparator:current.comparator,targetValue:_.isString(current.targetValue)&&current.targetValue.trim()=="Value"?{evaluationType:"JS",contextType:"CELL",jsFunctionBody:"return context.getValue()"}:current.targetValue},evaluated=this.props._cellContext.reportingContext.getEvaluator().evaluate(props),_a=ic3.ContextEvaluator.evaluate(evaluated,this.props._cellContext,"CELL"),targetValue=_a.targetValue,comparator=_a.comparator,source=_a.source;
try{if(_.isEmpty(targetValue)||_.isEmpty(comparator)||_.isEmpty(source)){result=_.cloneDeep(current);break}if(eval(targetValue+comparator+source)){result=_.cloneDeep(current);break}}catch(ignore){}}if(_.isNull(result)){result=ic3.reporting.table.meta.getCondFormatterMeta()
}result=ic3.ContextEvaluator.evaluate(this.props._cellContext.reportingContext.getEvaluator().evaluate(result),this.props._cellContext,"CELL");if(_.isObject(result.props.color)){result.props.color=new ic3.ColorEvaluator(this.props._cellContext,result.props.color).evaluate()
}return result};CondCell.prototype.render=function(){var formatter=this.applicableFormatter(),cellStyles={textAlign:"center",whiteSpace:"nowrap",overflow:"hidden"};var text=null,error=parseErrorCellValue(formatter.props.text),textValue=error?"error":formatter.props.text;
if(formatter.props.showText!=="None"){text=(React.createElement("span",{className:"pull-"+formatter.props.showText.toLowerCase(),style:{color:error&&"red"},title:error},formatter.props.showText?textValue:null))}var className=this.props._cellContext.getValue(null,null,null,"className")||null,serverStyle=viz.reactCSSObject(this.props._cellContext.getValue(null,null,null,"style"));
return(React.createElement("div",{className:classNames("ic3-gizmo-svg-icon","ic3-svg-arrow",className),style:_.merge(cellStyles,serverStyle)},React.createElement("svg",{version:"1.1",width:Math.round(formatter.props.size),height:Math.round(formatter.props.size),viewBox:"0 0 32 32",style:{verticalAlign:"middle"}},this.getSVG(formatter)),text))
};return CondCell}(React.Component));table.CondCell=CondCell})(table=data.table||(data.table={}))})(data=viz.data||(viz.data={}))})(viz||(viz={}));var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];
for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var viz;(function(a){var b;(function(d){var c;(function(e){var f=ic3.reporting.table.meta.GenericTableCellType;var g=(function(){function h(l,i){var k=l.cellRenderers,j=l.context,m=l.selection;
this.tableContext=i;this.maxHeight=h.defaultCellHeight;this.props=_.isObject(k)?j.getEvaluator().evaluate(k):[{}];this.reportingContext=j;this.selection=m;this.defaultRenderer=j.getEvaluator().evaluate(ic3.reporting.table.meta.getGenericCellRendererMeta());
_.forEach(k,this.setMaxHeight.bind(this))}h.prototype.isApplicableToCell=function(n,l,q,i){var p=n.target&&n.target.type;switch(p){case"Ad-Hoc Expression":try{n=l.reportingContext.getEvaluator().evaluate(n);var j=ic3.ContextEvaluator.evaluate(n,l,"CELL");return j.target.options.predicate==="true"
}catch(m){}return false;case"List of Columns":try{var o=_.trim(n.target.options.items,", ");var k=JSON.parse("["+o+"]");return _.indexOf(k,i+1)>-1}catch(m){}return false;case"List of Rows":try{var o=_.trim(n.target.options.items,", ");var k=JSON.parse("["+o+"]");
return _.indexOf(k,q+1)>-1}catch(m){}return false;case"Even Columns":return i%2===0;case"Odd Columns":return i%2===1;case"Even Rows":return q%2===0;case"Odd Rows":return q%2===1;case"Default":default:return true}};h.prototype.cellElementOfType=function(i){switch(i.id){case f.HtmlCell:return e.HtmlCell;
case f.CondCell:return e.CondCell;case f.BarCell:return e.BarCell;case f.TextCell:default:return e.TextCell}};h.prototype.setMaxHeight=function(j){var k=_.defaults(j,this.defaultRenderer),i;if(!this.maxHeight){this.maxHeight=h.defaultCellHeight}switch(k.type.id){case f.TextCell:i=["text.staticStyling.fontSize"];
break;case f.CondCell:i=["cond.size"];break;default:return}this.maxHeight=_(i).map(function(l){return parseFloat(_.get(k,l))}).concat(this.maxHeight).max();if(k.type.id==f.CondCell&&this.maxHeight<h.defaultCondCellHeight){this.maxHeight=h.defaultCondCellHeight
}};h.prototype.render=function(q,l,n,o){var m=this.getEvaluatedCellRenderer(l,q);var p=o&&o.hasOwnProperty("height")?o.height:this.getMaxHeight(),j=this.reportingContext,k=React.createElement(this.cellElementOfType(m.type),_.defaults(m,{context:j,parent:this})),i={};
if(m.type.id===f.TextCell){i=_(m.advancedStyling.rules).map(_.values).fromPairs().extend(m.text.staticStyling).value()}return n(React.createElement(e.CellWrapper,{height:p,child:k,style:i,customAttributes:o}))};h.prototype.renderHeader=function(i,k,p,o,n){var m=this.getEvaluatedCellRenderer(k,p,i),j=i===h.hType.TOP?m.topHeaderLabel:m.leftHeaderLabel,l=_.defaults(m.text.staticStyling,{height:n&&n.hasOwnProperty("height")?n.height:this.getMaxHeight(),width:"100%",overflow:"hidden",textOverflow:"ellipsis"});
return o(React.createElement("div",__assign({},n,{style:l,title:j}),j))};h.prototype.isSelected=function(k,j){var i=function(l){for(var m=0;m<l.length;m++){if(l[m]!=="any"&&l[m]!==k[m]){return false}}if(j){return j==h.hType.TOP&&l[0]=="any"||j==h.hType.LEFT&&l[1]=="any"
}return true};return -1<_.findIndex(this.selection,i)};h.prototype.selectCell=function(k){if(k=="inherit"||k==null||k=="transparent"){k=this.reportingContext.mainReport().getTheme().getVars().backgroundColor}try{var i=ic3.react.colorpicker.parseCSSColor(k),l=ic3.react.colorpicker._rgb2hsv(i);
l[2]+=ic3.react.colorpicker.isDark(i)?10:-10;return ic3.react.colorpicker._rgb2hex(_.map(ic3.react.colorpicker._hsv2rgb(l),function(m){return parseInt(m)}))}catch(j){return k}};h.prototype.getEvaluatedCellRenderer=function(i,q,k){var n=this;var o=ic3.ContextEvaluator.setCellContext(this.tableContext,i,q);
var j=_.cloneDeep(this.props);k&&(j=_.filter(j,"applyToHeaders"));var l=_.reduce(j,function(r,s){if(n.isApplicableToCell(s,o,q,i)){return _.defaultsDeep(_.cloneDeep(s),r)}return r},this.defaultRenderer);var m=ic3.ContextEvaluator.evaluate(l,o,"CELL");_.map(["text.staticStyling.color","text.staticStyling.backgroundColor"],function(r){return _.set(m,r,new ic3.ColorEvaluator(o,_.get(m,r),_.get(l,r)).evaluate())
});if(_.get(m,"cond.formatters",[]).length>0){m.cond.formatters=_.map(m.cond.formatters,function(s,r){if(_.get(s,"props.color")){s.props.color=new ic3.ColorEvaluator(o,s.props.color,l.cond.formatters[r].props.color).evaluate()}return s})}if(!_.isEmpty(m.text.cellFormatting)){var p=m.text.cellValue;
if(_.get(l,"text.cellValue","Value")=="Value"){p=o.getValue()}if(_.isArray(p)){m.text.cellValue=_.map(p,function(r){return o.TEXT(r,m.text.cellFormatting)})}else{m.text.cellValue=o.TEXT(p,m.text.cellFormatting)}}if(this.isSelected([q,i],k)){_.set(m,"text.staticStyling.backgroundColor",this.selectCell(_.get(m,"text.staticStyling.backgroundColor")))
}return _.defaults(m,{_cellContext:o})};h.prototype.renderTopHeaderCellToString=function(i,j){return this.renderHeader(h.hType.TOP,i,0,React.renderToString,j)};h.prototype.renderTopHeaderCellReact=function(i,j){return this.renderHeader(h.hType.TOP,i,0,_.identity,j)
};h.prototype.renderLeftHeaderCellToString=function(j,i){return this.renderHeader(h.hType.LEFT,0,j,React.renderToString,i)};h.prototype.renderLeftHeaderCellReact=function(j,i){return this.renderHeader(h.hType.LEFT,0,j,_.identity,i)};h.prototype.renderCell=function(j,i){return this.render(j,i,React.renderToString)
};h.prototype.renderStaticCell=function(k,j,i){return this.render(k,j,React.renderToStaticMarkup,i)};h.prototype.getMaxHeight=function(){return this.maxHeight+2};h.hType={TOP:"th",LEFT:"lh"};h.defaultCellHeight=16;h.defaultCondCellHeight=30;return h}());e.CellRenderHelper=g
})(c=d.table||(d.table={}))})(b=a.data||(a.data={}))})(viz||(viz={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(b){var a=(function(d){__extends(c,d);function c(e){d.call(this,e);this.messages=[]}c.prototype.getCaptionForDockMenu=function(){return("GUID:"+this.guid())};c.prototype.getCaptionForEventInfo=function(){return this.getCaptionForDockMenu()
};c.prototype.createDefaultGuts=function(e){return _.assign(d.prototype.createDefaultGuts.call(this,e),{widgetAdapterUid:null,noPrint:false})};c.prototype.addWidgetAdapter=function(e){this.guts_.widgetAdapterUid=e.uid();this._widgetAdapter=e};c.prototype.widgetAdapter=function(){if(!this._widgetAdapter){this._widgetAdapter=this.context.widgetMgr().getItemById(this.guts_.widgetAdapterUid)
}return this._widgetAdapter};c.prototype.eventMapper=function(){var e=this.widgetAdapter();return e?e.eventMapper():null};c.prototype.builder=function(){var e=this.widgetAdapter();return e?e.builder():null};c.prototype.mightGeneratesMdxHistoryEvents=function(){var e=this.widgetAdapter();
return e?e.mightGeneratesMdxHistoryEvents():false};c.prototype.forEachConsumedEvents=function(e){this.widgetAdapter().forEachConsumedEvents(e)};c.prototype.header=function(e){b.assertAbstract("header",this)};c.prototype.onBuildAllDone=function(){var e=this.widgetAdapter();
e&&e.onBuildAllDone()};c.prototype.clearMessages=function(){this.messages=[]};c.prototype.pushMessages=function(e){this.messages=this.messages.concat(e)};return c}(b.Serializable));b.WidgetBox=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var e=viz.MdxResultTable;var d=a.reporting.amcharts.data.AmChartsTable;var g=a.reporting.data.MdxResultTableSource;var c=a.reporting.data.MultidimensionalDataMapper;
var b=a.reporting.data.ValueColumnBuilder;var f=(function(h){__extends(i,h);function i(k,j){h.call(this,k,j);this.state={isOpen:false,measure:"[Measures].[Default]"}}i.prototype.toggleDataPreview=function(){this.setState({isOpen:!this.state.isOpen})};i.prototype.componentDidUpdate=function(){this.props.rebuildAll();
if(this.state.isOpen&&this.props.box.builder()&&this.mdx!=this.props.box.builder().mdxStatement()){this.run(this.props.box.builder())}};i.prototype.handleRun=function(j,l){if(j instanceof e){var n=j.getAxes();if(n.getAxisCount()>0){var k=j.getCells().getPropertyNames();
var m={request:l,data:j,selectedProperty:k.indexOf("VALUE")>=0?"VALUE":k[0]};if(a.IcCubeMdxBuilder.hasMeasuresAxis(l,j)){m.measure=n.getAxis(0).getMemberUniqueName(0,0)}else{m.measure="[Measures].[Default]"}this.setState(m)}}};i.prototype.run=function(k){var m=this.context.reportingContext;
var n=new viz.QueryManager(m.gviConfiguration().gviConnection(),{});if(k&&k.hasQueryResult()){var l=k.mdxStatement();this.mdx=l;if(l){var j=new viz.MdxTableQueryWidget(l);j.forEachParam(function(q){var o=m.eventObject(q);var p=o?o.asMdx():"";if(!a.isEmptyString(p)){j.setParam(q,p)
}});if(j.canFireEvent()){n.clear();n.addQueryBuilderWidget(j);n.addResultWidget(this.handleRun.bind(this));j.fireOnChangeEvent()}}}};i.prototype.getDataTable=function(){var p=this;var o=new d();var m=this.state.measure;var n=new g().setResultTable(this.state.data,this.state.request).setColumnBuilders(new b(function(q){return p.state.selectedProperty.indexOf("VALUE")>-1&&q[m]["ERROR_CODE"]?"{error:"+q[m]["ERROR_DESCRIPTION"]+"}":q[m][p.state.selectedProperty]
}));var k=new c().setDataSource(n);var j=k.map(o);var l=function(q){return(React.createElement("tr",{key:q.ct||q.rowTitle},React.createElement("th",null,q.ct||q.rowTitle),_(o.getColumnsDefinitions(0)).map("columnValue").map(function(r){var t=q[r];var s=/{error:(.+)}/.exec(t);
return(React.createElement("td",{title:s?s[1]:t},s?React.createElement("span",{style:{color:"red"}},"error"):t))}).value()))};return(React.createElement("table",{className:"header"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,o.getRowsTitle()),_(o.getColumnsDefinitions(0)).map("columnTitle").map(function(q){return(React.createElement("th",{title:q},q))
}).value(),React.createElement("th",{style:{width:"15px !important",minWidth:"15px !important"}}))),React.createElement("tbody",{style:{height:"15em"}},_.map(j,l))))};i.prototype.render=function(){var p=this;if(this.state.isOpen){var l=(React.createElement("div",{className:"placeholder"},"NO DATA TO DISPLAY"));
var j=null;var m=null;if(this.state.data){var o=this.state.data.getAxes().getAxis(0);if(o.getMemberLevelCaption(0,0)==="MeasuresLevel"&&o.getTupleCount()>1&&this.props.box.widgetAdapter() instanceof a.ChartAdapter){var k=function(r){var q=o.getMemberUniqueName(r,0);
var s=classNames("btn btn-xs btn-default",q==p.state.measure?"active":"");return(React.createElement("button",{className:s,key:q,style:{display:"inline-block",marginRight:"1em"},onClick:function(){return p.setState({measure:q})}},o.getMemberCaption(r,0)))};
j=(React.createElement("span",{style:{height:"100%",width:"100%",margin:0,padding:0}},_.times(o.getTupleCount(),k)))}var n=function(q){var r=q.target.value;p.setState({selectedProperty:r})};m=(React.createElement("div",{style:{height:"3em",width:"95%",margin:"auto"}},j,React.createElement("select",{className:"btn btn-xs btn-default pull-right",value:this.state.selectedProperty,onChange:n.bind(this)},_.map(this.state.data.getCells().getPropertyNames(),function(q){return React.createElement("option",{key:q,value:q},q)
}))));l=this.getDataTable()}return(React.createElement("div",{style:{height:"25em"},className:"preview-data"},React.createElement("div",{className:"header",style:{height:"3em",padding:".6em"}},React.createElement("i",{className:"glyphicons glyphicons-table",style:{color:"#2681dc",padding:"3px",fontSize:"14pt"}}),React.createElement("span",{style:{fontSize:"14pt",padding:"3px 7px"}},"Data"),React.createElement("i",{className:"glyphicons glyphicons-chevron-down pull-right",style:{cursor:"pointer"},onClick:this.toggleDataPreview.bind(this)})),m,React.createElement("div",{style:{width:"100%"}},l)))
}else{return(React.createElement("div",{className:"preview-data-label",onClick:this.toggleDataPreview.bind(this),style:{zIndex:a.zIndexConst.widgetMax}},React.createElement("i",{style:{padding:3},className:"glyphicons glyphicons-table"}),"Data"))}};i.contextTypes={reportingContext:React.PropTypes.object};
return i}(React.Component));a.PreviewData=f})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e);this.debouncedRebuildAll=_.debounce(this.rebuildAll.bind(this),500);this.state={dataOpened:true}}c.prototype.destroy=function(){this.props.box.widgetAdapter().destroy()
};c.prototype.create=function(){var e=this.props.box.widgetAdapter(),f=$("#preview-inner");f.parent().css(this._calculateDimensions());e.container(f,this.props.box);e.buildInHtml();this.bindLoadingAnimation();this.performExternalEvents()};c.prototype.shouldComponentUpdate=function(e,f){return !!e.updateContent
};c.prototype.componentWillUpdate=function(){this.destroy()};c.prototype.componentDidUpdate=function(){this.create()};c.prototype.componentDidMount=function(){this.create();if(this.props.box.widgetAdapter() instanceof a.ChartAdapter){window.addEventListener("resize",this.debouncedRebuildAll)
}};c.prototype.componentWillUnmount=function(){this.destroy();if(this.props.box.widgetAdapter() instanceof a.ChartAdapter){window.removeEventListener("resize",this.debouncedRebuildAll)}};c.prototype.rebuildAll=function(){this.destroy();this.create()};c.prototype.performExternalEvents=function(){var h=this;
var f=this.context.reportingContext;var e=this.props.box.widgetAdapter();var g=[];f.eventMgr().setState(this.props.eventMgrState);if(!_.isNull(e.builder())){if((e instanceof a.ChartAdapter||e instanceof a.FilterWidgetAdapter)&&e.builder().type().isQuery){g=g.concat(f.getParametersList(e.builder().mdxStatement()))
}}g=g.concat(f.getParametersList(e.guts()));f.mainReport().cancelActiveRequests(function(){if(g.length>0){_.each(h.props.eventMgrState.eventValues,function(j,i){if(_.map(g,"name").indexOf(i)>-1){f.eventMgr().fireExternalEvent(i,j)}})}f.mainReport().refreshData()
})};c.prototype._boxStyle=function(e){return e.boxStyle};c.prototype._calculateDimensions=function(){var i=$("#preview");var e=i.width();var g;var f=this._boxStyle(this.props.box.guts());if(!f||f.indexOf("ic3h-no-header")==-1){g=i.height()-i.find(".ic3-box-header").height()
}else{g=i.height()}this.props.box.widgetAdapter().boxContainerSize(e,g);return{width:e,height:g}};c.prototype.addLoadingAnimation=function(){if(this.refs.preview){this.refs.preview.className+=" ic3-loading ic3-stale"}};c.prototype.removeLoadingAnimation=function(){if(this.refs.preview){this.refs.preview.className=this.refs.preview.className.replace(/ ic3-stale/gi,"").replace(/ ic3-loading/gi,"")
}};c.prototype.bindLoadingAnimation=function(){var e=this.props.box.widgetAdapter()["mgr"];if(e){e.bind(viz.EventType.onVizBeforeRequestSend,this.addLoadingAnimation.bind(this),true);e.bind(viz.EventType.onVizRequestExecuted,this.removeLoadingAnimation.bind(this),true);
e.bind(viz.EventType.onVizRequestExecutedInError,this.removeLoadingAnimation.bind(this),true)}};c.prototype.handleStopLoading=function(){var e=new a.CancelActiveRequestsGviRequest(this.context.reportingContext,this.props.box.widgetAdapter().uid());this.context.reportingContext.executeRequest(e,this.removeLoadingAnimation.bind(this))
};c.prototype.getWidgetBox=function(){var e=this.props.themeContainer;var i=this.props.box.evalGuts();var f=this.props.box.widgetAdapter();var h=classNames("ic3-widget-preview","ic3-widget",this._boxStyle(i),a.FixedLayoutBox.cls,f.getGroupCssClassForContainer(),f.getCssClassForContainer());
var g;if(f instanceof a.ChartAdapter){g={flex:"1",display:"flex",position:"static",border:"1px solid #CCC"};return e.wrapReactStyle(React.createElement("div",{ref:"preview",id:"preview","data-ic3-theme-component":"fixedLayoutBox",className:h,style:g},React.createElement("div",{className:"ic3-loading-div-back"}),React.createElement("div",{className:"ic3-loading-div",style:{textAlign:"center"}},React.createElement("button",{className:"btn btn-primary stop-button",onClick:this.handleStopLoading.bind(this)},this.context.reportingContext.l("ic3.widget_options.stopLoading"))),React.createElement("div",{className:"ic3-inner",style:{flex:"1",display:"flex",flexDirection:"column",width:"auto"}},React.createElement("div",{className:"ic3-box-header","data-ic3-theme-component":"boxHeader","data-ic3-style-override":{fontSize:i.headerHeight}},React.createElement("div",{className:"ic3-inner"},React.createElement("span",{"data-ic3-theme-component":"boxType"},"(",f.widgetFormattedName(),")"),i.header)),React.createElement("div",{className:"ic3-box-content",style:{flex:"1",display:"flex"}},React.createElement("div",{className:"ic3-inner",id:"preview-inner",style:{flex:1}})))))
}else{g={width:i.position.width,height:i.position.height,marginRight:-i.position.width/2};return e.wrapReactStyle(React.createElement("div",{ref:"preview",id:"preview","data-ic3-theme-component":"fixedLayoutBox",className:h,style:g},React.createElement("div",{className:"ic3-inner"},React.createElement("div",{className:"ic3-box-header","data-ic3-theme-component":"boxHeader","data-ic3-style-override":{fontSize:i.headerHeight}},React.createElement("div",{className:"ic3-inner"},React.createElement("span",{"data-ic3-theme-component":"boxType"},"(",f.widgetFormattedName(),")"),i.header)),React.createElement("div",{className:"ic3-box-content",style:this._calculateDimensions()},React.createElement("div",{className:"ic3-inner",id:"preview-inner"})))))
}};c.prototype.render=function(){var f=this.props.box.widgetAdapter();var e;if(f instanceof a.ChartAdapter||f instanceof a.FilterWidgetAdapter){e={flex:"1",display:"flex",flexDirection:"column",overflow:"hidden",position:"relative"}}else{e={width:"100%",height:"100%",position:"relative"}
}var g=null;if(f instanceof a.MdxTableWidgetAdapter){g=React.createElement(a.PreviewData,{rebuildAll:this.rebuildAll.bind(this),box:this.props.box})}return(React.createElement("div",{style:e},React.createElement("div",{className:"ic3-fixed-layout ic3-editing-reporting-mode",style:{flex:"2",display:"flex",padding:"5px"}},this.getWidgetBox()),g))
};c.contextTypes={reportingContext:React.PropTypes.object};return c}(React.Component));a.Preview=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var ic3;(function(a){a.ReportsManagerMode={MIGRATION:"ic3.reports_manager.migration_tab",DELETION:"ic3.reports_manager.deletion_tab"};
var c;(function(e){e[e.ERROR=0]="ERROR";e[e.SUCCEED=1]="SUCCEED";e[e.IDLE=2]="IDLE"})(c||(c={}));(function(e){e[e.IDLE=0]="IDLE";e[e.PROCESSING=1]="PROCESSING";e[e.DONE=2]="DONE"})(a.ReportsManagerStatus||(a.ReportsManagerStatus={}));var d=a.ReportsManagerStatus;
var b=(function(f){__extends(e,f);function e(h,g){f.call(this,h,g);this.state={selection:[],mode:a.ReportsManagerMode.MIGRATION,managerStatus:d.IDLE,migrationResult:{},deletionResult:{},migrationStatusExplanation:{},deletionStatusExplanation:{}}}e.prototype.componentDidMount=function(){};
e.prototype.onSelectionChanged=function(g){this.setState({selection:g})};e.prototype.changeMode=function(g){if(g!=this.state.mode){this.setState({mode:g,managerStatus:d.IDLE})}else{this.setState({mode:null})}};e.prototype.renderModeTabs=function(){var g=this;
return _.map(_.values(a.ReportsManagerMode),function(i){var h=g.state.mode==i;return(React.createElement("button",{className:classNames("btn","btn-default","pull-right","btn-xs",h&&"active"),onClick:function(){return g.changeMode(i)}},g.context.reportingContext.l(i)))
})};e.prototype.removeFromSelection=function(j){var i=this.state.selection;var g=_.findIndex(i,{id:j.id});i.splice(g,1);var h=j.parent;while(h){if(this.isSelected(h)){i.splice(_.findIndex(i,{id:h.id}),1);h=h.parent}else{h=null}}this.setState({selection:i})};
e.prototype.isSelected=function(g){return !!~_.findIndex(this.state.selection,function(h){return h.id==g.id})};e.prototype.getRootPlace=function(g){return g.parent?this.getRootPlace(g.parent):g};e.prototype.renderItem=function(j){var m=this;if(j.type==a.ServerBrowserNodeType.CONTAINER){return null
}var g,k,l,h,i;if(this.state.mode==a.ReportsManagerMode.MIGRATION){g=this.state.migrationResult;k=this.state.migrationStatusExplanation}else{if(this.state.mode==a.ReportsManagerMode.DELETION){g=this.state.deletionResult;k=this.state.deletionStatusExplanation
}}if(this.state.managerStatus==d.IDLE){l=(React.createElement("button",{className:"btn btn-default item-control",onClick:function(){return m.removeFromSelection(j)}},React.createElement("span",{className:"glyphicons glyphicons-remove"})))}else{switch(g[j.id]){case c.SUCCEED:h="glyphicons-ok-sign";
i="green";break;case c.ERROR:h="glyphicons-exclamation-sign";i="red";break;case c.IDLE:default:h="glyphicons-question-sign";break}l=(React.createElement("span",{className:"item-control",title:k[j.id]},React.createElement("span",{style:{color:i},className:classNames("glyphicons",h)})))
}return(React.createElement("div",{className:"item"},l,j.path))};e.prototype.deselectAll=function(){this.state.selection=[];this.forceUpdate()};e.prototype.renderMode=function(){var k=this;var i={className:"aside"};var j=this.state.selection;j=_.sortBy(j,function(l){return c[k.state.migrationResult[l.id]]
});var h=_.map(j,this.renderItem.bind(this));var g=null;switch(this.state.mode){case a.ReportsManagerMode.MIGRATION:g=(React.createElement("div",__assign({},i),React.createElement("div",{className:"panel panel-default item-list"},React.createElement("div",{className:"panel-heading"},React.createElement("button",{className:"btn btn-default pull-left",onClick:this.deselectAll.bind(this),disabled:this.state.managerStatus},this.context.reportingContext.l("ic3.reports_manager.deselect_all")),React.createElement("span",null,this.context.reportingContext.l("ic3.reports_manager.migration_half_title")),React.createElement("button",{className:"btn btn-default pull-right",onClick:function(){return k.onMigrate()
},disabled:this.state.managerStatus==d.PROCESSING},this.state.managerStatus==d.DONE?this.context.reportingContext.l("ic3.done"):this.context.reportingContext.l("ic3.reports_manager.migrate"))),React.createElement("div",{className:"panel-body",style:{height:"calc(100% - 60px)"}},h))));
break;case a.ReportsManagerMode.DELETION:g=(React.createElement("div",__assign({},i),React.createElement("div",{className:"panel panel-default item-list"},React.createElement("div",{className:"panel-heading"},React.createElement("button",{className:"btn btn-default pull-left",onClick:this.deselectAll.bind(this),disabled:this.state.managerStatus},"Deselect All"),React.createElement("span",null,this.context.reportingContext.l("ic3.reports_manager.deletion_half_title")),React.createElement("button",{className:"btn btn-default pull-right",onClick:function(){return k.onDelete()
},disabled:this.state.managerStatus==d.PROCESSING},this.state.managerStatus==d.DONE?this.context.reportingContext.l("ic3.done"):this.context.reportingContext.l("ic3.reports_manager.delete_reports"))),React.createElement("div",{className:"panel-body",style:{height:"calc(100% - 60px)"}},h))));
break;default:}return g};e.prototype.onDelete=function(){var g=this;if(this.state.managerStatus==d.IDLE){this.context.reportingContext.mainReport().messageBox(this.context.reportingContext.l("ic3.reports_manager.delete_reports"),this.context.reportingContext.l("ic3.reports_manager.delete_reports.message"),{yes:function(){return g.deleteReports()
},no:null})}};e.prototype.deleteReports=function(){var i=this;var h=function(l,j){if(j==c.SUCCEED){var k=i.state.selection;k.splice(_.findIndex(k,{id:l}),1);i.setState({selection:k})}else{var m=i.state.deletionResult;m[l]=j;i.setState({deletionResult:m})}};
var g=[];_.forEach(this.state.selection,function(j){if(i.isFile(j)){i.context.reportingContext.executeRequest(new viz.DeleteReportGviRequest(j.id,j.name),{onVizRequestExecuted:function(){return h(j.id,c.SUCCEED)},onFailure:function(){return h(j.id,c.ERROR)},onError:function(){return h(j.id,c.ERROR)
}})}else{g.push(j)}})};e.prototype.onMigrate=function(){var g=this;if(this.state.managerStatus==d.DONE){this.setState({managerStatus:d.IDLE})}else{this.context.reportingContext.mainReport().messageBox(this.context.reportingContext.l("ic3.reports_manager.migrate_reports"),this.context.reportingContext.l("ic3.reports_manager.migrate_reports.message"),{yes:function(){return g.migrateReports()
},no:null})}};e.prototype.migrateReports=function(){var i=this;this.setState({managerStatus:d.PROCESSING});var h=-1;var g=function(l,k){if(_.isNumber(l)&&i.state.selection[h]){var n=i.state.migrationResult,j=i.state.migrationStatusExplanation,m=i.state.selection[h].id;
n[m]=l;j[m]=c[l]+(k?" : "+k:"");i.setState({migrationResult:n})}h++;while(i.state.selection[h]&&i.state.selection[h].type==a.ServerBrowserNodeType.CONTAINER){h++}if(i.state.selection[h]){i.fetchReport(i.state.selection[h],g.bind(i))}else{i.setState({managerStatus:d.DONE})
}};g()};e.prototype.fetchReport=function(j,g){var k=this;var i=function(l){return g(c.ERROR,l.toString())};var h=new viz.OpenReportGviRequest(j.id,j.name);this.context.reportingContext.executeRequest(h,{onVizRequestExecuted:function(n){try{var m=h.extractResultEx(n,{})
}catch(l){i(l);return}k.migrateReport(j,m,g)},onError:i,onFailure:i})};e.prototype.migrateReport=function(i,h,g){var j=this;if(a.migration.MigrationUtils.needsMigration(h.reportJson.report)){setTimeout(function(){try{a.migration.MigrationUtils.migrateReport(h.reportJson.report||h.reportJson,j.context.reportingContext,function(l){j.saveReport(i,JSON.stringify({report:a.saveGuts(l)}),g)
})}catch(k){g(c.ERROR,j.context.reportingContext.l("ic3.reports_manager.internal_migrator_error",k.toString()))}},4)}else{g(c.SUCCEED,this.context.reportingContext.l("ic3.reports_manager.up_to_date"))}};e.prototype.saveReport=function(l,g,h){var m=this;var i=l.name,j=new viz.SaveAsReportGviRequest(true,i,l.parent.id,l.parent.id,g,null),k=function(n){return h(c.ERROR,m.context.reportingContext.l("ic3.reports_manager.report_saving_error",n.toString()))
};this.context.reportingContext.executeRequest(j,{onVizRequestExecuted:function(){return h(c.SUCCEED,m.context.reportingContext.l("ic3.reports_manager.saved_as",i))},onError:k,onFailure:k})};e.prototype.render=function(){var g=this.state.mode?"45%":"100%";return(React.createElement("div",{className:"ic3-report-manager"},React.createElement("div",{className:"ic3-fixed-layout"},React.createElement("div",{style:{width:"100%",height:"calc(100vh - 100px);"},className:"panel panel-default"},React.createElement("div",{className:"panel-heading"},this.context.reportingContext.l("ic3.top_menu.admin.reports_manager"),this.renderModeTabs()),React.createElement("div",{className:"panel-body",style:{height:"calc(100% - 60px);"}},React.createElement("div",{className:"server-browser-container",style:{width:g}},React.createElement(a.ReportManagerServerBrowser,{selectionArray:this.state.selection,selectionChanged:this.onSelectionChanged.bind(this),multipleSelection:!!this.state.mode&&this.state.managerStatus==d.IDLE})),this.renderMode())))))
};e.prototype.isFile=function(g){return _.isObject(g)&&_.includes([a.ServerBrowserNodeType.REPORT_SNAPSHOT,a.ServerBrowserNodeType.SIMPLE_REPORT],g.type)};e.prototype.isContainer=function(g){return _.isObject(g)&&_.includes([a.ServerBrowserNodeType.PLACE,a.ServerBrowserNodeType.CONTAINER],g.type)
};e.contextTypes={reportingContext:React.PropTypes.object};return e}(React.Component));a.ReportManagerLayout=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a=(function(){function e(f,g){this.context_=f;this.layout_=g;this.resetZoomFactors()}e.prototype.resetZoomFactors=function(){this.zoomX_=this.zoomY_=1;this.zoomFont_=1
};e.prototype.computeZoomFactors=function(){};e.prototype.zoomX=function(){return this.zoomX_};e.prototype.zoomY=function(){return this.zoomY_};e.prototype.zoomFont=function(){return this.zoomFont_};return e}());b.FixedLayoutSizingPolicy=a;var d=(function(e){__extends(f,e);
function f(g,h){e.call(this,g,h)}f.prototype.computeZoomFactors=function(){this.resetZoomFactors();if(this.context_.isForPrinting()){return}var l=this.layout_.guts_;var i=l.resizePolicy;if(b.isUndefined(i)){return}var h;var g=this.layout_.eSizeIndicator_;if(g){h={maxX:g.width,maxY:g.height}
}else{h=b.FixedLayoutUtilities.calculateMinimalReportSpace(l,this.context_)}var k=this.layout_.$container;if(!k){return}var j={maxX:h.maxX,maxY:h.maxY};if(i.fitToWidth){j.maxX=k.width();if(i.minWidth){j.maxX=Math.max(i.minWidth,j.maxX)}if(i.maxWidth){j.maxX=Math.min(i.maxWidth,j.maxX)
}}if(i.fitToHeight){j.maxY=k.height();if(i.minHeight){j.maxY=Math.max(i.minHeight,j.maxY)}if(i.maxHeight){j.maxY=Math.min(i.maxHeight,j.maxY)}}this.zoomX_=j.maxX/h.maxX;this.zoomY_=j.maxY/h.maxY;if(i.fontResizing==null){this.zoomFont_=1}else{if(b.isNumber(i.fontResizing)){this.zoomFont_=i.fontResizing
}else{if(b.isString(i.fontResizing)){if(i.fontResizing.toLowerCase()=="zoom-x"){this.zoomFont_=this.zoomX_}else{if(i.fontResizing.toLowerCase()=="zoom-y"){this.zoomFont_=this.zoomY_}}}}}};return f}(a));b.FixedLayoutScreenSizingPolicy=d;var c=(function(e){__extends(f,e);
function f(g,h){e.call(this,g,h)}f.prototype.computeZoomFactors=function(){this.resetZoomFactors();if(!this.context_.isForPrinting()){return}var l=this.context_.getPrintingOptionsJS();var k=l.fitToPage!=null?l.fitToPage:true;if(!k){return}var j=l.keepAspectRatio!=null?l.keepAspectRatio:true;
var i;var h=this.layout_.eSizeIndicator_;if(h){i={maxX:h.width,maxY:h.height}}else{i=b.FixedLayoutUtilities.calculateMinimalReportSpace(this.layout_.guts_,this.context_)}var m=$("body");this.zoomX_=m.width()/i.maxX;this.zoomY_=m.height()/i.maxY;if(j){this.adjustZoomFactorsForAspectRatio_()
}var g=l.fontResizing;if(g==null){this.zoomFont_=1}else{if(b.isNumber(g)){this.zoomFont_=g}else{if(b.isString(g)){if(g.toLowerCase()=="zoom-x"){this.zoomFont_=this.zoomX_}else{if(g.toLowerCase()=="zoom-y"){this.zoomFont_=this.zoomY_}}}}}var n=ic3debug.print;
n.message=navigator.userAgent.toLowerCase();n.fitToPage=k;n.keepAspectRatio=j;n.fontResizing=g;n.sizeIndicator=h;n.w=m.width();n.h=m.height();n.zoomX=this.zoomX_;n.zoomY=this.zoomY_;n.zoomFont=this.zoomFont_};f.prototype.adjustZoomFactorsForAspectRatio_=function(){var h=this.zoomX_;
var g=this.zoomY_;if(h>1){if(g>1){this.zoomX_=this.zoomY_=Math.min(h,g)}else{if(g<=1){this.zoomX_=this.zoomY_}}}else{if(h<1){if(g>=1){this.zoomY_=this.zoomX_}else{if(g<1){this.zoomX_=this.zoomY_=Math.min(h,g)}}}else{if(h==1){if(g>1){this.zoomY_=this.zoomX_}else{if(g<1){this.zoomX_=this.zoomY_
}}}}}};return f}(a));b.FixedLayoutPrintSizingPolicy=c})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(f,e){c.call(this,f);if(_.isObject(e)){this.guts_.position.top=a.isInt(e.top)?e.top:this.guts_.position.top;this.guts_.position.left=a.isInt(e.left)?e.left:this.guts_.position.left;this.guts_.position.width=a.isInt(e.width)?e.width:this.guts_.position.width;
this.guts_.position.height=a.isInt(e.height)?e.height:this.guts_.position.height}this.classID="ic3.FixedLayoutBox";this.cssClassCache={}}d.prototype.createDefaultGuts=function(f){var e=Math.max(Math.floor(10/a.FixedLayout.gridSize),2)*a.FixedLayout.gridSize;
return _.assign(c.prototype.createDefaultGuts.call(this,f),{header:"",behaviour:"Fixed Box",boxStyle:"",embeddedDiv:null,resizePolicy:null,noPrint:false,cssWidget:{cssClass:null,cssStyle:null},cssHeader:{cssClass:null,cssStyle:null},cssContent:{cssClass:null,cssStyle:null},position:{top:e,left:e,width:d.defaultWidth,height:d.defaultHeight}})
};d.prototype.afterRestoreGuts=function(){if(!this.guts_.ic3Version){this.width(parseInt(this.width(),10));this.height(parseInt(this.height(),10));this.top(parseInt(this.top(),10));this.left(parseInt(this.left(),10))}};d.prototype.getOptionsCategory=function(){return{uniqueId:"box",title:this.context.l("ic3.widget_options.category.general"),properties:this.guts(),meta:{eventsProducedInReport:this.context.eventsProducedInReport.bind(this.context),metaProps:a.reporting.layout.fixed.FixedLayoutBoxOptionsMeta,widgetAdapter:this.widgetAdapter()}}
};d.prototype.setOptions=function(e){var f=_.pick(this.guts_,["widgetAdapterUid","ic3_uid"]);this.guts_=_.assign(_.cloneDeep(e),f)};d.prototype.isIgnoredForReportRendered=function(){return false};d.prototype.isVisibleForComputingReportSpace=function(){var h=this.context.isForPrinting();
if(h){var i=this.evalGuts();if(i.noPrint){return false}var f=i.cssWidget;var e=f?f.cssClass:null;if(e&&e.indexOf("ic3-no-print")!=-1){return false}}var g=this.widgetAdapter();if(g){return g.isVisible()}return true};d.prototype.position=function(){return this.guts_.position
};d.prototype.deepGutsCopy=function(){var h=this.widgetAdapter();var g=this.eventMapper();var e=this.builder();var f=this.context.calcMeasureMgr();return{guts:a.saveGuts(this.guts_),widgetAdapterGuts:h?a.saveGuts(h.guts_):null,eventMapperGuts:g?a.saveGuts(g.guts_):null,builderGuts:e?a.saveGuts(e.guts_):null,calcMeasureMgrGuts:a.saveGuts(f.guts_)}
};d.prototype.applyDeepGutsCopy=function(j){var f=this.context;this.guts_=a.restoreGuts(j.guts,f);var i=this.widgetAdapter();if(i&&j.widgetAdapterGuts){i.guts_=a.restoreGuts(j.widgetAdapterGuts,f)}var h=this.eventMapper();if(h&&j.eventMapperGuts){h.guts_=a.restoreGuts(j.eventMapperGuts,f)
}var e=this.builder();if(e&&j.builderGuts){e.guts_=a.restoreGuts(j.builderGuts,f)}var g=this.context.calcMeasureMgr();g.guts_=a.restoreGuts(j.calcMeasureMgrGuts,f)};d.prototype.getCaptionForDockMenu=function(){var e=this.header();return e?e:this.guid()};d.prototype.header=function(e){return e?this.guts_.header=e:this.guts_.header
};d.prototype.consumedEvents=function(){return[a.EventType.doResizeWidget]};d.prototype.consumeEvent=function(e,f){switch(e){case vizEventType.onGutsChange:this.refreshHtmlFromGuts();break;case vizEventType.doResizeWidget:this.doResizeBox(f);break;default:}};
d.prototype.doResizeBox=function(h){var f=h.value().split(",");var g=parseInt(f[0]);if(g){this.$widgetBox.width(g)}var e=parseInt(f[1]);if(e){this.$widgetBox.height(e)}this._onResizeStop()};d.prototype.refresh=function(){this.refreshHtmlFromGuts()};d.prototype.onVizRequestStaledStatus=function(e){var f=this.$widgetBox;
if(f){f.removeClass("ic3-staled");if(e){f.addClass("ic3-staled")}}};d.prototype.onVizBeforeRequestSend=function(){var e=this.$widgetBox;if(e){this.showStopRequestButton();e.addClass("ic3-loading")}};d.prototype.showStopRequestButton=function(){var e=this;if(e.context.requestCancelingAllowed()){if(e.showStopButtonTask){clearTimeout(e.showStopButtonTask)
}e.showStopButtonTask=setTimeout(function(){delete e.showStopButtonTask;e.$stopLoading.show()},5000)}};d.prototype.hideStopRequestButton=function(){if(this.context.requestCancelingAllowed()){if(this.showStopButtonTask){clearTimeout(this.showStopButtonTask)}this.$stopLoading.hide()
}};d.prototype.onBeforeInternalRequestSend=function(){this.showStopRequestButton()};d.prototype.onVizRequestExecuted=function(){this.hideStopRequestButton();var g=this.$widgetBox;if(g){g.removeClass("ic3-loading");g.removeClass("ic3-staled");if(this._$showOnVizReq){this._$showOnVizReq.show()
}}var e=this.widgetAdapter();if(this.boxMenu&&!this.navMenuUpdated){this.navMenuUpdated=true;var f=e.navigationGuts();if(f){var h=e.getNavigationMenuItems();this.boxMenu.addItems(h);h.length>1?this.showNavigationIcon():this.hideNavigationIcon()}}this.setPlaceholder(e.getWidgetConfigState())
};d.prototype.onInternalRequestExecuted=function(){this.hideStopRequestButton()};d.prototype.isRendered=function(){var e=this.widgetAdapter();return e.isRendered()};d.prototype.render=function(m){var n=this;var q=this;var f=q.widgetAdapter();var g=this.context.isReportOnly();
var r=this.context.isReportEmbedded();if(!f.isVisible()&&g){return}var k=this.context.isReportWithWidgets();var j=this.evalGuts();var e;if(!r){e=m.$layout}else{e=$("#"+_.get(j,"advanced.embeddedDiv"));if(e.length!=1){this.context.errorMgr().addError("fixedLayoutBox.error.div",[j.header,_.get(j,"advanced.embeddedDiv")]);
return}}q.layout=m;q.$layout=e;var i=f.getGroupCssClassForContainer();var l=f.getCssClassForContainer();var h=d.cls+" "+i+" "+l;var p=q.guid();e.prepend("<div data-ic3-theme-component='fixedLayoutBox' class='"+h+"' id='"+p+"'>  <div class='ic3-loading-div-back'></div>  <div class='ic3-loading-div'></div>  <span class='ic3-stop-loading fa fa-stop' title='"+this.context.l("ic3.fixed_layout_box.stop_loading")+"'></span>  <div class='ic3-inner'>    <div data-ic3-theme-component='boxHeader' class='ic3-box-header'>      <div class='ic3-control ic3-control-left' data-ic3-theme-component='control' style='display:none;'></div>      <div class='ic3-inner'></div>      <div class='ic3-control ic3-control-right' data-ic3-theme-component='control' style='display:none;'></div>    </div>    <div class='ic3-box-content'>      <div class='ic3-inner'/>    </div>  </div>  <div class='ic3-chart-filter-info'>  </div></div>");
q.$widgetBox=e.find("#"+p);q.$widgetBoxInner=q.$widgetBox.children(".ic3-inner");q.$widgetBoxHeader=q.$widgetBox.find(".ic3-box-header");q.$widgetBoxHeaderInner=q.$widgetBoxHeader.children(".ic3-inner");q.$widgetBoxContent=q.$widgetBox.find(".ic3-box-content");
q.$widgetBoxContentInner=q.$widgetBoxContent.children(0);q.$stopLoading=q.$widgetBox.find(".ic3-stop-loading");q.$filterInfoContainer=this.$widgetBox.find(".ic3-chart-filter-info");this.context.mainReport().getTheme().wrapNativeCSS(q.$widgetBox[0],true);q._applyGuts(j,true);
this._buildInHtmlMenu(m);if(this.context.isReportModeling()){q.$widgetBox.find(".ic3-control-left").append("<span class='glyphicons glyphicons-ok'></span>").show();this._buildInHtmlResizable(m)}f.container(q.$widgetBoxContentInner,this);var o=this.widgetAdapter().getWidgetConfigState();
f.buildInHtml();this.setPlaceholder(o,function(){return new a.WidgetOptionsCommand(n.context.layout(),n).execute()});this.$stopLoading.click(function(){q.context.executeRequest(new a.CancelActiveRequestsGviRequest(q.context,f.uid()),function(){})})};d.prototype.showFilterInfo=function(e,f){e.renderInfo(this.$filterInfoContainer,f)
};d.prototype._buildInHtmlResizable=function(h){var e=this;var j=e.$layout;var g=j.offset().top;var i=j.offset().left;e.$widgetBox.resizable({handles:"e, s, w, se",autoHide:true,helper:"ic3-fixed-layout-box-resizable-helper",zIndex:a.zIndexConst.widgetDDHelper}).draggable({helper:function(){var l=$(d.dragDropHelperTpl({height:e.height(),width:e.width(),header:e.header()}));
l.css({top:e.top(),left:e.left()});e.$layout.append(l);return l},drag:function(l,m){$(this).trigger("ic3.drag",[l,m])},cancel:".stop-draggable,input,textarea,button,select,option",containment:[i,g],scroll:true,zIndex:a.zIndexConst.widgetDDHelper});var f=h.grid();
if(f){e.onGridChange(f)}e.$widgetBox.bind("resizestart",function(m,l){e._onResizeStart()});e.$widgetBox.bind("resizestop",function(m,l){e._onResizeStop()});var k;e.$widgetBox.bind("mouseenter",function(m,l){if(!k){k=$('<span data-ic3-theme-component="boxType" />').text("("+e.widgetAdapter().widgetFormattedName()+")");
e.$widgetBoxHeaderInner.prepend(k)}});e.$widgetBox.bind("mouseleave",function(m,l){if(k){k.remove();k=null}})};d.prototype.width=function(e){return typeof e=="number"?this.guts().position.width=e:this.guts().position.width};d.prototype.height=function(e){return typeof e=="number"?this.guts().position.height=e:this.guts().position.height
};d.prototype.top=function(e){return e?this.guts().position.top=e:this.guts().position.top};d.prototype.left=function(e){return e?this.guts().position.left=e:this.guts().position.left};d.prototype.zIndex=function(f){var e=this.guts();if(f){_.set(e,"advanced.zIndex",f);
if(this.$widgetBox){this.$widgetBox.css("zIndex",f)}}return a.isInt(_.get(e,"advanced.zIndex"))?e.advanced.zIndex:a.zIndexConst.widget};d.prototype.moveHorizontally=function(f){var e=this.guts_.position.left+f;this.setPosition("left",e)};d.prototype.moveVertically=function(e){this.setPosition("top",this.guts_.position.top+e)
};d.prototype.setPosition=function(g,f){var e=f<0?0:f;this.guts_.position[g]=e;this.$widgetBox.css(g,e)};d.prototype.getPosition=function(e){return this.guts_.position[e]};d.prototype.onResize=function(){var f=this;this._refreshPayloadSize();var e=this.widgetAdapter();
e.onContainerResizeStop();if(e.hasUserMenu()&&this.context.isReportOnly()){e.attachUserMenu(this.$widgetBox[0])}this.setPlaceholder(this.widgetAdapter().getWidgetConfigState(),function(){return new a.WidgetOptionsCommand(f.context.layout(),f).execute()})};d.prototype._buildInHtmlMenu=function(g){var i=this;
var h=this.widgetAdapter();var e=this.$widgetBox.find(".ic3-control-right");if(this.boxMenuNode){$(this.boxMenuNode).remove();this.boxMenuNode=null}if(this.context.isReportOnly()){if(h.hasUserMenu()){h.attachUserMenu(this.$widgetBox[0]);e.show()}else{if(h.hasNavigation()){var f=e.append("<span class='glyphicons glyphicons-show-lines'></span>").show().click(function(){var j=f[0].getBoundingClientRect();
i.boxMenuNode.css({zIndex:99999,left:j.left,top:j.top});i.boxMenu.toggle()});this.boxMenuNode=$('<div class="box-menu"></div>').css({position:"absolute"});this.windowMouseUpHandler=$.proxy(this._onWindowMousedUp,this);this.boxMenu=new a.BoxMenu(this.boxMenuNode,this);
this.boxMenu.hide();$("body").bind("mousedown",this.windowMouseUpHandler).append(this.boxMenuNode)}}}else{e.append("<span class='glyphicons glyphicons-cogwheel'></span>").show().click(function(j){new a.WidgetOptionsCommand(i.context.layout(),i).execute()})}};
d.prototype._onWindowMousedUp=function(f){if(this.boxMenu&&this.boxMenuNode&&this.boxMenu.menuItems.length>0){if($(f.target).closest(this.boxMenuNode).length===0){this.boxMenu.hide()}}};d.prototype.hideNavigationIcon=function(){this.$widgetBoxHeader.find(".ic3-control-right").css("display","none")
};d.prototype.showNavigationIcon=function(){this.$widgetBoxHeader.find(".ic3-control-right").css("display","")};d.prototype._onResizeStart=function(){this.widgetAdapter().onContainerResizeStart()};d.prototype._onResizeStop=function(){var f=parseInt(this.$widgetBox.css("left"));
if(f&&!_.isNaN(f)){this.guts_.position.left=f}var e=new a.ResizeBoxCommand(this,this.$widgetBox.width(),this.$widgetBox.height());e.execute()};d.prototype._boxStyle=function(e){return e.boxStyle};d.prototype._payloadDimension=function(){var e=this.$widgetBox.width();
var g;var f=this._boxStyle(this.guts_);if(!f||f.indexOf("ic3h-no-header")==-1){g=this.$widgetBox.height()-this.$widgetBoxHeader.height()-parseInt(this.$widgetBoxHeader.css("marginBottom"))-parseInt(this.$widgetBoxHeader.css("marginTop"))}else{g=this.$widgetBox.height()
}return{w:e,h:g}};d.prototype._refreshPayloadSize=function(){var e=this._payloadDimension();this.$widgetBoxContent.width(e.w);this.$widgetBoxContent.height(e.h);this.widgetAdapter().boxContainerSize(e.w,e.h)};d.prototype.refreshHtmlFromGuts=function(e){if(e){this.guts_=e
}this._applyGuts(this.evalGuts(),false)};d.prototype.adjustPosition=function(g,f){var e=this.guts().position;this.$widgetBox.css({top:a.asCssSize(e.top,this.adjustZoomForMove(f)),left:a.asCssSize(e.left,this.adjustZoomForMove(g)),width:e.width*this.adjustZoomForResize(g),height:e.height*this.adjustZoomForResize(f)});
this.onResize()};d.prototype._applyGuts=function(g,h){var u=this.layout;var f=this.$layout;var s=g.position;this.$widgetBoxHeaderInner.html("&nbsp;"+a.escapeHTML(g.header)+"&nbsp;");this.$widgetBoxHeader.css("font-size",_.isNumber(g.headerHeight)?g.headerHeight+"px":"");
var j=false;var n=this.context.isReportEmbedded();if(!n){var r=this.context.mainReport();var v=u&&r.canApplyResizingLogic();var m=v?u.resizingLogic.zoomX():1;var l=v?u.resizingLogic.zoomY():1;this.$widgetBox.css("top",a.asCssSize(s.top,this.adjustZoomForMove(l)));
this.$widgetBox.css("left",a.asCssSize(s.left,this.adjustZoomForMove(m)));var k=s.width*this.adjustZoomForResize(m);if(this.$widgetBox.width()!=k){this.$widgetBox.width(k);j=true}var w=s.height*this.adjustZoomForResize(l);if(this.$widgetBox.height()!=w){this.$widgetBox.height(w);
j=true}}else{this.$widgetBox.width(f.width());this.$widgetBox.height(f.height());j=true}this.$widgetBox.css("zIndex",this.zIndex());var i=this.context.isReportEditingOnly();if(!i){var q=this._boxStyle(g);if(g.noPrint){if(q!=null){q+=" ic3-no-print"}else{q="ic3-no-print"
}}this._applyCssClass(this.$widgetBox,g.cssWidget,"box",q);this._applyCssClass(this.$widgetBoxHeader,g.cssHeader,"header");this._applyCssClass(this.$widgetBoxContent,g.cssContent,"content");this._applyCssStyle(this.$widgetBoxInner,g.cssWidget);this._applyCssStyle(this.$widgetBoxHeaderInner,g.cssHeader);
this._applyCssStyle(this.$widgetBoxContentInner,g.cssContent)}if(j){this._refreshPayloadSize();if(!h){}}var o=".ic3-box";this._$showOnVizReq=null;this.$widgetBoxContent.removeClass("ic3-collapse-icon");this.$widgetBoxHeader.off(o);var p=this;switch(g.behaviour){case"Tooltip (hover)":p.$widgetBox.addClass("ic3-tooltip-hover");
p.$widgetBoxHeader.on("mouseenter"+o,function(){p.$widgetBoxContent.show();p.onContentShow()});p.$widgetBoxHeader.on("mouseleave"+o,function(){p.$widgetBoxContent.hide()});p.$widgetBoxContent.hide();break;case"Tooltip (click)":p.$widgetBox.addClass("ic3-tooltip-click");
var t=function(){p.oldHeight=p.$widgetBox.outerHeight();p.$widgetBox.height(p.$widgetBoxHeader.outerHeight());p.$widgetBox.addClass("ic3-hide-resizable")};t();p.$widgetBoxHeader.on("click"+o,function(){p.$widgetBoxContent.toggle();if(p.$widgetBoxContent.is(":visible")){p.$widgetBox.height(p.oldHeight);
p.$widgetBox.removeClass("ic3-hide-resizable");p.onContentShow()}else{t()}});p.$widgetBoxContent.hide();break;case"Pop-up":p.$widgetBox.addClass("ic3-tooltip-popup");var e=this.context.isReportOnly()?p.$widgetBox:p.$widgetBoxContent;p.$widgetBoxHeader.on("click"+o,function(){e.hide()
});e.hide();p.$widgetBoxHeader.addClass("ic3-collapse-icon");this._$showOnVizReq=e;break;default:}return g};d.prototype.onContentShow=function(){this.widgetAdapter().onContainerShow()};d.prototype._applyCssClass=function(e,f,j,i){var g=this.cssClassCache[j];
if(g){e.removeClass(g)}var h;if(f&&f.cssClass){h=f.cssClass+(i?" "+i:"")}else{h=i}if(!a.isEmptyString(h)){e.addClass(h)}this.cssClassCache[j]=h};d.prototype._applyCssStyle=function(e,f){if(f){e.attr("style",f.cssStyle)}else{e.attr("style","")}};d.prototype.onGridChange=function(e){e=[parseInt(e),parseInt(e)];
this.$widgetBox.resizable("option","grid",e);this.$widgetBox.draggable("option","grid",e)};d.prototype.unregisterWidget=function(){var e=this.widgetAdapter();if(e){e.unregisterWidget()}};d.prototype.getState=function(e){return this.getStateWithMode(e)};d.prototype.getStateWithMode=function(e){var f=true;
if(this._$showOnVizReq){f=this._$showOnVizReq.is(":visible")}else{if(this.$widgetBoxContent){f=this.$widgetBoxContent.is(":visible")}}return{contentVisible:f,widget:this.widgetAdapter().getState(e)}};d.prototype.setState=function(e){var f=e;if(e&&e.contentVisible!=null){f=e.widget;
if(e.contentVisible){if(this._$showOnVizReq){this._$showOnVizReq.show()}else{this.$widgetBoxContent.show()}}}this.widgetAdapter().setState(f)};d.prototype.destroy=function(){this.navMenuUpdated=false;this.windowMouseUpHandler&&$("body").unbind("mousedown",this.windowMouseUpHandler);
var e=this.widgetAdapter();if(e){e.destroy();e=null}$("#"+this.guid()).remove()};d.prototype.adjustZoomForMove=function(e){return this.isResizingPolicyForMove_()?e:1};d.prototype.adjustZoomForResize=function(e){return this.isResizingPolicyForResize_()?e:1};
d.prototype.isResizingPolicyForResize_=function(){var e=this.evalGutsField("resizePolicy");return e==null||e==d.ResizePolicy.MOVE_RESIZE};d.prototype.isResizingPolicyForMove_=function(){var e=this.evalGutsField("resizePolicy");return e==null||e==d.ResizePolicy.MOVE_RESIZE||e==d.ResizePolicy.MOVE
};d.prototype.pushMessages=function(h){var k=this;c.prototype.pushMessages.call(this,h);var g=this.context.mainReport().reportMode();var f=_.reduce(this.messages,function(m,l){return Math.min(m,l.level)},a.LogLevel.DEBUG);var e=this.$widgetBox.find(".ic3-control-right .glyphicons");
var i=e.css("display");if(f<=a.LogLevel.WARNING&&(g===a.MainReportMode.EDITING_REPORTING||g===a.MainReportMode.EDITING)){var j=function(l){e.removeClass("warning").css("display",i).off("click");k.clearMessages();k.context.bottomConsoleAppender.showConsole([k]);
new a.WidgetOptionsCommand(k.context.layout(),k).execute()};this.widgetAdapter().updateConfigState(a.WidgetConfigState.ERROR);this.setPlaceholder(a.WidgetConfigState.ERROR,j);e.addClass("warning").css("display","").on("click",j)}};d.prototype.setPlaceholder=function(g,i){var k=this;
if(i===void 0){i=function(l){}}var h=null;this.$widgetBoxContent.find(".ic3-box-placeholder").remove();this.$widgetBoxContentInner.show();switch(g){case a.WidgetConfigState.NEW:h=this.context.l("ic3.fixed_layout_box.placeholder.not_configured");break;case a.WidgetConfigState.ERROR:var j=_.last(this.messages)||{message:""};
h='<i title="'+j.message+'" class="glyphicons glyphicons-warning-sign"/>';break;case a.WidgetConfigState.NO_DATA:h=this.context.l("ic3.fixed_layout_box.placeholder.no_data");break;case a.WidgetConfigState.WAITING_EVENT:h=this.guts().waitingEventPlaceholder||this.context.l("ic3.fixed_layout_box.placeholder.waiting_event");
break;case a.WidgetConfigState.UNAVAILABLE:h=this.context.l("ic3.fixed_layout_box.placeholder.unavailable");break;case a.WidgetConfigState.COMPLETE:default:}if(this.context.isReportOnly()){i=function(){};if(g!=a.WidgetConfigState.WAITING_EVENT&&g!=a.WidgetConfigState.ERROR){h=null
}}if(h){var e=this._payloadDimension().h;var f=$('<div class="ic3-box-placeholder" style="height:'+e+"px; line-height: "+e+'px">   <span class="ic3-box-placeholder-content">'+h+"</span></div>").appendTo(this.$widgetBoxContent).on("click",i);f.on("mouseover",function(){f.attr("title",k.widgetAdapter().getStateInformation(g))
});this.$widgetBoxContentInner.hide()}};d.cls="ic3-fixed-layout-box";d.ddHelperCls="ic3-menu-dd-box";d.dragDropHelperTpl=doT.template('<div class="'+d.ddHelperCls+'" style="width: {{=d.width}}px; height: {{=d.height}}px;"><div class="ic3-box-header"><div class="ic3-inner"> {{=d.header}}</div></div></div>');
d.defaultWidth=200;d.defaultChartWidth=400;d.defaultHeight=130;d.defaultChartHeight=200;d.ResizePolicy={MOVE_RESIZE:"move-resize",MOVE:"move",NONE:"none"};return d}(a.WidgetBox));a.FixedLayoutBox=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var e=b.reporting.editor.OptionMetaType;var d=(function(g){__extends(f,g);function f(h){g.call(this,h,c)}f.prototype.getId=function(){return"FixedLayout"
};f.prototype.getName=function(){return this.context.l("ic3.fixed_layout.name")};return f}(b.LayoutFactory));b.FixedLayoutFactory=d;var c=(function(g){__extends(f,g);function f(h){g.call(this,h);this.classID="ic3.FixedLayout";if(h.isForPrinting()){this.resizingLogic=new b.FixedLayoutPrintSizingPolicy(h,this)
}else{this.resizingLogic=new b.FixedLayoutScreenSizingPolicy(h,this)}this.selectionHandler=new b.SelectionHandler(this)}f.prototype.createDefaultGuts=function(h){return $.extend(g.prototype.createDefaultGuts.call(this,h),{grid:f.gridSize,boxes:[],backupEnabled:true,backupInterval:300})
};f.prototype.getOptionsMeta=function(){return[{label:this.context.l("ic3.fixed_layout.options.theme"),valueRef:"theme",type:e.SELECT,suggestion:_.map(this.context.getThemesRepository().getThemesList(),function(h){return({caption:h.name,value:h.name})})},{label:this.context.l("ic3.fixed_layout.options.locale"),valueRef:"locale",type:e.SELECT,defaultValue:"auto",suggestion:[{caption:"Auto",value:"auto"}].concat(this.context.gviConfiguration().localesInfo().listLocales().map(function(j){var h=j.locale,i=j.caption;
return({caption:i,value:h})}))},{label:this.context.l("ic3.fixed_layout.options.css"),valueRef:"css",type:e.TEXT},{label:this.context.l("ic3.fixed_layout.options.snap_to_grid"),valueRef:"grid",type:e.NUMBER,unit:"px"},{label:this.context.l("ic3.fixed_layout.options.background"),valueRef:"backgroundCss",type:e.TEXT,suggestion:["ic3-background-indicator"]},{label:this.context.l("ic3.fixed_layout.options.size"),valueRef:"sizeIndicator",type:e.SELECT,suggestion:[{caption:"iPad",value:{width:"768",height:"1024"}},{caption:"iPad Landscape",value:{width:"1024",height:"768"}},{caption:"iPhone4",value:{width:"640",height:"960"}},{caption:"iPhone",value:{width:"320",height:"480"}}],children:[{label:this.context.l("ic3.fixed_layout.options.width"),valueRef:"sizeIndicator.width",type:e.NUMBER,unit:"px"},{label:this.context.l("ic3.fixed_layout.options.height"),valueRef:"sizeIndicator.height",type:e.NUMBER,unit:"px"},{label:this.context.l("ic3.fixed_layout.options.ratio"),valueRef:"sizeIndicator.ratio",type:e.NUMBER,detailedInfo:this.context.l("ic3.fixed_layout.options.ratio.description")}]},{label:this.context.l("ic3.fixed_layout.options.margin"),valueRef:"autoMargin",type:e.SELECT,detailedInfo:this.context.l("ic3.fixed_layout.options.margin.description"),suggestion:[{caption:"5px",value:{left:"5",right:"5",top:"5",bottom:"5"}},{caption:"10px",value:{left:"10",right:"10",top:"10",bottom:"10"}}],children:[{label:this.context.l("ic3.fixed_layout.options.margin_left"),valueRef:"autoMargin.left",type:e.NUMBER,unit:"px"},{label:this.context.l("ic3.fixed_layout.options.margin_right"),valueRef:"autoMargin.right",type:e.NUMBER,unit:"px"},{label:this.context.l("ic3.fixed_layout.options.margin_top"),valueRef:"autoMargin.top",type:e.NUMBER,unit:"px"},{label:this.context.l("ic3.fixed_layout.options.margin_bottom"),valueRef:"autoMargin.bottom",type:e.NUMBER,unit:"px"}]},{label:this.context.l("ic3.fixed_layout.options.resize_mode"),valueRef:"resizePolicy",type:e.TEXT,detailedInfo:this.context.l("ic3.fixed_layout.options.resize_mode.description"),children:[{label:this.context.l("ic3.fixed_layout.options.fit_to_width"),valueRef:"resizePolicy.fitToWidth",type:e.BOOLEAN},{label:this.context.l("ic3.fixed_layout.options.min_width"),valueRef:"sizeIndicator.minWidth",type:e.NUMBER},{label:this.context.l("ic3.fixed_layout.options.max_width"),valueRef:"sizeIndicator.maxWidth",type:e.NUMBER},{label:this.context.l("ic3.fixed_layout.options.fit_to_height"),valueRef:"resizePolicy.fitToHeight",type:e.BOOLEAN},{label:this.context.l("ic3.fixed_layout.options.min_height"),valueRef:"sizeIndicator.minHeight",type:e.NUMBER},{label:this.context.l("ic3.fixed_layout.options.max_height"),valueRef:"sizeIndicator.maxHeight",type:e.NUMBER},{label:this.context.l("ic3.fixed_layout.options.font_zoom"),valueRef:"fontResizing",type:e.SELECT,suggestion:[{caption:this.context.l("ic3.fixed_layout.options.horizontal_zoom"),value:"Zoom-X"},{caption:this.context.l("ic3.fixed_layout.options.vertical_zoom"),value:"Zoom-Y"}]}]},{label:this.context.l("ic3.fixed_layout.options.auto_refresh"),valueRef:"autoRefresh",type:e.NUMBER,detailedInfo:this.context.l("ic3.fixed_layout.options.auto_refresh.description"),unit:"sec"},{label:this.context.l("ic3.fixed_layout.options.cell_max_count"),valueRef:"cellMaxCount",type:e.NUMBER,suggestion:[],defaultValue:1000,range:{step:10},unit:"cells"},{label:this.context.l("ic3.fixed_layout.options.backup_enabled"),valueRef:"backupEnabled",type:e.BOOLEAN,detailedInfo:this.context.l("ic3.fixed_layout.options.backup_enabled.description")},{label:this.context.l("ic3.fixed_layout.options.backup_interval"),valueRef:"backupInterval",type:e.NUMBER,detailedInfo:this.context.l("ic3.fixed_layout.options.backup_interval.description"),unit:"sec"}]
};f.prototype.afterRestoreGuts=function(){if(!this.guts_.ic3Version){this.guts_.grid=parseInt(this.guts_.grid,10);if(this.guts_.sizeIndicator){this.guts_.sizeIndicator.width=parseInt(this.guts_.sizeIndicator.width,10);this.guts_.sizeIndicator.height=parseInt(this.guts_.sizeIndicator.height,10)
}}this.eSizeIndicator_=this.computeActualSizeIndicator_(this.guts_.sizeIndicator)};f.prototype.grid=function(){return this.guts_.grid||1};f.prototype.waitForAllWidgetsRendered=function(k,j){var i=this;i.widgetRenderedSequence_=k;b.logMsg("[ic3-request] wait-for-all-widgets-rendered (seq:"+k+")");
var h=function(){if(i.areAllWidgetsRendered_()){if(i.widgetRenderedSequence_){j&&j()}return}setTimeout(h,10)};h()};f.prototype.areAllWidgetsRendered_=function(){var h=this.guts_.boxes;for(var i=0;i<h.length;i++){var j=h[i];if(!j.isIgnoredForReportRendered()&&!j.isRendered()){return false
}}return true};f.prototype.buildInEmbeddedHtml=function(){var h=this;var i=h.evalGuts();$.each(i.boxes,function(j,l){try{l.render(h)}catch(k){var n=l.header();var m=b.isEmptyString(n)?".":" ("+n+").";h.context.errorMgr().addError("fixedLayout.error.render",[m,k.toString()],l.guid(),k)
}})};f.prototype.buildInHtml=function(s){var q=this;var t=this;t.$container=s;this.resetResizeLogicToFont();this.eSizeIndicator_=this.computeActualSizeIndicator_(this.guts().sizeIndicator);var k=this.context.mainReport();if(k.canApplyResizingLogic()){this.resizingLogic.computeZoomFactors();
this.applyResizeLogicToFont(-1);if(!this.resizeHandler){this.bindResizeEvent()}}else{this.resizingLogic.resetZoomFactors();this.unbindResizeEvent()}var r=b.uniqueId();s.append("<div class='ic3-fixed-layout ' id='"+r+"'></div>");t.$layout=s.find("#"+r);var n=b.FixedLayoutUtilities.calculateMinimalReportSpace(this.guts(),this.context);
var m=_.defaults({},this.guts().autoMargin,{left:"0",right:"0",top:"0",bottom:"0"});if(t.$layout.height()<=0){var j=parseInt(m.top);j=_.isFinite(j)?j:0;var o=parseInt(m.bottom);o=_.isFinite(o)?o:0;if(j>0){t.$layout.css("margin-top",j+"px")}if(o>0){t.$layout.css("margin-bottom",o+"px")
}t.$layout.css("margin-top",j+"px");t.$layout.height(n.maxY);t.$layout.closest(".ic3-reporting-middle-panel").height(n.maxY+3)}if(t.$layout.width()<=0){var l=parseInt(m.left);l=_.isFinite(l)?l:0;var p=parseInt(m.right);p=_.isFinite(p)?p:0;if(l>0){t.$layout.css("margin-left",l+"px")
}if(p>0){t.$layout.css("margin-right",p+"px")}t.$layout.width(n.maxX);t.$layout.closest(".ic3-reporting-middle-panel").width(n.maxX+3)}var i=t.evalGuts();t._applyMainCssClass(i.css);t._setupSizeIndicator(i);t.switchModeCss();$.each(i.boxes,function(u,w){try{w.render(t)
}catch(v){var y=w.header();var x=b.isEmptyString(y)?".":" ("+y+").";t.context.errorMgr().forceError(this.context.l("ic3.fixed_layout.render_failed",x,v.toString()),w.guid(),v)}});t.$container.bind("ic3.drag",function(w,v,u){t.onWidgetDrag(v,u)});t.$container.bind("resize",function(u,v){t.onWidgetDrag(u,v)
});t.$container.bind("dragstop resizestop",function(){t.onWidgetDrop()});if(k.isEditingMode()){t.selectionHandler.setupEventBinding();t.selectionHandler.onSelectionChange(true)}else{t.$container.find("."+b.FixedLayoutBox.cls).addClass(f.unselectableCls);t.cleanupZIndexes(1)
}if(this.refreshTimer){clearInterval(this.refreshTimer)}if(k.isReportingMode()&&i.autoRefresh&&i.autoRefresh>=1){this.refreshTimer=setInterval(function(){q.context.refreshData()},i.autoRefresh*1000)}var h=i.locale==null||i.locale=="auto"?(this.context.userInfo().getLocale().localeCode||b.getNavigatorLocale()):i.locale
};f.prototype.bindResizeEvent=function(){if(this.resizeHandler){return}var h=this;$(window).on("resize",this.resizeHandler=function(i){if(h.resizeTimer){clearTimeout(h.resizeTimer)}if($.isWindow(i.target)&&$.contains(i.target.document,h.$container.get(0))){h.resizeTimer=setTimeout(function(){h.applyResizeLogic()
},100)}})};f.prototype.unbindResizeEvent=function(){if(this.resizeHandler){$(window).off("resize",this.resizeHandler);this.resizeHandler=null}};f.prototype.refreshHtmlFromGuts=function(k){this.eSizeIndicator_=this.computeActualSizeIndicator_(k.sizeIndicator);
var h=this;if(k){h.guts_=k}var j=h.evalGuts();h._applyMainCssClass(j.css);h._setupSizeIndicator(j);var i=h.grid();$.each(j.boxes,function(l,m){m.onGridChange(i)})};f.prototype._applyMainCssClass=function(h){if(!b.isEmptyString(h)){}};f.prototype.computeActualSizeIndicator_=function(h){if(!h){return h
}var k=h.width;var i=h.height;if(k&&i){return{width:k,height:i}}if(h.ratio){var j=h.ratio;if(!b.isNumber(j)){j=b.printPaperRatioValue(h.ratio)}if(k){return{width:k,height:k/j}}if(i){return{width:i*j,height:i}}}return h};f.prototype._setupSizeIndicator=function(k){this.$layout.find(".ic3-fixed-size-indicator").remove();
if(!b.isEmptyString(this.backgroundIndicatorClass_)){this.$layout.removeClass(this.backgroundIndicatorClass_);this.backgroundIndicatorClass_=null}if(!this.context.mainReport().isReportingMode()){var j=k.backgroundCss;var i=this.eSizeIndicator_;if(i){this.$layout.append("<div class='ic3-fixed-size-indicator'></div>");
var h=this.$layout.find(".ic3-fixed-size-indicator");h.width(i.width);h.height(i.height);if(!b.isEmptyString(j)){h.addClass(j)}}else{if(!b.isEmptyString(j)){this.$layout.addClass(this.backgroundIndicatorClass_=j)}}}};f.prototype.switchModeCss=function(){var i=this.context.mainReport();
if(i.isReportWithSnapshot()){this.$layout.removeClass("ic3-editing-mode ic3-editing-reporting-mode").addClass("ic3-reporting-mode ic3-snapshot")}else{var h=i.reportMode();switch(h){case b.MainReportMode.EDITING:this.$layout.removeClass("ic3-reporting-mode ic3-editing-reporting-mode ic3-snapshot").addClass("ic3-editing-mode");
break;case b.MainReportMode.REPORTING:this.$layout.removeClass("ic3-editing-mode ic3-editing-reporting-mode ic3-snapshot").addClass("ic3-reporting-mode");break;case b.MainReportMode.EDITING_REPORTING:this.$layout.removeClass("ic3-editing-mode ic3-reporting-mode ic3-snapshot").addClass("ic3-editing-reporting-mode");
break;default:}}};f.prototype.getBoxes=function(){return this.guts_.boxes};f.prototype.addBox=function(i){var h=this;i.uid()||i.uid(b.uniqueId());h.guts_.boxes.push(i);i.zIndex(b.FixedLayoutUtilities.getMaxZIndex(this));i.render(h)};f.prototype.setupEventDefaultValues=function(){this.context.eventMgr().setupDefaultValues(this.guts_.boxes)
};f.prototype.buildEventSkeleton=function(){var j=this.context.eventMgr();var h=this.context.gviConnection();var i=this.guts_.boxes;j.buildEventSkeleton(h,i)};f.prototype.onBuildAllDone=function(){this.eachBox(function(h,i){i.onBuildAllDone()})};f.prototype.eachBox=function(h){$.each(this.guts_.boxes,h)
};f.prototype.removeBoxes=function(n){var l=this;for(var m=0;m<n.length;m++){var h=n[m];h.unregisterWidget();var k=l.context.globalFilter();if(k){var j=h.widgetAdapter();j.forEachProducedEvents(function(i){k.unregisterEvent(i.key)})}h.destroy();b.arrayRemove(l.guts_.boxes,h)
}l.fireEvent("remove",n);l.context.rebuildAll()};f.prototype.updateHistory=function(h){this.context.updateHistory(h)};f.prototype.getEmbeddedInfo=function(){var h=[];this.eachBox(function(i,j){var k=j.guts_.advanced.embeddedDiv;if(!b.isEmptyString(k)){h.push({id:k})
}});return h};f.prototype.viewWidth=function(){var h=this.eSizeIndicator_?this.eSizeIndicator_.width:null;if(!h){h=this.$layout.width()}return this.snapToGrid(h)};f.prototype.viewHeight=function(){var h=this.eSizeIndicator_?this.eSizeIndicator_.height:null;
if(!h){h=this.$layout.height()}return this.snapToGrid(h)};f.prototype.snapToGrid=function(i){var h=this.grid();return Math.floor((i/h)+0.5)*h};f.prototype.handleKeyDown=function(k){var n=k.which;if(n>=$.ui.keyCode.LEFT&&n<=$.ui.keyCode.DOWN){this.handleCursorKey(n);
k.preventDefault()}var l=("A".charCodeAt(0)==n||"a".charCodeAt(0)==n);if((k.ctrlKey||k.metaKey)&&l){var j=[];j.push.apply(j,this.getBoxes());this.selectionHandler.setSelection(j);k.preventDefault()}if(n===9&&this.getBoxes().length>1){var i=this.selectionHandler.selectedBoxes[0];
var h=this.getBoxes()[0];if(i){var m=_.findIndex(this.getBoxes(),function(o){return _.isEqual(o,i)})+1;if(this.getBoxes().length>m){h=this.getBoxes()[m]}}this.selectionHandler.setSelection([h]);k.preventDefault()}};f.prototype.handleCursorKey=function(r){var l=this.selectionHandler.selectedBoxes;
if(l&&l.length>0){var n;var h;switch(r){case $.ui.keyCode.LEFT:n=-1;h=true;break;case $.ui.keyCode.UP:n=-1;h=false;break;case $.ui.keyCode.RIGHT:n=1;h=true;break;case $.ui.keyCode.DOWN:n=1;h=false;break;default:}var s=b.arrayCopy(l);s.sort(function(u,t){var w=h?u.left():u.top();
var v=h?t.left():t.top();return w-v});var k=n*this.grid();var o=h?0:k;var j=h?k:0;var p=s[0];var q=h&&p.left()+k>=0;var i=!h&&p.top()+k>=0;if(q||i){var m=new b.MoveBoxCommand(s,o,j);m.execute()}}};f.prototype.onWidgetDrag=function(h,i){if(i){b.DragDropHelper.drawMarkers(this,i.helper)
}};f.prototype.onWidgetDrop=function(){b.DragDropHelper.clearMarkers(this)};f.prototype.cleanupZIndexes=function(n){var m=[].concat(this.guts_.boxes);m.sort(function(p,i){return p.zIndex()-i.zIndex()});var o=n-1;var l;for(var h=0;h<m.length;h++){var k=m[h];
var j=k.zIndex();if(l!==j){l=j;o++}k.zIndex(o)}return o+1};f.prototype.applyResizeLogic=function(){this.resizingLogic.computeZoomFactors();this.applyResizeLogicToFont(-1);var i=this.resizingLogic.zoomX();var h=this.resizingLogic.zoomY();if(i!=1||h!=1){this.eachBox(function(j,k){k.adjustPosition(i,h)
})}};f.prototype.resetResizeLogicToFont=function(){this.applyResizeLogicToFont(1)};f.prototype.applyResizeLogicToFont=function(h){if(h==-1){h=this.resizingLogic.zoomFont()}var i=this.$container;i.css("font-size",h+"em")};f.prototype.getState=function(h){var m={};
var k=this.getBoxes();for(var j=0;j<k.length;j++){var l=k[j];var n=l.getState(h);if(n){m[l.uid()||l.uid(b.uniqueId())]=n}}return new a(this.context,{widgets:m})};f.prototype.setState=function(m){var l=m.widgetsState();var j=this.getBoxes();for(var h=0;h<j.length;
h++){var k=j[h];var n=l[k.uid()];if(n){k.setState(n)}}};f.clearMainCssClass=function(i){var h=window;if(!b.isEmptyString(h.ic3prevMainCssClass)){i.$container.removeClass(h.ic3prevMainCssClass);delete h.ic3prevMainCssClass}};f.prototype.destroy=function(){g.prototype.destroy.call(this);
delete this.widgetRenderedSequence_;this.unbindResizeEvent();this.eachBox(function(h,i){i.destroy()});if(this.$container){this.$container.empty()}};f.unselectableCls="ic3-box-unselectable";f.gridSize=10;return f}(b.ReportLayout));b.FixedLayout=c;var a=(function(g){__extends(f,g);
function f(i,h){g.call(this,i,h);this.classID="ic3.FixedLayoutState"}f.prototype.eachWidgetState=function(h){b.each(this.widgetsState(),h)};f.prototype.widgetsState=function(){return this.guts().widgets};return f}(b.Serializable));b.FixedLayoutState=a})(ic3||(ic3={}));
var ic3;(function(a){a.DragDropHelper=function(){var k="ic3-DD-mark";var f='<div class="'+k+'"></div>';var l=20;var d=function(o){var n=o.offset();return{top:n.top,bottom:n.top+o.height(),left:n.left,right:n.left+o.width()}};var j=function(s,n,t,u){var q=s.$layout.find(".ic3-fixed-size-indicator");
var o;if(q.length>0){o=d(q)}for(var r=0;r<n.length;r++){var v=n[r];$.each(s.getBoxes(),function(w,A){if(A.$widgetBox.is(":visible")){var x=d(A.$widgetBox);var z=new b(v,x);if(z.hasCommonBorder()){if(z.hasCommonHorizontalBorder()){var B=z.getCommonHorizontalBorders();
i(B,x,v,t)}if(z.hasCommonVerticalBorder()){var y=z.getCommonVerticalBorders();m(y,x,v,u)}}c(z,v,x,u,t)}});if(o){var p=new b(v,o);c(p,v,o,u,t)}}};var i=function(p,t,r,w){var n=t.left;var s=t.right;for(var o=0;o<p.length;o++){var q=p[o];var u="h"+q;if(!w[u]){w[u]={top:q,left:Math.min(n,r.left),right:Math.max(s,r.right)}
}else{var v=w[u];if(v.left>n){v.left=n}if(v.right<s){v.right=s}}}};var m=function(v,t,s,q){var r=t.top;var n=t.bottom;for(var p=0;p<v.length;p++){var o=v[p];var u="v"+o;if(!q[u]){q[u]={left:o,top:Math.min(r,s.top),bottom:Math.max(n,s.bottom)}}else{var w=q[u];
if(w.top>r){w.top=r}if(w.bottom<n){w.bottom=n}}}};function c(r,n,p,o,q){if(r.hasCommonHorizontalCenter()){m([r.getHorizontalCenter(n)],p,n,o)}if(r.hasCommonVerticalCenter()){i([r.getVerticalCenter(n)],p,n,q)}}var e=function(o,n){var r=$();for(var q in n){if(n.hasOwnProperty(q)){var p=n[q];
r=r.add(g(o,{top:p.top+o.scrollTop(),left:p.left-l+o.scrollLeft(),width:p.right-p.left+(2*l),borderWidth:"1px 0 0"}))}}o.append(r)};var h=function(o,n){var r=$();for(var p in n){if(n.hasOwnProperty(p)){var q=n[p];r=r.add(g(o,{top:q.top-l+o.scrollTop(),left:q.left+o.scrollLeft(),height:q.bottom-q.top+(2*l),borderWidth:"0 1px 0 0"}))
}}o.append(r)};var g=function(n,o){var p=n.offset();return $(f).css($.extend({position:"absolute",zIndex:a.zIndexConst.widgetDDLine,width:0,height:0},o,{top:o.top-p.top,left:o.left-p.left}))};return{drawMarkers:function(r,s){a.DragDropHelper.clearMarkers(r);
var o=[];var q=s.find("."+a.FixedLayoutBox.ddHelperCls);if(q.length>0){q.each(function(t,u){o.push(d($(u)))})}else{o.push(d(s))}var p={};var n={};j(r,o,p,n);e(r.$layout,p);h(r.$layout,n)},clearMarkers:function(n){n.$layout.find("."+k).remove()}}}();var b=(function(){function c(e,d){this.box1=e;
this.box2=d}c.prototype.hasCommonBorder=function(){return this.hasCommonVerticalBorder()||this.hasCommonHorizontalBorder()};c.prototype.getCommonHorizontalBorders=function(){var d=[];if(this.hasCommonBorderOnTop()){d.push(this.box1.top)}if(this.hasCommonBorderOnBottom()){d.push(this.box1.bottom)
}return d};c.prototype.getCommonVerticalBorders=function(){var d=[];if(this.hasCommonBorderOnLeft()){d.push(this.box1.left)}if(this.hasCommonBorderOnRight()){d.push(this.box1.right)}return d};c.prototype.hasCommonHorizontalBorder=function(){return this.hasCommonBorderOnTop()||this.hasCommonBorderOnBottom()
};c.prototype.hasCommonBorderOnTop=function(){return this.box1.top===this.box2.top||this.box1.top===this.box2.bottom};c.prototype.hasCommonBorderOnBottom=function(){return this.box1.bottom===this.box2.bottom||this.box1.bottom===this.box2.top};c.prototype.hasCommonVerticalBorder=function(){return this.hasCommonBorderOnLeft()||this.hasCommonBorderOnRight()
};c.prototype.hasCommonBorderOnLeft=function(){return this.box1.left===this.box2.left||this.box1.left===this.box2.right};c.prototype.hasCommonBorderOnRight=function(){return this.box1.right===this.box2.right||this.box1.right===this.box2.left};c.prototype.hasCommonHorizontalCenter=function(){return this.getHorizontalCenter(this.box1)===this.getHorizontalCenter(this.box2)
};c.prototype.getHorizontalCenter=function(d){return d.left+((d.right-d.left)/2)};c.prototype.hasCommonVerticalCenter=function(){return this.getVerticalCenter(this.box1)===this.getVerticalCenter(this.box2)};c.prototype.getVerticalCenter=function(d){return d.top+((d.bottom-d.top)/2)
};return c}())})(ic3||(ic3={}));var ic3;(function(b){var a=(function(){function c(d,e){this.menuItems=[];this.subMenusContainerCls="ic3-box-sub-menus";this.subMenuContainerClass="ic3-box-sub-menu";this.emptyMenuClass="ic3-box-empty-menu";this.boxOldZIndex=null;
this.container=d;this.box=e}c.prototype.addItems=function(d){b.arrayConcat(this.menuItems,d);this._buildMenu()};c.prototype.hasMenuItems=function(){return this.menuItems.length>0};c.prototype._buildMenu=function(){this.container.empty();var e='<div class="ic3-box-menus"><div class="'+this.subMenusContainerCls+'"></div><div class="ic3-box-group-menu">';
var d=this;$.each(this.menuItems,function(g,h){var i=h.itemClass?h.itemClass:"";var f=i?"":h.caption;h.items||d._isNavigationMenu(h)||(i+=" "+d.emptyMenuClass);e+='<span id="'+h.guid+'" class="'+i+'" title="'+h.caption+'">'+f+'<div class="ic3-nav-icon-state"></div></span>'
});e+="</div></div>";this.container.html(e);this._afterBuildMenu()};c.prototype._isNavigationMenu=function(d){return d instanceof b.NavigationMenuBase};c.prototype._afterBuildMenu=function(){var d=this;$.each(this.menuItems,function(e,h){var f=d.container.find("#"+h.guid);
var g=d._isNavigationMenu(h);if(h.items||g){if(g){h.setIconElement(f)}f.on("click",function(i){d.container.find("."+d.subMenusContainerCls).empty();if(g){d.renderNavigationMenu(h)}else{d._buildSubMenu(h.items,0,h.multiSelect,i)}d._addActive(h.guid)})}else{f.on("click",function(){f.hasClass("ui-state-disabled")||d._clearSubMenu()
})}if(h.handler){f.click(function(i){if(!f.hasClass("ui-state-disabled")){d._addActive(h.guid);setTimeout(function(){d.container.find("#"+h.guid).removeClass("ic3-box-menu-active")},50);d._handleItemClick(h.handler,false,i)}})}});this._resizeContainers(false)
};c.prototype.renderNavigationMenu=function(e){this._resizeContainers(true);var d=this.container.find("."+this.subMenusContainerCls);e.render(d)};c.prototype._buildSubMenu=function(d,j,i,g){this.container.find("."+this.subMenuContainerClass).slice(j).remove();
var e=$('<div class="'+this.subMenuContainerClass+'"></div>');var h=$(g.target).position().top;var f='<div class="ic3-sub-menu-spacer" style="height:'+h+'px"></div>';$.each(d,function(l,n){var k=typeof(n.caption)=="function"?n.caption():n.caption;var o=(typeof n.preSelected!==undefined)?n.preSelected:false;
var m=o?" ic3-box-menu-clicked":"";f+='<span id="'+n.guid+'" class="ic3-box-sub-menu-item '+m+'" title="'+k+'">'+k+"</span>"});e.html(f).appendTo(this.container.find("."+this.subMenusContainerCls));this._afterBuildSubMenu(d,j,i);this._stopBubbling(g)};c.prototype._clearSubMenu=function(){this.container.find("."+this.subMenusContainerCls).empty();
this.container.find(".ic3-box-group-menu span").removeClass("ic3-box-menu-active");this._resizeContainers(false)};c.prototype._afterBuildSubMenu=function(d,h,g){var f=this.container.find("."+this.subMenuContainerClass+":eq("+h+")");var e=this;$.each(d,function(j,l){var k=f.find("#"+l.guid);
if(l.handler){k.click($.proxy(e._handleItemClick,e,l.handler,g))}var i;if(b.isArray(l.items)){i=l.items}else{if(b.isFunction(l.itemsFn)){i=l.items=l.itemsFn()}}if(i&&i.length>0){k.mouseenter(function(m){e._buildSubMenu(i,h+1,l.multiSelect,m);e._addActive(l.guid)
})}else{if(l.itemsAsync){k.mouseenter(function(m){if(i){e._buildSubMenu(i,h+1,l.multiSelect,m);e._addActive(l.guid)}else{e._addLoading(l);l.itemsAsync(function(n){e._removeLoading(l);i=l.items=n;if(n.length>0){e._buildSubMenu(n,h+1,l.multiSelect,m);e._addActive(l.guid)
}})}})}else{k.mouseenter(function(){e.container.find("."+e.subMenuContainerClass).slice(h+1).remove()})}}});e._putInTheTop();e._resizeContainers(true,h);e._addScroll(f)};c.prototype._addScroll=function(f){var e=this.container.find("."+this.subMenusContainerCls);
e.show();var d=$(f);var g=e.height();if(d.height()>g){d.slimScroll({height:g+"px",alwaysVisible:true,railVisible:true}).parent().addClass(this.subMenuContainerClass);d.removeClass(this.subMenuContainerClass)}};c.prototype._handleItemClick=function(f,i,g){var e=this;
var d=$(g.target).closest(".ic3-box-sub-menu-item");var h=d.closest(".ic3-box-sub-menu").index();if(d.length>0){this.container.find(".ic3-box-sub-menu").each(function(j,k){if(!i||(i&&j+1!==h)){$(k).find(".ic3-box-sub-menu-item").removeClass("ic3-box-menu-clicked")
}});if(i){d.toggleClass("ic3-box-menu-clicked")}else{d.addClass("ic3-box-menu-clicked")}}f()==false||this._closeMenu(g)};c.prototype._addActive=function(e){var d=this.container.find("#"+e);var f=d.siblings().removeClass("ic3-box-menu-active");d.addClass("ic3-box-menu-active")
};c.prototype._addLoading=function(e){e.loading=true;var d=this.container.find("#"+e.guid);d.addClass("ic3-box-menu-loading")};c.prototype._removeLoading=function(e){e.loading=false;var d=this.container.find("#"+e.guid);d.removeClass("ic3-box-menu-loading")
};c.prototype._resizeContainers=function(o,h){var e=this.container.find("."+this.subMenusContainerCls);if(o){e.css({display:"block",width:this.box.$widgetBoxContent.width(),height:this.box.$widgetBox.height()});var f=this._menuSize(),g=$(this.container),j=g.height(),i=this.container.find(".ic3-box-sub-menu"),l=this.container.parents(".ic3-fixed-layout-box"),k=l.width(),m=l.height();
if(f.height>m){if(h!=undefined){var n=e.find(".ic3-sub-menu-spacer")[h];var d=(f.height-m)>$(n).height()?0:$(n).height()-(f.height-m);f=this._menuSize()}g.height(f.height)}else{if(j>m){g.height(m)}}if(i.length>0){if(f.width>k){g.width(f.width)}else{g.width(k)
}}else{g.width(f.width)}$.each(i,function(q,p){$(p).height(f.height)})}else{e.css("display","none")}};c.prototype._menuSize=function(){var f=this.container.find(".ic3-box-group-menu");var g=0;var e=f.outerWidth();var d=this.container.find(".ic3-box-sub-menu");
$.each(d,function(j,i){var h=0;$.each($(i).children(),function(k,l){h+=$(l).outerHeight()});h>g&&(g=h);e+=$(i).outerWidth()+10});return{height:g,width:e}};c.prototype._putInTheTop=function(){if(this.boxOldZIndex==null){var d=$(this.container.parents().eq(1));
this.boxOldZIndex=parseInt(d.css("z-index"));d.css("z-index",b.zIndexConst.maxZIndex)}};c.prototype._restoreZIndex=function(){var d=this.container.parents().eq(1);d.css("z-index",this.boxOldZIndex);this.boxOldZIndex=null};c.prototype._stopBubbling=function(d){d.cancelBubble=true;
d.stopPropagation&&d.stopPropagation()};c.prototype._closeMenu=function(d){this._clearSubMenu();this._restoreZIndex()};c.prototype.toggle=function(){var d=true;if(this.container.is(":visible")){this.hide();d=false}else{this.container.show()}return d};c.prototype.hide=function(){this._clearSubMenu();
this.container.hide()};c.maxHeight=275;return c}());b.BoxMenu=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(b){var d=(function(){function g(h,i){this.classID="ic3.NavigationMenuBase";this.options=h;this.navigationAction=i;this.navigationAction.bindNavigation($.proxy(this.onNavigate,this));this.guid=b.uniqueId();this.selectionModel=new f(h.multiSelect);
this.activeOptions=[]}g.prototype.setIconElement=function(h){this.iconEl=h;this.updateIcon(this.hasNavigationState())};g.prototype.hasNavigationState=function(){var k=this.getNavigationState();var j=k==null;if(!j){for(var h=0;h<k.length&&!j;h++){j=j||b.isEmptyString(k[h].mdx)
}}return !j};g.prototype.render=function(h){delete this.lastClickedItem;this.container=h;var m="";var j="";if(!this.options.handleOnClick){j='<div class="ic3-nav-apply ui-state-disabled"></div>';m="ic3-nav-header-table-row"}var l="";if(this.options.optionItems){l='<div class="ic3-nav-menu-options"></div>'
}this.container.empty().append('<div class="ic3-nav-menu-toolbar-container"> <div class="ic3-nav-header-container">  <div class="ic3-nav-header '+m+'">'+j+'   <div class="ic3-nav-state-container">'+l+'    <div class="ic3-nav-state">&nbsp;</div>   </div>  </div> </div> <div class="ic3-nav-menu-toolbar"></div> <div class="ic3-nav-menu-border"></div></div><ul class="ic3-nav-menu"></ul>');
var o=this.optionsCt=this.container.find(".ic3-nav-menu-options");this.renderOptionItems(o);var n=this.container.find(".ic3-nav-header");this.stateCt=n.find(".ic3-nav-state");var k=this.applyBtn();if(k.length>0){k.click($.proxy(this.applySelection,this))}this.toolbarCt=this.container.find(".ic3-nav-menu-toolbar");
this.renderToolbar();this.menuCt=this.container.find(".ic3-nav-menu");this.renderMenu(this.options.items,undefined);this.updateNavigationState();var i=this;this.stateCt.click(function(q){var p=$(q.target).closest(".ic3-nav-clear");if(p.length>0){i.handleClearState(p)
}})};g.prototype.renderOptionItems=function(k){var o=$("<div></div>");var l=this.options.optionItems;if(b.isArray(l)&&l.length>0){for(var j=0;j<l.length;j++){var n=l[j];var m="";if(this.activeOptions.indexOf(n)>=0){m+=" ic3-nav-menu-option-active"}if(!this.selectionModel.hasSelection()){m+=" ui-state-disabled"
}var h=$('<span class="'+n.itemClass+m+'" title="'+n.caption+'"></span>');h.click($.proxy(this.handleOptionItemClick,this,n,h));o.append(h)}}k.append(o.children())};g.prototype.renderMenu=function(i,m,k){if(!k){this.renderedItems=i;this.renderedParent=m;this.filterField().val("")
}var h=this;var j=this.toolbarCt.find(".ic3-nav-menu-back");if(m){j.removeClass("ui-state-disabled");j.unbind().click(function(){var n=m.parent;h.renderMenu(n?n.items:h.options.items,n)}).appendTo(l)}else{j.unbind().addClass("ui-state-disabled")}var l=$("<ul></ul>");
if(i.length>0){b.each(i,function(n,r){var q="";if(h.selectionModel.isSelected(r)){q="ic3-box-menu-clicked"}else{if(h.selectionModel.isSelectedParent(r)){q="ic3-box-menu-clicked-parent"}}var p=r.caption;if(k&&r.searchSuffix){p+='<span class="ic3-box-sub-menu-item-info">('+r.searchSuffix+")</span>"
}var o=$('<li class="ic3-box-sub-menu-item '+q+'" title="'+r.caption+'">'+p+"</li>");o.click(function(){h.handleItemClick($(this),r)});l.append(o)})}else{if(k){l.append('<li class="ic3-nav-no-result">No Results</li>')}}if(this.menuCt.parent().hasClass("slimScrollDiv")){this.menuCt.slimScroll({destroy:true})
}this.menuCt.empty().css({width:"",height:""}).append(l.children());this.menuCt.slimScroll({width:this.menuCt.width()+15,height:this.container.height()-this.container.find(".ic3-nav-menu-toolbar-container").outerHeight()})};g.prototype.refreshMenu=function(){this.renderMenu(this.renderedItems,this.renderedParent)
};g.prototype.renderToolbar=function(){this.toolbarCt.append('<div class="ic3-nav-menu-back"></div><span class="ic3-nav-menu-search fa fa-search"></span><div class="ic3-nav-menu-search-box"><input class="ic3-nav-menu-search-input" type="text" placeholder="Search..."/></div><div class="ic3-nav-menu-spacer"></div>');
var i=this.filterField();this.toolbarCt.find(".ic3-nav-menu-search").click(function(){i.focus()});var h=this;i.keyup(function(){var j=$(this).val();h.filterMenu(j)})};g.prototype.filterField=function(){return this.toolbarCt.find(".ic3-nav-menu-search-input")
};g.prototype.filterMenu=function(h){if(b.isEmptyString(h)){this.refreshMenu()}else{this.renderMenu(this.filterMenuItems(h),this.renderedParent,true)}};g.prototype.filterMenuItems=function(h){return this.doFilterMenuItems(h,this.renderedItems)};g.prototype.doFilterMenuItems=function(m,j){var k=[];
for(var l=0;l<j.length;l++){var n=j[l];if(n.searchable){if(n.caption.toLowerCase().indexOf(m.toLowerCase())>=0){k.push(n)}if(!n.itemsAsync){var h;if(b.isArray(n.items)){h=n.items}else{if(b.isFunction(n.itemsFn)){h=n.items=n.itemsFn()}}if(h&&h.length>0){b.arrayConcat(k,this.doFilterMenuItems(m,h))
}}}}return k};g.prototype.onNavigate=function(){if(this.container){this.applyBtn().addClass("ui-state-disabled");this.updateNavigationState()}else{this.updateIcon(this.hasNavigationState())}};g.prototype.applyBtn=function(){return this.container.find(".ic3-nav-apply")
};g.prototype.updateNavigationState=function(i){var h,j;if(i){h=this.buildUnsavedStateStr(this.applyOptionsCaption(i))}else{j=this.getNavigationState();if(j){h=this.buildNavigationStateStr(j);this.updateIcon(h!=="")}else{this.updateIcon(false)}}if(!h){this.disableOptions();
h=this.options.defaultState?this.buildNavigationStateCanvas(this.options.defaultState,false):this.buildUnsavedStateStr("&nbsp;")}else{this.enableOptions()}this.stateCt.empty().html(h)};g.prototype.disableOptions=function(){this.optionsCt.children().addClass("ui-state-disabled")
};g.prototype.enableOptions=function(){this.optionsCt.children().removeClass("ui-state-disabled")};g.prototype.applyOptionsCaption=function(h){var j=h;for(var k=0;k<this.activeOptions.length;k++){j=this.activeOptions[k].value.caption(j)}return j};g.prototype.updateIcon=function(i){var h="ic3-nav-with-state";
if(i){this.iconEl.addClass(h)}else{this.iconEl.removeClass(h)}};g.prototype.buildNavigationStateStr=function(k){var j="";for(var h=0;h<k.length;h++){j+=k[h].caption+(h<k.length-1?", ":"")}return j?this.buildNavigationStateCanvas(j):""};g.prototype.buildNavigationStateCanvas=function(i,h){return'<div class="ic3-nav-state-box"><span class="ic3-nav-state-str" title="'+i+'">'+i+"</span>"+(h!==false?'<span class="ic3-nav-clear"></span>':"")+"</div>"
};g.prototype.buildUnsavedStateStr=function(h){return'<div class="ic3-nav-state-unsaved" title="'+h+'">'+h+"</div>"};g.prototype.getNavigationState=function(){b.assertAbstract("getNavigationState",this);return null};g.prototype.handleItemClick=function(j,k){this.applyBtn().removeClass("ui-state-disabled");
if(!k.parent||!k.parent.multiSelect){j.parent().children().removeClass("ic3-box-menu-clicked")}j.toggleClass("ic3-box-menu-clicked");if(k.value&&(this.options.handleOnClick||(k.parent&&k.parent.handleOnClick))){this.selectionModel.onSelect(k);this.fireSelection()
}else{if(k.value){this.lastClickedItem=k;if(k.value){this.updateNavigationState(k.value.caption)}}}var i;if(b.isArray(k.items)){i=k.items}else{if(b.isFunction(k.itemsFn)){i=k.items=k.itemsFn()}}if(i&&i.length>0){this.renderMenu(k.items,k)}else{if(k.itemsAsync){var h=this;
k.itemsAsync(function(l){k.items=l;h.renderMenu(l,k)})}}};g.prototype.handleOptionItemClick=function(j,h){if(!h.hasClass("ui-state-disabled")){var i=this.activeOptions.indexOf(j);if(i>=0){h.removeClass("ic3-nav-menu-option-active");this.activeOptions.splice(i,1)
}else{h.addClass("ic3-nav-menu-option-active");this.activeOptions.push(j)}if(this.lastClickedItem&&this.lastClickedItem.value){this.updateNavigationState(this.lastClickedItem.value.caption)}else{if(this.selectionModel.hasSelection()){this.options.onOptionsChange(this.activeOptions,this.selectionModel.getSelection())
}}}};g.prototype.applySelection=function(){if(this.lastClickedItem&&this.lastClickedItem.value){this.selectionModel.onSelect(this.lastClickedItem);this.fireSelection()}};g.prototype.handleClearState=function(h){if(this.navigationAction.isDrillDownLastAction()){this.options.onCLearSelection()
}else{this.clearSelectionModel();this.refreshMenu();this.fireSelection()}};g.prototype.clearSelectionModel=function(){this.selectionModel.clear()};g.prototype.fireSelection=function(){delete this.lastClickedItem;this.options.onSelect(this,this.selectionModel.getSelection(),this.activeOptions)
};return g}());b.NavigationMenuBase=d;var c=(function(h){__extends(g,h);function g(i,j){h.call(this,i,j);this.classID="ic3.Axis0NavigationMenu";this.caption="Axis X";this.itemClass="ic3-nav-x-axis"}g.prototype.getNavigationState=function(){return this.navigationAction.getAxis0State()
};return g}(d));b.Axis0NavigationMenu=c;var a=(function(h){__extends(g,h);function g(i,j){h.call(this,i,j);this.classID="ic3.Axis1NavigationMenu";this.caption="Axis Y";this.itemClass="ic3-nav-y-axis"}g.prototype.getNavigationState=function(){return this.navigationAction.getAxis1State()
};return g}(d));b.Axis1NavigationMenu=a;var f=(function(){function g(h){this.selection={};this.keys=[];this.multiSelect=h;this.stack=new e()}g.prototype.onSelect=function(i){var j=this.multiSelect||(i.parent&&i.parent.multiSelect);var h=this.isSelected(i);if(j&&h){this.removeSelection(i)
}else{this.addSelection(i)}this.stack.push([i],!h);return !h};g.prototype.undo=function(){var k=this.stack.pop();var j=k.items;for(var h=0;h<j.length;h++){if(k.selected){this.removeSelection(j[h])}else{this.addSelection(j[h])}}};g.prototype.hasSelection=function(){return this.keys.length>0
};g.prototype.addSelection=function(i){var k=i.parent?i.parent.multiSelect:false;var h=this.itemPath(i);var j=this.selection[h];if(!j){if(!this.multiSelect){this.clear(false)}this.keys.push(h);j=this.selection[h]=[]}if(k){j.push(i)}else{j[0]=i;j.length=1}};
g.prototype.removeSelection=function(j){var h=this.itemPath(j);var i=this.selection[h];if(i){if(i.length==1){delete this.selection[h];this.keys.splice(this.keys.indexOf(h))}else{i.splice(i.indexOf(j),1)}}};g.prototype.isSelected=function(i){var h=this.itemPath(i);
return this.selection[h]&&this.selection[h].indexOf(i)>=0};g.prototype.isSelectedParent=function(k){var h=false;for(var j=0;j<this.keys.length;j++){if(this.keys[j].indexOf(k.guid)>=0){return true}}return false};g.prototype.clear=function(i){if(i!==false){var h=this.createSelectionArray();
if(h.length>0){this.stack.push(h,false)}}this.selection={};this.keys.length=0};g.prototype.createSelectionArray=function(){var h=[];for(var j=0;j<this.keys.length;j++){b.arrayConcat(h,this.selection[this.keys[j]])}return h};g.prototype.clearRow=function(i){var h=this.keys[i];
this.stack.push(this.selection[h],false);delete this.selection[h];this.keys.splice(i,1)};g.prototype.getSelection=function(){var h=[];for(var j=0;j<this.keys.length;j++){h.push(this.selection[this.keys[j]])}return h};g.prototype.itemPath=function(i){var j="";
var h=i.parent;while(h){j=h.guid+"/"+j;h=h.parent}return j};return g}());b.NavigationMenuSelectionModel=f;var e=(function(){function g(){this.stack=[]}g.prototype.push=function(h,i){this.stack.push({items:h,selected:i})};g.prototype.pop=function(){return this.stack.pop()
};g.prototype.clear=function(){this.stack.length=0};return g}())})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(e){var f=this;d.call(this);this.selectedBoxes=[];this.selectedCls="ic3-box-selected";this.selectableBoxSelector="."+a.FixedLayoutBox.cls+":not(."+a.FixedLayout.unselectableCls+")";this.classID="ic3.SelectionHandler";
this.fixedLayout=e;this.fixedLayout.bind("remove",function(g){return f.onRemoveWidgets(g)})}c.prototype.setupEventBinding=function(){var e=this;e.fixedLayout.$layout.bind("mouseup",function(f){if(!e.dragging){e.onMouseUp(f)}}).selectable({filter:e.selectableBoxSelector,start:function(){e.clearSelections();
$("body").click()},stop:function(){e.onSelectionStop()},cancel:".stop-draggable,input,textarea,button,select,option"});e.setupMultiDD()};c.prototype.setupMultiDD=function(){var e=this;var f=e.fixedLayout.$layout;f.bind("mousedown",function(h){if(e.selectedBoxes.length>1){var r=$(h.target).closest(e.selectableBoxSelector);
if(r.length>0){var l,k;var j,p;for(var m=0;m<e.selectedBoxes.length;m++){var n=e.selectedBoxes[m];var o=n.left();if(l===undefined||l>o){l=o}var q=n.top();if(k===undefined||k>q){k=q}if(n.$widgetBox.get(0)===r.get(0)){j=o;p=q}}var g=r.draggable("option","containment");
r.draggable("option","containment",[g[0]+j-l,g[1]+p-k]);r.on("dragstop",function(){$(this).draggable("option","containment",g)});r.on("mouseup",function(){$(this).draggable("option","containment",g)})}}});f.bind("dragstart",function(g,h){if(!($(g.target).hasClass(e.selectedCls))){e.onMouseUp(g)
}if($(g.target).draggable("widget").hasClass(a.FixedLayoutBox.cls)){e.dragging=true;f.addClass("ic3-dragging-box");e.updateHelper(f,h.helper)}});f.bind("dragstop",function(g,i){if(e.dragging){f.removeClass("ic3-dragging-box");e.dragging=false;var h=e.fixedLayout.snapToGrid(i.position.left-i.originalPosition.left);
var j=e.fixedLayout.snapToGrid(i.position.top-i.originalPosition.top);var k=new a.MoveBoxCommand(a.arrayCopy(e.selectedBoxes),j,h);k.execute()}})};c.prototype.updateHelper=function(m,j){var k=m.scrollTop();var l=m.scrollLeft();var j=j.empty().removeClass();
var g=j.position();for(var f=0;f<this.selectedBoxes.length;f++){var h=this.selectedBoxes[f];var e=$(a.FixedLayoutBox.dragDropHelperTpl({height:h.height(),width:h.width(),header:h.getCaptionForDockMenu()})).css({position:"absolute",top:h.top()-g.top-k,left:h.left()-g.left-l});
j.append(e)}};c.prototype.onRemoveWidgets=function(g){var h=false;var e=g.length;for(var f=0;f<e;f++){h=h||this.selectedBoxes.splice($.inArray(g[f],this.selectedBoxes),1).length>0}if(h){this.onSelectionChange()}};c.prototype.onMouseUp=function(g){var e=$(g.target).closest(this.selectableBoxSelector);
if(e.length===1){var f=a.arrayLookup(this.fixedLayout.getBoxes(),"guid_",e.attr("id"));this.toggleSelection(f,!g.ctrlKey&&!a.isTouchDevice()&&!g.metaKey&&$(g.target).closest(".ic3-control-left").length!==1)}};c.prototype.onSelectionStop=function(){var e=[];
this.fixedLayout.$layout.find(".ui-selected").each(function(f,g){e.push($(g).attr("id"))});this.selectedBoxes=a.arrayLookupMulti(this.fixedLayout.getBoxes(),"guid_",e);this.onSelectionChange()};c.prototype.toggleSelection=function(f,e){if(e){this.clearSelections(true)
}if(this.isSelected(f)){this.selectedBoxes.splice($.inArray(f,this.selectedBoxes),1)}else{this.selectedBoxes.push(f)}this.onSelectionChange()};c.prototype.setSelection=function(e){this.clearSelections(true);this.selectedBoxes=e;this.onSelectionChange()};c.prototype.isSelected=function(e){return $.inArray(e,this.selectedBoxes)>-1
};c.prototype.onSelectionChange=function(e){var h=this.fixedLayout.getBoxes();for(var f=0;f<h.length;f++){var g=h[f];if(this.isSelected(g)){g.$widgetBox.addClass(this.selectedCls)}else{g.$widgetBox.removeClass(this.selectedCls)}}if(e!==true){this.fireEvent("selectionchange",this.selectedBoxes)
}};c.prototype.clearSelections=function(e){this.selectedBoxes.length=0;this.onSelectionChange(e)};c.prototype.unselectBox=function(f){var e=$.inArray(f,this.selectedBoxes);if(e>-1){this.selectedBoxes.splice(e,1);this.onSelectionChange()}};return c}(viz.EventHandler));
a.SelectionHandler=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(){}c.getMaxZIndex=function(g){var j=0;var f=this.getAllBoxes(g);for(var e=0;e<f.length;e++){var d=f[e].zIndex();if(d>j){j=d}}var h=j+1;if(h>a.zIndexConst.widgetMax){h=g.cleanupZIndexes(a.zIndexConst.widget)
}return h};c.getMinZIndex=function(j){var h=Number.MAX_VALUE;var g=this.getAllBoxes(j);for(var e=0;e<g.length;e++){var f=g[e];var d=f.zIndex();if(d<h){h=d}}var k=h-1;if(k<0){j.cleanupZIndexes(a.zIndexConst.widget);k=a.zIndexConst.widget-1}return k};c.getHorizontalBounds=function(k){var m=k[0];
var f=this.getBoxLeft(m);var n=this.getBoxRight(m);var d=m;var g=m;for(var h=1;h<k.length;h++){var j=k[h];var l=this.getBoxLeft(j);if(l<f){f=l;d=j}var e=this.getBoxRight(j);if(e>=n){n=e;g=j}}return{left:f,right:n,leftBox:d,rightBox:g}};c.getVerticalBounds=function(h){var m=h[0];
var k=this.getBoxTop(m);var d=this.getBoxBottom(m);var e=m;var j=m;for(var f=1;f<h.length;f++){var g=h[f];var n=this.getBoxTop(g);if(n<k){k=n;e=g}var l=this.getBoxBottom(g);if(l>=d){d=l;j=g}}return{top:k,bottom:d,topBox:e,bottomBox:j}};c.getAllBoxes=function(d){return d.getBoxes()
};c.getBoxLeft=function(d){return d.left()};c.getBoxRight=function(d){return this.getBoxLeft(d)+this.getBoxWidth(d)};c.getBoxWidth=function(d){return d.width()};c.getBoxTop=function(d){return d.top()};c.getBoxBottom=function(d){return this.getBoxTop(d)+this.getBoxHeight(d)
};c.getBoxHeight=function(d){return d.height()};c.calculateMinimalReportSpace=function(g,d){var e={maxX:0,maxY:0};var f=function(k){var i=k.position();var j=i.left+i.width;var h=i.top+i.height;if(j>e.maxX){e.maxX=j}if(h>e.maxY){e.maxY=h}};_.each(g.boxes,function(h){if(h.isVisibleForComputingReportSpace()){f(h)
}});return e};return c}());a.FixedLayoutUtilities=b})(ic3||(ic3={}));var ic3;(function(a){var b;(function(c){var d;(function(f){var e;(function(g){var h=a.reporting.editor.OptionMetaType;g.FixedLayoutBoxOptionsMeta=[{label:"@d{ic3.fixed_layout_box.options.header}",valueRef:"header",type:h.TEXT},{label:"@d{ic3.fixed_layout_box.options.header_height}",valueRef:"headerHeight",type:h.NUMBER,defaultValue:18},{label:"@d{ic3.fixed_layout_box.options.box_style}",valueRef:"boxStyle",type:h.EXPRESSION,suggestion:["ic3h-no-header","ic3h-invisible-header"],defaultValue:""},{label:"@d{ic3.fixed_layout_box.options.behavior}",valueRef:"behaviour",type:h.SELECT,suggestion:["Fixed Box","Pop-up","Tooltip (hover)","Tooltip (click)"]},{label:"@d{ic3.fixed_layout_box.options.waiting_event_placeholder}",valueRef:"waitingEventPlaceholder",type:h.TEXT,defaultValue:"Waiting event"},{label:"@d{ic3.fixed_layout_box.options.zoom}",valueRef:"zoom",type:h.NUMBER,defaultValue:1},{label:"@d{ic3.fixed_layout_box.options.position}",valueRef:"position",type:h.OBJECT,defaultValue:{},children:[{label:"@d{ic3.fixed_layout_box.options.position.top}",valueRef:"top",type:h.NUMBER},{label:"@d{ic3.fixed_layout_box.options.position.left}",valueRef:"left",type:h.NUMBER},{label:"@d{ic3.fixed_layout_box.options.position.width}",valueRef:"width",type:h.NUMBER},{label:"@d{ic3.fixed_layout_box.options.position.height}",valueRef:"height",type:h.NUMBER}]},{label:"@d{ic3.widget_options.advanced}",valueRef:"advanced",type:h.OBJECT,defaultValue:{},children:[{label:"@d{ic3.fixed_layout_box.options.embedded_div}",valueRef:"embeddedDiv",type:h.TEXT,defaultValue:""},{label:"@d{ic3.fixed_layout_box.options.resize_behavior}",valueRef:"resizePolicy",type:h.SELECT,suggestion:["move-resize","move","none"],defaultValue:"none"},{label:"@d{ic3.fixed_layout_box.options.exclude_from_print}",valueRef:"noPrint",type:h.BOOLEAN,defaultValue:false,flags:{hidePencil:true}},{label:"@d{ic3.fixed_layout_box.options.z_index}",valueRef:"zIndex",type:h.NUMBER},{label:"@d{ic3.fixed_layout_box.options.css_class}",valueRef:"cssClass",type:h.EXPRESSION,subgroup:"ic3.widget_options.css",defaultValue:""},{label:"@d{ic3.fixed_layout_box.options.css_style}",valueRef:"cssStyle",type:h.EDITOR,subgroup:"ic3.widget_options.css",defaultValue:"background: transparent;"}]}]
})(e=f.fixed||(f.fixed={}))})(d=c.layout||(c.layout={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f.context);this.states=[];this.fixedLayout=f;this.boxes=e}c.prototype.doExecute=function(){var g=a.FixedLayoutUtilities.getMinZIndex(this.fixedLayout);for(var e=0;e<this.boxes.length;
e++){var f=this.boxes[e];this.states.push(f.zIndex());f.zIndex(g)}};c.prototype.undo=function(){for(var e=0;e<this.boxes.length;e++){this.boxes[e].zIndex(this.states[e])}};c.getDisplayNameTag=function(){return"command.sendBack"};return c}(a.UndoableCommand));
a.SendBackCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);
function c(f,e){d.call(this,f.context);this.states=[];this.fixedLayout=f;this.boxes=e}c.prototype.doExecute=function(){var g=a.FixedLayoutUtilities.getMaxZIndex(this.fixedLayout);for(var e=0;e<this.boxes.length;e++){var f=this.boxes[e];this.states.push(f.zIndex());
f.zIndex(g)}};c.prototype.undo=function(){for(var e=0;e<this.boxes.length;e++){this.boxes[e].zIndex(this.states[e])}};c.getDisplayNameTag=function(){return"command.bringToFront"};return c}(a.UndoableCommand));a.BringToFrontCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f.context);this.states=[];this.posField="left";this.fixedLayout=f;this.boxes=e
}c.prototype.doExecute=function(){var e=0;if(this.boxes.length>1){e=a.FixedLayoutUtilities.getHorizontalBounds(this.boxes).left}for(var f=0;f<this.boxes.length;f++){var g=this.boxes[f];this.states.push(g.getPosition(this.posField));g.setPosition(this.posField,e)
}};c.prototype.undo=function(){for(var e=0;e<this.boxes.length;e++){var f=this.boxes[e];f.setPosition(this.posField,this.states[e])}};c.getDisplayNameTag=function(){return"command.alignLeft"};return c}(a.UndoableCommand));a.AlignLeftCommand=b})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);
function d(f,e){c.call(this,f.context);this.states=[];this.posField="left";this.fixedLayout=f;this.boxes=e}d.prototype.doExecute=function(){var f;var k;var e;if(this.boxes.length>1){var j=a.FixedLayoutUtilities.getHorizontalBounds(this.boxes);f=j.left;k=j.right
}else{f=0;k=Math.max(a.FixedLayoutUtilities.getHorizontalBounds(this.fixedLayout.getBoxes()).right,this.fixedLayout.viewWidth())}e=f+(k-f)/2;for(var g=0;g<this.boxes.length;g++){var h=this.boxes[g];this.states.push(h.getPosition(this.posField));h.setPosition(this.posField,e-(h.width()/2))
}};d.prototype.undo=function(){for(var e=0;e<this.boxes.length;e++){var f=this.boxes[e];f.setPosition(this.posField,this.states[e])}};d.getDisplayNameTag=function(){return"command.alignCenter"};return d}(a.UndoableCommand));a.AlignCenterCommand=b})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a=(function(d){__extends(c,d);
function c(f,e){d.call(this,f.context);this.states=[];this.posField="left";this.fixedLayout=f;this.boxes=e}c.prototype.doExecute=function(){var g;if(this.boxes.length>1){g=b.FixedLayoutUtilities.getHorizontalBounds(this.boxes).right}else{g=Math.max(b.FixedLayoutUtilities.getHorizontalBounds(this.fixedLayout.getBoxes()).right,this.fixedLayout.viewWidth())
}for(var e=0;e<this.boxes.length;e++){var f=this.boxes[e];this.states.push(f.getPosition(this.posField));f.setPosition(this.posField,g-f.width())}};c.prototype.undo=function(){for(var e=0;e<this.boxes.length;e++){var f=this.boxes[e];f.setPosition(this.posField,this.states[e])
}};c.getDisplayNameTag=function(){return"command.alignRight"};return c}(b.UndoableCommand));b.AlignRightCommand=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f.context);this.states=[];this.posField="top";this.fixedLayout=f;this.boxes=e}c.prototype.doExecute=function(){var g=0;
if(this.boxes.length>1){g=a.FixedLayoutUtilities.getVerticalBounds(this.boxes).top}for(var e=0;e<this.boxes.length;e++){var f=this.boxes[e];this.states.push(f.getPosition(this.posField));f.setPosition(this.posField,g)}};c.prototype.undo=function(){for(var e=0;
e<this.boxes.length;e++){var f=this.boxes[e];f.setPosition(this.posField,this.states[e])}};c.getDisplayNameTag=function(){return"command.alignTop"};return c}(a.UndoableCommand));a.AlignTopCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f.context);this.states=[];this.posField="top";this.fixedLayout=f;this.boxes=e
}c.prototype.doExecute=function(){var k;var e;var f;if(this.boxes.length>1){var j=a.FixedLayoutUtilities.getVerticalBounds(this.boxes);k=j.top;e=j.bottom}else{k=0;e=Math.max(a.FixedLayoutUtilities.getVerticalBounds(this.fixedLayout.getBoxes()).bottom,this.fixedLayout.viewHeight())
}f=k+(e-k)/2;for(var g=0;g<this.boxes.length;g++){var h=this.boxes[g];this.states.push(h.getPosition(this.posField));h.setPosition(this.posField,f-(h.height()/2))}};c.prototype.undo=function(){for(var e=0;e<this.boxes.length;e++){var f=this.boxes[e];f.setPosition(this.posField,this.states[e])
}};c.getDisplayNameTag=function(){return"command.alignMiddle"};return c}(a.UndoableCommand));a.AlignMiddleCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f.context);this.states=[];this.posField="top";this.fixedLayout=f;this.boxes=e}c.prototype.doExecute=function(){var e;
if(this.boxes.length>1){e=a.FixedLayoutUtilities.getVerticalBounds(this.boxes).bottom}else{e=Math.max(a.FixedLayoutUtilities.getVerticalBounds(this.fixedLayout.getBoxes()).bottom,this.fixedLayout.viewHeight())}for(var f=0;f<this.boxes.length;f++){var g=this.boxes[f];
this.states.push(g.getPosition(this.posField));g.setPosition(this.posField,e-g.height())}};c.prototype.undo=function(){for(var e=0;e<this.boxes.length;e++){var f=this.boxes[e];f.setPosition(this.posField,this.states[e])}};c.getDisplayNameTag=function(){return"command.alignBottom"
};return c}(a.UndoableCommand));a.AlignBottomCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(f,e){c.call(this,f.context);this.states=[];this.posField="left";this.fixedLayout=f;this.boxes=e}d.prototype.doExecute=function(){var h=a.FixedLayoutUtilities.getHorizontalBounds(this.boxes);
var e=this.fixedLayout.viewWidth()/2-(h.right+h.left)/2;for(var f=0;f<this.boxes.length;f++){var g=this.boxes[f];this.states.push(g.getPosition(this.posField));g.setPosition(this.posField,g.left()+e)}};d.prototype.undo=function(){for(var e=0;e<this.boxes.length;
e++){var f=this.boxes[e];f.setPosition(this.posField,this.states[e])}};d.getDisplayNameTag=function(){return"command.centerHorizontally"};return d}(a.UndoableCommand));a.CenterHorizontallyCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a=(function(d){__extends(c,d);function c(f,e){d.call(this,f.context);this.states=[];this.posField="top";this.fixedLayout=f;this.boxes=e
}c.prototype.doExecute=function(){var h=b.FixedLayoutUtilities.getVerticalBounds(this.boxes);var e=this.fixedLayout.viewHeight()/2-(h.bottom+h.top)/2;for(var f=0;f<this.boxes.length;f++){var g=this.boxes[f];this.states.push(g.getPosition(this.posField));g.setPosition(this.posField,g.top()+e)
}};c.prototype.undo=function(){for(var e=0;e<this.boxes.length;e++){var f=this.boxes[e];f.setPosition(this.posField,this.states[e])}};c.getDisplayNameTag=function(){return"command.centerVertically"};return c}(b.UndoableCommand));b.CenterVerticallyCommand=a})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);
function d(f,e){c.call(this,f.context);this.states=[];this.posField="top";this.fixedLayout=f;this.boxes=this.sortBoxes(e)}d.prototype.doExecute=function(){var g=this.boxes.length;var k=a.FixedLayoutUtilities.getBoxTop(this.boxes[g-1])-a.FixedLayoutUtilities.getBoxBottom(this.boxes[0])-this.innerBoxesHeight;
var j=k/(g-1);for(var e=1;e<g-1;e++){var f=this.boxes[e];this.states.push(f.getPosition(this.posField));var h=this.boxes[e-1];var l=h.height()+h.top()+j;f.setPosition(this.posField,this.fixedLayout.snapToGrid(l))}};d.prototype.undo=function(){for(var e=1;e<this.boxes.length-1;
e++){var f=this.boxes[e];f.setPosition(this.posField,this.states[e-1])}};d.prototype.sortBoxes=function(f){var h=a.FixedLayoutUtilities.getVerticalBounds(f);var l=h.topBox;var j=h.bottomBox;var m=[];this.innerBoxesHeight=0;for(var e=0;e<f.length;e++){var g=f[e];
if(g!==l&&g!==j){this.innerBoxesHeight+=a.FixedLayoutUtilities.getBoxHeight(g);m.push(g)}}var k=m.sort(function(n,i){return a.FixedLayoutUtilities.getBoxTop(n)-a.FixedLayoutUtilities.getBoxTop(i)});k.unshift(l);k.push(j);return k};d.getDisplayNameTag=function(){return"command.distributeVertically"
};return d}(a.UndoableCommand));a.DistributeVerticallyCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f.context);this.states=[];this.posField="left";this.fixedLayout=f;this.boxes=this.sortBoxes(e)}c.prototype.doExecute=function(){var g=this.boxes.length;var k=a.FixedLayoutUtilities.getBoxLeft(this.boxes[g-1])-a.FixedLayoutUtilities.getBoxRight(this.boxes[0])-this.innerBoxesWidth;
var j=k/(g-1);for(var e=1;e<g-1;e++){var f=this.boxes[e];this.states.push(f.getPosition(this.posField));var h=this.boxes[e-1];var l=h.left()+h.width()+j;f.setPosition(this.posField,this.fixedLayout.snapToGrid(l))}};c.prototype.undo=function(){for(var e=1;e<this.boxes.length-1;
e++){var f=this.boxes[e];f.setPosition(this.posField,this.states[e-1])}};c.prototype.sortBoxes=function(h){var k=a.FixedLayoutUtilities.getHorizontalBounds(h);var e=k.leftBox;var f=k.rightBox;var m=[];this.innerBoxesWidth=0;for(var g=0;g<h.length;g++){var j=h[g];
if(j!==e&&j!==f){this.innerBoxesWidth+=a.FixedLayoutUtilities.getBoxWidth(j);m.push(j)}}var l=m.sort(function(n,i){return a.FixedLayoutUtilities.getBoxLeft(n)-a.FixedLayoutUtilities.getBoxLeft(i)});l.unshift(e);l.push(f);return l};c.getDisplayNameTag=function(){return"command.distributeHorizontally"
};return c}(a.UndoableCommand));a.DistributeHorizontallyCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f.context);this.states=[];this.boxes=e;this.fixedLayout=f}c.prototype.doExecute=function(){for(var e=0;e<this.boxes.length;e++){var f=this.boxes[e];this.states.push([f.top(),f.left(),f.width(),f.height()]);
f.setPosition("top",this.fixedLayout.snapToGrid(f.top()));f.setPosition("left",this.fixedLayout.snapToGrid(f.left()));f.setPosition("width",this.fixedLayout.snapToGrid(f.width()));f.setPosition("height",this.fixedLayout.snapToGrid(f.height()))}};c.prototype.undo=function(){for(var e=0;
e<this.boxes.length;e++){var f=this.boxes[e];f.setPosition("top",this.states[e][0]);f.setPosition("left",this.states[e][1]);f.setPosition("width",this.states[e][2]);f.setPosition("height",this.states[e][3])}};c.getDisplayNameTag=function(){return"command.snapToGrid"
};return c}(a.UndoableCommand));a.SnapToGridCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(g,f,e){c.call(this,g.context);this.box=g;this.width=f;this.height=e}d.prototype.setBoxSize=function(f,e){this.box.$widgetBox.width(f).height(e);this.box.width(f);this.box.height(e);this.box.onResize()
};d.prototype.doExecute=function(){if(this.widthBefore===undefined){this.widthBefore=this.box.width();this.heightBefore=this.box.height()}this.setBoxSize(this.width,this.height)};d.prototype.undo=function(){this.setBoxSize(this.widthBefore,this.heightBefore)
};d.getDisplayNameTag=function(){return"command.resizeBox"};return d}(a.UndoableCommand));a.ResizeBoxCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(e,g,f){c.call(this,e[0].context);this.boxes=e;this.topMovement=g;this.leftMovement=f}d.prototype.doExecute=function(){var e=false;
if(this.topMovement!==0||this.leftMovement!==0){for(var f=0;f<this.boxes.length;f++){var g=this.boxes[f];g.moveVertically(this.topMovement);g.moveHorizontally(this.leftMovement)}e=true}return e};d.prototype.undo=function(){for(var e=0;e<this.boxes.length;e++){var f=this.boxes[e];
f.moveVertically(-this.topMovement);f.moveHorizontally(-this.leftMovement)}};d.getDisplayNameTag=function(){return"command.moveBox"};return d}(a.UndoableCommand));a.MoveBoxCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(g,f,e){c.call(this,g.context);this.fixedLayout=g;this.factory=f;this.boxConfig=e}d.prototype.doExecute=function(){var e=this.context.mainReport();
var g=new a.FixedLayoutBox(this.context,this.boxConfig);var f=e.widgetMgr();f.createGviWidget(this.factory,g);this.fixedLayout.addBox(g);this.box=g;this.fixedLayout.selectionHandler.setSelection([g])};d.prototype.undo=function(){new a.RemoveBoxCommand(this.fixedLayout,[this.box]).doExecute()
};d.prototype.redo=function(){new a.RemoveBoxCommand(this.fixedLayout,[this.box]).undo()};d.getDisplayNameTag=function(){return"command.addBox"};return d}(a.UndoableCommand));a.AddBoxCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){(function(d){d[d.BOX=0]="BOX";d[d.DATA=1]="DATA";d[d.DATA_RENDERER=2]="DATA_RENDERER";d[d.NAVIGATION=3]="NAVIGATION";d[d.USER_MENU=4]="USER_MENU";
d[d.EVENTS=5]="EVENTS";d[d.HOOKS=6]="HOOKS";d[d.ADVANCED=7]="ADVANCED"})(a.OptionCategoryOrder||(a.OptionCategoryOrder={}));var b=a.OptionCategoryOrder;var c=(function(d){__extends(e,d);function e(g,f){var h=this;d.call(this,g.context);this.getCategories=function(l){var m=h.box.getOptionsCategory();
var k=h.box.widgetAdapter().getOptionsCategories(l);var n=h.box.widgetAdapter().getEventCategories();var j=h.box.widgetAdapter().getHooksOptionsCategory();var i=[];i[b.BOX]=m;i[b.EVENTS]=n;i[b.HOOKS]=j;_.each(k,function(p,o){if(p){i[o]=p}});return _.compact(i)
};this.onOk=function(i){h.box.widgetAdapter().updateConfigState();h.processTabsProperties(i);h.box.context.mainReport().rebuildAll();h.context.updateHistory(h);h.closeOptions()};this.onCancel=function(){h.undo();h.closeOptions()};this.onTry=function(i,j){h.context.mainReport().cancelActiveRequests(function(){var k=h.context.eventMgr().getSnapshot();
h.processTabsProperties(i);h.layout.context.mainReport().setLayoutComponent(a.Preview,{box:h.box,eventMgrState:h.eventMgrState,themeContainer:h.context.mainReport().getTheme()});h.context.eventMgr().buildEventSkeleton(h.context.gviConnection(),[h.box]);h.context.mainReport().refreshAll();
h.context.eventMgr().setSnapshot(k);h.context.mainReport().refreshAllButContent()})};this.processTabsProperties=function(i){h.editedOptions={boxOptions:null,widgetEvents:null,widgetOptions:{}};h.editedOptions.boxOptions=_.cloneDeep(i.box);h.editedOptions.widgetEvents=_.cloneDeep(i.events);
_.forOwn(i,function(k,j){h.editedOptions.widgetOptions[j]=_.cloneDeep(i[j])});h.applyOptions(h.editedOptions)};this.applyOptions=function(i){h.box.setOptions(i.boxOptions);h.box.widgetAdapter().eventMapper().setOptions(i.widgetEvents);_.forOwn(i.widgetOptions,function(k,j){h.box.widgetAdapter().setOptions(k,j)
})};this.layout=g;this.box=f;this.previousOptions={boxOptions:null,widgetEvents:null,widgetOptions:{}}}e.prototype.updateOptions=function(){var f=this;this.layout.context.mainReport().setLeftPanel(React.createElement(a.WidgetOptionsEditor,{adapter:this.getWidgetAdapter(),categories:this.getCategories,onOk:this.onOk,onTry:this.onTry,onCancel:this.onCancel,onSelectCategory:function(g){f.selectedCategory=g
}}))};e.prototype.getSelectedCategory=function(){return this.selectedCategory};e.prototype.getWidgetAdapter=function(){return this.box.widgetAdapter()};e.prototype.execute=function(){var h=this;var g=this.context.mainReport().commands().widgetOptionsCommand;
if(!_.isNull(g)){g.onCancel()}var f=this.getCategories();this.previousOptions.widgetEvents=_.cloneDeep(_.find(f,{uniqueId:"events"}).properties);this.previousOptions.boxOptions=_.cloneDeep(_.find(f,{uniqueId:"box"}).properties);_(f).map("uniqueId").difference(["events","box"]).forEach(function(j){var i=_.find(f,{uniqueId:j});
if(i){h.previousOptions.widgetOptions[j]=_.cloneDeep(i.properties)}});this.eventMgrState=this.context.eventMgr().getState();this.context.mainReport().cancelActiveRequests(function(){h.layout.context.mainReport().setLayoutComponent(a.Preview,{box:h.box,eventMgrState:h.eventMgrState,themeContainer:h.context.mainReport().getTheme()});
h.layout.context.mainReport().setLeftPanel(React.createElement(a.WidgetOptionsEditor,{adapter:h.getWidgetAdapter(),categories:h.getCategories,onOk:h.onOk,onTry:h.onTry,onCancel:h.onCancel,onSelectCategory:function(i){h.selectedCategory=i}}))});this.context.mainReport().commands().widgetOptionsCommand=this
};e.prototype.closeOptions=function(){var f=this.layout.context.mainReport();f.resetLayoutComponent();f.resetLeftPanel();this.context.mainReport().commands().widgetOptionsCommand=null;f.rebuildAll()};e.prototype.undo=function(){if(this.editedOptions){this.applyOptions(this.previousOptions);
this.box.context.mainReport().doRebuildAll()}};e.prototype.redo=function(){this.applyOptions(this.editedOptions);this.box.context.mainReport().rebuildAll()};e.getDisplayNameTag=function(){return"command.widgetOptions"};return e}(a.UndoableCommand));a.WidgetOptionsCommand=c
})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);
function c(f,e){d.call(this,f.context);this.eventBinding={};this.fixedLayout=f;this.boxes=e;_.reduce(e,function(i,h){var g=h.widgetAdapter().eventMapper().getEvent(vizEventType.onSelection);if(!_.isEmpty(g)){i[g]=[]}return i},this.eventBinding)}c.prototype.doExecute=function(){var e=this;
this.context.mdxQueriesMgr().forEachMdxQuery(function(f,g){_.each(e.eventBinding,function(i,h){if(g.removeEventFilter(h)){i.push(g.guid())}})});this.fixedLayout.removeBoxes(this.boxes)};c.prototype.undo=function(){var k=this;var e=this.fixedLayout.context.widgetMgr();
var g=this.fixedLayout.context.mdxQueriesMgr();for(var f=0;f<this.boxes.length;f++){var h=this.boxes[f];var j=h.widgetAdapter();g.addNewMdxItem(j.builder());e.guts_.items.push(j);this.fixedLayout.addBox(h)}this.context.mdxQueriesMgr().forEachMdxQuery(function(i,l){_.each(k.eventBinding,function(n,m){if(_.includes(n,l.guid())){l.addEventFilter(m)
}})});this.fixedLayout.context.mainReport().rebuildAll()};c.getDisplayNameTag=function(){return"command.removeBox"};return c}(a.UndoableCommand));a.RemoveBoxCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(f,e){c.call(this,f.context);this.copiedBoxes=[];this.fixedLayout=f;this.boxes=e}d.prototype.doExecute=function(){for(var f=0;
f<this.boxes.length;f++){var h=this.boxes[f];var k=a.saveGuts(h);var g=a.restoreGuts(k,h.context);delete g.clearGuid();g.uid(a.uniqueId());var j=h.context.widgetMgr().cloneWidget(h.widgetAdapter());g.addWidgetAdapter(j);if(!_.isEmpty(g.header())){g.header(g.header()+" - Copy")
}var e=this.fixedLayout.grid();g.top(g.top()+e);g.left(g.left()+e);this.fixedLayout.addBox(g);this.copiedBoxes.push(g)}this.context.rebuildAll()};d.prototype.undo=function(){new a.RemoveBoxCommand(this.fixedLayout,this.copiedBoxes).doExecute()};d.prototype.redo=function(){new a.RemoveBoxCommand(this.fixedLayout,this.copiedBoxes).undo()
};d.getDisplayNameTag=function(){return"command.duplicateBox"};return d}(a.UndoableCommand));a.DuplicateBoxCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(g,e,f){d.call(this,g.context);this.changed=[];this.box=e[0];this.event=f}c.prototype.filterAll=function(g){var e=this;
var f=e.context;f.mdxQueriesMgr().forEachMdxQuery(function(h,j){var i=g&&$.inArray(j.guid(),e.changed)>-1;if(e.box.builder()!=j&&!g||i){if(j.addEventFilter(e.event)&&!i){e.changed.push(j.guid())}}});f.rebuildAll()};c.prototype.removeFilters=function(g){var e=this;
var f=e.context;f.mdxQueriesMgr().forEachMdxQuery(function(h,j){var i=g&&$.inArray(j.guid(),e.changed)>-1;if(e.box.builder()!=j&&!g||i){if(j.removeEventFilter(e.event)&&!i){e.changed.push(j.guid())}}});f.rebuildAll()};return c}(a.UndoableCommand));a.BaseAddRemoveFilterCommand=b
})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);
function d(){c.apply(this,arguments)}d.prototype.doExecute=function(){this.filterAll(false)};d.prototype.undo=function(){this.removeFilters(true)};d.prototype.redo=function(){this.filterAll(true)};d.getDisplayNameTag=function(){return"command.addFilterToAll"
};return d}(a.BaseAddRemoveFilterCommand));a.AddFilterToAllCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(){c.apply(this,arguments)}d.prototype.doExecute=function(){this.removeFilters(false)};d.prototype.undo=function(){this.filterAll(true)};d.prototype.redo=function(){this.removeFilters(true)};
d.getDisplayNameTag=function(){return"command.removeFilter"};return d}(a.BaseAddRemoveFilterCommand));a.RemoveAllFilterCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(e){d.call(this,e);this.boxes=[]}c.prototype.doExecute=function(){var g=this;var e={label:this.context.l("ic3.ok"),handler:function(h){g.context.mainReport().clearModal();
g.doPasteBoxes(h)}};var f={label:this.context.l("ic3.cancel"),handler:function(){g.context.mainReport().clearModal()}};this.context.mainReport().setModal(React.createElement(a.InputDialog,{title:this.context.l("ic3.command.paste_box.title"),message:this.context.l("ic3.command.paste_box.message"),buttons:[e,f]}));
return false};c.prototype.doPasteBoxes=function(j){var m=a.ClipboardHelper.parseBoxClipboardData(j,this.context);this.boxes.length=0;for(var h=0;h<m.length;h++){var g=m[h];var k=g.box;var l=g.widget;var f=g.builder;k.uid(a.uniqueId());var e=this.context.widgetMgr();
l.uid(e._createNewUid("w"));e.guts_.items.push(l);k.addWidgetAdapter(l);this.context.mdxQueriesMgr().addNewMdxItem(f);l.setBuilder(f);this.boxes.push(k);this.getReportLayout().addBox(k)}this.context.mainReport().rebuildAll();this.context.updateHistory(this)
};c.prototype.undo=function(){new a.RemoveBoxCommand(this.getReportLayout(),this.boxes).doExecute()};c.prototype.redo=function(){new a.RemoveBoxCommand(this.getReportLayout(),this.boxes).undo()};c.prototype.getReportLayout=function(){return this.context.layout()
};c.getDisplayNameTag=function(){return"command.pasteBox"};return c}(a.UndoableCommand));a.PasteBoxCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e);this.state={value:_(f.items).keys().first()}}c.prototype.render=function(){var g=this;var e=this.context.reportingContext.mainReport();
var f=[{label:this.context.reportingContext.l("ic3.migrate_widget_dialog.migrate"),handler:function(){g.props.onOk(g.props.items[g.state.value]);e.clearModal()}},{label:this.context.reportingContext.l("ic3.close"),handler:function(){return e.clearModal()}}];
return(React.createElement(a.ModalReportingDialog,{title:this.context.reportingContext.l("ic3.migrate_widget_dialog.title"),buttons:f,onClose:function(){return e.clearModal()}},React.createElement("select",{className:"form-control",onChange:function(h){return g.setState({value:h.target.value})
}},_.map(this.props.items,function(i,h){return(React.createElement("option",{key:h,value:h},h))}))))};c.contextTypes={reportingContext:React.PropTypes.object};return c}(React.Component));a.MigrateWidgetDialog=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f.context);this.classID="ic3.MigrateCommandBase";this.layout=f;this.box=e[0]
}c.prototype.doExecute=function(){var f=this;var e=this.buildTypeSelectorItems();this.context.mainReport().setModal(React.createElement(a.MigrateWidgetDialog,{items:e,onOk:function(g){return f.migrateWidget(g)}}));return false};c.prototype.migrateWidget=function(e){var h=this.context.mainReport();
var f=this.oldWidget=h.widgetMgr().createAndReplaceGviWidget(e.factory,this.box);var g=this.newWidget=this.box.widgetAdapter();g.updateConfigState(f.getWidgetConfigState());this.migrateEvents(f,g);this.doMigration(f,g);this.context.updateHistory(this);h.rebuildAll()
};c.prototype.migrateEvents=function(e,g){var f=e.eventMapper(false);if(f){g.setEventMapper(f)}};c.prototype.setBoxWidget=function(e){var f=this.context.mainReport();f.widgetMgr().replaceWidget(this.box,e);f.rebuildAll()};c.prototype.undo=function(){this.setBoxWidget(this.oldWidget)
};c.prototype.redo=function(){this.setBoxWidget(this.newWidget)};return c}(a.UndoableCommand));a.MigrateCommandBase=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(){c.apply(this,arguments)}d.prototype.doMigration=function(e,f){f.setBuilder(e.builder());this.migrateNavigation(e,f);
this.migrateSelectionMode(e,f)};d.prototype.migrateNavigation=function(g,h){var k=g.navigationGuts();if(k){var j=k.guts();var e=h.navigationGuts();if(e){var n=e.guts();var m=e.gutsMeta();for(var f=0;f<m.length;f++){var l=m[f].name;n[l]=j[l]}}}};d.prototype.migrateSelectionMode=function(f,g){var e=f.guts();
var h=e.selectionMode;if(h&&this.hasSelectionMode(g)&&_.isFunction(g.setSelectionMode)){g.setSelectionMode(h)}};d.prototype.hasSelectionMode=function(f){var g=f.gutsMeta();for(var e=0;e<g.length;e++){if(g[e].name==="selectionMode"){return true}}return false
};d.prototype.buildTypeSelectorItems=function(){var e={};_.each(this.getMigrableFactories(),function(f){e[f.getQualifiedName()]={factory:f}});return e};d.prototype.getMigrableFactories=function(){var e=this.box.widgetAdapter();switch(true){case a.WidgetAdapterTypeHelper.isChart(e):return this.context.reportMgr().getFactories(a.ReportFactoryType.CHART);
default:return[]}};d.getDisplayNameTag=function(){return"command.migrateWidget"};return d}(a.MigrateCommandBase));a.MigrateWidgetCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var c=(function(e){__extends(f,e);function f(i,h,g){e.call(this,i.context);this.boxSizes=[];this.fixedLayout=i;this.boxes=h;this.sizeProperty=g
}f.prototype.doExecute=function(){var l=0;var k=false;for(var h=0;h<this.boxes.length;h++){var j=this.boxes[h];var g=j.getPosition(this.sizeProperty);k=h>0&&g!=l;if(g>l){l=g}}if(k){this.newSize=l;this.applyNewSize(true)}return k};f.prototype.undo=function(){for(var g=0;
g<this.boxes.length;g++){this.setBoxSize(this.boxes[g],this.boxSizes[g])}};f.prototype.redo=function(){this.applyNewSize(false)};f.prototype.applyNewSize=function(h){for(var g=0;g<this.boxes.length;g++){var j=this.boxes[g];if(h){this.boxSizes.push(j.getPosition(this.sizeProperty))
}this.setBoxSize(j,this.newSize)}};f.prototype.setBoxSize=function(h,g){h.setPosition(this.sizeProperty,g);h.onResize()};return f}(a.UndoableCommand));a.SameSizeCommand=c;var d=(function(e){__extends(f,e);function f(h,g){e.call(this,h,g,"width")}f.getDisplayNameTag=function(){return"command.sameWidth"
};return f}(c));a.SameWidthCommand=d;var b=(function(f){__extends(e,f);function e(h,g){f.call(this,h,g,"height")}e.getDisplayNameTag=function(){return"command.sameHeight"};return e}(c));a.SameHeightCommand=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(e){c.call(this,e)}d.prototype.doExecute=function(){var e=this.context.mainReport();e.reportMode(a.MainReportMode.REPORT_MANAGING);
e.setLayoutComponent(a.ReportManagerLayout,{});e.refreshAll()};return d}(a.Command));a.BatchMigrationCommand=b})(ic3||(ic3={}));var ic3;(function(a){a.BuilderType={QUERY:{isQuery:true},FILTER_QUERY:{isQuery:true},FILTER_HIERARCHIES:{isQuery:false},ACTION:{isQuery:false},DUMMY:{isQuery:true}}
})(ic3||(ic3={}));var ic3;(function(a){a.FilterQueryType={MDX_MEMBERS:"MDX_MEMBERS",MDX_QUERY:"MDX_QUERY",MDX_HIERARCHIES:"MDX_HIERARCHIES",MDX_LEVELS:"MDX_LEVELS"}})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(d){this.context=d}c.createMdxMember=function(d){return{memberBase:{mdx:d}}
};c.containsMdxMember=function(d,e){return _.find(d,c.createMdxMember(e))!==undefined};c.generateCaption=function(d){return _.compact(_.map(d,"name")).join(", ")};c.prototype.getMdxStatement=function(f){var e=_.isEmpty(f.cubeName)?this.context.cubeName():f.cubeName;
var g=new a.reporting.core.MdxQuery(e);var d=g.getAxisCount();if(!_.isEmpty(f.measures)){g.setAxisComment(0,"Measures")}_.each(f.measures,function(h){if(a.IcCubeMdxBuilder.isExpressionBased(h)){g.pushExpressionToAxis(d,h)}else{g.pushToAxis(d,h)}});d=g.getAxisCount();
_.each(f.columns,function(h){if(a.IcCubeMdxBuilder.isExpressionBased(h)){g.pushExpressionToAxis(d,h)}else{g.pushToAxis(d,h)}});if(d!=g.getAxisCount()){g.setAxisComment(d,"Columns");if(f.columnsNonEmpty){g.setNonEmpty(d)}}d=g.getAxisCount();_.each(f.rows,function(h){if(a.IcCubeMdxBuilder.isExpressionBased(h)){g.pushExpressionToAxis(d,h)
}else{g.pushToAxis(d,h)}});if(d!=g.getAxisCount()){g.setAxisComment(d,"Rows");if(f.rowsNonEmpty){g.setNonEmpty(d)}}_.each(f.filter,function(h){if(h.whereClause===true){g.pushToWhereSlicer(h)}else{g.pushToFromSlicer(h)}});g.setQueryCellProperties("STYLE","CLASSNAME","VALUE","FORMATTED_VALUE","FORMAT_STRING");
return g.toMdxStatement()};c.prototype.addEventFilter=function(e,d){var f="@{"+d+"}";if(c.containsMdxMember(e.rows,f)){return false}if(c.containsMdxMember(e.columns,f)){return false}if(c.containsMdxMember(e.filter,f)){return false}e.filter.push(c.createMdxMember(f));
return true};c.prototype.removeEventFilter=function(e,d){var h="@{"+d+"}";var g=c.createMdxMember(h);var f=0;f+=_.remove(e.rows,g).length;f+=_.remove(e.columns,g).length;f+=_.remove(e.filter,g).length;return f>0};c.prototype.axis0Caption=function(d){return c.generateCaption(d.columns)
};c.prototype.axis1Caption=function(d){return c.generateCaption(d.rows)};return c}());a.QueryBuilderWizard=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(){}c.prototype.getMdxStatement=function(d){return _.isString(d.statement)?d.statement:null
};c.prototype.addEventFilter=function(e,d){return false};c.prototype.removeEventFilter=function(e,d){return false};c.prototype.axis0Caption=function(){return undefined};c.prototype.axis1Caption=function(){return undefined};return c}());a.QueryBuilderMdx=b})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);
function c(e){d.call(this,e);this.classID="ic3.QueryBuilderWidget";this.wizardMode=new a.QueryBuilderWizard(e);this.mdxMode=new a.QueryBuilderMdx()}c.prototype.getMode=function(){switch(this.guts().mode){case"MDX":return this.mdxMode;case"WIZARD":default:return this.wizardMode
}};c.prototype.getCaptionForEventInfo=function(){return(this._adapter&&this._adapter.getCaptionForEventInfo())||("GUID:"+this.guid())};c.prototype.createDefaultGuts=function(e){return{mode:"WIZARD",options:{WIZARD:{cubeName:null,measures:[],rows:[],rowsNonEmpty:false,columns:[],columnsNonEmpty:false,filter:[]},MDX:{statement:null}}}
};c.prototype.mdxStatementForBoxEditor=function(e){if(_.isEmpty(this.guts().options.WIZARD.rows)&&_.isEmpty(this.guts().options.WIZARD.columns)&&_.isEmpty(this.guts().options.WIZARD.measures)){return"SELECT\n// Measures\n{[Measures].[Measure1], [Measures].[Measure2]} on 0,\n// Columns\n[Dimension].[Hierarchy].[Level].members on 1,\n// Rows\n[Dimension].[Hierarchy].[Level].members on 2\nFROM [Cube]"
}else{return this.wizardMode.getMdxStatement((_.isObject(e)?e:this.guts()).options.WIZARD)}};c.prototype.mdxStatement=function(){var e=this.guts();return this.getMode().getMdxStatement(e.options[e.mode])};c.prototype.addEventFilter=function(e){var f=this.guts();
return this.getMode().addEventFilter(f.options[f.mode],e)};c.prototype.removeEventFilter=function(e){var f=this.guts();return this.getMode().removeEventFilter(f.options[f.mode],e)};c.prototype.axis0Caption=function(){var e=this.guts();return this.getMode().axis0Caption(e.options[e.mode])
};c.prototype.axis1Caption=function(){var e=this.guts();return this.getMode().axis1Caption(e.options[e.mode])};c.prototype.handleEmptyAsValue=function(){return undefined};c.prototype.hasFlatMdx=function(){return true};c.prototype.canHaveQueryResult=function(){return true
};c.prototype.hasQueryResult=function(){return true};c.prototype.isDefiningFlatMdx=function(){return this.guts().mode==="MDX"};c.prototype.validate=function(){if(this.guts().mode==="MDX"){if(_.isEmpty(this.getMode().getMdxStatement(this.guts().options[this.guts().mode]))){return"MDX statement is not defined"
}}else{if(this.guts().mode==="WIZARD"){if(_.isEmpty(this.guts().options.WIZARD.rows)&&_.isEmpty(this.guts().options.WIZARD.columns)&&_.isEmpty(this.guts().options.WIZARD.measures)){return"Data wizard is not configured"}}}return null};c.prototype.refreshTabsContent=function(){};
c.prototype.bindChange=function(e){};c.prototype.destroyWidget=function(){};c.prototype.type=function(){return a.BuilderType.QUERY};c.prototype.getWizard=function(){return null};c.prototype.isBuilderWidget=function(){return true};c.prototype.eachExpression=function(e){e(this.mdxStatement())
};c.prototype.getAdapter=function(){return this._adapter};return c}(a.Serializable));a.QueryBuilderWidget=b})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(f,g,e,d){this.itemFormModel={};this.preselectedItemCls="ic3-builder-list-item-preselected";
this.useDragDrop=false;this.context=f;this.itemMetaInfo=g;this.allItems=[];this.allItems.push.apply(this.allItems,$.extend(true,[],e));this.useDragDrop=a.isFalse(d)?d:true}c.prototype.items=function(){return this.allItems};c.prototype.buildInHtml=function(d){d.html(this.canvas());
this.itemsMenu=this.buildItemsMenu($(".item-list-s",d));this.itemsList=$(".item-list-c",d).sortedList({selectionDiv:$(".item-list-container",d),useDragDrop:this.useDragDrop,useNavigationArrows:this.useDragDrop});this.itemsList.bind("ic3select",$.proxy(this.onItemSelect,this));
this.itemsList.bind("ic3delete",$.proxy(this.onItemDelete,this));this.itemsList.bind("ic3change",$.proxy(this.onItemsReOrder,this));this.initItemsList();this.formContainer=$(".item-form-container",d);this.itemForm=this.buildItemForm($(".item-form",d));this.updateButton=$(".item-update",d).button({disabled:true});
this.updateButton.click($.proxy(this.applyFormChanges,this));this.cancelButton=$(".item-cancel",d).button({disabled:true});this.cancelButton.click($.proxy(this.handleCancel,this))};c.prototype.bindChange=function(d){this.changeCallback=d};c.prototype.enableUpdateButton=function(d){if(this.updateButton){this.updateButton.button(d);
this.updateButton.removeClass("ui-state-focus")}};c.prototype.enableCancelButton=function(d){if(this.cancelButton){this.cancelButton.button(d);this.cancelButton.removeClass("ui-state-focus")}};c.prototype.initItemsList=function(){this.enableCancelButton("disable");
this.enableUpdateButton("disable");this.doInitItemsList()};c.prototype.doInitItemsList=function(){var d=this.items();for(var e=0;e<d.length;e++){this.addListItem(d[e])}};c.prototype.buildItemsMenu=function(e){var d=this;var f=e.selectMenu({title:"Items",icon_class:"ui-icon ui-icon-plusthick"});
return f.selectMenu("values",[{caption:"New",guid:"new",handler:function(){d.handleAddNewItem()}}])};c.prototype.buildItemForm=function(d){var e=this;return a.formForGuts(d,{context:e.context,guts:function(){return e.itemFormModel},gutsMeta:function(){return e.itemMetaInfo
},refreshHtmlFromGuts:function(f){e.itemFormModel=f}},{validateOnChange:false,eventTipsToInputs:false,onChange__:function(){e.onItemFormChange()}})};c.prototype.update=function(d){var e=this.items();e.length=0;e.push.apply(e,d);this.refreshItemList()};c.prototype.refreshItemList=function(){this.itemsList.sortedList("clear");
this.initItemsList()};c.prototype.isFormVisible=function(){return this.formContainer.is(":visible")};c.prototype.hideForm=function(){this.formContainer.hide()};c.prototype.onItemFormChange=function(){this.enableCancelButton("enable");this.enableUpdateButton("enable")
};c.prototype.onItemSelect=function(f,e){if(this.onBeforeItemSelect()){this.enableCancelButton("disable");this.enableUpdateButton("disable");var d=this.selectedItem=this.getItem(e.guid);this.setModelInForm(d);this.updateButton.button("option","label","");this.formContainer.show();
return true}else{return false}};c.prototype.onBeforeItemSelect=function(){if(this.isFormVisible()){return this.applyFormChanges()}else{return true}};c.prototype.getItem=function(d){return a.arrayLookup(this.items(),"guid",d)};c.prototype.setModelInForm=function(d){this.itemForm.form("setModel",d)
};c.prototype.onItemDelete=function(e,d){this.doOnItemDelete(e,d);if(e.wasSelected){this.enableCancelButton("disable");this.enableUpdateButton("disable");this.itemsList.sortedList("clearSelection");this.selectedItem=undefined;this.hideForm()}this.changeCallback&&this.changeCallback()
};c.prototype.doOnItemDelete=function(e,d){a.arrayRemoveByProperty(this.items(),"guid",d.guid)};c.prototype.handleCancel=function(){this.enableCancelButton("disable");this.enableUpdateButton("disable");this.itemsList.sortedList("clearSelection");this.selectedItem=undefined;
this.hideForm()};c.prototype.handleAddNewItem=function(){if(this.isFormVisible()){this.applyFormChanges()&&this.doHandleAddNewItem()}else{this.doHandleAddNewItem()}};c.prototype.doHandleAddNewItem=function(){this.enableCancelButton("enable");this.enableUpdateButton("enable");
this.itemsList.sortedList("clearSelection");this.selectedItem=undefined;this.updateButton.button("option","label","");this.setModelInForm();this.formContainer.show()};c.prototype.applyFormChanges=function(){var d=this.itemForm.form("validate",true)?true:false;
if(d){this.doHandleUpdate()}return d};c.prototype.doHandleUpdate=function(){this.enableCancelButton("disable");this.enableUpdateButton("disable");var e=a.restoreGuts(this.itemFormModel,this.context);if(this.selectedItem){e.guid=this.selectedItem.guid;e.updateName=this.selectedItem.updateName;
this.replaceSelectedItem(e);if(e.preselected!=this.selectedItem.preselected||e.caption!=this.selectedItem.caption){var d=e.updateName(e.caption);if(e.preselected){d.addClass(this.preselectedItemCls)}else{d.removeClass(this.preselectedItemCls)}}this.selectedItem=e
}else{e.guid=a.uniqueId();this.doAddItem(e);this.selectedItem=e;this.updateButton.button("option","label","")}this.changeCallback&&this.changeCallback()};c.prototype.replaceSelectedItem=function(d){a.arrayReplace(this.items(),this.selectedItem,d)};c.prototype.doAddItem=function(e){var d=this.items();
d.push(e);this.addListItem(e,true)};c.prototype.addListItem=function(f,e){var d="";if(f.preselected){d+=this.preselectedItemCls}return this.itemsList.sortedList("addValue",f,e,"updateName").addClass(d)};c.prototype.onItemsReOrder=function(){var j=this.itemsList.sortedList("values");
var d=this.items();for(var g=0;g<j.length;g++){var h=j[g];var f=d[g];if(f.guid!==h){var e=a.arrayLookup(d,"guid",h);a.arrayRemoveFirst(d,e);a.arrayReplace(d,f,e,f)}}this.changeCallback&&this.changeCallback();return true};c.prototype.canvas=function(){return"<div class='items-builder-ct'><div class='ic3-form item-list-container'>  <table cellpadding='0' cellspacing='0' class='ic3-mdx-builder-form'>    <tr>      <td id='error'></td>      <td>        <div class='item-list-s selector'></div>        <div class='item-list-c ic3-container'></div>      </td>    </tr>  </table></div><div class='item-form-container' style='display: none;'>  <table cellpadding='0' cellspacing='0' class='ic3-mdx-builder-form'>    <tr>      <td>        <div class='item-form'></div>      </td>    </tr>  </table>  <div class='item-form-buttons'>    <button class='item-update'>Add</button>    <button class='item-cancel'>Cancel</button>  </div></div></div>"
};return c}());a.ActionBuilderWizardForm=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(f,e){c.call(this,f,null,e);this.mainItemMetaInfo=[{name:"caption",type:juiForm_FieldRendererType.TEXT}];this.subItemMetaInfo=[{name:"caption",type:juiForm_FieldRendererType.TEXT},{name:"eventName",type:juiForm_FieldRendererType.EVENT_NAME},{name:"eventValue",path:"actionsMenuAdapter",type:juiForm_FieldRendererType.TEXT,hintsValues:[a.MetaInfoHelper.reportSelectorHint(this.context,true,true)]},{name:"preselected",type:juiForm_FieldRendererType.BOOLEAN}];
this.mainItemEdited=true;this.childItemCls="ic3-builder-list-child-item"}d.prototype.buildItemForm=function(e){this.innerFormCt=e;return $("div")};d.prototype.buildItemsMenu=function(f){var e=this;var g=f.selectMenu({title:"Items",icon_class:"ui-icon ui-icon-plusthick"});
return g.selectMenu("values",[{caption:"New Menu",guid:"newMenu",handler:function(){e.handleAddNewMenu()}},{caption:"New Item",guid:"newItem",disabled:true,handler:function(){e.handleAddNewSubItem()}}])};d.prototype.doInitItemsList=function(){this.itemsList.sortedList("option","allowSubLists",true);
c.prototype.doInitItemsList.call(this)};d.prototype.handleAddNewMenu=function(){if(this.isFormVisible()){if(this.applyFormChanges()){this.mainItemEdited=true;this.doHandleAddNewItem()}}else{this.doHandleAddNewItem()}};d.prototype.handleAddNewSubItem=function(){if(this.isFormVisible()){if(this.applyFormChanges()){this.mainItemEdited=false;
this.selectedMainItem=this.selectedItem;this.doHandleAddNewItem()}}else{this.doHandleAddNewItem()}};d.prototype.getItem=function(g){var f;var e=this.items();for(var h=0;h<e.length&&!f;h++){var j=e[h];if(j.guid===g){return j}else{f=a.arrayLookup(j.items,"guid",g)
}}return f};d.prototype.doOnItemDelete=function(g,f){var h=this.getItem(f.guid);var e;if(h.parentId){e=this.getItem(h.parentId).items}else{e=this.items()}a.arrayRemove(e,h);if(h.parentId!==undefined){this.refreshItemList()}};d.prototype.setModelInForm=function(f){var e=this;
if(e.innerFormCt.data("ic3Form")){e.innerFormCt.form("destroy");e.innerFormCt.empty()}e.mainItemEdited=f?!f.parentId:e.mainItemEdited;if(e.mainItemEdited){this.itemsMenu.selectMenu("enable","newItem")}else{this.itemsMenu.selectMenu("disable","newItem")}a.clearObject(e.itemFormModel);
this.itemForm=a.formForGuts(e.innerFormCt,{context:e.context,guts:function(){return e.itemFormModel},gutsMeta:function(){return e.mainItemEdited?e.mainItemMetaInfo:e.subItemMetaInfo},refreshHtmlFromGuts:function(g){e.itemFormModel=g}},{validateOnChange:false,eventTipsToInputs:false,onChange__:function(){e.onItemFormChange()
}});this.itemForm.form("setModel",f)};d.prototype.doAddItem=function(g){if(this.mainItemEdited){c.prototype.doAddItem.call(this,g)}else{var f=a.arrayLookup(this.items(),"guid",this.selectedMainItem.guid);var e=f.items||(f.items=[]);g.parentId=f.guid;e.push(g);
this.itemsList.sortedList("insertSubValue",g,"updateName")}};d.prototype.getNewChildIndex=function(h){var e=-1;for(var g=0;g<this.allItems.length;g++){var j=this.allItems[g];var f=j.items;e+=f?f.length+1:1;if(j===h){return e}}return -1};d.prototype.onItemsReOrder=function(){var f=this.itemsList.sortedList("values");
var q=this.items();var m=this.childItems();for(var l=0;l<f.length;l++){var n=f[l].id;var p=q[l];if(p.guid!==n){var g=a.arrayLookup(q,"guid",n);a.arrayRemoveFirst(q,g);a.arrayReplace(q,p,g,p)}if(a.isArray(p.items)){p.items.length=0}else{p.items=[]}var o=p.items;
for(var k=0;k<f[l].items.length;k++){var h=f[l].items[k].id;var e=a.arrayLookup(m,"guid",h);e.parentId=p.guid;o.push(e)}}this.changeCallback&&this.changeCallback();return false};d.prototype.childItems=function(){var f=[];var e=this.items();for(var g=0;g<e.length;
g++){var h=e[g];if(a.isArray(h.items)){f.push.apply(f,h.items)}}return f};d.prototype.replaceSelectedItem=function(g){var e;if(this.mainItemEdited){g.items=this.selectedItem.items;e=this.items()}else{var h=g.parentId=this.selectedItem.parentId;var f=this.getItem(h);
e=f?f.items:[]}a.arrayReplace(e,this.selectedItem,g)};d.prototype.handleCancel=function(){c.prototype.handleCancel.call(this);this.itemsMenu.selectMenu("disable","newItem");this.selectedMainItem=undefined};return d}(a.ActionBuilderWizardForm));a.ActionsMenuBuilderWizardForm=b
})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(){}c.prototype.buildInHtml=function(d){this.container=d;d.html(this.canvas());this.cm=new a.CodeMirrorWidget(d.find("#plainCode"),"javascript",{fullscreen:true})};c.prototype.update=function(d){var e=JSON.stringify(d,null,"\t");
this.cm.setValue(e)};c.prototype.bindChange=function(d){this.cm.cm.on("change",d)};c.prototype.validate=function(){var f;var d;try{d=JSON.parse(this.cm.getValue())}catch(g){f="Invalid JSON: "+g}if(!f&&!_.isArray(d)){f="Not an array"}return f};c.prototype.isCodeEmpty=function(){var d=this.cm.getValue();
return a.isEmptyString(d)};c.prototype.items=function(){var d=JSON.parse(this.cm.getValue());return d||[]};c.prototype.canvas=function(){return"<div id='plainCode'/>"};c.prototype.refreshCodemirror=function(){this.cm.refresh()};c.prototype.onContainerResizeStart=function(d){this.resizeStartHeight_=d.outerHeight()
};c.prototype.onContainerResizeStop=function(f){var i=this.resizeStartHeight_;if(i==-1){return}var d=f.outerHeight();var g=d-i;var j=this.container.find(".CodeMirror");var e=j.height()+g;j.height(e);this.cm.setHeight(e)};return c}());a.ActionBuilderPlainCodeForm=b
})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);
function c(e,f){d.call(this,e);this.classID="ic3.ActionsBuilder";this.itemMetaInfo=f}c.prototype.createDefaultGuts=function(e){return $.extend(d.prototype.createDefaultGuts.call(this,e),{items:[]})};c.prototype.items=function(){return this.guts().items};c.prototype.bindChange=function(e){this.wizard.bindChange(e);
this.plainCode.bindChange(e)};c.prototype.createWizardForm=function(){return new a.ActionBuilderWizardForm(this.context,this.itemMetaInfo,this.items())};c.prototype.onPlainCodeChange=function(){this.plainCodeChanged=true};c.prototype.refreshTabsContent=function(){this.doRefreshContent();
this.guts_.items=a.arrayCopy(this.wizard.items())};c.prototype.doRefreshContent=function(){if(this.plainCodeChanged){var e=this.plainCode.validate();if(e){}else{this.wizard.update(this.plainCode.items())}}else{this.plainCode.update(this.wizard.items())}this.plainCodeChanged=false
};c.prototype.eachExpression=function(e){a.assertAbstract("eachExpression",this)};c.prototype.consumeEvent=function(e,f){if(e===vizEventType.onGutsChange){this._adapter&&this._adapter.refresh()}};c.prototype.validate=function(){return this.plainCode.validate()
};c.prototype.destroyWidget=function(){};c.prototype.mdxStatementForBoxEditor=function(){return undefined};c.prototype.hasFlatMdx=function(){return true};c.prototype.canHaveQueryResult=function(){return false};c.prototype.hasQueryResult=function(){return false
};c.prototype.isDefiningFlatMdx=function(){return undefined};c.prototype.type=function(){return a.BuilderType.ACTION};c.prototype.getWizard=function(){return this.wizard};c.prototype.isBuilderWidget=function(){return true};c.prototype.getAdapter=function(){return this._adapter
};return c}(a.Serializable));a.ActionsBuilder=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(b){var f=(function(h){__extends(g,h);function g(i){h.call(this,i,[b.MetaInfoHelper.textMeta("caption",undefined,true),b.MetaInfoHelper.textMeta("eventValue"),b.MetaInfoHelper.booleanMeta("preselected")]);this.classID="ic3.ActionsComboBuilder"
}g.prototype.eachExpression=function(m){var j=this.guts().items;if(j&&j.length>0){for(var k=0;k<j.length;k++){var l=j[k];m(l.caption);m(l.eventValue);m(l.preselected)}}};return g}(b.ActionsBuilder));b.ActionsComboBuilder=f;var e=(function(h){__extends(g,h);
function g(i){h.call(this,i,[b.MetaInfoHelper.textMeta("caption",undefined,true),b.MetaInfoHelper.eventNameMeta("eventName"),b.MetaInfoHelper.textMeta("eventValue",[b.MetaInfoHelper.reportSelectorHint(i,true,true)],false,"actionsButtonListAdapter"),b.MetaInfoHelper.textMeta("tooltip"),b.MetaInfoHelper.booleanMeta("hideCaption"),b.MetaInfoHelper.textMeta("cssClass"),b.MetaInfoHelper.textMeta("cssStyle")]);
this.classID="ic3.ActionsButtonListBuilder"}g.prototype.eachExpression=function(m){var j=this.guts().items;if(j&&j.length>0){for(var k=0;k<j.length;k++){var l=j[k];m(l.caption);m(l.eventName);m(l.eventValue);m(l.tooltip);m(l.hideCaption);m(l.cssClass);m(l.cssStyle)
}}};return g}(b.ActionsBuilder));b.ActionsButtonListBuilder=e;var a=(function(h){__extends(g,h);function g(i){h.call(this,i,[b.MetaInfoHelper.textMeta("caption",undefined,true,"actionsJqueryButtonList"),b.MetaInfoHelper.eventNameMeta("eventName"),b.MetaInfoHelper.textMeta("eventValue",[b.MetaInfoHelper.reportSelectorHint(i,true,true)],false,"actionsJqueryButtonList"),b.MetaInfoHelper.textMeta("tooltip","actionsJqueryButtonList"),b.MetaInfoHelper.booleanMeta("preselected")]);
this.classID="ic3.ActionsJQueryButtonListBuilder"}g.prototype.eachExpression=function(m){var j=this.guts().items;if(j&&j.length>0){for(var k=0;k<j.length;k++){var l=j[k];m(l.caption);m(l.eventName);m(l.eventValue);m(l.tooltip);m(l.leftIconName);m(l.preselected)
}}};return g}(b.ActionsBuilder));b.ActionsJQueryButtonListBuilder=a;var d=(function(h){__extends(g,h);function g(i){h.call(this,i,[b.MetaInfoHelper.textMeta("caption",undefined,true),b.MetaInfoHelper.eventNameMeta("eventName"),b.MetaInfoHelper.textMeta("eventValue",[b.MetaInfoHelper.reportSelectorHint(i,true,true)],false,"actionsContextualMenuAdapter")]);
this.classID="ic3.ActionsContextualMenuBuilder"}g.prototype.eachExpression=function(m){var j=this.guts().items;if(j&&j.length>0){for(var k=0;k<j.length;k++){var l=j[k];m(l.caption);m(l.eventName);m(l.eventValue)}}};return g}(b.ActionsBuilder));b.ActionsContextualMenuBuilder=d;
var c=(function(h){__extends(g,h);function g(i){h.call(this,i,null);this.classID="ic3.ActionsMenuBuilder"}g.prototype.createWizardForm=function(){return new b.ActionsMenuBuilderWizardForm(this.context,this.items())};g.prototype.eachExpression=function(m){var j=this.guts().items;
if(j&&j.length>0){for(var k=0;k<j.length;k++){var l=j[k];m(l.caption);m(l.eventName);m(l.eventValue)}}};return g}(b.ActionsBuilder));b.ActionsMenuBuilder=c})(ic3||(ic3={}));var ic3;(function(b){var a=(function(){function c(){}c.createMdxMemberBaseStatement=function(g){var f=g.memberBase;
var i=g.memberBase;var h=g.memberBase;var d=g.memberBase;if(_.isString(f.mdx)){return f.mdx}else{if(_.isString(i.expressionName)){return c.MEASURES_HIERARCHY+".["+i.expressionName+"]"}else{if(_.isString(d.hierarchy)){if(_.isString(d.level)){if(_.isEmpty(d.members)){return d.level+".allmembers"
}else{if(d.members.length===1){return d.members[0]}else{return"{"+d.members.join(",")+"}"}}}else{if(!_.isEmpty(d.members)){if(d.members.length===1){return d.members[0]}else{return"{"+d.members.join(",")+"}"}}else{if(_.isString(h.membersType)&&_.isFunction(c.HIERARCHY_MEMBER_BUILDERS[h.membersType])){var e=c.HIERARCHY_MEMBER_BUILDERS[h.membersType];
return e(d.hierarchy)}}}}}}return null};c.createMdxMemberStatement=function(e){var h=c.createMdxMemberBaseStatement(e);if(_.isObject(e.limiter)){var g=e.limiter.type||c.LIMITER_TOP,d=c.LIMITER_FUNCTIONS[g];if((_.isNumber(e.limiter.limit)||_.isString(e.limiter.limit))&&_.isString(e.limiter.measure)){h=d(h,e.limiter.limit,e.limiter.measure)
}}if(_.isObject(e.order)){var f=e.order.measure||"{{current}}.key",i=e.order.direction||c.ORDER_ASCENDANT;if(_.isString(e.memberBase.hierarchy)){f=f.replace("{{current}}",e.memberBase.hierarchy+".currentMember")}h="Order("+h+","+f+","+i+")"}if(_.isObject(e.nonEmpty)&&_.isString(e.nonEmpty.measure)){h="NonEmpty("+h+","+e.nonEmpty.measure+")"
}if(_.isObject(e.hierarchize)){if(e.hierarchize.post===true){h="Hierarchize("+h+",POST)"}else{h="Hierarchize("+h+")"}}return h};c.splitMdxMember=function(d){return d.match(/\[([^\]]*)]/gmi)};c.getMdxAxisIndices=function(d,e){var f=d.getAxes().getAxisCount();
if(f===3){return{measuresAxis:0,columnsAxis:1,rowsAxis:2}}if(c.hasMeasuresAxis(e,d)){return{measuresAxis:0,columnsAxis:-1,rowsAxis:f==1?-1:1}}else{if(f==1){return{measuresAxis:null,columnsAxis:-1,rowsAxis:0}}else{return{measuresAxis:null,columnsAxis:0,rowsAxis:1}
}}};c.getDefaultMeasure=function(d){if(d.getSlicer().getTupleLength()>0){return d.getSlicer().getMemberCaption(0,d.getSlicer().getTupleLength()-1)}else{if(d.getAxes().getAxis(0).getMemberLevelCaption(0,0)=="MeasuresLevel"){return d.getAxes().getAxis(0).getMemberCaption(0,0)
}else{return"Value"}}};c.hasMeasuresAxis=function(e,d){return/^[\s]*\/\/[\s]*measures[\s]*$/igm.test(e.getMdxParameter())||d.getAxes().getAxisCount()==3};c.isMeasureMdxMember=function(d){return _.get(d.memberBase,"hierarchy")===c.MEASURES_HIERARCHY};c.isExpressionBased=function(d){return _.isString(_.get(d.memberBase,"expressionName"))
};c.processValues=function(d,f,h,g){var e=d.getCells();function i(j,k){if(j==f.length){g(e.getCellProperty(h,k))}else{_.each(f[j],function(l){k[j]=l;i(j+1,k)})}}i(0,[])};c.MEASURES_HIERARCHY="[Measures]";c.DEFAULT_MEASURE="[Measures].[Default]";c.HIERARCHY_FIRST_NOT_ALL="firstNotAll";
c.HIERARCHY_LAST_LEVEL="lastLevel";c.HIERARCHY_ALL_MEMBERS="allMembers";c.HIERARCHY_ALL_MEMBERS_WITHOUT_ALL="allMembersWithoutAll";c.ERROR_MARKER="error :: ";c.HIERARCHY_MEMBER_BUILDERS={firstNotAll:function(d){return d+".firstNotAllLevel().allmembers"},lastLevel:function(d){return d+".lastLevel().allmembers"
},allMembers:function(d){return d+".allmembers"},allMembersWithoutAll:function(d){return"{"+d+".allmembers-"+d+".[all]}"}};c.LIMITER_TOP="top";c.LIMITER_BOTTOM="bottom";c.LIMITER_TOP_PERCENT="topPercent";c.LIMITER_BOTTOM_PERCENT="bottomPercent";c.ORDER_ASCENDANT="BASC";
c.ORDER_DESCENDANT="BDESC";c.ORDER_ASCENDANT_KEEP_HIERARCHY="ASC";c.ORDER_DESCENDANT_KEEP_HIERARCHY="DESC";c.LIMITER_FUNCTIONS={top:function(f,d,e){return"TopCount("+f+","+d+","+e+")"},bottom:function(f,d,e){return"BottomCount("+f+","+d+","+e+")"},topPercent:function(f,d,e){return"TopPercent("+f+","+d+","+e+")"
},bottomPercent:function(f,d,e){return"BottomPercent("+f+","+d+","+e+")"}};return c}());b.IcCubeMdxBuilder=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a=(function(d){__extends(c,d);function c(){d.apply(this,arguments);this.classID="ic3.FilterQueryBuilder"}c.prototype.createDefaultGuts=function(e){var f=d.prototype.createDefaultGuts.call(this,e);
_.assign(f,{mode:"WIZARD",options:{WIZARD:{setAxis:[],filter:[]},MDX:{statement:""},MANUAL:{items:[]}}});return f};c.prototype.createWizardMdxStatement=function(g,f){var j=(_.isObject(f)?f:this.guts()).options.WIZARD;if(_.isEmpty(j.setAxis)){this.context.LoggerFactory.getLogger({instance:"Filter Query Builder",uid:this._adapter.box()&&this._adapter.box().$widgetBox.attr("id")}).warning("Filter data is not defined");
return}var i=_.isEmpty(j.cubeName)?this.context.cubeName():j.cubeName;var e=!_.isEmpty(j.setAxis[0].memberBase.hierarchy)?j.setAxis[0].memberBase.hierarchy:"Axis(1)(0)";var l="WITH\n"+("FUNCTION currMember() AS "+e+".hierarchy.currentmember\n");var m=!_.isEmpty(j.mdxName)?j.mdxName:"currMember().name";
if(_.isString(j.defaultMemberName)&&!_.isEmpty(j.defaultMemberName)){l+='MEMBER ic3Name AS IIF(currMember().isdefault, "'+j.defaultMemberName+'", '+m+")\n"}else{l+="MEMBER ic3Name AS "+m+"\n"}var k=!_.isEmpty(j.mdxUniqueName)?j.mdxUniqueName:"currMember().uniquename";
l+=("MEMBER ic3UName AS "+k+"\n")+"MEMBER ic3PName AS IIF(currMember().parent is NULL,NULL,currMember().parent.uniquename)\n";if(_.isString(j.measure)&&!_.isEmpty(j.measure)){l+="MEMBER ic3Measure AS "+j.measure+"\n"}else{l+="MEMBER ic3Measure AS 0\n"}if(_.isString(j.mdxPreselection)&&!_.isEmpty(j.mdxPreselection)){l+=("SET [SELECTED] AS {"+j.mdxPreselection+"}\n")+"MEMBER ic3IsSelected AS IIF(isIn([SELECTED], currMember()),true,false)\n"
}else{l+="MEMBER ic3IsSelected AS false\n"}if(_.isString(j.mdxFilterName)&&!_.isEmpty(j.mdxFilterName)){l+="MEMBER ic3FilterName as "+j.mdxFilterName+"\n"}else{l+="MEMBER ic3FilterName as [Measures].[ic3Name]\n"}l+="SELECT\n{[Measures].[ic3Name],[Measures].[ic3UName],[Measures].[ic3PName],[Measures].[ic3Measure],[Measures].[ic3IsSelected],[Measures].[ic3FilterName]} ON 0,\n";
var h="";if(j.addDefaultMember&&e!="Axis(1)(0)"){h+=e+"+"}h+=_.map(j.setAxis,function(n){return b.IcCubeMdxBuilder.createMdxMemberStatement(n)}).join("*");if(_.isObject(g)){if(!_.isEmpty(g.searchTerm)){h="Filter("+h+',instr([Measures].[ic3Name],"'+g.searchTerm+'")>0)'
}if(_.isNumber(g.offset)&&_.isNumber(g.limit)){h="Subset("+h+","+g.offset+","+g.limit+")"}}l+=h+" ON 1\n";l+="FROM ["+i+"]\n";l+=this.buildWhereStatement();l+=this.buildFilterByStatements();return l};c.prototype.buildWhereStatement=function(){var e=_.filter(this.guts().options.WIZARD.filter,function(f){return f.whereClause
});if(_.isEmpty(e)){return""}return"WHERE "+_.map(e,function(f){return"{"+b.IcCubeMdxBuilder.createMdxMemberStatement(f)+"}"}).join("*")+"\n"};c.prototype.buildFilterByStatements=function(){var e=_.filter(this.guts().options.WIZARD.filter,function(f){return !f.whereClause
});if(_.isEmpty(e)){return""}return _.map(e,function(f){return"FILTERBY "+b.IcCubeMdxBuilder.createMdxMemberStatement(f)}).join("\n")+"\n"};c.prototype.mdxStatement=function(e){var f=this.guts();switch(f.mode){case"WIZARD":return this.createWizardMdxStatement(e);
case"MDX":return f.options.MDX.statement;default:throw new Error("Mdx statement is not supported")}};c.prototype.handleEmptyAsValue=function(){return null};c.prototype.destroyWidget=function(){throw new Error("Unsupported")};c.prototype.refreshTabsContent=function(){};
c.prototype.validate=function(){if(this.guts().mode==="MDX"){if(_.isEmpty(this.guts().options.MDX.statement)){return"MDX statement is not defined"}}else{if(this.guts().mode==="WIZARD"){if(_.isEmpty(this.guts().options.WIZARD.setAxis)){return"Data wizard is not configured"
}}}};c.prototype.bindChange=function(e){};c.prototype.hasFlatMdx=function(){return true};c.prototype.canHaveQueryResult=function(){return true};c.prototype.hasQueryResult=function(){return true};c.prototype.isDefiningFlatMdx=function(){return false};c.prototype.mdxStatementForBoxEditor=function(e){if(_.isEmpty(this.guts().options.WIZARD.setAxis)){return"WITH\nFUNCTION currMember() AS [Filter Dimension].hierarchy.currentmember\nMEMBER ic3Name AS currMember().name\nMEMBER ic3UName AS currMember().uniquename\nMEMBER ic3PName AS IIF(currMember().parent is NULL,NULL,currMember().parent.uniquename)\nMEMBER ic3Measure AS 0\nMEMBER ic3IsSelected AS false\nMEMBER ic3FilterName as [Measures].[ic3Name]\nSELECT\n{[Measures].[ic3Name],[Measures].[ic3UName],[Measures].[ic3PName],[Measures].[ic3Measure],[Measures].[ic3IsSelected],[Measures].[ic3FilterName]} ON 0,\n[Filter Dimension].[Filter Hierarchy].[Filter Level].allmembers ON 1\nFROM [Cube]"
}else{return this.createWizardMdxStatement(null,e)}};c.prototype.type=function(){switch(this.guts().mode){case"MDX":case"WIZARD":return b.BuilderType.FILTER_QUERY;default:return b.BuilderType.FILTER_HIERARCHIES}};c.prototype.formTitle=function(){return""};c.prototype.plainCodeFormTitle=function(){return""
};c.prototype.getWizard=function(){return null};c.prototype.isBuilderWidget=function(){return true};c.prototype.eachExpression=function(e){if(_.includes([b.BuilderType.QUERY,b.BuilderType.FILTER_QUERY],this.type())){e(this.mdxStatement())}};c.prototype.getAdapter=function(){return this._adapter
};c.prototype.queryType=function(){return undefined};c.prototype.renderToolbarItems=function(){};c.prototype.items=function(){var f=this;var e=this.guts();return _.reduce(e.options.MANUAL.items,function(i,h){var g=[];if(h.uniqueName==c.CONSTANTS.ALL_MEASURES){g=_.map(f.context.gviConfiguration().schemaInfo().measures(f.context.cubeName()),function(j){return({uniqueName:j.uniqueName,name:j.name,selected:h.selected})
})}else{g=[{uniqueName:h.uniqueName,name:h.name,selected:h.selected}]}return i.concat(g)},[])};c.prototype.defaults=function(){return _.filter(this.guts().options.MANUAL.items,function(e){return e.selected})};c.CONSTANTS={ALL_MEASURES:"ic3-all-Measures"};return c
}(b.Serializable));b.FilterQueryBuilder=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(){d.apply(this,arguments);this.classID="ic3.HeadTailQueryBuilder"}c.prototype.createWizardMdxStatement=function(g,j){var i=(_.isObject(j)?j:this.guts()).options.WIZARD;if(!_.isObject(i.setAxis[0])){return
}var e=_.isEmpty(i.cubeName)?this.context.cubeName():i.cubeName;var f=a.IcCubeMdxBuilder.createMdxMemberStatement(i.setAxis[0]);var h="WITH\n"+("SET [dates] as "+f+"\n")+"Function ic3Min() as Head([dates])\nFunction ic3Max() as Tail([dates])\nFunction ic3DefFrom() as Tail([dates])\nFunction ic3DefTo() as Tail([dates])\nSELECT\n{ic3Min(),ic3Max(),ic3DefFrom(),ic3DefTo()} on 0\n"+("FROM ["+e+"]\n");
h+=this.buildWhereStatement();h+=this.buildFilterByStatements();h+="CELL PROPERTIES CELL_ORDINAL";return h};c.prototype.mdxStatementForBoxEditor=function(e){if(_.isEmpty(this.guts().options.WIZARD.setAxis)){return"WITH\nSET [dates] as [Date Dimension].[Date Hierarchy].[Date Level]\nFunction ic3Min() as Head([dates])\nFunction ic3Max() as Tail([dates])\nFunction ic3DefFrom() as tail([dates])\nFunction ic3DefTo() as Tail([dates])\nSELECT\n{ic3Min(),ic3Max(),ic3DefFrom(),ic3DefTo()} on 0\nFROM [Cube]\nCELL PROPERTIES CELL_ORDINAL"
}else{return this.createWizardMdxStatement(null,e)}};return c}(a.FilterQueryBuilder));a.HeadTailQueryBuilder=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(f,e){var g=this;c.call(this,f,e);this.handleExpand=function(){g.state.expanded=!g.state.expanded;g.forceUpdate()};this.state={expanded:true,input:""}
}d.prototype.render=function(){var i=this;var l=this,e=l.props.filter,k=l.state,j=k.expanded,m=k.input;var f=this.context.reportingContext.eventsProducedInReport(null);var g=classNames("pull-right","glyphicons","glyphicons-chevron-"+(j?"down":"up"));var h=[{value:m,placeholder:this.context.reportingContext.l("ic3.widget_data_options.suggestions.mdx_definition"),onChange:function(n){return i.setState({input:n})
},modal:true}];return(React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading hierarchy",onClick:this.handleExpand},React.createElement("span",null,"Events"),React.createElement("span",{className:g})),j?React.createElement("div",{className:"panel-body"},_.filter(f,function(n){return ~n.name.toLowerCase().search(e)
}).map(function(n){return React.createElement("div",{className:"panel mdx-member-container"},React.createElement("div",{className:"panel-head"},React.createElement(a.DraggableMdxMemberComponent,{mdxMember:{memberBase:{mdx:n.lexeme}},canDrop:function(){return false
},detailedInfo:false})))}),React.createElement("div",{className:"panel mdx-member-container"},React.createElement("div",{className:"panel-head"},React.createElement(a.DraggableMdxMemberComponent,{mdxMember:{memberBase:{mdx:m}},inputs:h,onValidate:function(){return !!m
},canDrop:function(){return false},detailedInfo:false})))):null))};d.contextTypes={reportingContext:React.PropTypes.object};return d}(React.Component));a.EventHierarchyComponent=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(f,e){var g=this;c.call(this,f,e);this.handleExpand=function(){g.state.expanded=!g.state.expanded;
g.forceUpdate()};this.state={expanded:false}}d.prototype.toLevelMdxMember=function(e){return{name:e.name,memberBase:{hierarchy:this.props.uniqueName,level:e.uniqueName,members:[]}}};d.prototype.render=function(){var g=this;var e=_.isBoolean(this.props.expanded)?this.props.expanded:this.state.expanded;
var f=classNames("pull-right","glyphicons","glyphicons-chevron-"+(e?"down":"up"));return(React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading hierarchy",onClick:this.handleExpand},React.createElement("span",null,this.props.title),React.createElement("span",{className:f})),e?React.createElement("div",{className:"panel-body"},React.createElement(a.HierarchyMemberComponent,{mdxMember:{memberBase:{hierarchy:this.props.uniqueName,membersType:a.IcCubeMdxBuilder.HIERARCHY_ALL_MEMBERS}}}),_.map(this.props.levels,function(i,h){return React.createElement(a.LevelComponent,{key:h,mdxMember:g.toLevelMdxMember(i)})
})):null))};return d}(React.Component));a.HierarchyComponent=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(f,e){var g=this;c.call(this,f,e);this.handleExpand=function(){g.state.expanded=!g.state.expanded;g.forceUpdate()};this.state={expanded:false}}d.prototype.render=function(){var e=_.isBoolean(this.props.expanded)?this.props.expanded:this.state.expanded;
var f=classNames("pull-right","glyphicons","glyphicons-chevron-"+(e?"down":"up"));return(React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading hierarchy",onClick:this.handleExpand},React.createElement("span",null,this.props.name),React.createElement("span",{className:f})),e?React.createElement("div",{className:"panel-body"},React.createElement("div",{className:"panel panel-default mdx-member-container"},React.createElement("div",{className:"panel-head"},React.createElement(a.DraggableItemComponent,{item:{name:this.props.name,uniqueName:this.props.uniqueName,type:"hierarchy"},detailedInfo:false}))),_.map(this.props.levels,function(h,g){return React.createElement("div",{key:"level_"+h.uniqueName,className:"panel panel-default mdx-member-container"},React.createElement("div",{className:"panel-head"},React.createElement(a.DraggableItemComponent,{item:{name:h.name,uniqueName:h.uniqueName,type:"level"},detailedInfo:false})))
})):null))};return d}(React.Component));a.HierarchyItemsComponent=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e)}c.prototype.render=function(){return(React.createElement("div",{className:"panel mdx-member-container"},React.createElement("div",{className:"panel-head"},React.createElement(a.DraggableMdxMemberComponent,{mdxMember:this.props.mdxMember,canDrop:function(){return false
},detailedInfo:false}))))};return c}(React.Component));a.HierarchyMemberComponent=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(g,f){var i=this;d.call(this,g,f);this.resetState=function(){i.state.membersType=a.IcCubeMdxBuilder.HIERARCHY_ALL_MEMBERS;i.state.checkedMembers.length=0;i.state.expandedMembers={};i.forceUpdate()
};this.handleLevelExpanding=function(j){j.stopPropagation();if(i.props.disableChildrenLoad===true){return}i.state.expanded=!i.state.expanded;i.forceUpdate()};this.handleMemberCheck=function(l){var k=i.state.checkedMembers;var j=_.findIndex(i.state.checkedMembers,{uniqueName:l.uniqueName});
j<0?k.push(l):k.splice(j,1);i.setState({checkedMembers:k});if(_.isFunction(i.props.onChange)){i.props.onChange(i.buildMdxMember())}};this.handleMemberExpand=function(j,k){j.stopPropagation();i.state.expandedMembers[k.uniqueName]=!i.state.expandedMembers[k.uniqueName];
i.forceUpdate()};this.loadMoreItems=function(j,l,k){i.state.limits[l]=k;i.loadChildren(j,l,i.state.limits[l],i.state.searchStrings[l]);i.forceUpdate()};this.renderMembersTree=function(k,o){var j=i.state.expandedMembers[o.uniqueName];var m=_.findIndex(i.state.checkedMembers,{uniqueName:o.uniqueName})>=0;
k.push(React.createElement("a",{key:o.uniqueName+"_a",href:"javascript:void(0)",className:classNames("list-group-item","clearfix",m?"active":null),onClick:function(){return i.handleMemberCheck(o)}},React.createElement("span",{className:classNames("pull-left","sprite","checkbox",{checked:m})}),React.createElement("span",{className:"pull-left"},o.name),o.childrenCount>0?React.createElement("span",{className:classNames("glyphicons","pull-right","glyphicons-chevron-"+(j?"down":"up")),onClick:function(p){return i.handleMemberExpand(p,o)
}}):null));var l=o.uniqueName+".children";var n=null;if(i.state.isCutCollection[l]){n=(React.createElement("a",{key:"more",className:"list-group-item clearfix"},React.createElement("div",{className:"load-btn",onClick:function(){return i.loadMoreItems(o.children,l,(i.state.limits[l]||i.defaultLimit)+i.defaultLimit)
}},"Load ",i.defaultLimit," more"),React.createElement("div",{className:"load-btn",onClick:function(){return i.loadMoreItems(o.children,l,0)}},"Load all items...")))}if(j){if(_.isEmpty(o.children)&&o.childrenCount>0&&_.isEmpty(i.state.searchStrings[l])){i.loadChildren(o.children,l,i.state.limits[o.uniqueName],i.state.searchStrings[l]);
k.push(React.createElement("div",{key:o.uniqueName+"_b",className:"list-group"},i.searchInput(o.children,l),React.createElement("a",{key:o.uniqueName+"_b",className:"list-group-item clearfix"},"Loading...")))}else{k.push(React.createElement("div",{key:o.uniqueName+"_b",className:"list-group"},i.searchInput(o.children,l),_.transform(o.children,i.renderMembersTree,[]),n))
}}};var h=_.split(this.props.mdxMember.name,c.nameSeparator);this.defaultLimit=5;this.state={members:[],membersType:a.IcCubeMdxBuilder.HIERARCHY_ALL_MEMBERS,expanded:false,expandedMembers:{},searchStrings:{},checkedMembers:_.map(this.props.mdxMember.memberBase.members,function(k,j){return({name:h[j],uniqueName:k})
}),isCutCollection:{},limits:(e={},e[this.props.mdxMember.memberBase.level+".allmembers"]=this.defaultLimit-1,e)};var e}c.prototype.componentDidMount=function(){var e=this.props.mdxMember.memberBase.level+".allmembers";this.loadChildren(this.state.members,e,this.state.limits[e],this.state.searchStrings[e])
};c.prototype.loadChildren=function(g,h,e,f){var i=this;setTimeout(function(){e=_.isNumber(e)?e:i.defaultLimit-1;var j=i.context.reportingContext.cubeName();var m=!_.isEmpty(f)?"Filter("+h+", instr(ic3Name, '"+f+"'))":h;var l=e>0?"Subset("+m+", 0, "+(e+1)+")":m;
var k=new viz.MdxTableRequest("WITH\n"+("FUNCTION currMember() AS "+_.get(i.props.mdxMember.memberBase,"hierarchy")+".hierarchy.currentmember\n")+"MEMBER ic3Name AS Caption(currMember()),SOLVE_ORDER=2147483647\nMEMBER ic3UName AS currMember().uniquename,SOLVE_ORDER=2147483647\nSELECT\n{[Measures].[ic3Name], [Measures].[ic3UName]} on 0,\n"+(l+" on 1\n")+("FROM ["+j+"]"));
i.context.reportingContext.executeRequest(k,{onVizRequestExecuted:function(o){g.length=0;var p=i.props.mdxMember.memberBase.members;var t=o.getAxes().getAxis(1);var s=t.getTupleCount();var q=o.getCells();i.state.isCutCollection[h]=e>0&&s>e;for(var u=0;u<s;u++){var r=q.getCellProperty("VALUE",[0,u]);
var n=q.getCellProperty("VALUE",[1,u]);g.push({name:r,uniqueName:n,checked:_.includes(p,n),childrenCount:t.getMemberChildrenCount(u,0),children:[]})}i.forceUpdate()}})})};c.prototype.buildMdxMember=function(){var f=_.cloneDeep(this.props.mdxMember);var g=f.memberBase;
if(!_.isEmpty(this.state.members)){var e=this.state.checkedMembers;g.members=_.map(e,"uniqueName");f.name=_.map(e,"name").join(c.nameSeparator)}return f};c.prototype.updateSearch=function(f,g,e){var h=this.state.searchStrings;h[g]=e;this.setState({searchStrings:h});
this.loadChildren(f,g,this.state.limits[g],e)};c.prototype.searchInput=function(e,g){var f=_.debounce(this.updateSearch.bind(this),800);return(React.createElement("a",{key:"search-for-"+g,className:"list-group-item clearfix"},React.createElement("input",{key:"search-input",placeholder:"Search",className:"search-input",defaultValue:this.state.searchStrings[g],onChange:function(h){return f(e,g,_.get(h,"target.value"))
}})))};c.prototype.renderMembers=function(){var g=this;var e=this.props.mdxMember.memberBase.level+".allmembers";var f=null;if(this.state.isCutCollection[e]){f=(React.createElement("a",{key:"more",className:"list-group-item clearfix"},React.createElement("div",{className:"load-btn",onClick:function(){return g.loadMoreItems(g.state.members,e,(g.state.limits[e]||g.defaultLimit)+g.defaultLimit)
}},"Load ",this.defaultLimit," more"),React.createElement("div",{className:"load-btn",onClick:function(){return g.loadMoreItems(g.state.members,e,0)}},"Load all items...")))}return(React.createElement("div",{className:"panel-body"},_.isNull(this.state.members)?(React.createElement("div",{className:"list-group list-group-root"},this.searchInput(this.state.members,e),React.createElement("a",{key:"loading",className:"list-group-item clearfix"},"Loading..."))):(React.createElement("div",{className:"list-group list-group-root"},this.searchInput(this.state.members,e),_.transform(this.state.members,this.renderMembersTree,[]),f))))
};c.prototype.render=function(){var e=this.state.expanded;var f=React.createElement("span",{className:classNames("glyphicons","glyphicons-chevron-"+(e?"down":"up")),onClick:this.handleLevelExpanding});return(React.createElement("div",{className:classNames("panel","mdx-member-container",{expanded:e})},React.createElement("div",{className:"panel-head"},React.createElement(a.DraggableMdxMemberComponent,{mdxMember:this.buildMdxMember(),canDrop:function(){return false
},dropSuccess:this.resetState,advancedControl:f,detailedInfo:false})),this.state.expanded?this.renderMembers():null))};c.nameSeparator=", ";c.contextTypes={reportingContext:React.PropTypes.object};return c}(React.Component));a.LevelComponent=b})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);
function d(f,e){var g=this;c.call(this,f,e);this.handleExpand=function(){g.state.expanded=!g.state.expanded;g.forceUpdate()};this.handleCustomMeasureDropSuccess=function(i){var h=g.context.reportingContext.calcMeasureMgr();h.addOrUpdateCalculatedMeasure(i);
g.setState({expression:"",expressionName:""})};this.state={expanded:false,expression:"",expressionName:""}}d.prototype.renderCustomMdxMemberComponent=function(){var k=this;if(this.props.showCustom){var g=this.state,j=g.expression,e=g.expressionName;var i=this.context.reportingContext.calcMeasureMgr().generateName();
var h={memberBase:{expressionName:e||i,expression:j}};var f=[{value:e,placeholder:i,onChange:function(l){return k.setState({expressionName:l})}},{value:j,placeholder:this.context.reportingContext.l("ic3.widget_data_options.suggestions.mdx_definition"),onChange:function(l){return k.setState({expression:l})
},modal:true}];return(React.createElement("div",{className:"panel mdx-member-container"},React.createElement("div",{className:"panel-head"},React.createElement(a.DraggableMdxMemberComponent,{key:i,mdxMember:h,inputs:f,detailedInfo:false,canDrop:function(){return false
},onValidate:function(){return !!j},dropSuccess:function(){return k.handleCustomMeasureDropSuccess(h.memberBase)}}))))}};d.prototype.renderBody=function(){if(this.state.expanded){return(React.createElement("div",{className:"panel-body"},_.map(this.props.members,function(f,e){return React.createElement("div",{key:e,className:"panel mdx-member-container"},React.createElement("div",{className:"panel-body"},React.createElement(a.DraggableMdxMemberComponent,{mdxMember:f,detailedInfo:false,canDrop:function(){return false
}})))}),this.renderCustomMdxMemberComponent()))}};d.prototype.render=function(){return(React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading hierarchy",onClick:this.handleExpand},React.createElement("span",null,this.props.title),React.createElement("span",{className:classNames("pull-right","glyphicons","glyphicons-chevron-"+(this.state.expanded?"down":"up"))})),this.renderBody()))
};d.contextTypes={reportingContext:React.PropTypes.object};return d}(React.Component));a.MeasuresHierarchyComponent=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a=b.react.Autosuggest;var c=(function(){function e(){}return e}());b.MdxMemberWrappersConfigurationProperties=c;var d=(function(e){__extends(f,e);function f(h,g){var i=this;
e.call(this,h,g);this.handleLimiterSwitch=function(){if(_.isObject(i.props.mdxMember.limiter)){i.props.handleChange("limiter",null)}else{var j=i.context.reportingContext.gviConfiguration().schemaInfo().measures(i.context.reportingContext.cubeName());i.props.handleChange("limiter",{measure:j[0].uniqueName,type:b.IcCubeMdxBuilder.LIMITER_TOP,limit:5})
}};this.handleOrderSwitch=function(){if(_.isObject(i.props.mdxMember.order)){i.props.handleChange("order",null)}else{i.props.handleChange("order",{measure:"{{current}}.key",direction:"BASC"})}};this.handleNonEmptySwitch=function(){if(_.isObject(i.props.mdxMember.nonEmpty)){i.props.handleChange("nonEmpty",null)
}else{var j=i.context.reportingContext.gviConfiguration().schemaInfo().measures(i.context.reportingContext.cubeName());i.props.handleChange("nonEmpty",{measure:j[0].uniqueName})}};this.handleHierarchizeSwitch=function(){if(_.isObject(i.props.mdxMember.hierarchize)){i.props.handleChange("hierarchize",null)
}else{i.props.handleChange("hierarchize",{post:true})}}}f.prototype.renderLimiterEditor=function(){var l=this;var g=this.context.reportingContext;var h=this.props.mdxMember;var k=g.gviConfiguration().schemaInfo().measures(g.cubeName());var j=_.isObject(h.limiter);
var i=[];i.push(React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:j,onClick:this.handleLimiterSwitch}),g.l("ic3.widget_data_options.wizard.advanced.limiter"))));if(j){i.push(React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"limitType"},g.l("ic3.widget_data_options.wizard.advanced.limiter.type")),React.createElement("select",{id:"limitTypeInput",className:"form-control",value:_.get(h,"limiter.type"),onChange:function(m){l.props.handleChange("limiter.type",m.target.value)
}},React.createElement("option",{value:b.IcCubeMdxBuilder.LIMITER_TOP},g.l("ic3.widget_data_options.wizard.advanced.limiter.top")),React.createElement("option",{value:b.IcCubeMdxBuilder.LIMITER_BOTTOM},g.l("ic3.widget_data_options.wizard.advanced.limiter.bottom")),React.createElement("option",{value:b.IcCubeMdxBuilder.LIMITER_TOP_PERCENT},g.l("ic3.widget_data_options.wizard.advanced.limiter.top_percent")),React.createElement("option",{value:b.IcCubeMdxBuilder.LIMITER_BOTTOM_PERCENT},g.l("ic3.widget_data_options.wizard.advanced.limiter.bottom_percent")))));
i.push(React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"limitNumber"},this.context.reportingContext.l("ic3.widget_data_options.wizard.advanced.limiter.limit")),React.createElement("input",{type:"text",className:"form-control",id:"limitNumber",value:_.get(h,"limiter.limit"),onChange:function(m){l.props.handleChange("limiter.limit",m.target.value)
}})));i.push(React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"limitMeasure"},this.context.reportingContext.l("ic3.widget_data_options.wizard.advanced.limiter.limit_measure")),React.createElement(a,{value:_.get(h,"limiter.measure"),suggestions:function(m,n){n(null,k)
},suggestionRenderer:function(n,m){return React.createElement("span",null,n.name)},suggestionValue:function(m){return m.uniqueName},showWhen:function(m){return true},inputAttributes:{id:"limitMeasure",className:"form-control",onChange:function(m){l.props.handleChange("limiter.measure",m)
}}})))}return i};f.prototype.renderOrderEditor=function(){var m=this;var g=this.context.reportingContext;var i=this.props.mdxMember;var l=_.isObject(i.order);var j=[];j.push(React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:l,onClick:this.handleOrderSwitch}),g.l("ic3.widget_data_options.wizard.advanced.order"))));
if(l){var k=g.gviConfiguration().schemaInfo().measures(g.cubeName());var h=_.clone(k);h.unshift({name:"<Key>",uniqueName:"{{current}}.key",type:viz.MdxEntityDataType.OTHER,subType:"",measureGroupName:""});h.unshift({name:"<Name>",uniqueName:"{{current}}.name",type:viz.MdxEntityDataType.OTHER,subType:"",measureGroupName:""});
j.push(React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"orderMeasure"},"Order Measure"),React.createElement(a,{value:_.get(i,"order.measure"),suggestions:function(n,o){o(null,h)},suggestionRenderer:function(o,n){return React.createElement("span",null,o.name)
},suggestionValue:function(n){return n.uniqueName},showWhen:function(n){return true},inputAttributes:{placeholder:"<Key>",id:"orderMeasure",className:"form-control",onChange:function(n){m.props.handleChange("order.measure",n)}}})));j.push(React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"orderDirection"},g.l("ic3.widget_data_options.wizard.advanced.order.direction")),React.createElement("select",{id:"orderDirectionInput",className:"form-control",value:_.get(i,"order.direction"),onChange:function(n){m.props.handleChange("order.direction",n.target.value)
}},React.createElement("option",{value:b.IcCubeMdxBuilder.ORDER_ASCENDANT},g.l("ic3.widget_data_options.wizard.advanced.order.ascendant")),React.createElement("option",{value:b.IcCubeMdxBuilder.ORDER_ASCENDANT_KEEP_HIERARCHY},g.l("ic3.widget_data_options.wizard.advanced.order.ascendant_keep_hierarchy")),React.createElement("option",{value:b.IcCubeMdxBuilder.ORDER_DESCENDANT},g.l("ic3.widget_data_options.wizard.advanced.order.descendant")),React.createElement("option",{value:b.IcCubeMdxBuilder.ORDER_DESCENDANT_KEEP_HIERARCHY},g.l("ic3.widget_data_options.wizard.advanced.order.descendant_keep_hierarchy")))))
}return j};f.prototype.renderNonEmptyEditor=function(){var l=this;var h=this.context.reportingContext;var i=this.props.mdxMember;var k=_.isObject(i.nonEmpty);var j=[];j.push(React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:k,onClick:this.handleNonEmptySwitch}),h.l("ic3.widget_data_options.wizard.advanced.non_empty"))));
if(k){var g=h.gviConfiguration().schemaInfo().measures(h.cubeName());j.push(React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"nonEmptyMeasure"},"Non Empty Measure"),React.createElement(a,{value:_.get(i,"nonEmpty.measure"),suggestions:function(m,n){n(null,g)
},suggestionRenderer:function(n,m){return React.createElement("span",null,n.name)},suggestionValue:function(m){return m.uniqueName},showWhen:function(m){return true},inputAttributes:{id:"nonEmptyMeasure",className:"form-control",onChange:function(m){l.props.handleChange("nonEmpty.measure",m)
}}})))}return j};f.prototype.renderHierarchizeEditor=function(){var k=this;var g=this.context.reportingContext;var i=this.props.mdxMember;var h=_.isObject(i.hierarchize);var j=[];j.push(React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:h,onClick:this.handleHierarchizeSwitch}),g.l("ic3.widget_data_options.wizard.advanced.hierarchize"))));
if(h){j.push(React.createElement("div",{className:"form-group"},React.createElement("input",{type:"checkbox",checked:i.hierarchize.post,onClick:function(){k.props.handleChange("hierarchize.post",!i.hierarchize.post)}}),"POST"))}return j};f.prototype.render=function(){return(React.createElement("div",null,this.renderLimiterEditor(),this.renderOrderEditor(),this.renderNonEmptyEditor(),this.renderHierarchizeEditor()))
};f.contextTypes={reportingContext:React.PropTypes.object};return f}(React.Component));b.MdxMemberWrappersConfiguration=d})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var c=a.reporting.editor.OptionMetaType;var b=(function(e){__extends(d,e);function d(){var f=this;e.apply(this,arguments);this.handleMetaChange=function(g){f.props.onChange(_.assign(_.cloneDeep(f.props.item),g))
}}d.prototype.optionsMeta=function(){return[{label:"name",valueRef:"name",type:c.PLAIN_TEXT,defaultValue:null},{label:"uniqueName",valueRef:"uniqueName",type:c.TEXT,defaultValue:""},{label:"selected",valueRef:"selected",type:c.BOOLEAN,defaultValue:false}]};
d.prototype.render=function(){var f=this.props.item;return(React.createElement(a.MetaWidgetOptions,{meta:{metaProps:this.optionsMeta()},properties:f,allProperties:f,onChange:this.handleMetaChange}))};d.contextTypes={reportingContext:React.PropTypes.object};
return d}(React.Component));a.ItemAdvanced=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var d=a.reporting.editor.OptionMetaType;var e=a.reporting.editor.ServerBrowserType;a.ExtendedActionTypes={EVENT:"@d{ic3.widget_data_options.item_advanced.type.event}",REPORT_NAME:"@d{ic3.widget_data_options.item_advanced.type.report_name}",JAVASCRIPT:"@d{ic3.widget_data_options.item_advanced.type.javascript}"};
var c=(function(g){__extends(f,g);function f(){g.apply(this,arguments)}f.prototype.optionsMeta=function(){return[{label:"caption",valueRef:"name",type:d.PLAIN_TEXT,defaultValue:null},{label:"eventValue",valueRef:"uniqueName",type:d.TEXT,defaultValue:""},{label:"selected",valueRef:"selected",type:d.BOOLEAN,defaultValue:false}]
};return f}(a.ItemAdvanced));a.ActionItemAdvanced=c;var b=(function(g){__extends(f,g);function f(){g.apply(this,arguments)}f.prototype.optionsMeta=function(){return[{label:"caption",valueRef:"name",type:d.PLAIN_TEXT,defaultValue:null},{label:"eventName",valueRef:"eventName",type:d.TEXT,defaultValue:""},{label:"actionType",valueRef:"actionType",type:d.SELECT,suggestion:_.map(a.ExtendedActionTypes),defaultValue:a.ExtendedActionTypes.EVENT},{label:"triggeredEventValue",valueRef:"uniqueName",type:d.TEXT,defaultValue:"",configurable:function(h){return _.includes([a.ExtendedActionTypes.EVENT,a.ExtendedActionTypes.JAVASCRIPT],h.actionType)||_.isUndefined(h.actionType)
}},{label:"report",valueRef:"uniqueName",type:d.SERVER_FILE,suggestion:e.PATH,defaultValue:"",configurable:function(h){return h.actionType===a.ExtendedActionTypes.REPORT_NAME}},{label:"javascriptFunction",valueRef:"jsFunction",type:d.FUNCTION,defaultValue:"",contextType:"WIDGET",defaultTemplateValue:"// write your code here",template:"/**\n * Execute code upon element activation\n */\nfunction(context, item) {\n\t${funcBody}\n}",configurable:function(h){return h.actionType===a.ExtendedActionTypes.JAVASCRIPT
}},{label:"tooltip",valueRef:"tooltip",type:d.TEXT,defaultValue:""},{label:"CSS Class",valueRef:"cssClass",type:d.TEXT,defaultValue:""},{label:"selected",valueRef:"selected",type:d.BOOLEAN,defaultValue:false}]};return f}(c));a.ExtendedActionItemAdvanced=b})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);
function d(f,e){var g=this;c.call(this,f,e);this.handleChange=function(i,h){var j=_.cloneDeep(g.props.mdxMember);_.set(j,i,h);g.props.onChange(j)};this.handleMemberChange=function(h){g.props.onChange(h)}}d.prototype.render=function(){var g=this.props.mdxMember;
var f=this.props.mdxMember.memberBase;var e=_.isString(f.hierarchy)&&(_.isString(f.level)||!_.isEmpty(f.members));return(React.createElement("div",{key:"measure-list"+this.props.index,className:"mdx-members-list"},e?React.createElement(a.LevelComponent,{mdxMember:g,onChange:this.handleMemberChange}):null,React.createElement(a.MdxMemberWrappersConfiguration,{mdxMember:g,handleChange:this.handleChange})))
};d.contextTypes={reportingContext:React.PropTypes.object};return d}(React.Component));a.MdxMemberAdvanced=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){var g=this;d.call(this,f,e);this.handleChange=function(i,h){var j=_.cloneDeep(g.props.mdxMember);_.set(j,i,h);g.props.onChange(j)
}}c.prototype.render=function(){var e=this.context.reportingContext;return(React.createElement("div",null,React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"measureMdxInput"},e.l("ic3.widget_data_options.wizard.advanced.mdx_definition")),React.createElement(a.MdxDefinitionInput,{id:"measureMdxInput",placeholder:"Measure MDX",defaultValue:this.props.mdxMember.memberBase.mdx,onChange:this.handleChange.bind(this,"memberBase.mdx")})),React.createElement(a.MdxMemberWrappersConfiguration,{mdxMember:this.props.mdxMember,handleChange:this.handleChange})))
};c.contextTypes={reportingContext:React.PropTypes.object};return c}(React.Component));a.MdxMemberEditor=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){var g=this;d.call(this,f,e);this.handleChange=function(i,h){var j=_.cloneDeep(g.props.mdxMember);_.set(j.memberBase,i,h);
g.props.onChange(j)};this.handleExpressionNameChange=function(h){var i=_.cloneDeep(g.props.mdxMember);i.memberBase.expressionName=h;i.name=h;g.props.onChange(i)};this.handleExpressionChange=function(i){var h=_.cloneDeep(g.props.mdxMember);h.memberBase.expression=i;
g.props.onChange(h)}}c.prototype.render=function(){var g=this;var e=this.context.reportingContext;var f=this.props.mdxMember.memberBase;return(React.createElement("div",{key:"measure"+this.props.index},React.createElement("div",{className:"input-group"},React.createElement("label",{htmlFor:"measureNameInput"},e.l("ic3.widget_data_options.wizard.advanced.measure_name")),React.createElement("input",{type:"text",className:"form-control",id:"measureNameInput",placeholder:"Measure Name",defaultValue:f.expressionName,onChange:function(h){g.handleExpressionNameChange(h.target.value)
}})),React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"measureMdxInput"},e.l("ic3.widget_data_options.wizard.advanced.mdx_definition")),React.createElement(a.MdxDefinitionInput,{id:"measureMdxInput",placeholder:"Measure MDX",modal:true,defaultValue:f.expression,onChange:this.handleExpressionChange.bind(this)})),React.createElement("div",{className:"input-group"},React.createElement("label",{htmlFor:"measureNameInput"},"FORMAT_STRING"),React.createElement("input",{type:"text",className:"form-control",id:"formatStringInput",placeholder:"FORMAT_STRING",defaultValue:f.formatString,onChange:function(h){g.handleChange("formatString",h.target.value)
}})),React.createElement("div",{className:"input-group"},React.createElement("label",{htmlFor:"measureNameInput"},"SOLVE_ORDER"),React.createElement("input",{type:"text",className:"form-control",id:"solveOrderInput",placeholder:"SOLVE_ORDER",defaultValue:f.solveOrder,onChange:function(h){g.handleChange("solveOrder",h.target.value)
}}))))};c.contextTypes={reportingContext:React.PropTypes.object};return c}(React.Component));a.MeasureAdvanced=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){var g=this;d.call(this,f,e);this.handleWhereClauseChange=function(){var h=_.cloneDeep(g.props.mdxMember);h.whereClause=!h.whereClause;
g.props.onChange(h)}}c.prototype.render=function(){var g=this.context.reportingContext;var h=this.props.mdxMember;var f=h.memberBase;var e=_.isString(f.hierarchy)&&(_.isString(f.level)||!_.isEmpty(f.members));return(React.createElement("div",null,e?React.createElement(a.LevelComponent,{mdxMember:h,onChange:this.handleMemberChange}):null,React.createElement("div",{className:"checkbox"},React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:this.props.mdxMember.whereClause,onClick:this.handleWhereClauseChange}),g.l("ic3.widget_data_options.wizard.advanced.filter_as_where"))),React.createElement(a.MdxMemberWrappersConfiguration,{mdxMember:h,handleChange:this.handleChange})))
};return c}(a.MdxMemberAdvanced));a.FilterAdvanced=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){var g=this;d.call(this,f,e);this.handleTargetDrop=function(j,i){var h=_.cloneDeep(g.props.axis);h.splice(i,0,j);g.props.onChange(h,g.props.nonEmpty)};this.handleTargetSwap=function(j,i){var h=_.cloneDeep(g.props.axis);
var k=_.findIndex(g.props.axis,function(l){return l===j});h.splice(k,1);h.splice(i-(i>k?1:0),0,j);g.props.onChange(h,g.props.nonEmpty)};this.handleRemove=function(i){var h=_.cloneDeep(g.props.axis);h.splice(i,1);g.props.onChange(h,g.props.nonEmpty)}}c.prototype.renderDropPlaceholder=function(){var e=classNames("drop-placeholder");
if(!this.props.showCanDrop&&!_.isEmpty(this.props.axis)){return null}return this.props.connectDropTarget(React.createElement("div",{className:e,onClick:this.props.onOpenSuggestions},this.context.reportingContext.l("ic3.widget_data_options.wizard.drop_here")))
};c.prototype.render=function(){var l=this;var i=this.props,h=i.name,j=i.axis,f=i.nonEmpty,k=i.canDrop,e=i.showCanDrop,g=i.configMember;return(React.createElement("div",{className:classNames("panel",e?"can-drop":"")},React.createElement("div",{className:"panel-head"},h,_.isUndefined(f)?null:React.createElement("span",{className:"pull-right"},React.createElement("label",{className:"styled"},React.createElement("input",{type:"checkbox",checked:f,onClick:function(){l.props.onChange(j,!f)
}}),React.createElement("span",{className:"sprite checkbox grayed"}),React.createElement("span",null,this.context.reportingContext.l("ic3.widget_data_options.wizard.non_empty"))))),React.createElement("div",{className:"panel-body"},_.map(j,function(n,m){return React.createElement(a.DraggableMdxMemberComponent,{key:m,mdxMember:n,highlight:n===g,canDrop:k,listUid:h,handleTargetDrop:function(o){l.handleTargetDrop(o,m)
},handleRemove:function(){l.handleRemove(m)},handleTargetSwap:function(o){l.handleTargetSwap(o,m)},advancedControl:React.createElement("span",null,a.IcCubeMdxBuilder.isMeasureMdxMember(n)?null:React.createElement("span",{className:classNames("glyphicons","glyphicons-cogwheel"),onClick:function(){l.props.onConfiguration(n,m)
}}),React.createElement("span",{className:classNames("glyphicons","glyphicons-remove"),onClick:function(){l.handleRemove(m)}}))})})),React.createElement("div",{className:"panel-footer"},this.renderDropPlaceholder())))};c.dropCollect=function(f,e){return{connectDropTarget:f.dropTarget(),isOver:e.isOver(),showCanDrop:e.canDrop()}
};c.contextTypes={reportingContext:React.PropTypes.object};c.draggableTarget={drop:function(h,e){if(!e.didDrop()){var f=_.cloneDeep(h.axis||[]);var g=_.findIndex(h.axis,function(i){return i===e.getItem().mdxMember});if(g>=0){f.splice(g,1)}else{e.getItem().handleRemove()
}h.onChange(f.concat(e.getItem().mdxMember),h.nonEmpty)}},canDrop:function(f,e){if(_.isFunction(f.canDrop)){return f.canDrop(e.getItem().mdxMember)}return true}};return c}(React.Component));a.AxisConfiguration=_.flow(ReactDnD.DropTarget(a.ItemTypes.MDX_MEMBER,b.draggableTarget,b.dropCollect))(b)
})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;
a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var ic3;(function(a){function b(f){var e=f.memberBase;var i=f.memberBase;var d=f.memberBase;var h=f.memberBase;var g=function(j){var k=/.*\[([^\]]*)]$/.exec(j);
if(k==null||k.length<2){return j}return k[1]};if(!_.isEmpty(f.name)){return f.name}if(_.isString(e.mdx)){return e.mdx}if(_.isString(h.expressionName)){return h.expressionName}if(_.isString(d.hierarchy)){if(_.isString(d.level)){if(_.isEmpty(d.members)){return g(d.level)
}else{if(d.members.length===1){return g(d.members[0])}else{return _.map(d.members,function(j){return g(j)}).join(", ")}}}else{if(!_.isEmpty(d.members)){if(d.members.length===1){return g(d.members[0])}else{return _.map(d.members,function(j){return g(j)}).join(", ")
}}else{if(_.isString(i.membersType)){return i.membersType}}}}return"UNKNOWN"}a.getMdxMemberCaption=b;var c=(function(d){__extends(e,d);function e(g,f){d.call(this,g,f);this.preventFirefoxSelection=function(h){return(_.get(h,"target.tagName","").toLowerCase()!=="input"&&h.preventDefault())
}}e.prototype.getDetailedInfo=function(){var g=this.props.mdxMember.memberBase;var f=this.props.mdxMember.memberBase;var h=this.props.mdxMember.memberBase;if(_.isString(g.mdx)){return"MDX/EVENT"}else{if(_.isString(h.expression)){return h.expression}else{if(_.isString(f.hierarchy)){return f.hierarchy
}}}return"UNKNOWN"};e.prototype.getClassName=function(){var j=this.props,m=j.mdxMember,i=j.mdxMember,h=i.memberBase,l=i.subType;var n=h;var k=h;var g=h;var f=m.memberBase;switch(true){case (g.hierarchy===a.IcCubeMdxBuilder.MEASURES_HIERARCHY):return(l===viz.MdxEntityDataSubType.CALCULATED)?"calc-measure":"measure";
case (_.isString(f.expressionName)):return"event";case (_.isString(n.mdx)):return"event";case (_.isString(g.hierarchy)&&(_.isString(g.level)||!_.isEmpty(g.members))):return"primary";case (_.isString(g.hierarchy)&&_.isString(k.membersType)):return"all-members"
}};e.prototype.render=function(){var o=this.props,i=o.detailedInfo,k=o.advancedControl,g=o.highlight,l=o.inputs,q=o.mdxMember;var m=q.memberBase,n=m.hierarchy,f=m.level,h=m.membersType;var j=(f?f:(h?n+"."+h:null));var p=_.size(l)>0;i=_.isUndefined(i)?true:i;
return(React.createElement("div",{className:classNames("mdx-member","has-tooltip","clearfix",{highlight:g},this.getClassName()),onMouseDown:this.preventFirefoxSelection},j?React.createElement(a.Tooltip,null,j):null,p?_.map(l,function(s,r){return(React.createElement("div",{key:r,className:"mdx-member-input"},React.createElement(a.MdxDefinitionInput,__assign({},s))))
}):(React.createElement("div",{className:"mdx-member-info"},React.createElement("div",{className:"mdx-member-caption"},b(q)),i?React.createElement("div",{className:"mdx-member-details"},this.getDetailedInfo()):null)),_.isObject(k)?React.createElement("div",{className:"mdx-member-advanced"},k):null))
};e.contextTypes={reportingContext:React.PropTypes.object};return e}(React.Component));a.MdxMemberComponent=c})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e)}c.prototype.render=function(){var g=this.props,h=g.mdxMember,j=g.advancedControl,i=g.detailedInfo,f=g.highlight,e=g.inputs;
return(this.props.connectDragSource(this.props.connectDropTarget(React.createElement("div",null,this.props.isOver&&this.props.showCanDrop?React.createElement("div",{className:"drop-placeholder"},this.context.reportingContext.l("ic3.widget_data_options.wizard.drop_here")):null,React.createElement(a.MdxMemberComponent,{mdxMember:h,advancedControl:j,detailedInfo:i,highlight:f,inputs:e})))))
};c.dragCollect=function(f,e){return{connectDragSource:f.dragSource(),isDragging:e.isDragging()}};c.dropCollect=function(f,e){return{connectDropTarget:f.dropTarget(),isOver:e.isOver(),showCanDrop:e.canDrop()}};c.contextTypes={reportingContext:React.PropTypes.object};
c.draggableSource={beginDrag:function(g,e,f){return{mdxMember:g.mdxMember,handleRemove:g.handleRemove||(function(){}),listUid:g.listUid}},endDrag:function(g,e,f){if(e.didDrop()&&_.isFunction(g.dropSuccess)){g.dropSuccess()}},canDrag:function(f,e){return !_.isFunction(f.onValidate)||f.onValidate(f)
}};c.draggableTarget={drop:function(f,e){if(!e.didDrop()){if(f.listUid===e.getItem().listUid&&_.isFunction(f.handleTargetSwap)){f.handleTargetSwap(e.getItem().mdxMember)}else{if(_.isFunction(f.handleTargetDrop)){e.getItem().handleRemove();f.handleTargetDrop(e.getItem().mdxMember)
}}}},canDrop:function(f,e){if(f.mdxMember===e.getItem().mdxMember){return false}if(_.isFunction(f.canDrop)){return f.canDrop(e.getItem().mdxMember)}return true}};return c}(React.Component));a.DraggableMdxMemberComponent=_.flow(ReactDnD.DragSource(a.ItemTypes.MDX_MEMBER,b.draggableSource,b.dragCollect),ReactDnD.DropTarget(a.ItemTypes.MDX_MEMBER,b.draggableTarget,b.dropCollect))(b)
})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);
function c(f,e){var g=this;d.call(this,f,e);this.onChange=function(i){var h=g.props.onChange;h&&h(i);g.state.value=i;g.forceUpdate()};this.autocompleteRequest=function(h,m){var l=h.getCursor();var k=h.getValue()||"";var i=h.indexFromPos(l);if(k.length===0||k.length<i){return
}var j=new viz.GetAutocompleteGviRequest(k,h.indexFromPos(l),null,undefined,undefined,undefined);g.context.reportingContext.executeRequest(j,function(s){var n;var q=s.getRowCount();if(q>0){var t=[];for(var u=0;u<q;u++){var p=s.getValue(u,0);t.push(p);if(u===0){var o=s.getValue(u,1);
var r=p.length-o.length}}n={list:t,from:{line:l.line,ch:(l.ch-r)},to:l}}m(n)})};this.showModalEditor=function(){var i=g,l=i.state.value,h=i.onChange;var m=g.context.reportingContext.mainReport();var j=function(){return m.clearModal()};var k=function(n){h(n);
j()};m.setModal(React.createElement(a.TextEditorDialog,{title:"MDX Definition Editor",mode:a.CodeMirrorMode.EXPRESSION,text:l,autocomplete:g.autocompleteRequest,onOk:k,onCancel:j}))};this.state={value:f.value||f.defaultValue||""}}c.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){this.state.value=e.value
}};c.prototype.render=function(){var j=this;var f=this,g=f.state.value,e=f.props,i=e.id,h=e.placeholder;return(React.createElement("div",{className:"input-group"},React.createElement("input",{type:"text",className:"form-control",id:i,value:g,onChange:function(k){return j.onChange(k.target.value)
},placeholder:h}),this.props.modal?(React.createElement("span",{className:"input-group-btn"},React.createElement("span",{className:"btn btn-xs",title:"Show modal",onClick:this.showModalEditor},React.createElement("span",{className:"glyphicons glyphicons-pencil"})))):null))
};c.contextTypes={reportingContext:React.PropTypes.object};return c}(React.Component));a.MdxDefinitionInput=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]
}}}return b};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e);this.toLevelMdxMember=function(g){return({name:g.name,subType:g.subType,memberBase:{hierarchy:a.IcCubeMdxBuilder.MEASURES_HIERARCHY,level:"[Measures].[MeasuresLevel]",members:[g.uniqueName]}})
};this.toExpressionMdxMember=function(g){return({memberBase:g})};this.state={filter:""}}c.prototype.getHierarchyItems=function(){var h=this;var g=this.state.filter;var e=this.context.reportingContext.getHierarchies().items;var f=_.countBy(e,"name");return _(e).map(function(i){return({name:i.name,uniqueName:i.uniqueName,title:i.name+(f[i.name]>1?i.uniqueName.replace(/^\[(.*?)\].*/," ($1)"):""),expanded:g.length>0?true:null,levels:_(h.context.reportingContext.getLevels(i.uniqueName).items).compact().filter(function(j){return ~(i.name+j.name).toLowerCase().search(g)
}).map(function(j){return({name:j.name,uniqueName:j.uniqueName})}).value()})}).filter(function(i){return i&&i.levels.length>0}).value()};c.prototype.getMeasureItems=function(){var l=this;var o=this,f=o.state.filter,i=o.context.reportingContext;var k=_.filter(i.calcMeasureMgr().getCalculatedMeasures(),function(q){return ~q.expressionName.toLowerCase().search(f)
});var e=_.filter(i.gviConfiguration().schemaInfo().measures(i.cubeName()),function(q){return ~q.name.toLowerCase().search(f)});var p=_(e).groupBy("measureGroupName").omit(["undefined"]).value();var n=_(e).groupBy("subType").omit(["undefined"]).value();var j=_.size(p)>1;
var h={};if(j){var m="Calculated measures";h[m]=_.map(k,this.toExpressionMdxMember);_.map(p,function(s,r){var q="Measures "+r;h[q]=_.concat(h[q]||[],_.map(s,l.toLevelMdxMember))});_.map(n,function(q,r){if(r===viz.MdxEntityDataSubType.CALCULATED){h[m]=_.concat(h[m]||[],_.map(q,l.toLevelMdxMember))
}});h.Measures=_.concat(_.map(k,this.toExpressionMdxMember))}else{h.Measures=_.concat(_.map(e,this.toLevelMdxMember),_.map(k,this.toExpressionMdxMember))}var g=_.keys(h)[0];return _.map(h,function(q,r){return({title:r,members:q,showCustom:r===g})})};c.prototype.render=function(){var f=this;
var e=this.state.filter;return(React.createElement("div",{className:"mdx-members-list"},React.createElement("div",{className:"search-container form-group"},React.createElement("input",{className:"form-control",type:"text",placeholder:this.context.reportingContext.l("ic3.widget_data_options.suggestions.search"),onChange:function(g){return f.setState({filter:g.target.value.toLowerCase()})
}}),React.createElement("span",{className:"glyphicons glyphicons-search"})),React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-body"},_.map(this.getMeasureItems(),function(g,h){return _.isEmpty(g.members)?null:React.createElement(a.MeasuresHierarchyComponent,__assign({key:h},g))
}))),React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-body"},_.map(this.getHierarchyItems(),function(h,g){return _.isEmpty(h.levels)?null:React.createElement(a.HierarchyComponent,__assign({key:g},h))}))),React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-body"},React.createElement(a.EventHierarchyComponent,{filter:e})))))
};c.contextTypes={reportingContext:React.PropTypes.object};return c}(React.Component));a.MdxMembersList=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){var g=this;d.call(this,f,e);this.handleMeasuresChange=function(h){var i=_.cloneDeep(g.props.properties);i.measures=h;
g.props.onChange(i)};this.handleRowsChange=function(i,h){var j=_.cloneDeep(g.props.properties);j.rows=i;j.rowsNonEmpty=h;g.props.onChange(j)};this.handleColumnsChange=function(i,h){var j=_.cloneDeep(g.props.properties);j.columns=i;j.columnsNonEmpty=h;g.props.onChange(j)
};this.handleFilterChange=function(h){var i=_.cloneDeep(g.props.properties);i.filter=h;g.props.onChange(i)};this.handleOptionsEvent=function(h,i){switch(h){case a.DetailedOptionsEvent.CLOSE:g.setState({configMdxMember:null});break}};this.handleMeasureConfiguration=function(i,h){if(a.IcCubeMdxBuilder.isExpressionBased(i)){g.setState({configMdxMember:i});
g.props.onAdvanced(a.getMdxMemberCaption(i),function(){return{index:h,mdxMember:i,onChange:function(k){var j=_.cloneDeep(g.props.properties.measures);j[h]=k;g.handleMeasuresChange(j);g.handleMeasureConfiguration(k,h)}}},a.MeasureAdvanced,g.handleOptionsEvent)
}};this.handleRowsConfiguration=function(i,h){g.setState({configMdxMember:i});g.props.onAdvanced(a.getMdxMemberCaption(i),function(){return{mdxMember:i,onChange:function(k){var j=_.cloneDeep(g.props.properties.rows);j[h]=k;g.handleRowsChange(j,g.props.properties.rowsNonEmpty);
g.handleRowsConfiguration(k,h)}}},g.getMemberEditor(i),g.handleOptionsEvent)};this.handleColumnsConfiguration=function(i,h){g.setState({configMdxMember:i});g.props.onAdvanced(a.getMdxMemberCaption(i),function(){return{mdxMember:i,onChange:function(k){var j=_.cloneDeep(g.props.properties.columns);
j[h]=k;g.handleColumnsChange(j,g.props.properties.columnsNonEmpty);g.handleColumnsConfiguration(k,h)}}},g.getMemberEditor(i),g.handleOptionsEvent)};this.handleFilterConfiguration=function(i,h){g.setState({configMdxMember:i});g.props.onAdvanced(a.getMdxMemberCaption(i),function(){return{mdxMember:i,onChange:function(k){var j=_.cloneDeep(g.props.properties.filter);
j[h]=k;g.handleFilterChange(j);g.handleFilterConfiguration(k,h)}}},a.FilterAdvanced,g.handleOptionsEvent)};this.measuresAxisCanDrop=function(h){return a.IcCubeMdxBuilder.isMeasureMdxMember(h)||a.IcCubeMdxBuilder.isExpressionBased(h)};this.filterCanDrop=function(h){return !a.IcCubeMdxBuilder.isMeasureMdxMember(h)&&!a.IcCubeMdxBuilder.isExpressionBased(h)
};this.state={configMdxMember:null}}c.prototype.getMemberEditor=function(e){if(_.isString(_.get(e.memberBase,"mdx"))){return a.MdxMemberEditor}if(_.isString(_.get(e.memberBase,"expressionName"))){return a.MeasureAdvanced}return a.MdxMemberAdvanced};c.prototype.render=function(){var e=this.context.reportingContext;
var h=this,f=h.state.configMdxMember,g=h.props.onOpenSuggestions;return(React.createElement("div",{className:"query-wizard"},React.createElement(a.AxisConfiguration,{name:e.l("ic3.widget_data_options.wizard.measures"),axis:this.props.properties.measures,onChange:this.handleMeasuresChange,canDrop:this.measuresAxisCanDrop,configMember:f,onOpenSuggestions:g,onConfiguration:this.handleMeasureConfiguration}),React.createElement(a.AxisConfiguration,{name:e.l("ic3.widget_data_options.wizard.rows"),axis:this.props.properties.rows,nonEmpty:this.props.properties.rowsNonEmpty||false,onChange:this.handleRowsChange,configMember:f,onOpenSuggestions:g,onConfiguration:this.handleRowsConfiguration}),React.createElement(a.AxisConfiguration,{name:e.l("ic3.widget_data_options.wizard.columns"),axis:this.props.properties.columns,nonEmpty:this.props.properties.columnsNonEmpty||false,onChange:this.handleColumnsChange,configMember:f,onOpenSuggestions:g,onConfiguration:this.handleColumnsConfiguration}),React.createElement(a.AxisConfiguration,{name:e.l("ic3.widget_data_options.wizard.filter"),axis:this.props.properties.filter,onChange:this.handleFilterChange,canDrop:this.filterCanDrop,configMember:f,onOpenSuggestions:g,onConfiguration:this.handleFilterConfiguration})))
};c.contextTypes={reportingContext:React.PropTypes.object};return c}(React.Component));a.MdxTableQueryWizard=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(f,e){c.call(this,f,e);this.preventFirefoxSelection=function(g){return(_.get(g,"target.tagName","").toLowerCase()!=="input"&&g.preventDefault())
}}d.prototype.getStyleClass=function(){switch(this.props.item.type){case"manual":return"manual";case"hierarchy":return"hierarchy";case"level":return"level";case"primary":default:return"primary"}};d.prototype.render=function(){var g=this.props,h=g.detailedInfo,j=g.advancedControl,f=g.highlight,e=g.input;
var i=!_.isUndefined(e);h=_.isUndefined(h)?true:h;return(React.createElement("div",{className:classNames("item-definition","clearfix",{highlight:f},this.getStyleClass()),onMouseDown:this.preventFirefoxSelection},i?(React.createElement("div",{className:"item-definition-input"},React.createElement(a.MdxDefinitionInput,{placeholder:this.props.inputPlaceholder||"Unique Name",value:e,onChange:this.props.onInput}))):(React.createElement("div",{className:"item-definition-info"},React.createElement("div",{className:"item-definition-caption"},this.props.item.name||this.props.item.uniqueName),h?React.createElement("div",{className:"item-definition-details"},this.props.item.uniqueName||this.props.item.jsFunction):null)),_.isObject(j)?React.createElement("div",{className:"item-definition-advanced"},j):null))
};return d}(React.Component));a.ItemComponent=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e)}c.prototype.render=function(){return(this.props.connectDragSource(this.props.connectDropTarget(React.createElement("div",null,this.props.isOver&&this.props.showCanDrop?React.createElement("div",{className:"drop-placeholder"},this.context.reportingContext.l("ic3.widget_data_options.wizard.drop_here")):null,React.createElement(a.ItemComponent,{item:this.props.item,advancedControl:this.props.advancedControl,detailedInfo:this.props.detailedInfo,highlight:this.props.highlight,input:this.props.input,inputPlaceholder:this.props.inputPlaceholder,onInput:this.props.onInput})))))
};c.dragCollect=function(f,e){return{connectDragSource:f.dragSource(),isDragging:e.isDragging()}};c.dropCollect=function(f,e){return{connectDropTarget:f.dropTarget(),isOver:e.isOver(),showCanDrop:e.canDrop()}};c.contextTypes={reportingContext:React.PropTypes.object};
c.draggableSource={beginDrag:function(g,e,f){return{item:g.item,handleRemove:g.handleRemove||(function(){}),listUid:g.listUid}},canDrag:function(f,e){return _.isUndefined(f.input)||!_.isEmpty(f.input)}};c.draggableTarget={drop:function(f,e){if(!e.didDrop()){if(f.listUid===e.getItem().listUid&&_.isFunction(f.handleTargetSwap)){f.handleTargetSwap(e.getItem().item)
}else{if(_.isFunction(f.handleTargetDrop)){e.getItem().handleRemove();f.handleTargetDrop(e.getItem().item)}}}},canDrop:function(f,e){if(f.item===e.getItem().item){return false}if(_.isFunction(f.canDrop)){return f.canDrop(e.getItem().item)}return true}};return c
}(React.Component));a.DraggableItemComponent=_.flow(ReactDnD.DragSource(a.ItemTypes.ITEM,b.draggableSource,b.dragCollect),ReactDnD.DropTarget(a.ItemTypes.ITEM,b.draggableTarget,b.dropCollect))(b)})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]
}}}return b};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(f,e){var g=this;c.call(this,f,e);this.filter=function(h){return !!~h.toLowerCase().search(g.state.filter.toLowerCase())};this.state={filter:"",input:""}}d.prototype.getHierarchyItems=function(){var f=this;
var e=this.state.filter;return _(this.context.reportingContext.getHierarchies().items).map(function(g){return({name:g.name,uniqueName:g.uniqueName,expanded:e.length>0?true:null,levels:_.map(_.compact(f.context.reportingContext.getLevels(g.uniqueName).items),function(h){return{name:h.name,uniqueName:h.uniqueName}
})})}).filter(function(g){return f.filter(g.name+g.uniqueName)}).value()};d.prototype.render=function(){var f=this;var e={name:"Measures",uniqueName:a.FilterQueryBuilder.CONSTANTS.ALL_MEASURES,expanded:this.state.filter.length>0?true:null,levels:_.map(this.context.reportingContext.gviConfiguration().schemaInfo().measures(this.context.reportingContext.cubeName()),function(g){return{uniqueName:g.uniqueName,name:g.name,selected:false}
})};return(React.createElement("div",{className:"items-suggestions-list"},React.createElement("div",{className:"search-container form-group"},React.createElement("input",{className:"form-control",type:"text",placeholder:"Search",onChange:function(g){return f.setState({filter:g.target.value})
}}),React.createElement("span",{className:"glyphicons glyphicons-search"})),React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-body"},React.createElement("div",{className:"panel mdx-member-container"},React.createElement("div",{className:"panel-body"},React.createElement(a.DraggableItemComponent,{item:{name:this.state.input,uniqueName:this.state.input,type:"manual"},input:this.state.input,inputPlaceholder:"Custom item caption",onInput:function(g){return f.setState({input:g})
},canDrop:function(){return false},detailedInfo:false}))))),React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-body"},React.createElement(a.HierarchyItemsComponent,__assign({key:"measures"},e)))),React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-body"},_.map(this.getHierarchyItems(),function(h,g){return _.isEmpty(h.levels)?null:React.createElement(a.HierarchyItemsComponent,__assign({key:g},h))
})))))};d.contextTypes={reportingContext:React.PropTypes.object};return d}(React.Component));a.ItemsSuggestionsList=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){var g=this;d.call(this,f,e);this.handleTargetDrop=function(j,i){var h=_.cloneDeep(g.props.items);h.splice(i,0,j);
g.props.onChange(h)};this.handleTargetSwap=function(j,i){var h=_.cloneDeep(g.props.items);var k=_.findIndex(g.props.items,function(l){return l===j});h.splice(k,1);h.splice(i-(i>k?1:0),0,j);g.props.onChange(h)};this.handleRemove=function(i){var h=_.cloneDeep(g.props.items);
h.splice(i,1);g.props.onChange(h)}}c.prototype.renderDropPlaceholder=function(){var f=this;var e=classNames("drop-placeholder");if(!this.props.showCanDrop&&!_.isEmpty(this.props.items)){return null}return this.props.connectDropTarget(React.createElement("div",{className:e,onClick:function(){return f.props.onOpenSuggestions()
}},this.context.reportingContext.l("ic3.widget_data_options.wizard.drop_here")))};c.prototype.render=function(){var k=this;var i=this.props,h=i.name,g=i.items,j=i.canDrop,e=i.showCanDrop,f=i.configMember;return(React.createElement("div",{className:classNames("panel",e?"can-drop":"")},React.createElement("div",{className:"panel-head"},h),React.createElement("div",{className:"panel-body"},_.map(g,function(m,l){return React.createElement(a.DraggableItemComponent,{key:l,item:m,highlight:m===f,canDrop:j,listUid:h,handleTargetDrop:function(n){k.handleTargetDrop(n,l)
},handleRemove:function(){k.handleRemove(l)},detailedInfo:true,handleTargetSwap:function(n){k.handleTargetSwap(n,l)},advancedControl:React.createElement("span",null,React.createElement("span",{className:classNames("glyphicons","glyphicons-cogwheel"),onClick:function(){k.props.onConfiguration(m)
}}),React.createElement("span",{className:classNames("glyphicons","glyphicons-remove"),onClick:function(){k.handleRemove(l)}}))})})),React.createElement("div",{className:"panel-footer"},this.renderDropPlaceholder())))};c.dropCollect=function(f,e){return{connectDropTarget:f.dropTarget(),isOver:e.isOver(),showCanDrop:e.canDrop()}
};c.contextTypes={reportingContext:React.PropTypes.object};c.draggableTarget={drop:function(g,e){if(!e.didDrop()){var f=_.cloneDeep(g.items||[]);var h=_.findIndex(g.items,function(i){return i===e.getItem().item});if(h>=0){f.splice(h,1)}else{e.getItem().handleRemove()
}g.onChange(f.concat(e.getItem().item))}},canDrop:function(f,e){if(_.isFunction(f.canDrop)){return f.canDrop(e.getItem().item)}return true}};return c}(React.Component));a.ItemsListBase=b;a.ItemsList=_.flow(ReactDnD.DropTarget(a.ItemTypes.ITEM,b.draggableTarget,b.dropCollect))(b)
})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(c){__extends(d,c);
function d(f,e){var g=this;c.call(this,f,e);this.handleItemConfiguration=function(h){g.setState({configItem:h});g.props.onAdvanced(h.name,function(){return({item:h,onChange:function(i){var j=_.findIndex(g.props.properties.items,h);var k=_.cloneDeep(g.props.properties.items);
k[j]=i;g.handleItemsChange(k);g.handleItemConfiguration(i)}})},g.props.advancedComponent,g.handleOptionsEvent)};this.handleOptionsEvent=function(h,i){switch(h){case a.DetailedOptionsEvent.CLOSE:g.setState({configItem:null});break}};this.state={configItem:null}
}d.prototype.handleItemsChange=function(e){var f=_.cloneDeep(this.props.properties);f.items=e;this.props.onChange(f)};d.prototype.render=function(){return(React.createElement("div",{className:"items-wizard"},React.createElement(a.ItemsList,{name:"Items",items:this.props.properties.items,onChange:this.handleItemsChange.bind(this),configMember:this.state.configItem,onOpenSuggestions:this.props.onOpenSuggestions,onConfiguration:this.handleItemConfiguration})))
};return d}(React.Component));a.ItemsWizard=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(ic3){var WidgetAdapterFactory=(function(_super){__extends(WidgetAdapterFactory,_super);function WidgetAdapterFactory(context,instanceConstructor,defaultOptions){_super.call(this,context,instanceConstructor,defaultOptions)}WidgetAdapterFactory.prototype.getQualifiedName=function(){return this.getGroupName()+" / "+this.getName()
};WidgetAdapterFactory.prototype.getInitialSize=function(){return{width:270,height:150}};WidgetAdapterFactory.prototype.getPredefinedEntities=function(){return null};return WidgetAdapterFactory}(ic3.ReportFactory));ic3.WidgetAdapterFactory=WidgetAdapterFactory;
(function(WidgetConfigState){WidgetConfigState[WidgetConfigState.NEW=0]="NEW";WidgetConfigState[WidgetConfigState.NO_DATA=1]="NO_DATA";WidgetConfigState[WidgetConfigState.ERROR=2]="ERROR";WidgetConfigState[WidgetConfigState.COMPLETE=3]="COMPLETE";WidgetConfigState[WidgetConfigState.WAITING_EVENT=4]="WAITING_EVENT";
WidgetConfigState[WidgetConfigState.UNAVAILABLE=5]="UNAVAILABLE"})(ic3.WidgetConfigState||(ic3.WidgetConfigState={}));var WidgetConfigState=ic3.WidgetConfigState;var WidgetAdapter=(function(_super){__extends(WidgetAdapter,_super);function WidgetAdapter(context,options){var _this=this;
_super.call(this,context,options);this.messageBox=_.debounce(function(header,body){_this.context.mainReport().messageBox(header,body)},500,{leading:true,trailing:false});this.widgetContext=function(){return new ic3.WidgetContext(new ic3.ReportingContextForEvaluation(context),_this)
}}WidgetAdapter.prototype.updateConfigState=function(newState){if(newState===void 0){newState=WidgetConfigState.COMPLETE}this.guts_.configState=newState};WidgetAdapter.prototype.createDefaultGuts=function(context){return _.assign(_super.prototype.createDefaultGuts.call(this,context),{configState:WidgetConfigState.NEW})
};WidgetAdapter.prototype.getWidgetStylingName=function(){return""};WidgetAdapter.prototype.getWidgetStylingPresets=function(){return{}};WidgetAdapter.prototype.getWidgetConfigState=function(){if(!this.isAvailable()){return WidgetConfigState.UNAVAILABLE}if(_.isNumber(this.guts().configState)){return this.guts().configState
}return WidgetConfigState.COMPLETE};WidgetAdapter.prototype.getStateInformation=function(configState){return""};WidgetAdapter.prototype.getCaptionForEventInfo=function(){return(this._box&&this._box.getCaptionForDockMenu())||("GUID:"+this.guid())};WidgetAdapter.prototype.isVisible=function(){return true
};WidgetAdapter.prototype.box=function(){return this._box};WidgetAdapter.prototype.createEventMapper=function(){return new ic3.EventWidgetMapper()};WidgetAdapter.prototype.widgetName=function(){ic3.assertAbstract("widgetName",this);return[]};WidgetAdapter.prototype.widgetFormattedName=function(){var _this=this;
return this.widgetName().map(function(name){return _this.context.mainReport().l(name)}).join(" > ")};WidgetAdapter.prototype.reportTypeName=function(){ic3.assertAbstract("reportTypeName",this);return""};WidgetAdapter.prototype.guts=function(){return this.guts_
};WidgetAdapter.prototype.gutsMeta=function(){return[]};WidgetAdapter.prototype.evalGuts=function(optionFieldName){var guts=_super.prototype.evalGuts.call(this,optionFieldName);if(this.hasNavigation()&&guts.navigationGuts){$.extend(guts,guts.navigationGuts.evalGuts());
delete guts.navigationGuts}return guts};WidgetAdapter.prototype.createWidgetOptions=function(){var options=this.context.getEvaluator().evaluate(this.guts_);options=ic3.ContextEvaluator.evaluate(options,this.widgetContext(),"WIDGET");options.width=this._boxContainerWidth;
options.height=this._boxContainerHeight;options.widgetContext=this.widgetContext;options.themeContainer=this.context.mainReport().getTheme();options.widgetStylingName=this.getWidgetStylingName();options.widgetStylingPresets=this.getWidgetStylingPresets();return options
};WidgetAdapter.prototype.createBuilder=function(uid){return null};WidgetAdapter.prototype.builder=function(){var builder=this._mdxBuilderWidget;if(builder==null){this._mdxBuilderWidget=builder=this.createBuilder(this.guts_.ic3_mdxBuilderUid)}if(builder){this.guts_.ic3_mdxBuilderUid=builder.uid();
builder._adapter=this}return builder};WidgetAdapter.prototype.createRequest=function(queryBuilder){return null};WidgetAdapter.prototype.createQueryManager=function(connection){return new ic3.QueryManagerWithNotifications(connection,this.context,this.uid())};
WidgetAdapter.prototype.afterWidgetClone=function(){var builder=this.builder();if(builder){var builderContainer=this.context.mdxQueriesMgr();this.setBuilder(builderContainer.clone(builder))}};WidgetAdapter.prototype.setBuilder=function(builder){this._mdxBuilderWidget=builder;
this.builder()};WidgetAdapter.prototype.mightGeneratesMdxHistoryEvents=function(){return false};WidgetAdapter.prototype.eventMapper=function(createIfBotExists){var eventMapper=this.guts_.ic3_eventMapper;var ret=eventMapper!=null?eventMapper:createIfBotExists!=false&&(this.guts_.ic3_eventMapper=this.createEventMapper());
return ret.setReportWidget(this)};WidgetAdapter.prototype.setEventMapper=function(eventMapper){this.guts_.ic3_eventMapper=eventMapper;eventMapper.setReportWidget(this)};WidgetAdapter.prototype.gviWidget=function(){return this.widget};WidgetAdapter.prototype.hasNavigation=function(){return false
};WidgetAdapter.prototype.navigationGuts=function(){return null};WidgetAdapter.prototype.hasQueryBuilder=function(){return false};WidgetAdapter.prototype.container=function($container,box){this._box=box;return $container?(this.$container=$container):this.$container
};WidgetAdapter.prototype.consumeEvent=function(type,event){if(type===vizEventType.onGutsChange){this.refresh()}};WidgetAdapter.prototype.forEachConsumedEvents=function(eventRegister){var eventMapper=this.eventMapper();if(eventMapper){eventMapper.forEachConsumedEvents(eventRegister)
}};WidgetAdapter.prototype.isRendered=function(){if(this.widget){return this.widget.isRendered()}return true};WidgetAdapter.prototype.buildInHtml=function(){if(this.getWidgetConfigState()===WidgetConfigState.UNAVAILABLE){return}var advanced=this.box().guts().advanced||{};
this.$container.empty();this.$container.append('<div id="'+ic3.uniqueId()+'" class="ic3-widget '+(advanced.cssClass||"")+'"></div><div class="ic3-widget-data"></div>');this.$widgetCt=this.$container.children(".ic3-widget");this.$dataViewCt=this.$container.children(".ic3-widget-data");
this.$widgetCt.attr("style",advanced.cssStyle);var options=this.createWidgetOptions();options=this.beforeRenderHook(options);this.widget=this.createWidget(options,this.$widgetCt)};WidgetAdapter.prototype.createWidget=function(options,container){ic3.assertAbstract("createWidget",this);
return null};WidgetAdapter.prototype.refreshHtmlFromGuts=function(optionalGuts){if(optionalGuts){this.guts_=optionalGuts}};WidgetAdapter.prototype.clearCachedAdapterData=function(){if(this.widget){this.widget.clearCachedWidgetData()}};WidgetAdapter.prototype.refresh=function(){this._onRefresh()
};WidgetAdapter.prototype._onRefresh=function(){this._doOnRefresh()};WidgetAdapter.prototype._doOnRefresh=function(){if(this.context.isReportWithWidgets()){var widget=this.widget;if(widget){var oldEvents=widget.getEventHandler().popEvents()}var eventMapper=this.eventMapper();
if(eventMapper){var eventMapperEvent=eventMapper.popEventManager()}this.destroyWidget();this.buildInHtml();if(oldEvents){this.widget.getEventHandler().pushEvents(oldEvents)}if(eventMapperEvent){eventMapper.pushEventManager(eventMapperEvent)}}};WidgetAdapter.prototype.update=function(){if(this.widget&&this.widget.forceUpdate){this.widget.forceUpdate()
}else{this.refresh()}};WidgetAdapter.prototype.boxContainerSize=function(width,height){this._boxContainerWidth=width;this._boxContainerHeight=height};WidgetAdapter.prototype.onContainerResizeStart=function(){};WidgetAdapter.prototype.onContainerResizeStop=function(){this._onRefresh()
};WidgetAdapter.prototype.onContainerShow=function(){this._onRefresh()};WidgetAdapter.prototype.clearEvents=function(){if(this.widget!=null){if(this.widget.getEventHandler()){this.widget.getEventHandler().unbind()}else{this.context.errorMgr().addWarning("widgetAdapter.error.unbind",this.classID)
}}var eventMapper=this.eventMapper();if(eventMapper){eventMapper.clearEvents()}};WidgetAdapter.prototype.forEachProducedEvents=function(callback){var eventMapper=this.eventMapper();if(eventMapper&&this.widget){eventMapper.forEachProducedGviEvents(callback)}};
WidgetAdapter.prototype.onVizBeforeRequestSend=function(mdxRequest){if(this.widget){this.widget.onBeforeRequestSend()}};WidgetAdapter.prototype.onVizRequestExecuted=function(mdxResultTable,request){if(!this.widget){this.buildInHtml()}if(this.widget){try{this.widget.onRequestExecuted(mdxResultTable,request)
}catch(e){var box=this.box();var elementId=box?box.guid():undefined;this.context.errorMgr().forceError(this.context.l("ic3.widget_adapter.error.render_failed",e.toString()),elementId,e)}}};WidgetAdapter.prototype.onError=function(error){this._onGviError(error);
return false};WidgetAdapter.prototype.onFailure=function(failure){this._onGviError(failure);return false};WidgetAdapter.prototype.handleSpecificError=function(error){switch(error.errorCode){case"GVI_CANCELLED":return null;case"OLAP_SELECT_MAX_CELL_COUNT":return this.context.l("ic3.widget_adapter.error.olap_select_max_cell_count",this.context.layout().guts().cellMaxCount);
default:return error.message}};WidgetAdapter.prototype._onGviError=function(error){var uuid=this._box?this._box.guid_:undefined;this.context.notificationMgr().notifyGviError(error,uuid);var optionsCommand=this.context.mainReport().commands().widgetOptionsCommand;
var errorMessage=this.handleSpecificError(error);if(!_.isNull(optionsCommand)&&!_.isEmpty(errorMessage)&&optionsCommand.getSelectedCategory()==="data"&&optionsCommand.getWidgetAdapter()===this){this.messageBox(error.errorCode,errorMessage)}};WidgetAdapter.prototype._onError=function(errorTag){var translationArgs=[];
for(var _i=1;_i<arguments.length;_i++){translationArgs[_i-1]=arguments[_i]}var uuid=this._box?this._box.guid_:undefined;this.context.notificationMgr().notifyError(errorTag,translationArgs,uuid)};WidgetAdapter.prototype.onBuildAllDone=function(){if(this.widget&&_.isFunction(this.widget.onBuildAllDone)){this.widget.onBuildAllDone(this.guts_)
}};WidgetAdapter.prototype.unregisterWidget=function(){var widgetMgr=this.context.widgetMgr();widgetMgr.deleteItemById(this.uid());var builder=this.builder();if(builder){var mdxMgr=this.context.mdxQueriesMgr();mdxMgr.deleteMdxItem(builder)}};WidgetAdapter.prototype.destroyWidget=function(){this.widget&&this.widget.destroy();
delete this.widget};WidgetAdapter.prototype.getState=function(stateSaveMode){if(this.widget){return this.widget.getState(stateSaveMode)}return{}};WidgetAdapter.prototype.setState=function(state){if(state&&this.widget){this.widget.initWithState(state);var navigationState=state.navigation;
if(navigationState){this.navigationGuts().setNavigationState(navigationState)}}};WidgetAdapter.prototype.destroy=function(){this.destroyWidget();this.$container&&this.$container.empty()};WidgetAdapter.prototype.getGroupCssClassForContainer=function(){return this.widgetCls(this.getWidgetGroupName().replace(/\s/g,""))
};WidgetAdapter.prototype.getWidgetGroupName=function(){ic3.assertAbstract("getWidgetGroupName",this);return""};WidgetAdapter.prototype.getCssClassForContainer=function(){var name=this.getNameForCssClass();return name?this.widgetCls(name):""};WidgetAdapter.prototype.widgetCls=function(name){return"ic3w-"+name
};WidgetAdapter.prototype.getNameForCssClass=function(){ic3.assertAbstract("getNameForCssClass",this);return""};WidgetAdapter.prototype.getNavigationMenuItems=function(){return null};WidgetAdapter.prototype.isInDataVew=function(){return false};WidgetAdapter.prototype.showUnderlyingData=function(){};
WidgetAdapter.prototype.hideUnderlyingData=function(){};WidgetAdapter.prototype.isUserMenuEnabled=function(){return this.hasUserMenu()&&_.get(this.guts().navigationOptions,"menuVisibility.enabled",true)};WidgetAdapter.prototype.hasUserMenu=function(){return true
};WidgetAdapter.prototype.attachUserMenu=function(widgetBox){var header=widgetBox.querySelector(".ic3-control-right");if(this.isUserMenuEnabled()){ReactDOM.render(React.createElement(viz.widget.WidgetMenu,this.createUserMenu()),this.userMenuCt=header)}};WidgetAdapter.prototype.createUserMenu=function(){var _this=this;
var formats=this.getExportFormats();return{visible:true,rootItem:{id:"root",items:[{id:"export",icon:"glyphicons glyphicons-disk-save",title:this.context.mainReport().l("ic3.widget.box_menu.export"),itemsMode:viz.widget.WidgetMenuItemsMode.ICONS_WITH_TEXT,items:_.map(formats,function(format){return({id:"export-"+format.type,icon:format.icon,title:_this.context.mainReport().l("ic3.widget.box_menu.export."+format.type),visible:format.available==null?undefined:format.available,onClick:function(){return _this.exportData(format)
}})})}]}}};WidgetAdapter.prototype.getHooksOptionsCategory=function(){return{uniqueId:"hooks",title:"Hooks",properties:this.getHooksOptions(),meta:{eventsProducedInReport:this.context.eventsProducedInReport.bind(this.context),metaProps:ic3.HooksOptionsMeta}}
};WidgetAdapter.prototype.getOptionsCategories=function(data){return[]};WidgetAdapter.prototype.getHooksOptions=function(){return this.guts_.hooks||{}};WidgetAdapter.prototype.getDataOptions=function(){var _this=this;var hierarchyItems=_.reduce(this.context.getHierarchies().items,function(accum,h){var levels=_.compact(_this.context.getLevels(h.uniqueName).items);
if(!_.isEmpty(levels)){levels.unshift({name:"All members (without all)",uniqueName:"{ "+h.uniqueName+" .allmembers - "+h.uniqueName+".[all] }",synthetic:true});levels.unshift({name:"All members",uniqueName:h.uniqueName+".allmembers",synthetic:true});levels.map(function(l){l.parentName=h.name;
return l});accum.push({sectionName:h.name,sectionUniqueName:h.uniqueName,suggestions:levels})}return accum},[]);var eventNames=this.context.eventsProducedInReport(null);if(!_.isEmpty(eventNames)){hierarchyItems.unshift({sectionName:"Events",sectionUniqueName:"EVENT",suggestions:_.map(eventNames,function(event){return{name:event.name,uniqueName:event.lexeme,parentName:"EVENT",synthetic:true}
})})}return{uniqueId:"data",title:this.context.l("ic3.widget_options.category.data"),properties:{},meta:{hierarchyItems:hierarchyItems,measures:this.context.getMeasures().items,calcMeasures:this.context.calcMeasureMgr().guts().measures,eventsProducedInReport:this.context.eventsProducedInReport.bind(this.context),executeRequest:this.context.executeRequest.bind(this.context)}}
};WidgetAdapter.prototype.getEventCategories=function(){return{uniqueId:"events",title:this.context.l("ic3.widget_options.category.events"),properties:this.eventMapper().getOptions(),meta:{eventsProducedInReport:this.context.eventsProducedInReport.bind(this.context),metaProps:{type:ic3.reporting.editor.OptionMetaType.OBJECT,detailedInfo:'More info at <a target="_blank" href="http://www.iccube.com/support/documentation/reporting/doc/ic3Events.html">documentation</a>.',children:ic3.common.events.convertMetaFromEventMapper(this.eventMapper().gutsMeta())}},component:ic3.reporting.editor.WidgetEventsOptions}
};WidgetAdapter.prototype.getDataRenderOptions=function(){var dataRenderProps=this.guts().dataRenderOptions||{};return{uniqueId:"data-render",title:this.context.l("ic3.widget_options.category.data_render"),properties:dataRenderProps,meta:{keepFields:["ic3Data"],widgetAdapter:this,eventsProducedInReport:this.context.eventsProducedInReport.bind(this.context),metaProps:[]}}
};WidgetAdapter.prototype.setOptions=function(options,categoryId){switch(categoryId){case"hooks":this.guts_.hooks=options;default:}};WidgetAdapter.prototype.getThemes=function(){return["ic3-elegant"]};WidgetAdapter.prototype.beforeRenderHook=function(options){if(_.isString(_.get(options,"hooks.beforeRender"))){try{options=eval("("+options.hooks.beforeRender+")").call(this,this.context,options)
}catch(e){this.context.LoggerFactory.getLogger({instance:"Widget Adapter",uid:this.box().uid&&this.box().uid()}).error(e)}}return options};WidgetAdapter.prototype.getExportFormats=function(){var _this=this;return navigator.appName==="Microsoft Internet Explorer"?[]:[{type:"png",icon:"glyphicons glyphicons-picture"},{type:"svg",icon:"glyphicons glyphicons-picture",available:function(){return _this.$widgetCt&&_this.$widgetCt.find("svg").length>0
}}]};WidgetAdapter.prototype.exportData=function(format){var file="widget."+format.type;var wbox=this.box().$widgetBox;switch(format.type){case"svg":var svgs=this.$widgetCt.find("svg");if(svgs.length>0){var el=document.createElement("svg");el.setAttribute("xmlns","http://www.w3.org/2000/svg");
el.innerHTML=svgs[0].innerHTML;wbox.addClass("ic3-loading");ic3.saveFile('<?xml version="1.0" encoding="UTF-8" standalone="no" ?>'+el.outerHTML,file,"image/svg+xml");wbox.removeClass("ic3-loading")}break;case"png":wbox.addClass("ic3-loading");setTimeout(function(){return wbox.removeClass("ic3-loading")
},10000);domtoimage.toPng(this.$container[0]).then(function(data){wbox.removeClass("ic3-loading");ic3.saveDataUrl(data,file)});break}};WidgetAdapter.prototype.consumedEntities=function(){return[]};WidgetAdapter.prototype.isAvailable=function(){return true};
WidgetAdapter.widgetGroups={report:"report",icCubeFilter:"filter-iccube",action:"action",jqueryAction:"action-jqueryui",amCharts:"amCharts",table:"table",googleChart:"googlevis",D3:"D3",htmlTemplate:"htmltemplate",toolbar:"toolbar",html:"html",mdx:"mdx",map:"map"};
return WidgetAdapter}(ic3.Serializable));ic3.WidgetAdapter=WidgetAdapter})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(ic3){var MdxTableWidgetAdapter=(function(_super){__extends(MdxTableWidgetAdapter,_super);function MdxTableWidgetAdapter(context,options){_super.call(this,context,options)}MdxTableWidgetAdapter.prototype.onVizRequestExecuted=function(mdxResultTable,request){_super.prototype.onVizRequestExecuted.call(this,mdxResultTable,request);
this.mdxResultTable=mdxResultTable;this.mdxRequest=request};MdxTableWidgetAdapter.prototype.setState=function(state){_super.prototype.setState.call(this,state);if(state.mdxResultTableSource){this.mdxResultTable=viz.MdxResultTable.fromSnapshot(state.mdxResultTableSource);
this.mdxRequest=new viz.MdxTableRequest(state.mdxQuery)}};MdxTableWidgetAdapter.prototype.getState=function(stateSaveMode){var state=_super.prototype.getState.call(this,stateSaveMode);if(stateSaveMode==viz.StateSaveMode.SNAPSHOT){state.mdxResultTableSource=this.mdxResultTable.getUnderlyingMdxTable();
state.mdxQuery=this.mdxRequest.getMdxParameter()}return state};MdxTableWidgetAdapter.prototype._onRefresh=function(){_super.prototype._onRefresh.call(this);if(this.mdxResultTable){this.onVizRequestExecuted(this.mdxResultTable,this.mdxRequest)}};MdxTableWidgetAdapter.prototype.getWidgetConfigState=function(){var current=_super.prototype.getWidgetConfigState.call(this);
if(current==ic3.WidgetConfigState.COMPLETE){if(this.builder().validate()){return ic3.WidgetConfigState.NO_DATA}if(this.builder().type().isQuery){var params=this.context.getParametersList(this.context.evalMdx(this.builder().mdxStatement()));if(params.length>0&&_.filter(params,"defaultValue").length<params.length){return ic3.WidgetConfigState.WAITING_EVENT
}}else{return ic3.WidgetConfigState.COMPLETE}}return current};MdxTableWidgetAdapter.prototype.getStateInformation=function(configState){switch(configState){case ic3.WidgetConfigState.WAITING_EVENT:if(this.context.mainReport().isEditingMode()){var valuelessEvents=this.context.getParametersList(this.context.evalMdx(this.builder().mdxStatement())),eventNames=_.map(_.filter(valuelessEvents,function(evt){return !evt.defaultValue
}),"name").join(", ");return"Missing events : "+eventNames}else{return""}default:return _super.prototype.getStateInformation.call(this,configState)}};MdxTableWidgetAdapter.prototype.onVizBeforeRequestSend=function(mdxRequest){_super.prototype.onVizBeforeRequestSend.call(this,mdxRequest);
this.beforeSendHook(mdxRequest)};MdxTableWidgetAdapter.prototype.getHooksOptionsCategory=function(){var category=_super.prototype.getHooksOptionsCategory.call(this);category.meta.metaProps=ic3.MdxWidgetHooksOptionsMeta;return category};MdxTableWidgetAdapter.prototype.getExportFormats=function(){return _super.prototype.getExportFormats.call(this).concat({type:"xlsx",icon:"glyphicons glyphicons-table"})
};MdxTableWidgetAdapter.prototype.exportData=function(format){switch(format.type){case"xlsx":var fileName="export";var widgetBox=this.box();if(widgetBox){fileName=widgetBox.header()||widgetBox.guid()}this.gviWidget().doExportToExcel(fileName,this.context.gviConnection());
break;default:_super.prototype.exportData.call(this,format)}};MdxTableWidgetAdapter.prototype.beforeSendHook=function(mdxRequest){if(_.get(this.guts(),"hooks.beforeSendingRequest")){try{eval("("+this.guts().hooks.beforeSendingRequest+")").call(this,this.context,mdxRequest,this.box()?this.box().$widgetBox:$())
}catch(e){this.context.LoggerFactory.getLogger({instance:this.box()&&this.box().header(),uid:this.box()&&this.box().uid()}).error(e)}}};MdxTableWidgetAdapter.prototype.getMdxTable=function(){return this.mdxResultTable};MdxTableWidgetAdapter.prototype.getMdxRequest=function(){return this.mdxRequest
};return MdxTableWidgetAdapter}(ic3.WidgetAdapter));ic3.MdxTableWidgetAdapter=MdxTableWidgetAdapter})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(b){var a=(function(d){__extends(c,d);function c(){d.apply(this,arguments)}c.prototype.mightGeneratesMdxHistoryEvents=function(){return false};c.prototype.setupFilterInitialSelectionFromConstants=function(){var i=this.guts_.ic3_eventMapper;
if(!i){return}var e=i.getEvent(viz.EventType.onSelection);if(!b.isEmptyString(e)){var f=this.context.constantMgr();var h=f.constantValue(e);if(h!==null){var g=(h.asFilterInitialSelection&&h.asFilterInitialSelection())||h;this.setupFilterInitialSelectionFromConstant(g)
}else{this.setupFilterInitialSelectionFromConstant(null)}}};c.prototype.setupFilterInitialSelectionFromConstant=function(e){};c.prototype.getGroupCssClassForContainer=function(){return this.widgetCls("filter")+" "+d.prototype.getGroupCssClassForContainer.call(this)
};return c}(b.MdxTableWidgetAdapter));b.FilterWidgetAdapter=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var d=(function(e){__extends(f,e);function f(h,i,g){e.call(this,h,i,g)}f.prototype.getType=function(){return a.ReportFactoryType.CHART};f.prototype.getInitialSize=function(){return{width:400,height:300}};return f}(a.WidgetAdapterFactory));
a.ChartAdapterFactory=d;var b=(function(f){__extends(e,f);function e(h,g){f.call(this,h,g);this.navigationWidgetOptions={}}e.prototype.createNavigationStrategy=function(g,h){return new a.NavigationStrategy(g,h)};e.prototype.gviWidget=function(){return f.prototype.gviWidget.call(this)
};e.prototype.createDefaultGuts=function(g){var h=f.prototype.createDefaultGuts.call(this,g);if(this.hasNavigation()&&!h.navigationGuts){h.navigationGuts=this.createNavigationStrategy(g)}return h};e.prototype.createBuilder=function(g){var h=this.context.mdxQueriesMgr();
if(g){return h.getMdxQueryById(g)}else{return h.addNewMdxQuery(new a.QueryBuilderWidget(this.context))}};e.prototype.createWidgetOptions=function(){var g=f.prototype.createWidgetOptions.call(this);if(this.navigationWidgetOptions){$.extend(true,g,this.navigationWidgetOptions)
}g.selectionMode=g.selectionMode||viz.SelectionMode.DISABLED;g.depth3D=g.depth3D?parseInt(g.depth3D,10):undefined;return g};e.prototype.createRequest=function(h){var g=h.mdxStatement();if(_.isObject(this.navigationGuts())){this.navigationGuts().setMdxBase(g,[false,false,false]);
return new viz.MdxTableQueryWidgetWithNavigation(g,this.navigationGuts())}return new viz.MdxTableQueryWidget(g)};e.prototype.mightGeneratesMdxHistoryEvents=function(){return true};e.prototype.hasNavigation=function(){return true};e.prototype.navigationGuts=function(){return this.guts().navigationGuts
};e.prototype.onVizRequestExecuted=function(i,k){f.prototype.onVizRequestExecuted.call(this,i,k);if(k){var h=this.navigationGuts();if(h){var g=h.evalGuts();if(!_.isEmpty(g.filterInfo)&&this.box()){var j=a.GizmoFactoryPark.getInstance("FilterInfoRenderer","default");
this.box().showFilterInfo(j,h.getNavigationState())}}}};e.prototype.hasQueryBuilder=function(){return true};e.prototype.getGroupCssClassForContainer=function(){return this.widgetCls("chart")+" "+f.prototype.getGroupCssClassForContainer.call(this)};e.prototype.getNavigationMenuItems=function(){return null
};e.prototype.getChartTypes=function(){return null};e.prototype.getColorPalettes=function(){return _.map(a.ThemesRepository.getPalettes(),"name")};e.prototype.handleWidgetNavigation=function(h,g){this.setNavigationWidgetOption(h,g,this.navigationWidgetOptions);
this._onRefresh();return false};e.prototype.setNavigationWidgetOption=function(h,g,i){a.assertAbstract("setNavigationWidgetOption",this)};e.prototype.isInDataVew=function(){return this.dataWidget!=null};e.prototype.showUnderlyingData=function(){var i=this.gviWidget()&&this.gviWidget().gviTable();
var h=this.gviWidget()&&this.gviWidget().gviRequest();if(i&&h){this.$widgetCt.hide();this.$dataViewCt.show();var j=new viz.pivot.PivotTableOptions();this.$dataViewCt.addClass("ic3-pivottable");var g=new viz.pivot.PivotTable(this.$dataViewCt,j);g.onVizRequestExecuted(i,h);
this.dataWidget=g}};e.prototype.hideUnderlyingData=function(){if(this.dataWidget){this.dataWidget.destroy();delete this.dataWidget}this.$dataViewCt.hide();this.$widgetCt.show()};e.prototype.destroyWidget=function(){f.prototype.destroyWidget.call(this);this.dataWidget&&this.dataWidget.destroy();
delete this.dataWidget};e.prototype.getState=function(h){var g=f.prototype.getState.call(this,h);if(this.navigationWidgetOptions){g=g||{};g.navigationOptions=this.navigationWidgetOptions;g.navigationStack=this.navigationGuts().getNavigationState()}return g};
e.prototype.setState=function(h){f.prototype.setState.call(this,h);var g=false;if(!a.objectIsEmpty(h.navigationOptions)){this.navigationWidgetOptions=h.navigationOptions;g=true}if(!a.objectIsEmpty(h.navigationStack)){this.navigationGuts().setNavigationState(h.navigationStack);
g=true}if(g){this._onRefresh()}};e.prototype.getOptionsCategories=function(h){var g=f.prototype.getOptionsCategories.call(this,h);g[a.OptionCategoryOrder.DATA]=this.getDataOptions(h);g[a.OptionCategoryOrder.DATA_RENDERER]=this.getDataRenderOptions(h);g[a.OptionCategoryOrder.NAVIGATION]=this.getNavigationAndUserMenuOptions(h);
g[a.OptionCategoryOrder.ADVANCED]=this.getChartConfigurationOptions(h);return g};e.prototype.setOptions=function(j,k){switch(k){case"data":this.builder().guts_=a.restoreGuts({classId:this.builder().classID,guts_:j},this.context).guts_;break;case"data-render":this.guts_.dataRenderOptions=j;
break;case"navigation":var h=_.cloneDeep(j);if(!_.isEmpty(h.drillDownStrategyType)){var g=this.context.getEvaluator().evaluate(h.drillDownStrategyOptions);var i={context:this.context,widgetAdapter:this};g=a.ContextEvaluator.evaluate(g,i,"WIDGET");h.drillDownStrategy=a.GizmoFactoryPark.getInstance("DrillDownStrategy",h.drillDownStrategyType,g)
}this.guts().navigationOptions=j;this.guts().navigationGuts=this.createNavigationStrategy(this.context,h);break;default:f.prototype.setOptions.call(this,j,k)}};e.prototype.getDataOptions=function(g){var i=this;var h=f.prototype.getDataOptions.call(this);h.properties=a.saveGuts(this.builder().guts());
h.meta={queryFromWizard:function(j){return i.builder().mdxStatementForBoxEditor(j)}};h.component=a.WidgetDataOptions;h.manualPreview=true;return h};e.prototype.getDataRenderOptions=function(i){var h=f.prototype.getDataRenderOptions.call(this),g=this.getDataRenderOptionsMeta();
if(g.length>0){h.meta.metaProps=h.meta.metaProps.concat(g)}return h};e.prototype.getNavigationAndUserMenuOptions=function(g){return{uniqueId:"navigation",title:this.context.l("ic3.widget_options.category.navigation"),properties:this.guts().navigationOptions||{},meta:{eventsProducedInReport:this.context.eventsProducedInReport.bind(this.context),metaProps:a.ClickActionMeta.concat(a.ChartSelectionMeta,a.NavigationMeta,a.ChartUserMenuMeta)}}
};e.prototype.getChartConfigurationOptions=function(g){return{meta:{eventsProducedInReport:this.context.eventsProducedInReport.bind(this.context)}}};e.prototype.getDataRenderOptionsMeta=function(){return[]};e.prototype.createUserMenu=function(){var i=this;var h=f.prototype.createUserMenu.call(this);
var g=this.navigationGuts();h.rootItem.items=[{id:"export",icon:"glyphicons glyphicons-disk-save",title:this.context.mainReport().l("ic3.widget.box_menu.export"),itemsMode:viz.widget.WidgetMenuItemsMode.ICONS_WITH_TEXT,visible:function(){return _.get(g.guts(),"menuVisibility.export",true)
},items:_.map(this.getExportFormats(),function(j){return({id:"export-"+j.type,icon:j.icon,title:i.context.mainReport().l("ic3.widget.box_menu.export."+j.type),visible:j.available==null?undefined:j.available,onClick:function(){return i.exportData(j)}})})},{id:"history-back",icon:"glyphicons glyphicons-undo",title:this.context.mainReport().l("ic3.widget.box_menu.back"),visible:function(){return _.get(g.guts(),"menuVisibility.back",true)
},enabled:function(){return g.navigationAction&&g.navigationAction.hasAction()},onClick:function(){return g.navigateBack(i)}},{id:"reset-query",icon:"glyphicons glyphicons-retweet",title:this.context.mainReport().l("ic3.widget.box_menu.reset_query"),visible:function(){return _.get(g.guts(),"menuVisibility.reset",true)
},onClick:function(){return g.resetNavigation(i)}}];h.rootItem.items.push({id:"more",icon:"glyphicons glyphicons-more",title:this.context.mainReport().l("ic3.widget.box_menu.other"),visible:function(){return !!g.guts().menuVisibility.others},items:[{id:"drilldown-strategy",title:this.context.mainReport().l("ic3.widget.box_menu.drilldown_stategy"),items:g.createNavStrategyMenuItems(this)}]});
return h};return e}(a.MdxTableWidgetAdapter));a.ChartAdapter=b;(function(e){e[e.ChartType=0]="ChartType";e[e.ColorPalette=1]="ColorPalette"})(a.NavigationWidgetOptions||(a.NavigationWidgetOptions={}));var c=a.NavigationWidgetOptions})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(ic3){var preSelectAllMdx="ALL";var QueryFilterAdapter=(function(_super){__extends(QueryFilterAdapter,_super);function QueryFilterAdapter(context){_super.call(this,context)
}QueryFilterAdapter.prototype.destroyWidget=function(){if(this.hasUserMenu()&&this.userMenuCt){ReactDOM.unmountComponentAtNode(this.userMenuCt);this.userMenuCt=null}if(this.$widgetCt&&this.$widgetCt[0]){ReactDOM.unmountComponentAtNode(this.$widgetCt[0])}};QueryFilterAdapter.prototype.createEventMapper=function(){return new ic3.EventWidgetMapper(undefined,{ic3selection:ic3.uniqueId("select")})
};QueryFilterAdapter.prototype._onRefresh=function(){};QueryFilterAdapter.prototype.createRequest=function(queryBuilder){return new viz.MdxTableQueryWidget(queryBuilder.mdxStatement())};QueryFilterAdapter.prototype.createBuilder=function(uid){var builderContainer=this.context.mdxQueriesMgr();
if(uid){return builderContainer.getMdxFilterById(uid)}else{return this.doCreateBuilder(builderContainer)}};QueryFilterAdapter.prototype.doCreateBuilder=function(builderContainer){var builder=new ic3.FilterQueryBuilder(this.context);this.guts().ic3_mdxBuilderUid=builder.uid();
builder._adapter=this;return builderContainer.addNewMdxFilter(builder)};QueryFilterAdapter.prototype.createWidgetOptions=function(){var options=_super.prototype.createWidgetOptions.call(this);var builder=this.builder();var builderOptions=ic3.ContextEvaluator.evaluate(this.context.getEvaluator().evaluate(builder.guts()),this.widgetContext(),"WIDGET");
if(builder.type().isQuery&&builderOptions.mode==="WIZARD"){var defaultsMdx=builderOptions.options.WIZARD.clientPreselection;options.preSelectAll=!ic3.isEmptyString(defaultsMdx)&&defaultsMdx.toUpperCase()===preSelectAllMdx;options.useMeasureToFilter=builderOptions.options.WIZARD.useMeasureToFilter;
options.clientPreselection=_.isString(defaultsMdx)?_.map(defaultsMdx.split(","),_.trim):[]}else{if(!builder.type().isQuery){options.items=builder.items();options.defaults=builder.defaults()}}options.preSelection=this.reportParamValue;return options};QueryFilterAdapter.prototype.setupFilterInitialSelectionFromConstant=function(value){ic3.logMsg("[ic3-event] filter initial selection for "+this.getCaptionForEventInfo()+" : "+value);
this.reportParamValue=_.compact(_.flatten([this.context.eval(value)]))};QueryFilterAdapter.prototype.hasUserMenu=function(){return _.get(this.guts(),"user-menu.enabled",true)};QueryFilterAdapter.prototype.getUserMenuOptions=function(){return{uniqueId:"user-menu",title:this.context.l("ic3.widget_options.category.user_menu"),properties:this.guts_["user-menu"]||{},meta:{eventsProducedInReport:this.context.eventsProducedInReport.bind(this.context),metaProps:[{label:this.context.l("ic3.widget.user_menu.options.enabled"),valueRef:"enabled",type:ic3.reporting.editor.OptionMetaType.BOOLEAN,defaultValue:true,flags:{hidePencil:true}}]}}
};QueryFilterAdapter.prototype.setOptions=function(options,categoryId){if(categoryId=="user-menu"){this.guts_["user-menu"]=options}else{_super.prototype.setOptions.call(this,options,categoryId)}};QueryFilterAdapter.prototype.createUserMenu=function(){var _this=this;
var menu=_super.prototype.createUserMenu.call(this);menu.rootItem.items.unshift({id:"history-back",icon:"glyphicons glyphicons-undo",title:this.context.mainReport().l("ic3.widget.box_menu.back"),enabled:function(){return _this.widget&&_this.widget.historyCanBack()
},onClick:function(){return _this.widget.historyBack()}},{id:"history-forward",icon:"glyphicons glyphicons-redo",title:this.context.mainReport().l("ic3.widget.box_menu.forward"),enabled:function(){return _this.widget&&_this.widget.historyCanForward()},onClick:function(){return _this.widget.historyForward()
}},{id:"reset-query",icon:"glyphicons glyphicons-retweet",title:this.context.mainReport().l("ic3.widget.box_menu.reset_query"),onClick:function(){return _this.widget.resetToDefault()}});return menu};return QueryFilterAdapter}(ic3.FilterWidgetAdapter));ic3.QueryFilterAdapter=QueryFilterAdapter
})(ic3||(ic3={}));var ic3;(function(b){var a;(function(c){function f(h){return h instanceof b.ChartAdapter}c.isChart=f;function d(h){return h instanceof b.QueryFilterAdapter}c.isFilter=d;function e(h){return h&&h.getWidgetGroupName()===b.WidgetAdapter.widgetGroups.action
}c.isAction=e;function g(h){return f(h)}c.isMigratable=g})(a=b.WidgetAdapterTypeHelper||(b.WidgetAdapterTypeHelper={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var f=b.reporting.editor.OptionMetaType;var c=b.reporting.editor.OptionsMetaComponents;var a=b.reporting.editor.components.SubgroupComponent;var d={label:"Root meta",valueRef:null,type:f.OBJECT};
var e=(function(h){__extends(g,h);function g(j,i){h.call(this,j,i);this.state={data:this.cleanupProperties(j),openedPath:[],arrayPath:[],openedData:{},openedMeta:_.isArray(this.props.meta.metaProps)?d:this.props.meta.metaProps,showOptionsSuggest:false,openedSubGroups:{}};
this.updateOpenedData()}g.prototype.cleanupProperties=function(k){var j=k.meta,m=j.metaProps,l=j.keepFields;var i=[];if(_.isArray(m)){i=m}else{i=this.getChildren(m).concat(m.advanced||[])}return _.cloneDeep(_.pickBy(k.properties,function(o,n){return _.find(i,function(p){return(_.get(p,"valueRef","").split(".")[0]===n||_.get(p,"subgroup.advanced.valueRef","").split(".")[0]===n||_.includes(l,n))
})!==undefined}))};g.prototype.handleOptionChange=function(j,i){if(_.isFunction(j.beforeChange)){j.beforeChange(this.state.data,this.state.openedData,this.props.allProperties)}if(_.isUndefined(i)){_.unset(this.state.openedData,j.valueRef)}else{_.set(this.state.openedData,j.valueRef,i)
}if(_.isFunction(j.afterChange)){j.afterChange(this.state.data,this.state.openedData,this.props.allProperties)}this.state.showOptionsSuggest=false;this.props.onChange(_.cloneDeep(this.state.data))};g.prototype.handleOptionsDelete=function(j){var i=function(l,k){if(k.length<=1||_.isEmpty(l[k[0]])){delete l[k[0]];
return true}if(i(l[k[0]],_.drop(k))&&_.isEmpty(l[k[0]])){delete l[k[0]];return true}};this.state.showOptionsSuggest=false;i(this.state.openedData,j.split("."));this.props.onChange(_.cloneDeep(this.state.data))};g.prototype.handleObjectPropertyClick=function(i){var j=this;
if(_.isFunction(this.props.onAdvanced)){this.props.onAdvanced(this.getLabel(i),function(){return{meta:{metaProps:j.getChildren(i)},properties:j.state.openedData[i.valueRef],allProperties:j.props.allProperties,onChange:j.handleOptionChange.bind(j,i)}})}else{this.state.openedPath.push(_.findIndex(this.state.openedData,{valueRef:i.valueRef}));
this.state.openedMeta=i;this.state.showOptionsSuggest=false;this.updateOpenedData();this.forceUpdate()}};g.prototype.renderMetaProperty=function(k){if(k.type==f.OBJECT){return this.renderObject(k)}var i=c[k.type];var j=_.get(this.state.openedData,k.valueRef);
if(j==undefined&&k.defaultValue!=undefined){if(_.isFunction(k.defaultValue)){j=k.defaultValue(this.props.allProperties)}else{j=_.cloneDeep(k.defaultValue)}}return{meta:k,element:(React.createElement(i,{key:k.valueRef,optionMeta:k,value:j,widgetAdapter:this.props.meta.widgetAdapter,allProperties:this.props.allProperties,eventsProducedInReport:_.bind(this.context.reportingContext.eventsProducedInReport,this.context.reportingContext),onChange:this.handleOptionChange.bind(this,k),onDelete:this.handleOptionsDelete.bind(this,k.valueRef),onAdvanced:this.props.onAdvanced}))}
};g.prototype.renderMetaGroup=function(p,i){var l=this;var o=p.title,n=p.items,q=p.advanced,m=p.alwaysOpened;var k=_.groupBy(n,function(s){var r=s.subgroup;return l.context.reportingContext.l(_.isObject(r)?r.title:r)});var j=[];_.each(k,function(s,t){if(t!==i){var r=t.split(".");
j.push(l.renderMetaGroup({title:r.length>1?_.tail(r).join("."):t,items:s,alwaysOpened:false},t).element)}});j=j.concat(_.map(k[i],function(r){return l.renderMetaProperty(r).element}));return{meta:_.first(p.items),element:(React.createElement(a,{keepOpened:m,content:j,title:o,advancedClickHandler:q?this.handleObjectPropertyClick.bind(this,q):null}))}
};g.prototype.renderObject=function(i){return{meta:i,element:(React.createElement("div",{key:i.valueRef,className:"panel panel-default options-group borderless"},React.createElement("div",{className:"panel-heading"},React.createElement("span",null,this.getLabel(i)),React.createElement("span",{className:"pull-right glyphicons glyphicons-cogwheel",onClick:this.handleObjectPropertyClick.bind(this,i)}))))}
};g.prototype.renderObjectArray=function(k,l,i){var j=b.reporting.editor.components.InlineArrayComponent;return{meta:l,element:(React.createElement(j,{key:i,optionMeta:l,value:k[l.valueRef],eventsProducedInReport:_.bind(this.context.reportingContext.eventsProducedInReport,this.context.reportingContext),onChange:this.handleOptionChange.bind(this,l),onDelete:this.handleOptionsDelete.bind(this,l.valueRef),onAdvanced:this.props.onAdvanced,allProperties:this.props.allProperties}))}
};g.prototype.handleBackClick=function(){if(this.state.openedMeta.type===f.OBJECT_ARRAY&&this.state.arrayPath.length>0&&!b.isArray(this.state.openedData)){this.state.arrayPath.pop();this.state.showOptionsSuggest=false;this.updateOpenedData();this.forceUpdate()
}else{if(this.state.openedPath.length>0){this.state.openedPath.pop();this.state.openedMeta=_.isArray(this.props.meta.metaProps)?d:this.props.meta.metaProps;var i=_.isArray(this.props.meta.metaProps)?this.props.meta.metaProps:this.props.meta.metaProps.children;
_.each(this.state.openedPath,function(k,j){if(j==this.state.openedPath.length-1){this.state.openedType=i[k].type}i=i[k].children});this.state.showOptionsSuggest=false;this.updateOpenedData();this.forceUpdate()}}};g.prototype.handleRemoveEntityClick=function(i){this.state.openedData.splice(i,1);
this.updateOpenedData();this.forceUpdate()};g.prototype.handleAddEntityClick=function(){var i=this.state.openedData.push({});this.state.arrayPath.push(i-1);this.updateOpenedData();this.forceUpdate()};g.prototype.handleEditEntityClick=function(i){this.state.arrayPath.push(i);
this.updateOpenedData();this.forceUpdate()};g.prototype.updateOpenedData=function(j){var m=this;if(j===void 0){j=this.props}var k=this.state.data;var l=_.isArray(j.meta.metaProps)?j.meta.metaProps:this.getChildren(j.meta.metaProps);if(_.isEmpty(this.state.openedPath)){_.each(l,function(n){if((n.type==f.OBJECT||n.type===f.OBJECT_ARRAY)&&!_.has(k,n.valueRef)){if(_.isUndefined(n.defaultValue)){_.set(k,n.valueRef,n.type==f.OBJECT?{}:[])
}else{_.set(k,n.valueRef,_.cloneDeep(n.defaultValue))}if(_.isFunction(n.afterChange)){setTimeout(function(){n.afterChange(m.state.data,k,j.allProperties)})}}})}var i=0;_.each(this.state.openedPath,function(n){if((l[n].type==f.OBJECT||l[n].type===f.OBJECT_ARRAY)&&!_.has(k,l[n].valueRef)){if(_.isUndefined(l[n].defaultValue)){_.set(k,l[n].valueRef,l[n].type==f.OBJECT?{}:[])
}else{_.set(k,l[n].valueRef,_.cloneDeep(l[n].defaultValue))}if(_.isFunction(l[n].afterChange)){setTimeout(function(){l[n].afterChange(m.state.data,k,j.allProperties)})}}k=_.get(k,l[n].valueRef);if(l[n].type==f.OBJECT_ARRAY&&m.state.arrayPath.length>i){k=k[m.state.arrayPath[i]];
i++}l=m.getChildren(l[n])});this.state.openedData=k};g.prototype.filterMeta=function(j,i){var k=this;if(i===void 0){i=_.lowerCase(this.context.optionFilter)}if(_.size(j)&&i){j=_.cloneDeep(j).map(function(m){if(m){var l=typeof m.subgroup==="object"?m.subgroup:{};
_.set(m,"flags.remain",(_.size(k.filterMeta(k.getChildren(m),i))>0||_.size(m.advanced&&k.filterMeta(m.advanced.children,i))>0))}return m}).filter(function(l){return l&&(l.flags.remain||_.lowerCase(k.getLabel(l)).indexOf(i)!==-1||_.lowerCase(_.isObject(l.subgroup)?l.subgroup.title:l.subgroup).indexOf(i)!==-1)
})}return j};g.prototype.getOpenedMeta=function(){var i=_.isArray(this.props.meta.metaProps)?this.props.meta.metaProps:this.getChildren(this.props.meta.metaProps);_.each(this.state.openedPath,function(j){i=this.getChildren(i[j])});return this.filterMeta(i)};
g.prototype.getChildren=function(j){if(_.isFunction(j.children)){var i=j.children;return i(this.props.properties,this.props.allProperties)}return j.children};g.prototype.getLabel=function(i){return this.context.reportingContext.getEvaluator().evaluate(i.label)
};g.prototype.splitMetaToGroups=function(i){var j=this;return _.groupBy(i,function(k){if(k.configurable&&!k.configurable(j.props.properties,j.state.openedData,j.props.allProperties)){return"hidden"}if(k.type==f.OBJECT_ARRAY){return"objectArray"}return"main"
})};g.prototype.renderObjectEditor=function(){var p=this;var o=this.getOpenedMeta();var j=this.splitMetaToGroups(o);var n;if(this.state.openedPath.length>0){n=React.createElement("div",{className:"btn btn-info btn-xs btn-block",onClick:this.handleBackClick.bind(this)},"Back...")
}var m=[];var i=_.reduce(j.main,function(q,t){var r=_.isObject(t.subgroup)?t.subgroup:{title:t.subgroup};r.title=p.context.reportingContext.l(r.title);var u=r.title;if(u){var s=_.first(_.trim(u,". ").split("."));r.title=s;q[s]=q[s]||_.assign(r,{items:[]});q[s].items.push(t)
}else{m.push(t)}return q},{});var k=_.zipObject(_.map(o,"valueRef"),_.times(o.length));var l=_.sortBy(_.concat(_.map(m,this.renderMetaProperty.bind(this)),_.map(j.object||[],this.renderObject.bind(this)),_.map(j.objectArray||[],this.renderObjectArray.bind(this,this.state.openedData)),_.map(i,function(q){return p.renderMetaGroup(q,q.title)
})),function(q){return k[q.meta.valueRef]});return(React.createElement("div",null,this.renderDetailedInfo(),n,_.map(l,"element")))};g.prototype.renderArrayObjectEdit=function(k,j){var i=this.state.openedMeta.childrenLabel,l;if(i&&k[i]){l=k[i]}else{if(i){l=i+" "+(j+1)
}else{l="Object "+j}}return(React.createElement("div",{key:l,className:"btn btn-default btn-xs btn-block has-feedback"},React.createElement("div",{onClick:this.handleEditEntityClick.bind(this,j)},l),React.createElement("div",{className:"btn-xs glyphicon glyphicon-remove form-control-feedback",style:{height:"auto",pointerEvents:"auto"},onClick:this.handleRemoveEntityClick.bind(this,j)})))
};g.prototype.renderObjectArrayEditor=function(){var j,k;if(this.state.openedPath.length>0){j=React.createElement("div",{className:"btn btn-info btn-xs btn-block",onClick:this.handleBackClick.bind(this)},"Back...")}if(this.state.openedData.length>0){k=_.map(this.state.openedData,this.renderArrayObjectEdit.bind(this))
}var i=React.createElement("div",{className:"btn btn-danger btn-xs btn-block",onClick:this.handleAddEntityClick.bind(this)},"Add new...");return(React.createElement("div",null,this.renderDetailedInfo(),j,k,i))};g.prototype.renderDetailedInfo=function(){if(_.isEmpty(this.state.openedMeta.detailedInfo)){return null
}return(React.createElement("div",{className:"alert alert-info",style:{padding:"5px"}},React.createElement("span",{className:"glyphicons glyphicons-info-sign"})," ",React.createElement("span",{dangerouslySetInnerHTML:{__html:this.state.openedMeta.detailedInfo}})))
};g.prototype.componentWillReceiveProps=function(i,j){this.state.data=this.cleanupProperties(i);this.updateOpenedData(i)};g.prototype.render=function(){if(this.state.openedMeta.type===f.OBJECT_ARRAY&&b.isArray(this.state.openedData)){return this.renderObjectArrayEditor()
}return this.renderObjectEditor()};g.contextTypes={reportingContext:React.PropTypes.object,optionFilter:React.PropTypes.string};return g}(React.Component));b.MetaWidgetOptions=e})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(f){var e=(function(h){__extends(g,h);function g(j,i){h.call(this,j,i);this.convertLegacy()}g.prototype.convertLegacy=function(){var i={};
_.forOwn(this.state.data,function(k,j){if(_.isFunction(k)){i[j]=k()}else{if(j==="fireOnRefresh"){i[j]=k.uniqueName}else{i[j]=k}}});this.state.data=i};g.prototype.backToLegacy=function(){var i={};_.forOwn(this.state.openedData,function(l,k){if(k==="fireOnRefresh"){var j={uniqueName:l,parentRowId:-1,type:"OT"};
i[k]=j}else{i[k]=_.cloneDeep(l)}});return i};g.prototype.handleOptionChange=function(k,j){this.state.openedData[k.valueRef]=j;this.state.showOptionsSuggest=false;var i=this.backToLegacy();this.props.onChange(i)};return g}(a.MetaWidgetOptions));f.WidgetEventsOptions=e
})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(f,e){c.call(this,f,e);this.state=this.configure(f)}d.prototype.configure=function(e){var f=_.cloneDeep(e.category?e.categoryProps[e.category]:e.categoryProps);return{source:(""+e.adapter.classID)+(e.category?"-"+e.category:""),json:this.serializeProperties(f,false)}
};d.prototype.cleanupProperties=function(e){return _.omit(e,["ic3Rev","ic3Src"])};d.prototype.serializeProperties=function(e,f){if(f===void 0){f=false}return JSON.stringify(_.assign(f?{ic3Rev:a.migration.MigrationUtils.getLastReportRev(),ic3Src:this.state.source}:{},this.cleanupProperties(e)),null,"\t")
};d.prototype.parseProperties=function(g,h){if(h===void 0){h=true}var f=null;try{f=JSON.parse(g);if(f&&(!h||f.ic3Src===this.state.source)){return this.cleanupProperties(f)}}catch(e){}};d.prototype.render=function(){var j=this;var e=this.context.reportingContext;
var f=this.props.onChange;var g=this.state.json;var i=function(){return e.mainReport().clearModal()};var h=[{label:e.l("ic3.widget_jsprop_dialog.apply"),handler:function(){var k=j.parseProperties(g,false);if(k){f(k);i()}else{e.notificationMgr().notifyInfo(e.l("ic3.widget_jsprop_dialog.errors.invalid_data"))
}}},{label:e.l("ic3.widget_jsprop_dialog.import"),handler:function(){return a.openFile(function(k){var l=j.parseProperties(k);if(l){j.setState({json:j.serializeProperties(l)})}else{e.notificationMgr().notifyInfo(e.l("ic3.widget_jsprop_dialog.errors.wrong_category"))
}})}},{label:e.l("ic3.widget_jsprop_dialog.export"),handler:function(){var k=j.parseProperties(g,false);if(k){a.saveFile(j.serializeProperties(k,true),"widget-props.json")}else{e.notificationMgr().notifyInfo(e.l("ic3.widget_jsprop_dialog.errors.invalid_data"))
}}},{label:e.l("ic3.cancel"),handler:i}];return(React.createElement(a.ModalReportingDialog,{title:e.l("ic3.widget_jsprop_dialog.title"),onClose:i,buttons:h,resizable:true},React.createElement(a.ReactCodeMirror,{mode:a.CodeMirrorMode.JSON,value:g,onChange:function(k){return j.setState({json:k})
}}),React.createElement("div",{className:"comment"},"F11 - fullscreen, SHIFT+SPACE - autocompletion, dot '.' - continue autocompletion, autocompletion on '@' retrieves events")))};d.contextTypes={reportingContext:React.PropTypes.object};return d}(React.Component));
a.WidgetOptionsEditorDialog=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;
a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var ic3;(function(a){(function(d){d[d.OPEN=0]="OPEN";d[d.CLOSE=1]="CLOSE"})(a.DetailedOptionsEvent||(a.DetailedOptionsEvent={}));var b=a.DetailedOptionsEvent;
var c=(function(e){__extends(d,e);function d(i,h){var l=this;e.call(this,i,h);this.changeHandler=function(n,m){if(n&&l.state.categoryProperties[n]){l.state.categoryProperties[n]=m}else{l.state.categoryProperties=m}l.state.historyPointer++;l.state.history.splice(l.state.historyPointer,l.state.history.length,{categoryProperties:_.cloneDeep(l.state.categoryProperties),selected:l.state.selected});
l.state.historyPointer=l.state.history.length-1;l.processPropertiesUpdate()};this.onEdit=function(p){var o=l.state.categoryProperties;var n=l.context.reportingContext;var m=function(q){var r=_.cloneDeep(p?o[p]:o);q=_.mergeWith(r,q,function(s,u,t){if(_.includes(["ic3_name","ic3_uid"],t)){return s
}});l.changeHandler(p,q)};n.mainReport().setModal(React.createElement(a.WidgetOptionsEditorDialog,{adapter:l.props.adapter,category:p,categoryProps:o,onChange:m}))};this.hideSearch=function(m){if($(m.target).closest(ReactDOM.findDOMNode(l.refs.search)).length<=0&&!l.state.optionFilter){l.toggleSearch()
}};this.toggleSearch=function(){if(l.state.optionShow=!l.state.optionShow){document.addEventListener("click",l.hideSearch)}else{document.removeEventListener("click",l.hideSearch);l.state.optionFilter=""}l.forceUpdate()};this.onSearchChange=function(m){l.state.optionFilter=m.target.value;
l.forceUpdate()};this.onSearchKeyDown=function(m){if(m.keyCode===27){m.stopPropagation();l.toggleSearch()}};this.handleOkClick=function(){if(l.props.onOk){l.props.onOk(l.state.categoryProperties)}};this.handleCancelClick=function(){if(l.props.onCancel){l.props.onCancel(l.state.categoryProperties)
}};this.togglePreview=function(m){l.state.isPreviewEnabled=!l.state.isPreviewEnabled;if(l.state.previewChanges){l.state.previewChanges.cancel()}l.state.previewChanges=l.state.isPreviewEnabled?_.debounce(l.previewChanges,1000):null;if(l.state.previewChanges!==null&&l.props.onTry){l.previewChanges()
}l.forceUpdate()};this.previewChanges=function(){if(l.props.onTry){l.props.onTry(l.state.categoryProperties)}};this.selectCategory=function(m){l.state.selected=m.uniqueId;l.state.history[l.state.historyPointer].selected=l.state.selected;l.state.detailedOptions=null;
l.state.detailedOptionsComponent=null;l.props.onSelectCategory(l.state.selected);l.forceUpdate()};this.setDetailedOptions=function(r,o,m,s){var n=l.state,q=n.detailedOptionsCallback,p=n.detailedOptions;l.state.detailedOptions=o;l.state.detailedOptionsCallback=s;
l.state.detailedOptionsComponent=m;l.state.detailedOptionsTitle=r;l.state.detailedOptionsKey++;l.forceUpdate();if(p&&!o){l.dispatchDetailedOptionsEvent(b.CLOSE,null,q)}if(!p&&o){l.dispatchDetailedOptionsEvent(b.OPEN)}};var j={};var g=i.categories();g.forEach(function(m){j[m.uniqueId]=m.properties
});this.state={categoryProperties:j,isPreviewEnabled:false,optionFilter:"",selected:_.isObject(_.find(g,{uniqueId:"data-render"}))?"data-render":g[0].uniqueId,detailedOptionsKey:0,history:[{categoryProperties:_.cloneDeep(j),selected:_.isObject(_.find(g,{uniqueId:"data-render"}))?"data-render":g[0].uniqueId}],historyPointer:0};
var k=_.find(g,{uniqueId:"data"});if(_.isObject(k)){var f=function(){l.state.selected="data";l.state.history[0].selected=l.state.selected;i.onSelectCategory(l.state.selected)};if(_.get(j,"data.mode")==="MDX"&&_.isEmpty(_.get(j,"data.options.MDX.statement"))){f()
}if(_.get(j,"data.mode")==="WIZARD"&&_.isEmpty(_.get(j,"data.options.WIZARD.rows"))){f()}if(_.get(j,"data.mode")==="MANUAL"&&_.isEmpty(_.get(j,"data.options.MANUAL.items"))){f()}}}d.prototype.componentWillReceiveProps=function(){var g=this;var f=this.props.categories();
f.forEach(function(h){g.state.categoryProperties[h.uniqueId]=h.properties});this.setState(this.state)};d.prototype.componentWillUnmount=function(){if(this.state.previewChanges){this.state.previewChanges.cancel()}};d.prototype.processPropertiesUpdate=function(){this.forceUpdate();
var f=_.find(this.props.categories(this.state.categoryProperties),{uniqueId:this.state.selected});if(this.state.isPreviewEnabled&&!f.manualPreview){this.state.previewChanges()}};d.prototype.canUndo=function(){return _.isFinite(this.state.historyPointer)&&this.state.historyPointer>0
};d.prototype.undo=function(){if(this.canUndo()){this.state.historyPointer--;this.state.categoryProperties=_.cloneDeep(this.state.history[this.state.historyPointer].categoryProperties);this.state.selected=this.state.history[this.state.historyPointer].selected;
this.processPropertiesUpdate()}};d.prototype.canRedo=function(){return _.isFinite(this.state.historyPointer)&&this.state.historyPointer<(this.state.history.length-1)};d.prototype.redo=function(){if(this.canRedo()){this.state.historyPointer++;this.state.categoryProperties=_.cloneDeep(this.state.history[this.state.historyPointer].categoryProperties);
this.state.selected=this.state.history[this.state.historyPointer].selected;this.processPropertiesUpdate()}};d.prototype.getTitle=function(g){var j=this;var i=g.title;var h;var f=[{icon:"glyphicons-edit",handler:function(){return j.onEdit(j.state.selected)}}];
if(_.isObject(i)){h=i.text;f=_.concat(f,i.buttons||[])}else{if(_.isString(i)){h=i}}return{text:h,buttons:f}};d.prototype.renderCategory=function(i){var k=this;var h=i.uniqueId===this.state.selected;var f=classNames("widget-options-category",{active:h});var g=_.isString(d.KNOWN_ICONS[i.uniqueId])?d.KNOWN_ICONS[i.uniqueId]:"glyphicons-cogwheels";
var j=_.get(d.KNOWN_TEXT,i.uniqueId,null);return(React.createElement("div",{key:i.uniqueId,className:f,onClick:function(){k.selectCategory(i)}},React.createElement("span",{className:"glyphicons "+g},j),h?React.createElement("span",{className:"selection-mark"}):null))
};d.prototype.renderOptions=function(){var h=this.context.reportingContext;var j=_.find(this.props.categories(this.state.categoryProperties),{uniqueId:this.state.selected});var k=j.component||a.MetaWidgetOptions;var f=classNames("btn","btn-default",{active:this.state.isPreviewEnabled});
var g=this.state.categoryProperties[j.uniqueId];var i=this.state.categoryProperties;var l=this.getTitle(j);return(React.createElement("div",{className:"widget-options-panel"},React.createElement("div",{className:"widget-options-panel-header"},React.createElement("div",{className:"pull-left"},l.text),_.map(l.buttons,function(m){return(React.createElement("div",{className:classNames("glyphicons",m.icon,"pull-right"),onClick:function(){return m.handler(g,i)
}}))})),React.createElement("div",{className:"widget-options-panel-content"},React.createElement(k,{properties:g,allProperties:i,meta:j.meta,onChange:_.partial(this.changeHandler,j.uniqueId),onAdvanced:this.setDetailedOptions,previewChanges:this.previewChanges})),React.createElement("div",{className:"widget-options-panel-footer"},React.createElement("div",null,React.createElement("div",{className:"btn btn-default",onClick:this.handleOkClick},h.l("ic3.widget_options.save")),React.createElement("div",{className:"btn btn-default",onClick:this.handleCancelClick},h.l("ic3.cancel")),j.manualPreview?React.createElement("div",{className:f,onClick:this.previewChanges.bind(this)},h.l("ic3.widget_options.run")):React.createElement("div",{className:f,onClick:this.togglePreview.bind(this)},h.l("ic3.widget_options.try"))))))
};d.prototype.dispatchDetailedOptionsEvent=function(g,h,f){if(f===void 0){f=this.state.detailedOptionsCallback}return f&&f(g,h)};d.prototype.renderDetailedOptions=function(){var h=this;if(!_.isFunction(this.state.detailedOptions)){return null}var f=this.state.detailedOptionsComponent||a.MetaWidgetOptions;
var g=_.isObject(this.state.detailedOptionsComponent)?"detailed":"detailed"+this.state.detailedOptionsKey;return(React.createElement("div",{className:"widget-options-panel"},React.createElement("div",{className:"widget-options-panel-header text-center"},React.createElement("span",{className:"glyphicons glyphicons-chevron-left pull-left",onClick:function(){h.setDetailedOptions(null,null)
}}),React.createElement("span",{className:"title"},this.state.detailedOptionsTitle)),React.createElement("div",{className:"widget-options-panel-content"},React.createElement(f,__assign({key:g},this.state.detailedOptions(),{onAdvanced:this.setDetailedOptions})))))
};d.prototype.getChildContext=function(){return{reportingContext:this.context.reportingContext,widgetAdapter:this.props.adapter,optionFilter:this.state.optionFilter}};d.prototype.render=function(){var g=this;var f=_.filter(this.props.categories(this.state.categoryProperties),"uniqueId");
return(React.createElement("div",{className:"widget-options"},React.createElement("div",{className:"widget-options-categories"},React.createElement("div",{ref:"search",className:"widget-options-category btn-group",onClick:function(){return g.toggleSearch()}},React.createElement("span",{className:"glyphicons glyphicons-search"}),this.state.optionShow?(React.createElement("div",{className:"widget-options-search",onClick:function(h){return h.stopPropagation()
}},React.createElement("input",{ref:function(h){return h&&h.focus()},value:this.state.optionFilter,onChange:this.onSearchChange,onKeyDown:this.onSearchKeyDown}))):null),_.map(f,this.renderCategory.bind(this)),React.createElement("div",{className:classNames("widget-options-category",{disabled:!this.canUndo()}),onClick:function(){g.undo()
}},React.createElement("span",{className:"glyphicons glyphicons-undo"})),React.createElement("div",{className:classNames("widget-options-category",{disabled:!this.canRedo()}),onClick:function(){g.redo()}},React.createElement("span",{className:"glyphicons glyphicons-redo"})),React.createElement("div",{className:"widget-options-category",onClick:function(){return g.onEdit()
}},React.createElement("span",{className:"glyphicons glyphicons-edit"}))),this.renderOptions(),this.renderDetailedOptions()))};d.contextTypes={reportingContext:React.PropTypes.object};d.childContextTypes={reportingContext:React.PropTypes.object,widgetAdapter:React.PropTypes.object,optionFilter:React.PropTypes.string};
d.KNOWN_ICONS={box:"glyphicons-vector-path-square",data:"glyphicons-cube-empty","data-render":"glyphicons-display",events:"glyphicons-electricity",navigation:"glyphicons glyphicons-boat","user-menu":"glyphicons-show-lines",hooks:"text-icon"};d.KNOWN_TEXT={hooks:"JS"};
return d}(React.Component));a.WidgetOptionsEditor=c})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){(function(d){d[d.WIZARD=0]="WIZARD";d[d.MDX_QUERY=1]="MDX_QUERY"})(a.WidgetDataEditorMode||(a.WidgetDataEditorMode={}));var b=a.WidgetDataEditorMode;var c=(function(e){__extends(d,e);function d(g,f){var h=this;e.call(this,g,f);this.handleOptionChange=function(j){var i=_.cloneDeep(h.props.properties);
switch(h.state.mode){case b.MDX_QUERY:i.options.MDX=j;break;case b.WIZARD:default:i.options.WIZARD=j}h.props.onChange(i)};this.switchEditorMode=function(j){h.state.mode=j;var i=_.cloneDeep(h.props.properties);switch(h.state.mode){case b.MDX_QUERY:i.mode="MDX";
break;case b.WIZARD:default:i.mode="WIZARD"}h.props.onChange(i);h.props.onAdvanced(null,null,null)};this.openSuggestions=function(){h.props.onAdvanced(h.context.reportingContext.l("ic3.widget_data_options.suggestions"),function(){},a.MdxMembersList)};this.state={mode:this.props.properties.mode==="MDX"?b.MDX_QUERY:b.WIZARD}
}d.prototype.componentDidMount=function(){if(_.isEmpty(this.props.properties.options.WIZARD.rows)){this.openSuggestions()}};d.prototype.createDataComponent=function(){var f=a.reporting.editor.components.MdxDataComponent;switch(this.state.mode){case b.MDX_QUERY:return React.createElement(f,{properties:this.props.properties.options.MDX,handleChange:this.handleOptionChange,mdxFromWizard:this.props.meta.queryFromWizard(this.props.properties)});
case b.WIZARD:default:return React.createElement(a.MdxTableQueryWizard,{properties:this.props.properties.options.WIZARD,onOpenSuggestions:this.openSuggestions,onChange:this.handleOptionChange,onAdvanced:this.props.onAdvanced})}};d.prototype.render=function(){var h=this;
var g=this.state.mode;var f=this.context.reportingContext;return(React.createElement("div",null,React.createElement("div",{className:"tabs"},React.createElement("div",{className:classNames({active:g===b.WIZARD}),onClick:function(){return h.switchEditorMode(b.WIZARD)
}},f.l("ic3.widget_data_options.tabs.wizard")),React.createElement("div",{className:classNames({active:g===b.MDX_QUERY}),onClick:function(){return h.switchEditorMode(b.MDX_QUERY)}},f.l("ic3.widget_data_options.tabs.mdx"))),React.createElement("div",{className:"btn-row"},React.createElement("button",{type:"button",className:"btn btn-default",onClick:this.openSuggestions},f.l("ic3.widget_data_options.suggestions"))),this.createDataComponent()))
};d.contextTypes={reportingContext:React.PropTypes.object};return d}(React.Component));a.WidgetDataOptions=c})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){var g=this;d.call(this,f,e);this.handleOptionsEvent=function(h,i){switch(h){case a.DetailedOptionsEvent.CLOSE:g.setState({configMdxMember:null});
break}};this.handleSetAxisChange=function(h){var i=_.cloneDeep(g.props.properties);i.options.WIZARD.setAxis=h;g.props.onChange(i)};this.handleFilterByChange=function(h){var i=_.cloneDeep(g.props.properties);i.options.WIZARD.filter=h;g.props.onChange(i)};this.handleMetaChange=function(h){var i=_.cloneDeep(g.props.properties);
i.options.WIZARD=_.assign(_.pick(i.options.WIZARD,["filter","setAxis"]),h);g.props.onChange(i)};this.handleSetAxisConfiguration=function(i,h){g.setState({configMdxMember:i});g.props.onAdvanced(a.getMdxMemberCaption(i),function(){return{mdxMember:i,onChange:function(k){var j=_.cloneDeep(g.props.properties.options.WIZARD.setAxis);
j[h]=k;g.handleSetAxisChange(j);g.handleSetAxisConfiguration(k,h)}}},_.isString(_.get(i,"memberBase.mdx"))?a.MdxMemberEditor:a.MdxMemberAdvanced,g.handleOptionsEvent)};this.handleFilterByConfiguration=function(i,h){g.setState({configMdxMember:i});g.props.onAdvanced(a.getMdxMemberCaption(i),function(){return{mdxMember:i,onChange:function(k){var j=_.cloneDeep(g.props.properties.options.WIZARD.filter);
j[h]=k;g.handleFilterByChange(j);g.handleFilterByConfiguration(k,h)}}},a.FilterAdvanced,g.handleOptionsEvent)};this.switchEditorMode=function(i){g.state.mode=i;var h=_.cloneDeep(g.props.properties);h.mode=i;g.props.onChange(h);g.openSuggestions(i)};this.openSuggestions=function(h){switch(_.isString(h)?h:g.props.properties.mode){case"MANUAL":return g.props.onAdvanced("Suggestions",function(){},a.ItemsSuggestionsList);
case"MDX":return g.props.onAdvanced(null,null,null,null);case"WIZARD":default:g.props.onAdvanced("Suggestions",function(){},a.MdxMembersList)}};this.state={mode:f.properties.mode,configMdxMember:null}}c.prototype.handleOptionChange=function(f){var e=_.cloneDeep(this.props.properties);
e.options[this.state.mode]=f;this.props.onChange(e)};c.prototype.getAdvancedComponent=function(){return a.ItemAdvanced};c.prototype.createDataComponent=function(){var e=a.reporting.editor.components.MdxDataComponent;switch(this.props.properties.mode){case"MDX":return React.createElement(e,{properties:this.props.properties.options.MDX,handleChange:this.handleOptionChange.bind(this),mdxFromWizard:this.props.meta.queryFromWizard(this.props.properties)});
case"MANUAL":return React.createElement(a.ItemsWizard,{properties:this.props.properties.options.MANUAL,onChange:this.handleOptionChange.bind(this),onOpenSuggestions:this.openSuggestions.bind(this,"MANUAL"),advancedComponent:this.getAdvancedComponent(),onAdvanced:this.props.onAdvanced});
case"WIZARD":default:return this.renderWizard()}};c.prototype.renderWizard=function(){var f=this.props.properties.options.WIZARD;var e=this.state.configMdxMember;return(React.createElement("div",{className:"query-wizard"},React.createElement(a.AxisConfiguration,{name:"Members",axis:f.setAxis,onChange:this.handleSetAxisChange,canDrop:function(g){return _.get(g,"memberBase.hierarchy")!==a.IcCubeMdxBuilder.MEASURES_HIERARCHY&&_.isEmpty(f.setAxis)
},configMember:e,onOpenSuggestions:this.openSuggestions.bind(this,"WIZARD"),onConfiguration:this.handleSetAxisConfiguration}),React.createElement(a.AxisConfiguration,{name:"Filter By",axis:f.filter,onChange:this.handleFilterByChange,canDrop:function(g){return _.get(g,"memberBase.hierarchy")!==a.IcCubeMdxBuilder.MEASURES_HIERARCHY
},configMember:e,onOpenSuggestions:this.openSuggestions.bind(this,"WIZARD"),onConfiguration:this.handleFilterByConfiguration}),React.createElement(a.MetaWidgetOptions,{meta:{metaProps:a.FilterQueryBuilderMeta},properties:f,allProperties:this.props.properties,onChange:this.handleMetaChange})))
};c.prototype.componentDidMount=function(){if(this.props.properties.mode==="WIZARD"&&_.isEmpty(this.props.properties.options.WIZARD.setAxis)){this.openSuggestions()}};c.prototype.render=function(){var f=this;var e=this.state.mode;return(React.createElement("div",null,React.createElement("div",{className:"tabs"},React.createElement("div",{className:classNames({active:e==="WIZARD"}),onClick:function(){return f.switchEditorMode("WIZARD")
}},"Wizard"),React.createElement("div",{className:classNames({active:e==="MDX"}),onClick:function(){return f.switchEditorMode("MDX")}},"MDX"),React.createElement("div",{className:classNames({active:e==="MANUAL"}),onClick:function(){return f.switchEditorMode("MANUAL")
}},"Manual")),React.createElement("div",{className:"btn-row"},React.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return f.openSuggestions()}},"Suggestions")),this.createDataComponent()))};c.contextTypes={reportingContext:React.PropTypes.object};
return c}(React.Component));a.FilterDataOptions=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b;(function(c){var d;(function(f){var e=(function(h){__extends(g,h);function g(j,i){var k=this;h.call(this,j,i);this.handleMetaChange=function(l){var m=_.cloneDeep(k.props.properties);_.assign(m,l);k.props.onChange(m)}}g.prototype.renderWizard=function(){var j=this.props.properties.options.WIZARD;
var i=this.state.configMdxMember;return(React.createElement("div",{className:"query-wizard"},React.createElement(a.AxisConfiguration,{name:"Members",axis:j.setAxis,onChange:this.handleSetAxisChange,canDrop:function(k){return _.get(k,"memberBase.hierarchy")!==a.IcCubeMdxBuilder.MEASURES_HIERARCHY&&_.isEmpty(j.setAxis)
},configMember:i,onOpenSuggestions:this.openSuggestions.bind(this,"WIZARD"),onConfiguration:this.handleSetAxisConfiguration})))};g.prototype.render=function(){var j=this;var i=this.state.mode;return(React.createElement("div",null,React.createElement("div",{className:"tabs"},React.createElement("div",{className:classNames({active:i==="WIZARD"}),onClick:function(){return j.switchEditorMode("WIZARD")
}},"Wizard"),React.createElement("div",{className:classNames({active:i==="MDX"}),onClick:function(){return j.switchEditorMode("MDX")}},"MDX")),React.createElement("div",{className:"btn-row"},React.createElement("button",{type:"button",className:"btn btn-default",onClick:this.openSuggestions},"Suggestions")),this.createDataComponent(),React.createElement(a.MetaWidgetOptions,{meta:{metaProps:a.DatePickerDataMeta},properties:this.props.properties,allProperties:this.props.properties,onChange:this.handleMetaChange})))
};return g}(a.FilterDataOptions));f.DatePickerDataOptions=e})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]
}}}return b};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(g){var h=(function(i){__extends(j,i);function j(l,k){i.call(this,l,k);this.state={data:l.properties}}j.prototype.handleChange=function(k,l){this.state.data[k]=l;this.props.onChange(this.state.data);
this.forceUpdate()};j.prototype.render=function(){var o=this;var k={label:this.context.reportingContext.l("ic3.widget_data_options.report.link"),valueRef:"reportName",defaultValue:"",suggestEvents:e.EventSuggestionsType.FULL,type:e.OptionMetaType.TEXT};var n={label:this.context.reportingContext.l("ic3.widget_data_options.report.non_existing_error"),valueRef:"nonExistingReportError",defaultValue:"",suggestEvents:e.EventSuggestionsType.FULL,type:e.OptionMetaType.TEXT};
var l=function(p){return o.context.reportingContext.mainReport().setModal(React.createElement(a.ReportLinkServerBrowser,{onOpen:p.bind(o)}))};var m={label:"Parameter",valueRef:"params",type:e.OptionMetaType.INLINE_ARRAY,children:[{label:this.context.reportingContext.l("ic3.widget_data_options.report.parameter.name"),valueRef:"name",type:e.OptionMetaType.TEXT},{label:this.context.reportingContext.l("ic3.widget_data_options.report.parameter.value"),valueRef:"value",type:e.OptionMetaType.TEXT}]};
return(React.createElement("div",{className:"btn-group-xs"},React.createElement(g.TextComponent,__assign({optionMeta:k},this.props.meta,{value:this.state.data.reportName||"",onChange:function(p){return o.handleChange("reportName",p)},onDelete:function(){return o.handleChange("reportName",k.defaultValue)
},onEditClick:l.bind(this,function(p){return o.handleChange("reportName",p.path)}),editTooltip:"Show report browser",editIcon:g.TextComponent.ICON.LIST})),React.createElement(g.TextComponent,__assign({optionMeta:n},this.props.meta,{value:this.state.data.nonExistingReportError||"",onChange:function(p){return o.handleChange("nonExistingReportError",p)
},onDelete:function(){return o.handleChange("nonExistingReportError",n.defaultValue)}})),React.createElement(g.InlineArrayComponent,{optionMeta:m,value:this.state.data.params,onChange:function(p){return o.handleChange("params",p)},eventsProducedInReport:this.props.meta.eventsProducedInReport})))
};j.contextTypes={reportingContext:React.PropTypes.object};return j}(React.Component));g.ReportDataOptions=h})(f=e.components||(e.components={}))})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(f){var e=(function(h){__extends(g,h);function g(){h.apply(this,arguments)}g.prototype.getAdvancedComponent=function(){var i=_.get(this.props,'allProperties["data-render"].type.id');
if(i=="dropdown"||i=="context"){return a.ActionItemAdvanced}else{return a.ExtendedActionItemAdvanced}};g.prototype.addItem=function(){var l=_.get(this.props,"properties.options.MANUAL.items",[]),j=a.uniqueId("action"),k={caption:j,eventName:j,value:j,name:j,uniqueName:j};
var i=_.cloneDeep(this.props.properties);i.options.MANUAL.items=l.concat(k);this.props.onChange(i)};g.prototype.render=function(){var i=this;return(React.createElement("div",{className:this.props.properties.options.MANUAL.items.length<1?"empty-data-wizard":null},React.createElement("div",{className:"btn-row"},React.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return i.addItem()
}},this.context.reportingContext.l("ic3.widget_data_options.add"))),this.createDataComponent()))};return g}(a.FilterDataOptions));f.ActionDataOptions=e})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b;(function(c){var d;(function(e){var f;(function(h){var g=(function(j){__extends(i,j);function i(k){j.call(this,k);this.completion={};
this.state=this.initialState()}i.prototype.initialState=function(k){if(_.isEmpty(k)){k=this.props}var l=false,m=k.properties.statement||k.mdxFromWizard;if(!_.isEqual(m,k.mdxFromWizard)){l=true}if(_.isEmpty(m)){m=""}return{statement:m,maybeReloadQuery:l}};i.prototype.componentDidMount=function(){this.setupCodeMirror();
this.codeMirror.setValue(this.state.statement)};i.prototype.componentDidUpdate=function(l,m,k){if(this.state.statement!=this.codeMirror.getValue()){this.codeMirror.setValue(this.state.statement)}};i.prototype.setupCodeMirror=function(){var k=_.clone(i.codeMirrorOptions);
k.readOnly=true;k.extraKeys.F11=function(l){l.setOption("fullScreen",!l.getOption("fullScreen"))};k.extraKeys.Esc=function(l){if(l.getOption("fullScreen")){l.setOption("fullScreen",false)}};this.codeMirror=new CodeMirror(ReactDOM.findDOMNode(this.refs.codeMirrorContainer),k);
this.codeMirror.on("focus",this.handleOuterClick.bind(this));this.codeMirror.on("changes",this.handleChange.bind(this));this.codeMirror.on("mousedown",this.showModalEditor.bind(this));if(this.props.height){this.codeMirror.setSize(null,this.props.height+"px")
}this.mdxAutocomplete()};i.prototype.mdxAutocomplete=function(){this.codeMirror.getOption("extraKeys")["Shift-Space"]="autocomplete";if(this.completion.emptyToken){this.codeMirror.ic3autocompleteOnEmptyToken=true}this.codeMirror.ic3autocompleteRequest=this.autocompleteRequest.bind(this)
};i.prototype.autocompleteRequest=function(t,u){var v=t.getCursor();if(t.getTokenAt(v).string==="@"){var l=this.context.reportingContext.eventsProducedInReport(false);var w={list:[],from:{line:v.line,ch:(v.ch-1)},to:v};for(var q=0;q<l.length;q++){w.list.push(l[q].lexeme)
}u(w);return}if(t.getMode().name=="mdx"){var r=t.getValue()||"";var s=t.indexFromPos(v),k=null,p=this.completion.contextType,o=this.completion.contextValue,n=this.completion.emptyToken;if(r.length===0||r.length<s){return}var m=new viz.GetAutocompleteGviRequest(r,t.indexFromPos(v),k,p,o,n);
this.context.reportingContext.executeRequest(m,function(C){var x;var A=C.getRowCount();if(A>0){var D=[];for(var E=0;E<A;E++){var z=C.getValue(E,0);D.push(z);if(E===0){var y=C.getValue(E,1);var B=z.length-y.length}}x={list:_.uniq(D),from:{line:v.line,ch:(v.ch-B)},to:v}
}u(x)})}};i.prototype.handleOuterClick=function(l){var k=this.codeMirror;$(document).on("mousedown",function(m){if($(m.target).closest(".ic3-jui-app, .CodeMirror, .CodeMirror-completions").length===0){k.getInputField().blur();$(this).off(m)}})};i.prototype.applyMdxQueryFromWizard=function(k){var l={maybeReloadQuery:false,statement:this.props.mdxFromWizard};
this.setState(l)};i.prototype.handleChange=function(k,l){this.state.statement=k.getValue();this.props.handleChange({statement:this.state.statement})};i.prototype.showModalEditor=function(){var o=this;var k=_.clone(i.codeMirrorOptions);var n=this.context.reportingContext.mainReport();
var l=function(){return n.clearModal()};var m=function(p){o.props.handleChange({statement:o.state.statement=p});l()};n.setModal(React.createElement(a.TextEditorDialog,{title:this.context.reportingContext.l("ic3.widget_data_options.mdx.query_editor.title"),autocomplete:this.autocompleteRequest.bind(this),text:this.state.statement,mode:k,onOk:m,onCancel:l}))
};i.prototype.render=function(){var k=this.context.reportingContext;var l=classNames(this.state.maybeReloadQuery?"help-block":"hidden");return(React.createElement("div",{className:"mdx-editor"},React.createElement("p",{className:l},k.l("ic3.widget_data_options.mdx.query_changed"),React.createElement("a",{onClick:this.applyMdxQueryFromWizard.bind(this)},k.l("ic3.widget_data_options.mdx.query_reload"))),React.createElement("div",{ref:"codeMirrorContainer"})))
};i.contextTypes={reportingContext:React.PropTypes.object};i.codeMirrorOptions={indentUnit:4,tabMode:"shift",matchBrackets:true,extraKeys:{"Shift-Space":"autocomplete"},mode:"mdx"};i.defaultProps={guts_:{}};return i}(React.Component));h.MdxDataComponent=g})(f=e.components||(e.components={}))
})(d=c.editor||(c.editor={}))})(b=a.reporting||(a.reporting={}))})(ic3||(ic3={}));var ic3;(function(a){var b=a.reporting.editor.OptionMetaType;a.FilterQueryBuilderMeta=[{label:"Measure",valueRef:"measure",type:b.SELECT,suggestion:function(d,c){return _.map(c.getMeasures().getEntities(),"uniqueName")
}},{label:"useMeasureToFilter",valueRef:"useMeasureToFilter",type:b.BOOLEAN,defaultValue:false},{label:"addDefaultMember",valueRef:"addDefaultMember",type:b.BOOLEAN,defaultValue:false},{label:"clientPreselection",valueRef:"clientPreselection",type:b.TEXT,suggestion:["all"],defaultValue:""},{label:"defaultMemberName",valueRef:"defaultMemberName",type:b.TEXT,subgroup:"Advanced",defaultValue:""},{label:"mdxPreselection",valueRef:"mdxPreselection",type:b.TEXT,subgroup:"Advanced",defaultValue:""},{label:"mdxName",valueRef:"mdxName",type:b.TEXT,subgroup:"Advanced",defaultValue:""},{label:"mdxFilterName",valueRef:"mdxFilterName",type:b.TEXT,subgroup:"Advanced",defaultValue:""},{label:"mdxUniqueName",valueRef:"mdxUniqueName",type:b.TEXT,subgroup:"Advanced",defaultValue:""}]
})(ic3||(ic3={}));var ic3;(function(a){var b=a.reporting.editor.OptionMetaType;a.DatePickerDataMeta=[{label:"preselectionFrom",valueRef:"preselectionFrom",type:b.TEXT,detailedInfo:"",defaultValue:"",suggestion:["MDX",moment(new Date()).format("YYYY/MM/DD"),":new Date()","Today - 1D","Today - 3D","Today + 1W","Today + 1Y"]},{label:"preselectionTo",valueRef:"preselectionTo",type:b.TEXT,detailedInfo:"",defaultValue:"",suggestion:["MDX",moment(new Date()).format("YYYY/MM/DD"),":new Date()","Today - 1D","Today - 3D","Today + 1W","Today + 1Y"]},{label:"minimumValue",valueRef:"minimumValue",type:b.TEXT,detailedInfo:"",defaultValue:"",suggestion:["MDX",moment(new Date()).format("YYYY/MM/DD"),":new Date()","Today - 1D","Today - 3D","Today + 1W","Today + 1Y"]},{label:"maximumValue",valueRef:"maximumValue",type:b.TEXT,detailedInfo:"",defaultValue:"",suggestion:["MDX",moment(new Date()).format("YYYY/MM/DD"),":new Date()","Today - 1D","Today - 3D","Today + 1W","Today + 1Y"]},{label:"memberExpression",valueRef:"memberExpression",type:b.TEXT,detailedInfo:"",defaultValue:"$level.lookupByKey($date)",suggestion:["$level.lookupByKey($date)",'$level.["YYYY-MM-DD"]','$hier.["MM YYYY"].head()',"$level -> level unique name, $hier -> hierarchy uname"]}]
})(ic3||(ic3={}));var ic3;(function(b){var g={Construction:[{name:"bignumber",code:{JS:"math.bignumber(x)"},description:"Create a BigNumber, which can store numbers with arbitrary precision."},{name:"boolean",code:{JS:"math.boolean(x)"},description:"Create a boolean or convert a string or number to a boolean."},{name:"chain",code:{JS:"math.chain(value)"},description:"Wrap any value in a chain, allowing to perform chained operations on the value."},{name:"complex",code:{JS:"math.complex(re, im)"},description:"Create a complex value or convert a value to a complex value."},{name:"fraction",code:{JS:"math.fraction(numerator, denominator)"},description:"Create a fraction convert a value to a fraction."},{name:"index",code:{JS:"math.index(range1, range2, …)"},description:"Create an index."},{name:"matrix",code:{JS:"math.matrix(x)"},description:"Create a Matrix."},{name:"number",code:{JS:"math.number(value)"},description:"Create a number or convert a string, boolean, or unit to a number."},{name:"sparse",code:{JS:"math.sparse(x)"},description:"Create a Sparse Matrix."},{name:"string",code:{JS:"math.string(value)"},description:"Create a string or convert any object into a string."},{name:"unit",code:{JS:"math.unit(x)"},description:"Create a unit."}],Algebra:[{name:"lsolve",code:{JS:"math.lsolve(L, b)"},description:"Solves the linear equation system by forwards substitution."},{name:"lup",code:{JS:"math.lup(A)"},description:"Calculate the Matrix LU decomposition with partial pivoting."},{name:"lusolve",code:{JS:"math.lusolve(A, b)"},description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector."},{name:"slu",code:{JS:"math.slu(A, order, threshold)"},description:"Calculate the Sparse Matrix LU decomposition with full pivoting."},{name:"usolve",code:{JS:"math.usolve(U, b)"},description:"Solves the linear equation system by backward substitution."}],Arithmetic:[{name:"abs",code:{JS:"math.abs(x)"},description:"Calculate the absolute value of a number."},{name:"add",code:{JS:"math.add(x, y)"},description:"Add two values, x + y."},{name:"cbrt",code:{JS:"math.cbrt(x [, allRoots])"},description:"Calculate the cubic root of a value."},{name:"ceil",code:{JS:"math.ceil(x)"},description:"Round a value towards plus infinity If x is complex, both real and imaginary part are rounded towards plus infinity."},{name:"cube",code:{JS:"math.cube(x)"},description:"Compute the cube of a value, x * x * x."},{name:"divide",code:{JS:"math.divide(x, y)"},description:"Divide two values, x / y."},{name:"dotDivide",code:{JS:"math.dotDivide(x, y)"},description:"Divide two matrices element wise."},{name:"dotMultiply",code:{JS:"math.dotMultiply(x, y)"},description:"Multiply two matrices element wise."},{name:"dotPow",code:{JS:"math.dotPow(x, y)"},description:"Calculates the power of x to y element wise."},{name:"exp",code:{JS:"math.exp(x)"},description:"Calculate the exponent of a value."},{name:"fix",code:{JS:"math.fix(x)"},description:"Round a value towards zero."},{name:"floor",code:{JS:"math.floor(x)"},description:"Round a value towards minus infinity."},{name:"gcd",code:{JS:"math.gcd(a, b)"},description:"Calculate the greatest common divisor for two or more values or arrays."},{name:"hypot",code:{JS:"math.hypot(a, b, …)"},description:"Calculate the hypotenusa of a list with values."},{name:"lcm",code:{JS:"math.lcm(a, b)"},description:"Calculate the least common multiple for two or more values or arrays."},{name:"log",code:{JS:"math.log(x [, base])"},description:"Calculate the logarithm of a value."},{name:"log10",code:{JS:"math.log10(x)"},description:"Calculate the 10-base logarithm of a value."},{name:"mod",code:{JS:"math.mod(x, y)"},description:"Calculates the modulus, the remainder of an integer division."},{name:"multiply",code:{JS:"math.multiply(x, y)"},description:"Multiply two values, x * y."},{name:"norm",code:{JS:"math.norm(x [, p])"},description:"Calculate the norm of a number, vector or matrix."},{name:"nthRoot",code:{JS:"math.nthRoot(a)"},description:"Calculate the nth root of a value."},{name:"pow",code:{JS:"math.pow(x, y)"},description:"Calculates the power of x to y, x ^ y."},{name:"round",code:{JS:"math.round(x [, n])"},description:"Round a value towards the nearest integer."},{name:"sign",code:{JS:"math.sign(x)"},description:"Compute the sign of a value."},{name:"sqrt",code:{JS:"math.sqrt(x)"},description:"Calculate the square root of a value."},{name:"square",code:{JS:"math.square(x)"},description:"Compute the square of a value, x * x."},{name:"subtract",code:{JS:"math.subtract(x, y)"},description:"Subtract two values, x - y."},{name:"unaryMinus",code:{JS:"math.unaryMinus(x)"},description:"Inverse the sign of a value, apply a unary minus operation."},{name:"unaryPlus",code:{JS:"math.unaryPlus(x)"},description:"Unary plus operation."},{name:"xgcd",code:{JS:"math.xgcd(a, b)"},description:"Calculate the extended greatest common divisor for two values."}],Bitwise:[{name:"bitAnd",code:{JS:"math.bitAnd(x, y)"},description:"Bitwise AND two values, x & y."},{name:"bitNot",code:{JS:"math.bitNot(x)"},description:"Bitwise NOT value, ~x."},{name:"bitOr",code:{JS:"math.bitOr(x, y)"},description:"Bitwise OR two values, x | y."},{name:"bitXor",code:{JS:"math.bitXor(x, y)"},description:"Bitwise XOR two values, x ^ y."},{name:"leftShift",code:{JS:"math.leftShift(x, y)"},description:"Bitwise left logical shift of a value x by y number of bits, x << y."},{name:"rightArithShift",code:{JS:"math.rightArithShift(x, y)"},description:"Bitwise right arithmetic shift of a value x by y number of bits, x >> y."},{name:"rightLogShift",code:{JS:"math.rightLogShift(x, y)"},description:"Bitwise right logical shift of value x by y number of bits, x >>> y."}],Combinatorics:[{name:"bellNumbers",code:{JS:"math.bellNumbers(n)"},description:"The Bell Numbers count the number of partitions of a set."},{name:"catalan",code:{JS:"math.catalan(n)"},description:"The Catalan Numbers enumerate combinatorial structures of many different types."},{name:"composition",code:{JS:"math.composition(n, k)"},description:"The composition counts of n into k parts."},{name:"stirlingS2",code:{JS:"math.stirlingS2(n, k)"},description:"The Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets."}],Complex:[{name:"arg",code:{JS:"math.arg(x)"},description:"Compute the argument of a complex value."},{name:"conj",code:{JS:"math.conj(x)"},description:"Compute the complex conjugate of a complex value."},{name:"im",code:{JS:"math.im(x)"},description:"Get the imaginary part of a complex number."},{name:"re",code:{JS:"math.re(x)"},description:"Get the real part of a complex number."}],Geometry:[{name:"distance",code:{JS:"math.distance([x1, y1], [x2, y2])"},description:"Calculates: The eucledian distance between two points in 2 and 3 dimensional spaces."},{name:"intersect",code:{JS:"math.intersect(endPoint1Line1, endPoint2Line1, endPoint1Line2, endPoint2Line2)"},description:"Calculates the point of intersection of two lines in two or three dimensions and of a line and a plane in three dimensions."}],Logical:[{name:"and",code:{JS:"math.and(x, y)"},description:"Logical and."},{name:"not",code:{JS:"math.not(x)"},description:"Logical not."},{name:"or",code:{JS:"math.or(x, y)"},description:"Logical or."},{name:"xor",code:{JS:"math.xor(x, y)"},description:"Logical xor."}],Matrix:[{name:"concat",code:{JS:"math.concat(a, b, c, … [, dim])"},description:"Concatenate two or more matrices."},{name:"cross",code:{JS:"math.cross(x, y)"},description:"Calculate the cross product for two vectors in three dimensional space."},{name:"det",code:{JS:"math.det(x)"},description:"Calculate the determinant of a matrix."},{name:"diag",code:{JS:"math.diag(X)"},description:"Create a diagonal matrix or retrieve the diagonal of a matrix When x is a vector, a matrix with vector x on the diagonal will be returned."},{name:"dot",code:{JS:"math.dot(x, y)"},description:"Calculate the dot product of two vectors."},{name:"eye",code:{JS:"math.eye(n)"},description:"Create a 2-dimensional identity matrix with size m x n or n x n."},{name:"filter",code:{JS:"math.filter(x, test)"},description:"Filter the items in an array or one dimensional matrix."},{name:"flatten",code:{JS:"math.flatten(x)"},description:"Flatten a multi dimensional matrix into a single dimensional matrix."},{name:"forEach",code:{JS:"math.forEach(x, callback)"},description:"Iterate over all elements of a matrix/array, and executes the given callback function."},{name:"inv",code:{JS:"math.inv(x)"},description:"Calculate the inverse of a square matrix."},{name:"map",code:{JS:"math.map(x, callback)"},description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array."},{name:"ones",code:{JS:"math.ones(m, n, p, …)"},description:"Create a matrix filled with ones."},{name:"partitionSelect",code:{JS:"math.partitionSelect(x, k)"},description:"Partition-based selection of an array or 1D matrix."},{name:"range",code:{JS:"math.range(start, end [, step])"},description:"Create an array from a range."},{name:"resize",code:{JS:"math.resize(x, size [, defaultValue])"},description:"Resize a matrix."},{name:"size",code:{JS:"math.size(x)"},description:"Calculate the size of a matrix or scalar."},{name:"sort",code:{JS:"math.sort(x)"},description:"Sort the items in a matrix."},{name:"squeeze",code:{JS:"math.squeeze(x)"},description:"Squeeze a matrix, remove inner and outer singleton dimensions from a matrix."},{name:"subset",code:{JS:"math.subset(x, index [, replacement])"},description:"Get or set a subset of a matrix or string."},{name:"trace",code:{JS:"math.trace(x)"},description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix."},{name:"transpose",code:{JS:"math.transpose(x)"},description:"Transpose a matrix."},{name:"zeros",code:{JS:"math.zeros(m, n, p, …)"},description:"Create a matrix filled with zeros."}],Probability:[{name:"combinations",code:{JS:"math.combinations(n, k)"},description:"Compute the number of ways of picking k unordered outcomes from n possibilities."},{name:"factorial",code:{JS:"math.factorial(n)"},description:"Compute the factorial of a value Factorial only supports an integer value as argument."},{name:"gamma",code:{JS:"math.gamma(n)"},description:"Compute the gamma function of a value using Lanczos approximation for small values, and an extended Stirling approximation for large values."},{name:"kldivergence",code:{JS:"math.kldivergence(x, y)"},description:"Calculate the Kullback-Leibler (KL) divergence between two distributions."},{name:"multinomial",code:{JS:"math.multinomial(a)"},description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ."},{name:"permutations",code:{JS:"math.permutations(n [, k])"},description:"Compute the number of ways of obtaining an ordered subset of k elements from a set of n elements."},{name:"pickRandom",code:{JS:"math.pickRandom(array)"},description:"Random pick a value from a one dimensional array."},{name:"random",code:{JS:"math.random([min, max])"},description:"Return a random number larger or equal to min and smaller than max using a uniform distribution."},{name:"randomInt",code:{JS:"math.randomInt([min, max])"},description:"Return a random integer number larger or equal to min and smaller than max using a uniform distribution."}],Relational:[{name:"compare",code:{JS:"math.compare(x, y)"},description:"Compare two values."},{name:"deepEqual",code:{JS:"math.deepEqual(x, y)"},description:"Test element wise whether two matrices are equal."},{name:"equal",code:{JS:"math.equal(x, y)"},description:"Test whether two values are equal."},{name:"larger",code:{JS:"math.larger(x, y)"},description:"Test whether value x is larger than y."},{name:"largerEq",code:{JS:"math.largerEq(x, y)"},description:"Test whether value x is larger or equal to y."},{name:"smaller",code:{JS:"math.smaller(x, y)"},description:"Test whether value x is smaller than y."},{name:"smallerEq",code:{JS:"math.smallerEq(x, y)"},description:"Test whether value x is smaller or equal to y."},{name:"unequal",code:{JS:"math.unequal(x, y)"},description:"Test whether two values are unequal."}],Statistics:[{name:"max",code:{JS:"math.max(a, b, c, …)"},description:"Compute the maximum value of a matrix or a list with values."},{name:"mean",code:{JS:"math.mean(a, b, c, …)"},description:"Compute the mean value of matrix or a list with values."},{name:"median",code:{JS:"math.median(a, b, c, …)"},description:"Compute the median of a matrix or a list with values."},{name:"min",code:{JS:"math.min(a, b, c, …)"},description:"Compute the maximum value of a matrix or a list of values."},{name:"mode",code:{JS:"math.mode(a, b, c, …)"},description:"Computes the mode of a set of numbers or a list with values(numbers or characters)."},{name:"prod",code:{JS:"math.prod(a, b, c, …)"},description:"Compute the product of a matrix or a list with values."},{name:"quantileSeq",code:{JS:"math.quantileSeq(A, prob[, sorted])"},description:"Compute the prob order quantile of a matrix or a list with values."},{name:"std",code:{JS:"math.std(a, b, c, …)"},description:"Compute the standard deviation of a matrix or a list with values."},{name:"sum",code:{JS:"math.sum(a, b, c, …)"},description:"Compute the sum of a matrix or a list with values."},{name:"var",code:{JS:"math.var(a, b, c, …)"},description:"Compute the variance of a matrix or a list with values."}],String:[{name:"format",code:{JS:"math.format(value, [precision])"},description:"Format a value of any type into a string."},{name:"print",code:{JS:"math.print(template, values, [precision])"},description:"Interpolate values into a string template."}],Trigonometry:[{name:"acos",code:{JS:"math.acos(x)"},description:"Calculate the inverse cosine of a value."},{name:"acosh",code:{JS:"math.acosh(x)"},description:"Calculate the hyperbolic arccos of a value, defined as acosh(x) = ln(sqrt(x^2 - 1) + x)."},{name:"acot",code:{JS:"math.acot(x)"},description:"Calculate the inverse cotangent of a value, defined as acot(x) = atan(1/x)."},{name:"acoth",code:{JS:"math.acoth(x)"},description:"Calculate the hyperbolic arccotangent of a value, defined as acoth(x) = atanh(1/x) = (ln((x+1)/x) + ln(x/(x-1))) / 2."},{name:"acsc",code:{JS:"math.acsc(x)"},description:"Calculate the inverse cosecant of a value, defined as acsc(x) = asin(1/x)."},{name:"acsch",code:{JS:"math.acsch(x)"},description:"Calculate the hyperbolic arccosecant of a value, defined as acsch(x) = asinh(1/x) = ln(1/x + sqrt(1/x^2 + 1))."},{name:"asec",code:{JS:"math.asec(x)"},description:"Calculate the inverse secant of a value."},{name:"asech",code:{JS:"math.asech(x)"},description:"Calculate the hyperbolic arcsecant of a value, defined as asech(x) = acosh(1/x) = ln(sqrt(1/x^2 - 1) + 1/x)."},{name:"asin",code:{JS:"math.asin(x)"},description:"Calculate the inverse sine of a value."},{name:"asinh",code:{JS:"math.asinh(x)"},description:"Calculate the hyperbolic arcsine of a value, defined as asinh(x) = ln(x + sqrt(x^2 + 1))."},{name:"atan",code:{JS:"math.atan(x)"},description:"Calculate the inverse tangent of a value."},{name:"atan2",code:{JS:"math.atan2(y, x)"},description:"Calculate the inverse tangent function with two arguments, y/x."},{name:"atanh",code:{JS:"math.atanh(x)"},description:"Calculate the hyperbolic arctangent of a value, defined as atanh(x) = ln((1 + x)/(1 - x)) / 2."},{name:"cos",code:{JS:"math.cos(x)"},description:"Calculate the cosine of a value."},{name:"cosh",code:{JS:"math.cosh(x)"},description:"Calculate the hyperbolic cosine of a value, defined as cosh(x) = 1/2 * (exp(x) + exp(-x))."},{name:"cot",code:{JS:"math.cot(x)"},description:"Calculate the cotangent of a value."},{name:"coth",code:{JS:"math.coth(x)"},description:"Calculate the hyperbolic cotangent of a value, defined as coth(x) = 1 / tanh(x)."},{name:"tanh",code:{JS:"math.tanh(x)"},description:"Calculate the hyperbolic tangent of a value, defined as tanh(x) = (exp(2 * x) - 1) / (exp(2 * x) + 1)."},{name:"tan",code:{JS:"math.tan(x)"},description:"Calculate the tangent of a value."},{name:"sinh",code:{JS:"math.sinh(x)"},description:"Calculate the hyperbolic sine of a value, defined as sinh(x) = 1/2 * (exp(x) - exp(-x))."},{name:"sin",code:{JS:"math.sin(x)"},description:"Calculate the sine of a value."},{name:"sech",code:{JS:"math.sech(x)"},description:"Calculate the hyperbolic secant of a value, defined as sech(x) = 1 / cosh(x)."},{name:"sec",code:{JS:"math.sec(x)"},description:"Calculate the secant of a value, defined as sec(x) = 1/cos(x)."},{name:"csch",code:{JS:"math.csch(x)"},description:"Calculate the hyperbolic cosecant of a value, defined as csch(x) = 1 / sinh(x)."},{name:"csc",code:{JS:"math.csc(x)"},description:"Calculate the cosecant of a value, defined as csc(x) = 1/sin(x)."}],Unit:[{name:"to",code:{JS:"math.to(x, unit)"},description:"Change the unit of a value."}],Utils:[{name:"clone",code:{JS:"math.clone(x)"},description:"Clone an object."},{name:"isInteger",code:{JS:"math.isInteger(x)"},description:"Test whether a value is an integer number."},{name:"isNegative",code:{JS:"math.isNegative(x)"},description:"Test whether a value is negative: smaller than zero."},{name:"isNumeric",code:{JS:"math.isNumeric(x)"},description:"Test whether a value is an numeric value."},{name:"isPositive",code:{JS:"math.isPositive(x)"},description:"Test whether a value is positive: larger than zero."},{name:"isZero",code:{JS:"math.isZero(x)"},description:"Test whether a value is zero."},{name:"typeof",code:{JS:"math.typeof(x)"},description:"Determine the type of a variable."}]};
var h=_.assign({},{"Report Global":[{name:"TEXT",code:{JS:"context.TEXT(value, format)"},description:"Format any supported value with specified format.\n\nArguments\n- value (string|number|Date) - Value to format.\n- format (string) - Format string.\nReturns (string) - Formatted string or empty string if value is unsupported."},{name:"setLocale",code:{JS:"context.setLocale(localeCode)"},description:"Format any supported value with specified format.\n\nArguments\n- locale (string) - Java runtime-compatible locale."},{name:"eventValue",code:{JS:"context.eventValue(name)"},description:"Format any supported value with specified format.\n\nArguments\n- name (string) - Event name.\nReturns (string) - Event value."},{name:"l",code:{JS:"context.l(message, ...args)"},description:"Localize string.\n\nArguments\n- name (string|LocalizationMessage) - Event name.\n- args (any) - localization string arguments.\nReturns (string) - Localized string."},{name:"fireEvent",code:{JS:"context.fireEvent(type, ...args)"},description:"Fire custom event.\n\nArguments\n- type (string) - Event name.\n- args (any) - Event arguments."},{name:"getUserName",code:{JS:"context.getUserName()"},description:"Get user name.\n\nReturns {string} User name."},{name:"getUserLocale",code:{JS:"context.getUserLocale()"},description:"Get user locale.\n\nReturns {IPublicUserLocale} User locale information."},{name:"getUserPermissions",code:{JS:"context.getUserPermissions()"},description:'Get user permissions.\n\nReturns {string} Reporting application access rights for current user. Possible values: "reader", "editorReader", "editor", empty string if not authorized.'},{name:"getReportId",code:{JS:"context.getReportId()"},description:"Get report UUID.\n\nReturns {string} Report UUID."},{name:"getReportName",code:{JS:"context.getReportName()"},description:"Get report name.\n\nReturns {string} Report name."},{name:"getReportPermaLink",code:{JS:"context.getReportPermaLink()"},description:"Get report permanent link.\n\nReturns {string} Report permanent link."},{name:"getReportFolderId",code:{JS:"context.getReportFolderId()"},description:"Get report folder UUID.\n\nReturns {string} Report folder UUID."},{name:"getReportFolderPath",code:{JS:"context.getReportFolderPath()"},description:"Get report folder path.\n\nReturns {string} Report folder path."}]},g);
var f=_.assign({},h);var e=_.assign({},{Data:[{name:"axisIndices",code:{JS:"context.axisIndices"},description:"Object with coordinates of each axis in MDX result table ({ measuresAxis:number, columnsAxis:number, rowsAxis:number })"},{name:"hasMeasuresAxis",code:{JS:"context.hasMeasuresAxis"},description:"Does MDX result have measures axis or not (boolean)"},{name:"columnsCount",code:{JS:"context.columnsCount"},description:"Result table columns count (number)"},{name:"columnsIndices",code:{JS:"context.columnsIndices"},description:"Array of result table columns indexes (number[])"},{name:"rowsCount",code:{JS:"context.rowsCount"},description:"Result table rows count (number)"},{name:"rowsIndices",code:{JS:"context.rowsIndices"},description:"Array of result table rows indexes (number[])"},{name:"getTable",code:{JS:"context.getTable()"},description:"Get MDX result table\n\nReturns {viz.MdxResultTable} table"},{name:"getRequest",code:{JS:"context.getRequest()"},description:"Get MDX table request\n\nReturns {viz.MdxTableRequest} request"},{name:"rowLabel",code:{JS:"context.rowLabel(row)"},description:"Build row header from all member captions\n\nArguments\n- {CtxCoord} row - row index, unique name or caption\nReturns {string} row header"},{name:"columnLabel",code:{JS:"context.columnLabel(column)"},description:"Build column header from all member captions\n\nArguments\n- {CtxCoord} column - column index, unique name or caption\nReturns {string} column header"},{name:"memberValue",code:{JS:"context.memberValue(axisIndex, tupleIdx, hierarchyIdx?)"},description:"Get member value\n\nArguments\n- {number} axisIndex - axis index\n- {number} tupleIdx - tuple index\n- {number} [hierarchyIdx=0] - hierarchy index\nReturns {string} member value"},{name:"memberCaption",code:{JS:"context.memberCaption(axisIndex, tupleIdx, hierarchyIdx?)"},description:"Get member caption\n\nArguments\n- {number} axisIndex - axis index\n- {number} tupleIdx - tuple index\n- {number} [hierarchyIdx=0] - hierarchy index\nReturns {string} member caption"},{name:"memberUniqueName",code:{JS:"context.memberUniqueName(axisIndex, tupleIdx, hierarchyIdx?)"},description:"Get member unique name\n\nArguments\n- {number} axisIndex - axis index\n- {number} tupleIdx - tuple index\n- {number} [hierarchyIdx=0] - hierarchy index\nReturns {string} member unique name"},{name:"memberParentUniqueName",code:{JS:"context.memberParentUniqueName(axisIndex, tupleIdx, hierarchyIdx?)"},description:"Get member parent unique name\n\nArguments\n- {number} axisIndex - axis index\n- {number} tupleIdx - tuple index\n- {number} [hierarchyIdx=0] - hierarchy index\nReturns {string} member parent unique name"},{name:"memberHierarchyCaption",code:{JS:"context.memberHierarchyCaption(axisIndex, tupleIdx, hierarchyIdx?)"},description:"Get member hierarchy caption\n\nArguments\n- {number} axisIndex - axis index\n- {number} tupleIdx - tuple index\n- {number} [hierarchyIdx=0] - hierarchy index\nReturns {string} member level caption"},{name:"memberHierarchyUniqueName",code:{JS:"context.memberHierarchyUniqueName(axisIndex, tupleIdx, hierarchyIdx?)"},description:"Get member hierarchy unique name\n\nArguments\n- {number} axisIndex - axis index\n- {number} tupleIdx - tuple index\n- {number} [hierarchyIdx=0] - hierarchy index\nReturns {string} member level caption"},{name:"memberLevelCaption",code:{JS:"context.memberLevelCaption(axisIndex, tupleIdx, hierarchyIdx?)"},description:"Get member level caption\n\nArguments\n- {number} axisIndex - axis index\n- {number} tupleIdx - tuple index\n- {number} [hierarchyIdx=0] - hierarchy index\nReturns {string} member level caption"},{name:"memberLevelUniqueName",code:{JS:"context.memberLevelUniqueName(axisIndex, tupleIdx, hierarchyIdx?)"},description:"Get member level unique name\n\nArguments\n- {number} axisIndex - axis index\n- {number} tupleIdx - tuple index\n- {number} [hierarchyIdx=0] - hierarchy index\nReturns {string} member level unique name"},{name:"memberLevelDepth",code:{JS:"context.memberLevelDepth(axisIndex, tupleIdx, hierarchyIdx?)"},description:"Get member level depth\n\nArguments\n- {number} axisIndex - axis index\n- {number} tupleIdx - tuple index\n- {number} [hierarchyIdx=0] - hierarchy index\nReturns {number} member level depth"},{name:"memberChildrenCount",code:{JS:"context.memberChildrenCount(axisIndex, tupleIdx, hierarchyIdx?)"},description:"Get member children count\n\nArguments\n- {number} axisIndex - axis index\n- {number} tupleIdx - tuple index\n- {number} [hierarchyIdx=0] - hierarchy index\nReturns {number} member children count"},{name:"measureCaption",code:{JS:"context.measureCaption(measureIndex)"},description:"Get measure caption. Shortcut to memberCaption.\n\nArguments\n- {number} measureIndex - measure index\nReturns {string} measure caption or null"},{name:"cellValue",code:{JS:"context.cellValue(row, columnOrMeasure?, measure?)"},description:"Get raw value\n\nArguments\n- {CtxCoord} row - row index, unique name or caption\n- {CtxCoord} [column=0] - column index, unique name or caption\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\nReturns {number} raw cell value"},{name:"cellFValue",code:{JS:"context.cellFValue(row, columnOrMeasure?, measure?)"},description:"Get formatted value\n\nArguments\n- {CtxCoord} row - row index, unique name or caption\n- {CtxCoord} [column=0] - column index, unique name or caption\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\nReturns {string} formatted cell value"},{name:"cellProperty",code:{JS:"context.cellProperty(property, row, column?, measure?)"},description:"Get property value\n\nArguments\n- {string|string[]} property - MDX property name(s)- {CtxCoord} row - row index, unique name or caption\n- {CtxCoord} [column=0] - column index, unique name or caption\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\nReturns {number} cell property value"},{name:"maxInRow",code:{JS:"context.maxInRow(row, measure?, property?)"},description:'Find maximum value across row\n\nArguments\n- {CtxCoord} row - row index, unique name or caption\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\n- {string} [property="VALUE"] - MDX property name\nReturns {number} maximum value'},{name:"minInRow",code:{JS:"context.minInRow(row, measure?, property?)"},description:'Find minimum value across row\n\nArguments\n- {CtxCoord} row - row index, unique name or caption\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\n- {string} [property="VALUE"] - MDX property name\nReturns {number} minimum value'},{name:"maxInColumn",code:{JS:"context.maxInColumn(column, measure?, property?)"},description:'Find maximum value across column\n\nArguments\n- {CtxCoord} column - column index, unique name or caption\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\n- {string} [property="VALUE"] - MDX property name\nReturns {number} maximum value'},{name:"minInColumn",code:{JS:"context.minInColumn(column, measure?, property?)"},description:'Find minimum value across column\n\nArguments\n- {CtxCoord} column - column index, unique name or caption\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\n- {string} [property="VALUE"] - MDX property name\nReturns {number} minimum value'},{name:"maxInTable",code:{JS:"context.maxInTable(measure?, property?)"},description:'Find maximum value across table\n\nArguments\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\n- {string} [property="VALUE"] - MDX property name\nReturns {number} maximum value'},{name:"minInTable",code:{JS:"context.minInTable(measure?, property?)"},description:'Find minimum value across table\n\nArguments\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\n- {string} [property="VALUE"] - MDX property name\nReturns {number} minimum value'},{name:"percentageRow",code:{JS:"context.percentageRow(row, measure?, property?)"},description:'Calculate cell value percentage to sum of row values (y = xᵢ / Σxᵢ).\n\nArguments\n- {CtxCoord} row - row index, unique name or caption\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\n- {string} [property="VALUE"] - MDX property name\nReturns {number} fractional percentage in the range [0;1]'},{name:"percentageCol",code:{JS:"context.percentageCol(column, measure?, property?)"},description:'Calculate cell value percentage to sum of column values (y = xⱼ / Σxⱼ)\n\nArguments\n- {CtxCoord} column - column index, unique name or caption\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\n- {string} [property="VALUE"] - MDX property name\nReturns {number} fractional percentage in the range [0;1]'},{name:"percentageTable",code:{JS:"context.percentageTable(measure?, property?)"},description:'Calculate cell value percentage to sum of table values (y = xᵢⱼ / Σxᵢⱼ).\n\nArguments\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\n- {string} [property="VALUE"] - MDX property name\nReturns {number} fractional percentage in the range [0;1]'},{name:"rankingSmallLargeRow",code:{JS:"context.rankingSmallLargeRow(row, measure?, property?)"},description:'Get rank value, calculated across the row and sorted in ascending order\n\nArguments\n- {CtxCoord} row - row index, unique name or caption\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\n- {string} [property="VALUE"] - MDX property name\nReturns {number} rank'},{name:"rankingLargeSmallRow",code:{JS:"context.rankingLargeSmallRow(row, measure?, property?)"},description:'Get rank value, calculated across the row and sorted in descending order\n\nArguments\n- {CtxCoord} row - row index, unique name or caption\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\n- {string} [property="VALUE"] - MDX property name\nReturns {number} rank'},{name:"rankingSmallLargeColumn",code:{JS:"context.rankingSmallLargeColumn(column, measure?, property?)"},description:'Get rank value, calculated across the column and sorted in ascending order\n\nArguments\n- {CtxCoord} column - column index, unique name or caption\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\n- {string} [property="VALUE"] - MDX property name\nReturns {number} rank'},{name:"rankingLargeSmallColumn",code:{JS:"context.rankingLargeSmallColumn(column, measure?, property?)"},description:'Get rank value, calculated across the column and sorted in descending order\n\nArguments\n- {CtxCoord} column - column index, unique name or caption\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\n- {string} [property="VALUE"] - MDX property name\nReturns {number} rank'},{name:"rankingSmallLargeTable",code:{JS:"context.rankingSmallLargeTable(measure?, property?)"},description:'Get rank value, calculated across the table and sorted in ascending order\n\nArguments\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\n- {string} [property="VALUE"] - MDX property name\nReturns {number} rank'},{name:"rankingLargeSmallTable",code:{JS:"context.rankingLargeSmallTable(measure?, property?)"},description:'Get rank value, calculated across the table and sorted in descending order\n\nArguments\n- {CtxCoord} [measure=defaultMeasure] - measure index or name\n- {string} [property="VALUE"] - MDX property name\nReturns {number} rank'},{name:"zoomValue",code:{JS:"context.zoomValue(row, column, min?, max?, value?)"},description:"Scale value to be from min value to max value\n\nArguments\n- {CtxCoord} row - row index, unique name or caption\n- {CtxCoord} column - column index, unique name or caption\n- {number} [min=0] - minimum value\n- {number} [max=1] - maximum value\n- {number} [value=currentValue] - value to zoom\nReturns {number} zoomed value"},{name:"fireRowClick",code:{JS:"context.fireRowClick(row)"},description:"Fire row click event from widget\n\nArguments\n- {CtxCoord} row - row index, unique name or caption"},{name:"fireColumnClick",code:{JS:"context.fireColumnClick(column)"},description:"Fire column click event from widget\n\nArguments\n- {CtxCoord} column - column index, unique name or caption"},{name:"fireCellClick",code:{JS:"context.fireCellClick(row, column)"},description:"Fire cell click event from widget\n\nArguments\n- {CtxCoord} row - row index, unique name or caption\n- {CtxCoord} column - column index, unique name or caption"}]},f);
var j=_.assign({},{Cell:[{name:"getRowIndex",code:{JS:"context.getRowIndex()"},description:"Get current row index\nReturns {number} row index"},{name:"getColumnIndex",code:{JS:"context.getColumnIndex()"},description:"Get current column index\nReturns {number} column index"},{name:"getMeasures",code:{JS:"context.getMeasures()"},description:"Get current cell measures\nReturns {Object} cell measures"},{name:"getValue",code:{JS:"context.getValue(measure?)"},description:"Get current cell value\n\nArguments\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\nReturns {number} cell value"},{name:"getFValue",code:{JS:"context.getFValue(measure?)"},description:"Get current cell formatted value\n\nArguments\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\nReturns {number} cell formatted value"},{name:"getProperty",code:{JS:"context.getProperty(property, measure?)"},description:"Get current cell value\n\nArguments\n - {string|string[]} property - property name\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\nReturns {string} cell formatted value"},{name:"rowLabel",code:{JS:"context.rowLabel(row?)"},description:"Build row header from all member captions\n\nArguments\n - {CtxCoord} [row=contextRow] - row index, unique name or caption\nReturns {string} row header"},{name:"columnLabel",code:{JS:"context.columnLabel(column?)"},description:"Build column header from all member captions\n\nArguments\n - {CtxCoord} [column=contextColumn] - column index, unique name or caption\nReturns {string} column header"},{name:"cellValue",code:{JS:"context.cellValue(row?, columnOrMeasure?, measure?)"},description:"Get raw value\n\nArguments\n - {CtxCoord} [row=contextRow] - row index, unique name or caption\n - {CtxCoord} [column=contextColumn] - column index, unique name or caption\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\nReturns {number} raw cell value"},{name:"cellFValue",code:{JS:"context.cellFValue(row?, columnOrMeasure?, measure?)"},description:"Get formatted value\n\nArguments\n - {CtxCoord} [row=contextRow] - row index, unique name or caption\n - {CtxCoord} [column=contextColumn] - column index, unique name or caption\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\nReturns {string} formatted cell value"},{name:"cellProperty",code:{JS:"context.cellProperty(property, row?, column?, measure?)"},description:"Get property value\n\nArguments\n - {string|string[]} property - MDX property name(s)\n - {CtxCoord} [row=contextRow] - row index, unique name or caption\n - {CtxCoord} [column=contextColumn] - column index, unique name or caption\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\nReturns {number} cell property value"},{name:"maxInRow",code:{JS:"context.maxInRow(row?, measure?, property?)"},description:'Find maximum value across row\n\nArguments\n - {CtxCoord} [row=contextRow] - row index, unique name or caption\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\n - {string} [property="VALUE"] - MDX property name\nReturns {number} maximum value'},{name:"minInRow",code:{JS:"context.minInRow(row?, measure?, property?)"},description:'Find minimum value across row\n\nArguments\n - {CtxCoord} [row=contextRow] - row index, unique name or caption\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\n - {string} [property="VALUE"] - MDX property name\nReturns {number} minimum value'},{name:"maxInColumn",code:{JS:"context.maxInColumn(column?, measure?, property?)"},description:"Find maximum value across column\n\nArguments\n - {CtxCoord} [column=contextColumn] - column index, unique name or caption\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\n - {string} [property] - MDX property name\nReturns {number} maximum value"},{name:"minInColumn",code:{JS:"context.minInColumn(column?, measure?, property?)"},description:'Find minimum value across column\n\nArguments\n - {CtxCoord} [column=contextColumn] - column index, unique name or caption\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\n - {string} [property="VALUE"] - MDX property name\nReturns {number} minimum value'},{name:"maxInTable",code:{JS:"context.maxInTable(measure?, property?)"},description:'Find maximum value across table\n\nArguments\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\n - {string} [property="VALUE"] - MDX property name\nReturns {number} maximum value'},{name:"minInTable",code:{JS:"context.minInTable(measure?, property?)"},description:'Find minimum value across table\n\nArguments\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\n - {string} [property="VALUE"] - MDX property name\nReturns {number} minimum value'},{name:"percentageRow",code:{JS:"context.percentageRow(row?, measure?, property?)"},description:'Calculate cell value percentage to sum of row values (y = xᵢ / Σxᵢ).\n\nArguments\n - {CtxCoord} [row=contextRow] - row index, unique name or caption\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\n - {string} [property="VALUE"] - MDX property name\nReturns {number} fractional percentage in the range [0;1]'},{name:"percentageCol",code:{JS:"context.percentageCol(column?, measure?, property?)"},description:'Calculate cell value percentage to sum of column values (y = xⱼ / Σxⱼ).\n\nArguments\n - {CtxCoord} [column=contextColumn] - column index, unique name or caption\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\n - {string} [property="VALUE"] - MDX property name\nReturns {number} fractional percentage in the range [0;1]'},{name:"percentageTable",code:{JS:"context.percentageTable(measure?, property?)"},description:'Calculate cell value percentage to sum of table values (y = xᵢⱼ / Σxᵢⱼ).\n\nArguments\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\n - {string} [property="VALUE"] - MDX property name\nReturns {number} fractional percentage in the range [0;1]'},{name:"rankingSmallLargeRow",code:{JS:"context.rankingSmallLargeRow(row?, measure?, property?)"},description:'Get rank value, calculated across the row and sorted in ascending order\n\nArguments\n - {CtxCoord} [row=contextRow] - row index, unique name or caption\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\n - {string} [property="VALUE"] - MDX property name\nReturns {number} rank'},{name:"rankingLargeSmallRow",code:{JS:"context.rankingLargeSmallRow(row?, measure?, property?)"},description:'Get rank value, calculated across the row and sorted in descending order\n\nArguments\n - {CtxCoord} [row=contextRow] - row index, unique name or caption\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\n - {string} [property="VALUE"] - MDX property name\nReturns {number} rank'},{name:"rankingSmallLargeColumn",code:{JS:"context.rankingSmallLargeColumn(column?, measure?, property?)"},description:'Get rank value, calculated across the column and sorted in ascending order\n\nArguments\n - {CtxCoord} [column=contextColumn] - column index, unique name or caption\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\n - {string} [property="VALUE"] - MDX property name\nReturns {number} rank'},{name:"rankingLargeSmallColumn",code:{JS:"context.rankingLargeSmallColumn(column?, measure?, property?)"},description:'Get rank value, calculated across the column and sorted in descending order\n\nArguments\n - {CtxCoord} [column=contextColumn] - column index, unique name or caption\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\n - {string} [property="VALUE"] - MDX property name\nReturns {number} rank'},{name:"rankingSmallLargeTable",code:{JS:"context.rankingSmallLargeTable(measure?, property?)"},description:'Get rank value, calculated across the table and sorted in ascending order\n\nArguments\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\n - {string} [property="VALUE"] - MDX property name\nReturns {number} rank'},{name:"rankingLargeSmallTable",code:{JS:"context.rankingLargeSmallTable(measure?, property?)"},description:' Get rank value, calculated across the table and sorted in descending order\n\nArguments\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\n - {string} [property="VALUE"] - MDX property name\nReturns {number} rank'},{name:"zoomValue",code:{JS:"context.zoomValue(row?, column?, min?, max?, value?)"},description:"Scale value to be from min value to max value\n\nArguments\n - {CtxCoord} row - row index, unique name or caption\n - {CtxCoord} column - column index, unique name or caption\n - {number} [min=0] - minimum value\n - {number} [max=1] - maximum value\n - {number} [value] - value to zoom\nReturns {number} zoomed value"},{name:"offsetValue",code:{JS:"context.offsetValue(rowOffset?, columnOffset?, measure?, property?:string)"},description:'Get raw value, shifted from current cell position\n\nArguments\n - {CtxCoord} [row=0] - row index, unique name or caption\n - {CtxCoord} [column=0] - column index, unique name or caption\n - {CtxCoord} [measure=defaultMeasure] - measure index or name\n - {string} [property="VALUE"] - MDX property name\nReturns {number} raw cell value'},{name:"fireRowClick",code:{JS:"context.fireRowClick(row?)"},description:"Fire row click event from widget\n\nArguments\n - {CtxCoord} [row] - row index, unique name or caption"},{name:"fireColumnClick",code:{JS:"context.fireColumnClick(column?)"},description:"Fire column click event from widget\n\nArguments\n - {CtxCoord} [column] - column index, unique name or caption"},{name:"fireCellClick",code:{JS:"context.fireCellClick(row?, column?)"},description:"Fire cell click event from widget\n\nArguments\n - {CtxCoord} [row] - row index, unique name or caption\n - {CtxCoord} [column] - column index, unique name or caption"}]},e);
var d=_.assign({},{AmChart:[{name:"AmChartValue",code:{JS:"context.AmChartValue",EXPRESSION:"AmChartValue"},description:""},{name:"AmChartValueText",code:{JS:"context.AmChartValueText",EXPRESSION:"AmChartValueText"},description:""}]},h);function i(k,l){if(l===void 0){l=b.CodeMirrorMode.JAVASCRIPT
}var m={CELL:j,WIDGET:f,DATA:e,AmChart:d,REPORTING:h};switch(l){case b.CodeMirrorMode.JAVASCRIPT:return m[k]||h;case b.CodeMirrorMode.HTML:return c}}b.getReferenceDictionary=i;function a(k,l){if(l===void 0){l=b.CodeMirrorMode.JAVASCRIPT}return _.concat.apply(_,_.map(i(k,l)))
}b.getFlatReferenceDictionary=a;var c={Template:[{name:"FValue",code:{JS:"d.getFValue([rowIndex], [columnIndex], [measure])"},description:"Get formatted value\n\nArguments\n- rowIndex (number): row index\n- columnIndex (number): column index\n- measure (string): measure name\n\nReturns string: formatted value"},{name:"Value",code:{JS:"d.getValue([rowIndex], [columnIndex], [measure], [property])"},description:"Get raw value\n\nArguments\n- rowIndex (number): row index\n- columnIndex (number): column index\n- measure (string): measure name\n- property (string): MDX property name\n\nReturns string|number: value"},{name:"RowLabel",code:{JS:"d.RowLabel([rowIndex])"},description:"Get row header\n\nArguments\n- rowIndex (number): row index\n\nReturns string: row header"},{name:"ColumnLabel",code:{JS:"d.ColumnLabel([columnIndex])"},description:"Get column header\n\nArguments\n- columnIndex (number): column index\n\nReturns string: column header"},{name:"PivotRowLabel",code:{JS:"d.RowLabel([rowIndex], [columnIndex])"},description:"Get pivot row header\n\nArguments\n- rowIndex (number): row index\n- columnIndex (number): column index\n\nReturns string: row header"},{name:"PivotColumnLabel",code:{JS:"d.ColumnLabel([rowIndex], [columnIndex])"},description:"Get pivot column header\n\nArguments\n- rowIndex (number): row index\n- columnIndex (number): column index\n\nReturns string: column header"},{name:"MaxInTable",code:{JS:"d.MaxInTable([measure],[property])"},description:"Get maximum value from table\n\nArguments\n- measure (string): measure name\n- property (string): MDX property name\n\nReturns string|number: maximum value"},{name:"MinInTable",code:{JS:"d.MinInTable([measure],[property])"},description:"Get minimum value from table\n\nArguments\n- measure (string): measure name\n- property (string): MDX property name\n\nReturns string|number: minimum value"},{name:"MaxInColumn",code:{JS:"d.MaxInColumn([index],[measure],[property])"},description:"Get maximum value from column\n\nArguments\n- index (number): column index\n- measure (string): measure name\n- property (string): MDX property name\n\nReturns string|number: maximum value"},{name:"MinInColumn",code:{JS:"d.MinInColumn([index],[measure],[property])"},description:"Get minimum value from column\n\nArguments\n- index (number): column index\n- measure (string): measure name\n- property (string): MDX property name\n\nReturns string|number: minimum value"},{name:"MaxInRow",code:{JS:"d.MaxInRow([index],[measure],[property])"},description:"Get maximum value from row\n\nArguments\n- index (number): column index\n- measure (string): measure name\n- property (string): MDX property name\n\nReturns string|number: maximum value"},{name:"MinInRow",code:{JS:"d.MinInRow([index],[measure],[property])"},description:"Get minimum value from row\n\nArguments\n- index (number): column index\n- measure (string): measure name\n- property (string): MDX property name\n\nReturns string|number: minimum value"},{name:"PercentageRow",code:{JS:"d.PercentageRow([measure], [property])"},description:"Calculate cell percentage across row\n\nArguments\n- measure (string): measure name\n- property (string): MDX property name\n\nReturns number: fractional percentage in the range [0;1]"},{name:"PercentageCol",code:{JS:"d.PercentageCol([measure], [property])"},description:"Calculate cell percentage across column\n\nArguments\n- measure (string): measure name\n- property (string): MDX property name\n\nReturns number: fractional percentage in the range [0;1]"},{name:"PercentageTable",code:{JS:"d.PercentageTable([measure], [property])"},description:"Calculate cell percentage across table\n\nArguments\n- measure (string): measure name\n- property (string): MDX property name\n\nReturns number: fractional percentage in the range [0;1]"},{name:"RankingSmallLargeRow",code:{JS:"d.RankingSmallLargeRow([measure], [property])"},description:"Get rank value, calculated across the row and sorted in ascending order\n\nArguments\n- measure (string): measure name\n- property (string): MDX property name\n\nReturns number: rank"},{name:"RankingLargeSmallRow",code:{JS:"d.RankingLargeSmallRow([measure], [property])"},description:"Get rank value, calculated across the row and sorted in descending order\n\nArguments\n- measure (string): measure name\n- property (string): MDX property name\n\nReturns number: rank"},{name:"RankingSmallLargeColumn",code:{JS:"d.RankingSmallLargeColumn([measure], [property])"},description:"Get rank value, calculated across the column and sorted in ascending order\n\nArguments\n- measure (string): measure name\n- property (string): MDX property name\n\nReturns number: rank"},{name:"RankingLargeSmallColumn",code:{JS:"d.RankingLargeSmallColumn([measure], [property])"},description:"Get rank value, calculated across the column and sorted in descending order\n\nArguments\n- measure (string): measure name\n- property (string): MDX property name\n\nReturns number: rank"},{name:"RankingSmallLargeTable",code:{JS:"d.RankingSmallLargeTable([measure], [property])"},description:"Get rank value, calculated across the table and sorted in ascending order\n\nArguments\n- measure (string): measure name\n- property (string): MDX property name\n\nReturns number: rank"},{name:"RankingLargeSmallTable",code:{JS:"d.RankingLargeSmallTable([measure], [property])"},description:"Get rank value, calculated across the table and sorted in descending order\n\nArguments\n- measure (string): measure name\n- property (string): MDX property name\n\nReturns number: rank"},{name:"ZoomValue",code:{JS:"d.ZoomValue([minValue], [maxValue], [value])"},description:"Scales value to be from minValue (default: 0) to maxValue (default: 1)\n\nArguments\n- minValue (number): minimum value\n- maxValue (number): maximum value\n- value (number): value to zoom\n\nReturns number: zoomed value"},{name:"RowClick",code:{JS:"context.fireRowClick([index])"},description:"Fire row click event from widget\n\nArguments\n- index (number): row index"},{name:"ColumnClick",code:{JS:"context.fireColumnClick([index])"},description:"Fire column click event from widget\n\nArguments\n- index (number): column index"},{name:"CellClick",code:{JS:"context.fireCellClick([rowIndex], [columnIndex])"},description:"Fire cell click event from widget\n\nArguments\n- rowIndex (number): row index\n- columnIndex (number): column index"}]}
})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a=(function(d){__extends(c,d);
function c(f,e){var g=this;d.call(this,f,e);this.toggleCategory=function(h){g.state.categoriesState[h]=!g.state.categoriesState[h];g.forceUpdate()};this.renderFunctionReference=function(h){var i=g.state.activeReference;return(React.createElement("li",{key:h.name,className:"list-group-item",title:h.description,onDoubleClick:function(){return g.props.doSuggestionApply(h)
}},React.createElement("div",{className:"name"},React.createElement("div",{className:"function-label"},h.name),React.createElement("span",{className:"glyphicons glyphicons-info-sign",title:h.description,onClick:function(){return g.setState({activeReference:!i||i!==h?h:null})
}}),React.createElement("span",{className:"glyphicons glyphicons-plus-sign",onClick:function(){return g.props.doSuggestionApply(h)}})),i===h?(React.createElement("div",{className:"description"},h.description)):null))};this.renderCategory=function(i,h){return _.size(i)>0?(React.createElement("div",{key:h,className:"panel panel-default"},React.createElement("div",{className:"panel-heading",onClick:function(){g.toggleCategory(h)
}},h),g.state.categoriesState[h]===true||!_.isEqual(g.state.filteredDictionary,g.props.referenceDictionary)?React.createElement("div",{className:"panel-body"},React.createElement("ul",{className:"list-group"},_.map(i,g.renderFunctionReference))):null)):null
};this.applySearch=_.debounce(function(h){g.setState({searchText:h,filteredDictionary:c.filterDictionary(g.props.referenceDictionary,h)})},200);this.state={filteredDictionary:f.referenceDictionary,categoriesState:{},activeReference:null}}c.filterDictionary=function(f,e){e=e.toLowerCase().trim();
return !_.isString(e)||_.isEmpty(e)?f:_.transform(f,function(i,j,h){var g=_.filter(j,function(k){return k.name.toLowerCase().indexOf(e)>-1});if(!_.isEmpty(g)){i[h]=g}},{})};c.prototype.renderList=function(){var e=this;return(React.createElement("div",{className:"expression-editor-help"},React.createElement("div",{className:"search"},React.createElement("input",{type:"text",placeholder:"Search for...",onChange:function(f){e.applySearch(f.target.value)
}})),React.createElement("div",{className:"functions-list"},_.map(this.state.filteredDictionary,this.renderCategory))))};c.prototype.renderTermHelp=function(e){return(React.createElement("div",{className:"expression-editor-help description"},e.description))
};c.prototype.render=function(){var g=this.props,f=g.term,e=g.evalType,i=g.referenceFlatDictionary;var h=f?_(i).filter(function(j){return j.code[e]===f}).first():null;return h?this.renderTermHelp(h):this.renderList()};return c}(React.Component));b.ExpressionEditorHelp=a
})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){(function(d){d[d.CODEMIRROR=0]="CODEMIRROR";
d[d.TINYMCE=1]="TINYMCE"})(a.ExpressionEditorMode||(a.ExpressionEditorMode={}));var b=a.ExpressionEditorMode;var c=(function(d){__extends(e,d);function e(g,f){var h=this;d.call(this,g,f);this.textChangeHandler=function(j){var i=_.cloneDeep(h.state.value);_.set(i,"jsFunctionBody",j);
h.state.value=i;h.forceUpdate();h.props.onChange(i)};this.replaceSelection=function(i){h.refs.codeMirror.replaceSelection(i.code[h.state.value.evaluationType])};this.templates={"Conditional Statement":"\nif( < ) {\n\t\n} else {\n\t\n}\n","Switch Statement":"\nswitch ( ) {\n\tcase :\n\t\tbreak;\n\tcase :\n\tdefault:\n\t\tbreak;\n}\n","Scale Value Depending on Extremums in Table":"\ncontext.ZoomValue(context.MinInTable(), \n\tcontext.MaxInTable(), \n\tcontext.getValue());\n","Scale Value Depending on Extremums in Column":"\ncontext.ZoomValue(context.MinInColumn(), \n\tcontext.MaxInColumn(), \n\tcontext.getValue());\n"};
this.state=this.getState(g);this.state.autosuggestKey=a.uniqueId("autosuggest")}e.prototype.componentWillReceiveProps=function(f){this.setState(this.getState(f))};e.prototype.getState=function(i){var j=i.mode||a.CodeMirrorMode.JAVASCRIPT;var h=i.editorMode||b.CODEMIRROR;
var g=_.isObject(i.suggestions)?i.suggestions:{};var f=(_.isObject(i.suggestions)?_.concat.apply(_,_.map(i.suggestions)):i.suggestions)||[];return{mode:j,editorMode:h,dictionary:_.assign({},a.getReferenceDictionary(i.meta.contextType,j),g),flatDictionary:_.concat(a.getFlatReferenceDictionary(i.meta.contextType,j),f),value:_.isObject(i.value)?i.value:{evaluationType:"JS",jsFunctionBody:_.isString(i.value)?i.value:this.state.value.jsFunctionBody,contextType:i.meta.contextType||"REPORTING",valueType:i.meta.type===a.reporting.editor.OptionMetaType.NUMBER?"NUMBER":"STRING"}}
};e.prototype.expressionAutocomplete=function(l,m,h){var j=this;var i=l.getMode();var n=l.getCursor();var g=l.getTokenAt(n);var k=l.getDoc().getLine(n.line).substring(0,n.ch).replace(/^.*?([\w\.\[\]]+)$/i,"$1");var o={list:[],from:{line:n.line,ch:g.start},to:n};
var f=false;if(g.string==="@"){_.merge(o,{from:{ch:n.ch-1},list:_.map(this.context.reportingContext.eventsProducedInReport(false),"lexeme")})}if(/[\[\]]/.test(k)){f=true;this.context.reportingContext.executeRequest(new viz.GetAutocompleteGviRequest(k,k.length,null),function(p){var r=_.get(k.match(/(\[.+\])/i),1,"");
for(var t=0,q=p.getRowCount();t<q;t++){var s=p.getValue(t,0);o.list.push(r?r+"."+s:s)}m(o)})}if(i.name==="javascript"||i.name==="xml"){CodeMirror.on(o,"select",function(p){return j.setState({term:p})});CodeMirror.on(o,"close",_.debounce(function(){return j.setState({term:null})
}));_.merge(o,{from:{ch:n.ch-k.length},list:_.map(this.state.flatDictionary,_.property(["code",this.state.value.evaluationType])).filter(function(p){return p&&_.startsWith(p,k)})})}if(i.name==="ic3-expression"&&g.state.inExpression===true){_.merge(o,{list:_.transform(this.state.dictionary,function(p,q){p.push.apply(p,_.map(_.filter(q,function(r){return _.isEmpty(k)||r.name.indexOf(k)===0
}),"name"))},[])})}if(o.list.length>0&&!f){m(o)}};e.prototype.renderCodeMirror=function(){var l=this.state,g=l.mode,f=l.value.jsFunctionBody;var m,h,n;var i={"float":"right",fontWeight:"bold",marginLeft:20,color:"#c04399",cursor:"pointer"};if(g===a.CodeMirrorMode.HTML){k=["HTML","<body>","</body>"],m=k[0],h=k[1],n=k[2]
}else{j=["JAVASCRIPT","function(context, ...args) {","}"],m=j[0],h=j[1],n=j[2]}return(React.createElement("div",{className:"expression-editor"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-8"},React.createElement("span",null,h),this.state.previewMode?React.createElement("span",{style:i,onClick:this.onCancel.bind(this)},"Cancel"):null,this.state.previewMode?React.createElement("span",{style:i,onClick:this.onReplace.bind(this)},"Replace"):null,this.state.previewMode?React.createElement("span",{style:i,onClick:this.onInsert.bind(this)},"Insert"):null,React.createElement(a.ReactCodeMirror,{ref:"codeMirror",mode:g,value:f,onChange:this.textChangeHandler,autocomplete:this.expressionAutocomplete.bind(this)}),React.createElement("span",null,n)),React.createElement("div",{className:"col-md-4"},React.createElement(a.ExpressionEditorHelp,{referenceDictionary:this.state.dictionary,referenceFlatDictionary:this.state.flatDictionary,doSuggestionApply:this.replaceSelection,evalType:this.state.value.evaluationType,term:this.state.term}))),React.createElement("div",{className:"row",style:{marginTop:5}},React.createElement("div",{className:"col-md-8"},React.createElement("select",{value:"test value",onChange:this.onHelperSelect.bind(this),style:{background:"white",width:"100%",height:34,borderRadius:3}},React.createElement("option",null,"Select Suggestion"),_.map(this.getTemplateNames(),function(o){return React.createElement("option",null,o)
}))))));var k,j};e.prototype.renderTinyMCE=function(){var h=this;var f=this.state.value.jsFunctionBody;var g=a.reporting.editor.components.tinyMceConfig;return(React.createElement("div",{className:"expression-editor"},React.createElement(ReactTinymce,{config:g,content:f,onChange:function(i){return h.textChangeHandler(i.target.getContent())
}})))};e.prototype.render=function(){var f=this.state.editorMode;return f===b.CODEMIRROR?this.renderCodeMirror():this.renderTinyMCE()};e.prototype.resetValue=function(){this.state.previewMode=false;this.state.previousValue=null;this.state.previousValueWithInsertion=null;
this.forceUpdate()};e.prototype.onInsert=function(){this.state.value.jsFunctionBody=this.state.previousValueWithInsertion;this.resetValue()};e.prototype.onReplace=function(){this.resetValue()};e.prototype.onCancel=function(){this.state.value.jsFunctionBody=this.state.previousValue;
this.resetValue()};e.prototype.onHelperSelect=function(g){var f=g.target.value;if(this.templates[f]){this.state.previewMode=true;this.state.previousValue=this.state.value.jsFunctionBody;this.refs.codeMirror.replaceSelection(this.templates[f]);this.state.previousValueWithInsertion=this.state.value.jsFunctionBody;
this.state.value.jsFunctionBody=this.templates[f];this.forceUpdate()}};e.prototype.getTemplateNames=function(){return _.keys(this.templates)};e.contextTypes={reportingContext:React.PropTypes.object};return e}(React.Component));a.ExpressionEditorComponent=c})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var c=(b={},b[a.ExpressionEditorMode.CODEMIRROR]={label:"CodeMirror",next:a.ExpressionEditorMode.TINYMCE},b[a.ExpressionEditorMode.TINYMCE]={label:"TinyMCE",next:a.ExpressionEditorMode.CODEMIRROR},b);
var d=(function(e){__extends(f,e);function f(h,g){var i=this;e.call(this,h,g);this.save=function(){i.props.onChange(i.state.mode===a.CodeMirrorMode.HTML?i.state.value.jsFunctionBody:i.state.value);i.props.closeHandler()};this.switchEditorHandler=function(){var j=i.state.editorMode;
i.setState({editorMode:c[j].next})};this.state={mode:this.props.mode||a.CodeMirrorMode.JAVASCRIPT,editorMode:a.ExpressionEditorMode.CODEMIRROR,value:this.props.value}}f.prototype.onChange=function(g){this.setState({value:g})};f.prototype.render=function(){var k=this;
var m=this.state,o=m.editorMode,j=m.mode;var l=c[o];var g=c[l.next];var n={label:this.context.reportingContext.l("ic3.ok"),handler:this.save};var i={label:this.context.reportingContext.l("ic3.close"),handler:function(){return k.props.closeHandler()}};var h={label:this.context.reportingContext.l(g.label),handler:this.switchEditorHandler};
return(React.createElement(a.ModalReportingDialog,{title:this.context.reportingContext.l("ic3.expression_editor.title"),buttons:[n,i],buttonsLeft:[h],onClose:i.handler,resizable:true},React.createElement(a.ExpressionEditorComponent,{value:this.state.value,onChange:this.onChange.bind(this),meta:this.props.meta,editorMode:o,mode:j})))
};f.contextTypes={reportingContext:React.PropTypes.object};return f}(React.Component));a.ExpressionEditor=d;var b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(ic3){var AmChartsNavigationStrategy=(function(_super){__extends(AmChartsNavigationStrategy,_super);function AmChartsNavigationStrategy(context,guts){_super.call(this,context,guts);
this.classID="ic3.AmChartsNavigationStrategy"}AmChartsNavigationStrategy.prototype.createDefaultGuts=function(context){return $.extend(_super.prototype.createDefaultGuts.call(this,context),{selectionMode:viz.SelectionMode.DISABLED})};return AmChartsNavigationStrategy
}(ic3.ChartNavigationStrategy));ic3.AmChartsNavigationStrategy=AmChartsNavigationStrategy;var AmChartsAdapter=(function(_super){__extends(AmChartsAdapter,_super);function AmChartsAdapter(context,options){_super.call(this,context,options);this.classID="ic3.AmChartsAdapter"
}AmChartsAdapter.prototype.createNavigationStrategy=function(context,guts){return new AmChartsNavigationStrategy(context,guts)};AmChartsAdapter.prototype.widgetName=function(){var chartType=_.get(this.guts(),"dataRenderOptions.chartType.proto.chartPrototype.type");
var names={serial:"ic3.widget.chart.type.serial",pie:"ic3.widget.chart.type.pie",xy:"ic3.widget.chart.type.xy",funnel:"ic3.widget.chart.type.funnel",radar:"ic3.widget.chart.type.radar",gantt:"ic3.widget.chart.type.gantt",gauge:"ic3.widget.chart.type.gauge",combo:"ic3.widget.chart.type.combo"};
return["ic3.charts_widgets.top_menu"].concat(names[chartType]?[names[chartType]]:[])};AmChartsAdapter.prototype.reportTypeName=function(){return"amChart"};AmChartsAdapter.prototype.createDefaultGuts=function(context){return _.assign(_super.prototype.createDefaultGuts.call(this,context),this.doCreateDefaultGuts(context))
};AmChartsAdapter.prototype.doCreateDefaultGuts=function(context){return{dataRenderOptions:{chartType:{label:"Clustered",proto:ic3.AmSerialColumnClusteredChart,id:"serial-chart-clustered"},categoryAxis:{gridPosition:"start"},legend:_.cloneDeep(ic3.AmSerialColumnClusteredChart.chartPrototype.legend)||{},graphsConfiguration:[{graph:_.cloneDeep(ic3.AmSerialColumnClusteredChart.graphPrototype)}]}}
};AmChartsAdapter.prototype.createWidgetOptions=function(){var options=_super.prototype.createWidgetOptions.call(this);options.startDuration||(options.startDuration=0);var report=this.context.mainReport();var layout=this.context.layout();options.ic3zoom=options.zoom;
delete options.zoom;if(report.canApplyResizingLogic()){var resizeLogic=layout.resizingLogic;var zoomFont=resizeLogic.zoomFont();options.ic3zoom=ic3.isNumber(options.ic3zoom)?options.ic3zoom*zoomFont:zoomFont}options.selection=_.get(this.navigationGuts(),"guts_.selection",{});
options.onWidgetOptionsHook=this.onWidgetOptionsHook.bind(this);var userLocale=this.context.userInfo().getLocale();options.dataRenderOptions.thousandsSeparator=userLocale.thousandSeparator;options.dataRenderOptions.decimalSeparator=userLocale.decimalSeparator;
return options};AmChartsAdapter.prototype.destroyWidget=function(){if(this.$widgetCt&&this.$widgetCt[0]){ReactDOM.unmountComponentAtNode(this.$widgetCt[0])}};AmChartsAdapter.prototype.createWidget=function(options,container){return viz.core.createWidget(this.context,container,viz.AmChartWidget,options)
};AmChartsAdapter.prototype.getChartConfigurationOptions=function(data){return null};AmChartsAdapter.prototype.getDataRenderOptionsMeta=function(){return ic3.AmChartDataRenderMeta};AmChartsAdapter.prototype.getNameForCssClass=function(){return"amcharts-serial"
};AmChartsAdapter.prototype.getWidgetGroupName=function(){return ic3.WidgetAdapter.widgetGroups.amCharts};AmChartsAdapter.prototype.setNavigationWidgetOption=function(field,value,widgetOptions){switch(field){case ic3.NavigationWidgetOptions.ChartType:widgetOptions.ic3ChartType=value;
break;case ic3.NavigationWidgetOptions.ColorPalette:widgetOptions.colors=[];break;default:}};AmChartsAdapter.prototype.createUserMenu=function(){var _this=this;var menu=_super.prototype.createUserMenu.call(this);menu.rootItem.items.push({id:"change-chartType",icon:"glyphicons glyphicons-pie-chart",title:this.context.mainReport().l("ic3.widget.box_menu.chart_type"),visible:function(){return !!_.get(_this.navigationGuts().guts(),"menuVisibility.chartType",true)
},items:_.map(_.take(ic3.AmChartPresets,ic3.AmChartPresets.length-2),function(preset){var type=preset.suggestions[0];return{id:"type-"+type.id,title:preset.sectionName,onClick:function(){return _this.widget.doSetChartType(type.id)}}})});return menu};AmChartsAdapter.prototype.getExportFormats=function(){return[{type:"png",icon:"glyphicons glyphicons-picture"},{type:"jpg",icon:"glyphicons glyphicons-picture"},{type:"svg",icon:"glyphicons glyphicons-picture"}]
};AmChartsAdapter.prototype.exportData=function(format){this.widget.exportData(format)};AmChartsAdapter.prototype.getHooksOptionsCategory=function(){var category=_super.prototype.getHooksOptionsCategory.call(this);category.meta.metaProps.push(ic3.onWidgetOptionsHookMeta);
return category};AmChartsAdapter.prototype.onWidgetOptionsHook=function(amChartOptions){var result=null;if(_.get(this.guts(),"hooks.onWidgetOptions")){try{result=eval("("+this.guts().hooks.onWidgetOptions+")").call(this,this.context,amChartOptions,this.box()?this.box().$widgetBox:$())
}catch(e){this.context.LoggerFactory.getLogger({instance:this.box()&&this.box().header(),uid:this.box()&&this.box().uid()}).error(e)}}return result||amChartOptions};AmChartsAdapter.prototype.getNavigationAndUserMenuOptions=function(data){var result=_super.prototype.getNavigationAndUserMenuOptions.call(this,data);
result.meta.metaProps.push({label:"@d{ic3.widget.user_menu.chart_type}",valueRef:"menuVisibility.chartType",type:ic3.reporting.editor.OptionMetaType.BOOLEAN,defaultValue:true,configurable:function(options,openedData){return _.get(openedData,"menuVisibility.enabled",true)
}});return result};AmChartsAdapter.prototype.setOptions=function(options,categoryId){switch(categoryId){case"amchart-options":this.guts_.amChartOptions=options;break;default:_super.prototype.setOptions.call(this,options,categoryId)}};return AmChartsAdapter}(ic3.ChartAdapter));
ic3.AmChartsAdapter=AmChartsAdapter})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(b){var j=(function(n){__extends(m,n);function m(p,o){n.call(this,p,b.AmChartsAdapter,o)}m.prototype.getType=function(){return b.ReportFactoryType.CHART};m.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.charts")
};m.prototype.getMenuPath=function(){return[b.TopMenu.CHARTS,"ic3.charts_widgets.top_menu"]};return m}(b.ChartAdapterFactory));b.AmChartsAdapterFactoryBase=j;var e=(function(m){__extends(n,m);function n(o){m.call(this,o,{dataRenderOptions:{chartType:{label:"Clustered",proto:b.AmSerialColumnClusteredChart,id:"serial-chart-clustered"}}})
}n.prototype.getId=function(){return"AmChartsSerial"};n.prototype.getName=function(){return this.context.l("ic3.widget.chart.type.serial")};return n}(j));b.AmChartsAdapterSerialFactory=e;var l=(function(n){__extends(m,n);function m(o){n.call(this,o,{dataRenderOptions:{chartType:{label:"Pie",proto:b.AmPieChart,id:"pie-chart-pie"}}})
}m.prototype.getId=function(){return"AmChartsPie"};m.prototype.getName=function(){return this.context.l("ic3.widget.chart.type.pie")};return m}(j));b.AmChartsAdapterPieFactory=l;var f=(function(n){__extends(m,n);function m(o){n.call(this,o,{dataRenderOptions:{chartType:{label:"Bubble",proto:b.AmXYBubbleChart,id:"bubble-chart-bubble"}}})
}m.prototype.getId=function(){return"AmChartsXY"};m.prototype.getName=function(){return this.context.l("ic3.widget.chart.type.xy")};return m}(j));b.AmChartsAdapterXYFactory=f;var k=(function(m){__extends(n,m);function n(o){m.call(this,o,{dataRenderOptions:{chartType:{label:"OHLC",proto:b.AmSerialOHLCChart,id:"serial-chart-ohlc"}}})
}n.prototype.getId=function(){return"AmChartsOHLC"};n.prototype.getName=function(){return this.context.l("ic3.widget.chart.type.ohlc")};n.prototype.getMenuPath=function(){return[b.TopMenu.CHARTS,"ic3.charts_widgets.top_menu","ic3.charts_widgets.sub_menu"]};
return n}(j));b.AmChartsAdapterOHLCFactory=k;var i=(function(m){__extends(n,m);function n(o){m.call(this,o,{dataRenderOptions:{chartType:{label:"Funnel",proto:b.AmFunnelChart,id:"funnel-chart-funnel"}}})}n.prototype.getId=function(){return"AmChartsFunnel"};
n.prototype.getName=function(){return this.context.l("ic3.widget.chart.type.funnel")};n.prototype.getMenuPath=function(){return[b.TopMenu.CHARTS,"ic3.charts_widgets.top_menu","ic3.charts_widgets.sub_menu"]};return n}(j));b.AmChartsAdapterFunnelFactory=i;var a=(function(n){__extends(m,n);
function m(o){n.call(this,o,{dataRenderOptions:{chartType:{label:"Radar",proto:b.AmRadarChart,id:"radar-chart-radar"}}})}m.prototype.getId=function(){return"AmChartsRadar"};m.prototype.getName=function(){return this.context.l("ic3.widget.chart.type.radar")};
m.prototype.getMenuPath=function(){return[b.TopMenu.CHARTS,"ic3.charts_widgets.top_menu","ic3.charts_widgets.sub_menu"]};return m}(j));b.AmChartsAdapterRadarFactory=a;var d=(function(m){__extends(n,m);function n(o){m.call(this,o,{dataRenderOptions:{chartType:{label:"Gantt",proto:b.AmGanttChart,id:"gantt-chart"},graphsConfiguration:[{graph:_.cloneDeep(b.AmGanttChart.graphPrototype)}]}})
}n.prototype.getId=function(){return"AmChartsGantt"};n.prototype.getName=function(){return this.context.l("ic3.widget.chart.type.gantt")};n.prototype.getMenuPath=function(){return[b.TopMenu.CHARTS,"ic3.charts_widgets.top_menu","ic3.charts_widgets.sub_menu"]
};return n}(j));b.AmChartsAdapterGanttFactory=d;var h=(function(n){__extends(m,n);function m(o){n.call(this,o,{dataRenderOptions:{chartType:{label:"Waterfall",proto:b.AmSerialWaterfallChart,id:"serial-chart-waterfall"},graphsConfiguration:[{graph:_.cloneDeep(b.AmSerialWaterfallChart.graphPrototype)}]}})
}m.prototype.getId=function(){return"AmChartsWaterfall"};m.prototype.getName=function(){return this.context.l("ic3.widget.chart.type.waterfall")};m.prototype.getMenuPath=function(){return[b.TopMenu.CHARTS,"ic3.charts_widgets.top_menu","ic3.charts_widgets.sub_menu"]
};return m}(j));b.AmChartsAdapterWaterfallFactory=h;var c=(function(m){__extends(n,m);function n(o){m.call(this,o,{dataRenderOptions:{chartType:{label:"Gauge",proto:b.AmAngularGauge,id:"gauge-chart"}}})}n.prototype.getId=function(){return"AmChartsGauge"};n.prototype.getName=function(){return this.context.l("ic3.widget.chart.type.gauge")
};n.prototype.getMenuPath=function(){return[b.TopMenu.CHARTS,"ic3.charts_widgets.top_menu","ic3.charts_widgets.sub_menu"]};return n}(j));b.AmChartsAdapterGaugeFactory=c;var g=(function(n){__extends(m,n);function m(o){n.call(this,o,{dataRenderOptions:{chartType:{label:"Columns And Line",proto:b.AmComboSerialLineChart,id:"combo-serial-line-chart"},graphsConfiguration:b.AmComboSerialLineChart.graphConfigurationPrototypes}})
}m.prototype.getId=function(){return"AmChartsCombo"};m.prototype.getName=function(){return this.context.l("ic3.widget.chart.type.combo")};m.prototype.getMenuPath=function(){return[b.TopMenu.CHARTS,"ic3.charts_widgets.top_menu","ic3.charts_widgets.sub_menu"]
};return m}(j));b.AmComboSerialLineChartFactory=g})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(f,e){d.call(this,f,e);this.classID="ic3.HtmlTemplateWidgetAdapter"}c.prototype.widgetName=function(){return["ic3.widget.widget_template.name"]};c.prototype.reportTypeName=function(){return"HtmlTemplate"
};c.prototype.getNameForCssClass=function(){return"html-template"};c.prototype.getWidgetConfigState=function(){if(_.isNumber(this.guts().configState)){return this.guts().configState}return a.WidgetConfigState.COMPLETE};c.prototype.createDefaultGuts=function(e){return _.assign(d.prototype.createDefaultGuts.call(this,e),c.doCreateDefaultGuts(e))
};c.prototype.createWidgetOptions=function(){var g=this.guts().dataRenderOptions;var e=_.get(g,"preset.id","");var f={};if(e){f=_.cloneDeep(this.context.entityMgr().getCacheEntity(a.AppLocalEntityType.WIDGET_TEMPLATE,e))}return _.merge(d.prototype.createWidgetOptions.call(this),{dataRenderOptions:_.mergeWith({options:{initialHtml:"<p>Insert your initial markup here</p>",html:"<p>Insert your markup here</p>"},preset:_.cloneDeep(a.DefaultHTMLTemplate)},f,g,function(h,i){if(_.isArray(i)){return i
}})})};c.doCreateDefaultGuts=function(e){return{dataRenderOptions:{config:{},options:{}}}};c.prototype.createWidget=function(f,e){return viz.core.createWidget(this.context,e,viz.HtmlTemplateWidget,f)};c.prototype.destroyWidget=function(){d.prototype.destroyWidget.call(this);
if(this.$widgetCt&&this.$widgetCt[0]){ReactDOM.unmountComponentAtNode(this.$widgetCt[0])}};c.prototype.getWidgetGroupName=function(){return a.WidgetAdapter.widgetGroups.htmlTemplate};c.prototype.getDataRenderOptions=function(e){return{uniqueId:"data-render",title:this.context.l("ic3.widget_options.category.data_render"),properties:this.guts().dataRenderOptions,component:a.HtmlTemplateDataRenderOptions}
};c.prototype.getHooksOptionsCategory=function(){var e=d.prototype.getHooksOptionsCategory.call(this);e.meta.metaProps=a.MdxWidgetHooksOptionsMeta;return e};c.prototype.consumedEntities=function(){var f=d.prototype.consumedEntities.call(this);var e=_.get(this.guts().dataRenderOptions,"preset.id","");
if(e&&!_.includes(["default"],e)){f.push({type:a.AppLocalEntityType.WIDGET_TEMPLATE,path:e})}return f};c.entityPath="HtmlTemplate";return c}(a.ChartAdapter));a.HtmlTemplateWidgetAdapter=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var c=(function(d){__extends(e,d);function e(f){d.call(this,f,a.HtmlTemplateWidgetAdapter)}e.getEntityFactories=function(g){var f=g.entityMgr().listStorageEntities(a.AppLocalEntityType.WIDGET_TEMPLATE,a.HtmlTemplateWidgetAdapter.entityPath);
return _.map(f,function(h){return new b(g,h)})};e.prototype.getId=function(){return"WidgetTemplate"};e.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.templates")};e.prototype.getName=function(){return this.context.l("ic3.widget.widget_template.name")
};e.prototype.getMenuPath=function(){return[a.TopMenu.CHARTS,"ic3.widget.widget_template.top_menu"]};e.prototype.getPredefinedEntities=function(){return{type:a.AppLocalEntityType.WIDGET_TEMPLATE,path:a.HtmlTemplateWidgetAdapter.entityPath,items:a.LocalHTMLTemplateEntities}
};return e}(a.ChartAdapterFactory));a.WidgetTemplateAdapterFactory=c;var b=(function(e){__extends(d,e);function d(f,g){e.call(this,f,a.HtmlTemplateWidgetAdapter,{dataRenderOptions:{config:{},options:{},preset:{id:g.path,proto:f.entityMgr().getCacheEntity(a.AppLocalEntityType.WIDGET_TEMPLATE,g.path),label:g.caption}}});
this.id="TemplateWidget"+_.upperFirst(_.camelCase(g.caption));this.item=g}d.prototype.getId=function(){return this.id};d.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.templates")};d.prototype.getName=function(){return this.context.l(this.item.caption.replace(/@d{(.*)}/,"$1"))
};d.prototype.getMenuPath=function(){return[a.TopMenu.CHARTS,"ic3.widget.widget_template.top_menu","ic3.widget.widget_template.sub_menu"]};d.prototype.getPredefinedEntities=function(){return{type:a.AppLocalEntityType.WIDGET_TEMPLATE,path:a.HtmlTemplateWidgetAdapter.entityPath,items:a.LocalHTMLTemplateEntities}
};return d}(a.ChartAdapterFactory));a.WidgetTemplateEntityAdapterFactory=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var c=a.reporting.googlecharts.meta;var b=(function(d){__extends(e,d);function e(g,f){d.call(this,g,f);this.classID="ic3.GoogleChartsAdapter"}e.prototype.createNavigationStrategy=function(f,g){return new a.ChartNavigationStrategy(f,g)
};e.prototype.widgetName=function(){return["ic3.google_viz.top_menu","ic3.widget.google_viz.type.generic"]};e.prototype.reportTypeName=function(){return"Google Generic Chart"};e.prototype.createDefaultGuts=function(f){return _.assign(d.prototype.createDefaultGuts.call(this,f),this.doCreateDefaultGuts(f))
};e.prototype.doCreateDefaultGuts=function(f){return{dataRenderOptions:{chartType:_.cloneDeep(c.ColumnChart)}}};e.prototype.createWidgetOptions=function(){var j=d.prototype.createWidgetOptions.call(this);var g=this._boxContainerWidth;var k=this._boxContainerHeight;
var j=$.extend(j,{width:g,height:k});var f=this.context.mainReport();var l=f.layout();if(f.canApplyResizingLogic()){var i=l.resizingLogic;var m=i.zoomFont();j.zoom=a.isNumber(j.zoom)?j.zoom*m:m}j.dataRenderOptions=j.dataRenderOptions||{};if(!j.dataRenderOptions.chartType){j.dataRenderOptions.chartType=c.ColumnChart
}return j};e.prototype.createWidget=function(g,f){return viz.charts.GoogleWidgetType.createGoogleWidget(this.context,f,_.get(g,"dataRenderOptions.chartType.proto.chartType"),g)};e.prototype.forEachProducedEvents=function(h){var g=this;d.prototype.forEachProducedEvents.call(this,h);
var f=this.gviWidget();if(f){f.getEventHandler().bind("ic3WidgetError",function(i){g.context.errorMgr().addError(i,undefined,g.box().guid())})}};e.prototype.getWidgetGroupName=function(){return a.WidgetAdapter.widgetGroups.googleChart};e.prototype.getNameForCssClass=function(){return"googlevis-generic"
};e.prototype.getDataRenderOptionsMeta=function(){var f=_.get(this.guts(),"dataRenderOptions.chartType.id","");return{"geo-google-chart":c.GoogleGeoDataRenderMeta,"table-google-chart":c.GoogleTableDataRenderMeta,"combo-google-chart":c.GoogleComboDataRenderMeta,"sankey-google-chart":c.GoogleSankeyDataRenderMeta,"calendar-google-chart":c.GoogleCalendarDataRenderMeta}[f]||c.GoogleGenericDataRenderMeta
};e.prototype.isAvailable=function(){return ic3globals.libs.GoogleViz};return e}(a.ChartAdapter));a.GoogleChartsAdapter=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var c=(function(j){__extends(i,j);function i(l,k){j.call(this,l,b.GoogleChartsAdapter,k)}i.prototype.getType=function(){return b.ReportFactoryType.CHART};i.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.google_charts")
};i.prototype.getMenuPath=function(){return[b.TopMenu.CHARTS,"ic3.google_viz.top_menu","ic3.google_viz.sub_menu"]};return i}(b.ChartAdapterFactory));b.GoogleChartsAdapterFactoryBase=c;var d=(function(j){__extends(i,j);function i(k){j.call(this,k,{})}i.prototype.getId=function(){return"GoogleChartsGeneric"
};i.prototype.getName=function(){return this.context.l("ic3.widget.google_viz.type.generic")};return i}(c));b.GoogleChartsAdapterGenericFactory=d;var g=(function(i){__extends(j,i);function j(k){i.call(this,k,{dataRenderOptions:{chartType:_.cloneDeep(b.reporting.googlecharts.meta.TableChart)}})
}j.prototype.getId=function(){return"GoogleChartsTable"};j.prototype.getName=function(){return this.context.l("ic3.widget.google_viz.type.table")};return j}(c));b.GoogleChartsAdapterTableFactory=g;var f=(function(i){__extends(j,i);function j(k){i.call(this,k,{dataRenderOptions:{chartType:_.cloneDeep(b.reporting.googlecharts.meta.ComboChart)}})
}j.prototype.getId=function(){return"GoogleChartsCombo"};j.prototype.getName=function(){return this.context.l("ic3.widget.google_viz.type.combo")};return j}(c));b.GoogleChartsAdapterComboFactory=f;var e=(function(j){__extends(i,j);function i(k){j.call(this,k,{dataRenderOptions:{chartType:_.cloneDeep(b.reporting.googlecharts.meta.SankeyChart)}})
}i.prototype.getId=function(){return"GoogleChartsSankey"};i.prototype.getName=function(){return this.context.l("ic3.widget.google_viz.type.sankey")};return i}(c));b.GoogleChartsAdapterSankeyFactory=e;var h=(function(i){__extends(j,i);function j(k){i.call(this,k,{dataRenderOptions:{chartType:_.cloneDeep(b.reporting.googlecharts.meta.CalendarChart)}})
}j.prototype.getId=function(){return"GoogleChartsCalendar"};j.prototype.getName=function(){return this.context.l("ic3.widget.google_viz.type.calendar")};return j}(c));b.GoogleChartsAdapterCalendarFactory=h;var a=(function(j){__extends(i,j);function i(k){j.call(this,k,{dataRenderOptions:{chartType:_.cloneDeep(b.reporting.googlecharts.meta.GeoChart)}})
}i.prototype.getId=function(){return"GoogleChartsGeo"};i.prototype.getName=function(){return this.context.l("ic3.widget.google_viz.type.geo")};i.prototype.getMenuPath=function(){return[b.TopMenu.CHARTS,"ic3.google_maps.top_menu","ic3.google_maps.sub_menu"]};
return i}(c));b.GoogleChartsAdapterGeoFactory=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var c=(function(d){__extends(e,d);function e(f){d.call(this,f,b)}e.prototype.getId=function(){return"GoogleMap"};e.prototype.getName=function(){return this.context.l("ic3.widget.google_map.name")};e.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.google_maps")
};e.prototype.getInitialSize=function(){return{width:500,height:400}};e.prototype.getMenuPath=function(){return[a.TopMenu.CHARTS,"ic3.google_maps.top_menu","ic3.google_maps.sub_menu"]};return e}(a.ChartAdapterFactory));a.GoogleMapAdapterFactory=c;var b=(function(e){__extends(d,e);
function d(f){e.call(this,f);this.classID="ic3.GoogleMapAdapter"}d.prototype.widgetName=function(){return["ic3.widget.google_map.name"]};d.prototype.reportTypeName=function(){return"Google Map"};d.prototype.createDefaultGuts=function(f){return _.assign(e.prototype.createDefaultGuts.call(this,f),this.doCreateDefaultGuts(f))
};d.prototype.doCreateDefaultGuts=function(f){return{dataRenderOptions:{heatMapProperties:{},googleMapProperties:{zoom:6},centerLatitude:46.798333,centerLongitude:8.231944}}};d.prototype.createWidgetOptions=function(){var h=_.assign(e.prototype.createWidgetOptions.call(this),{width:this._boxContainerWidth,height:this._boxContainerHeight});
var f=this.context.mainReport();var i=this.context.layout();if(f.canApplyResizingLogic()){var g=i.resizingLogic;var j=g.zoomFont();h.zoom=a.isNumber(h.zoom)?h.zoom*j:j}return h};d.prototype.createWidget=function(g,f){var i=this;var h=viz.core.createWidget(this.context,f,viz.GoogleMapWidget,g);
h.getEventHandler().bind("ic3WidgetError",function(j){i.context.errorMgr().addError(j,undefined,i.box().guid())});return h};d.prototype.getDataRenderOptionsMeta=function(){return a.GoogleMapDataRenderMeta};d.prototype.getOptionsCategories=function(g){var f=e.prototype.getOptionsCategories.call(this,g);
delete f[a.OptionCategoryOrder.ADVANCED];return f};d.prototype.getWidgetGroupName=function(){return a.WidgetAdapter.widgetGroups.map};d.prototype.getNameForCssClass=function(){return"googlemap"};d.prototype.isAvailable=function(){return ic3globals.libs.GoogleMaps
};return d}(a.ChartAdapter));a.GoogleMapAdapter=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var c=(function(d){__extends(e,d);function e(f){d.call(this,f,b)}e.prototype.getId=function(){return"GoogleRegionsMap"};e.prototype.getName=function(){return this.context.l("ic3.widget.google_regions_map.name")};e.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.google_maps")
};e.prototype.getInitialSize=function(){return{width:500,height:400}};e.prototype.getMenuPath=function(){return[a.TopMenu.CHARTS,"ic3.google_maps.top_menu","ic3.google_maps.sub_menu"]};return e}(a.ChartAdapterFactory));a.GoogleRegionsMapAdapterFactory=c;var b=(function(e){__extends(d,e);
function d(f){e.call(this,f);this.classID="ic3.GoogleRegionsMapAdapter"}d.prototype.widgetName=function(){return["ic3.widget.google_regions_map.name"]};d.prototype.reportTypeName=function(){return"Google Map"};d.prototype.createDefaultGuts=function(f){return _.assign(e.prototype.createDefaultGuts.call(this,f),this.doCreateDefaultGuts(f))
};d.prototype.doCreateDefaultGuts=function(f){return{dataRenderOptions:{googleMapProperties:{zoom:6},polygonTooltip:"<h3>{name}</h3><div>{value}</div>",fusionTableId:"1jgEZFQAM5c3N8vXynSYJ0QgWkSkEAV6jixgV1C-i",fusionTablePolygonIdColumn:"adm1_code",fusionTablePolygonColumn:"geometry",centerLatitude:46.798333,centerLongitude:8.231944}}
};d.prototype.createWidgetOptions=function(){var h=_.assign(e.prototype.createWidgetOptions.call(this),{width:this._boxContainerWidth,height:this._boxContainerHeight});var f=this.context.mainReport();var i=this.context.layout();if(f.canApplyResizingLogic()){var g=i.resizingLogic;
var j=g.zoomFont();h.zoom=a.isNumber(h.zoom)?h.zoom*j:j}return h};d.prototype.createWidget=function(g,f){var i=this;var h=viz.core.createWidget(this.context,f,viz.GoogleRegionsMapWidget,g);h.getEventHandler().bind("ic3WidgetError",function(j){i.context.errorMgr().addError(j,undefined,i.box().guid())
});return h};d.prototype.getDataRenderOptionsMeta=function(){return a.GoogleRegionsMapDataRenderMeta};d.prototype.getOptionsCategories=function(g){var f=e.prototype.getOptionsCategories.call(this,g);delete f[a.OptionCategoryOrder.ADVANCED];return f};d.prototype.getWidgetGroupName=function(){return a.WidgetAdapter.widgetGroups.map
};d.prototype.getNameForCssClass=function(){return"googleregionsmap"};d.prototype.isAvailable=function(){return ic3globals.libs.GoogleMaps};return d}(a.ChartAdapter));a.GoogleRegionsMapAdapter=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(ic3){var GenericActionSelectType=ic3.reporting.controls.GenericActionSelectType;var ActionSelectControlMeta=ic3.reporting.controls.ActionSelectControlMeta;
var ActionDataOptions=ic3.reporting.editor.ActionDataOptions;var ActionSelectControlAdapterFactory=(function(_super){__extends(ActionSelectControlAdapterFactory,_super);function ActionSelectControlAdapterFactory(context){_super.call(this,context,ActionSelectControlAdapter)
}ActionSelectControlAdapterFactory.prototype.getType=function(){return ic3.ReportFactoryType.TOOL};ActionSelectControlAdapterFactory.prototype.getId=function(){return"ActionSelectControl"};ActionSelectControlAdapterFactory.prototype.getName=function(){return this.context.l("ic3.widget.action_select_control.name")
};ActionSelectControlAdapterFactory.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.tools")};ActionSelectControlAdapterFactory.prototype.getMenuPath=function(){return[ic3.TopMenu.FILTERS_AND_TOOLS,"ic3.action_widgets.top_menu"]};return ActionSelectControlAdapterFactory
}(ic3.WidgetAdapterFactory));ic3.ActionSelectControlAdapterFactory=ActionSelectControlAdapterFactory;var ActionSelectControlAdapter=(function(_super){__extends(ActionSelectControlAdapter,_super);function ActionSelectControlAdapter(context){_super.call(this,context);
this.classID="ic3.ActionSelectControlAdapter"}ActionSelectControlAdapter.prototype.widgetName=function(){return["ic3.widget.action_select_control.name"]};ActionSelectControlAdapter.prototype.producedEvents=function(){var events=[];ic3.each(this.actionList(),function(idx,action){var eventType=action.eventType;
if(!ic3.isEmptyString(eventType)){events.push(eventType)}});events.push(vizEventType.onButtonClick);return ic3.uniqueArray(events)};ActionSelectControlAdapter.prototype.forEachProducedEvents=function(callback){var self=this;var widget=self.gviWidget();ic3.each(this.actionList(),function(idx,action){if(action){var eventType=action.eventType?action.eventType:vizEventType.onButtonClick;
var eventName=action.eventName?action.eventName:self.eventMapper().getEvent(action.eventType);if(!ic3.isEmptyString(eventName)){callback({key:eventName,defaultValue:action.defaultValue||(action.preselected&&action.eventValue),type:eventType,binder:function(eventCallback){if(widget){widget.getEventHandler().bind(vizEventType.onSelection,function(actionIdx,firedValue){if(idx===actionIdx){eventCallback(firedValue)
}})}}})}}})};ActionSelectControlAdapter.prototype.createBuilder=function(uid){var builderContainer=this.context.mdxQueriesMgr();if(uid){return builderContainer.getActionBuilderById(uid)}else{return this.doCreateBuilder(builderContainer)}};ActionSelectControlAdapter.prototype.doCreateBuilder=function(builderContainer){var builder=builderContainer.addNewActionBuilder(new ic3.ActionsButtonListBuilder(this.context));
this.guts().ic3_mdxBuilderUid=builder.uid();builder._adapter=this;return this._mdxBuilderWidget=builder};ActionSelectControlAdapter.prototype.actionList=function(){var builder=this.builder();var items=(builder?builder.items():[]);return this.evalItems(items)
};ActionSelectControlAdapter.prototype.evalItems=function(items){var ret=[];for(var i=0;i<items.length;i++){var item=items[i],evaluatedItem={};item.caption=item.name;item.eventValue=item.uniqueName;item.preselected=item.selected;item.eventType=_.get(this.guts(),"dataRenderOptions.type.id")=="dropdown"?vizEventType.onSelection:vizEventType.onButtonClick;
for(var key in item){if(item.hasOwnProperty(key)&&item[key]){evaluatedItem[key]=this.evalItemField(key,item)}}ret.push(evaluatedItem)}return ret};ActionSelectControlAdapter.prototype.evalItemField=function(key,item){return this.eval(item[key])};ActionSelectControlAdapter.prototype.reportTypeName=function(){return"ActionSelectControl"
};ActionSelectControlAdapter.prototype.createWidgetOptions=function(){var options=_super.prototype.createWidgetOptions.call(this);options.actionList=this.actionList();options.dataRenderOptions=options.dataRenderOptions||{};options.dataRenderOptions.type=options.dataRenderOptions.type||ic3.reporting.controls.ActionButtons;
options.dataRenderOptions.theme=options.dataRenderOptions.theme||"Classic";options.actionList=this.actionList();switch(options.dataRenderOptions.type.id){}_.extend(options,options.dataRenderOptions.type.prototype,options.dataRenderOptions);return options};ActionSelectControlAdapter.prototype.createWidget=function(options,container){switch(options.dataRenderOptions.type.id){case GenericActionSelectType.DropDown:return viz.core.createWidget(this.context,container,viz.actions.SimpleSelect,$.extend({},options));
case GenericActionSelectType.ContextMenu:return viz.core.createWidget(this.context,container,viz.actions.ContextMenu,$.extend({},options));case GenericActionSelectType.Accordion:return viz.core.createWidget(this.context,container,viz.actions.Menu,$.extend({},options));
case GenericActionSelectType.Buttons:case GenericActionSelectType.HorizontalButtons:default:return viz.core.createWidget(this.context,container,viz.actions.ButtonList,$.extend({},options))}};ActionSelectControlAdapter.prototype.getNameForCssClass=function(){var type=this.guts_.dataRenderOptions&&this.guts_.dataRenderOptions.type?this.guts_.dataRenderOptions.type.id:GenericActionSelectType.Buttons;
switch(type){case GenericActionSelectType.DropDown:return"dropdown";case GenericActionSelectType.ContextMenu:return"contextmenu";case GenericActionSelectType.Accordion:return"menu";case GenericActionSelectType.Buttons:case GenericActionSelectType.HorizontalButtons:default:return"buttonlist"
}};ActionSelectControlAdapter.prototype.setOptions=function(options,categoryId){switch(categoryId){case"data":var items=_.get(options,"options.MANUAL.items");if(!_.isEmpty(items)){_.assign(this.builder().guts(),{items:items})}break;case"data-render":this.guts_.dataRenderOptions=options;
break;default:_super.prototype.setOptions.call(this,options,categoryId)}};ActionSelectControlAdapter.prototype.getOptionsCategories=function(){var options=_super.prototype.getOptionsCategories.call(this);options[ic3.OptionCategoryOrder.DATA]=this.getDataOptions();
options[ic3.OptionCategoryOrder.DATA_RENDERER]=this.getDataRenderOptions();return options};ActionSelectControlAdapter.prototype.getDataOptions=function(){var dataOptions=_super.prototype.getDataOptions.call(this),builder=this.builder();dataOptions.properties=builder.guts();
dataOptions.properties.mode="MANUAL";_.set(dataOptions.properties,"options.MANUAL.items",builder.items());dataOptions.component=ActionDataOptions;return dataOptions};ActionSelectControlAdapter.prototype.getWidgetGroupName=function(){return ic3.WidgetAdapter.widgetGroups.action
};ActionSelectControlAdapter.prototype.getDataRenderOptions=function(){var dataRenderProps=this.guts().dataRenderOptions||{};return{uniqueId:"data-render",title:this.context.l("ic3.widget_options.category.data_render"),properties:dataRenderProps,meta:{eventsProducedInReport:this.context.eventsProducedInReport.bind(this.context),metaProps:ActionSelectControlMeta}}
};return ActionSelectControlAdapter}(ic3.WidgetAdapter));ic3.ActionSelectControlAdapter=ActionSelectControlAdapter})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var d=a.reporting.actions.InputMeta;var c=(function(e){__extends(f,e);function f(g){e.call(this,g,b)}f.prototype.getType=function(){return a.ReportFactoryType.TOOL
};f.prototype.getId=function(){return"InputWidget"};f.prototype.getName=function(){return this.context.l("ic3.widget.input.name")};f.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.tools")};f.prototype.getInitialSize=function(){return{width:300,height:150}
};f.prototype.getMenuPath=function(){return[a.TopMenu.FILTERS_AND_TOOLS,"ic3.action_widgets.top_menu"]};return f}(a.WidgetAdapterFactory));a.InputAdapterFactory=c;var b=(function(e){__extends(f,e);function f(g){e.call(this,g);this.classID="ic3.InputAdapter"
}f.prototype.widgetName=function(){return["ic3.widget.input.name"]};f.prototype.createDefaultGuts=function(g){var h=e.prototype.createDefaultGuts.call(this,g);_.assign(h,{dataRenderOptions:{type:"text",fireOnInputChange:true,button:{},validator:{enabled:false}}});
return h};f.prototype.reportTypeName=function(){return"Actions Input"};f.prototype.createBuilder=function(){return null};f.prototype.createWidget=function(h,g){return viz.core.createWidget(this.context,g,viz.actions.Input,$.extend({},h))};f.prototype.getWidgetGroupName=function(){return a.WidgetAdapter.widgetGroups.action
};f.prototype.getNameForCssClass=function(){return"input"};f.prototype.getDataRenderOptions=function(){var g=this.guts().dataRenderOptions;return{uniqueId:"data-render",title:this.context.l("ic3.widget_options.category.data_render"),properties:g,meta:{eventsProducedInReport:this.context.eventsProducedInReport.bind(this.context),metaProps:d}}
};f.prototype.getOptionsCategories=function(){var g=e.prototype.getOptionsCategories.call(this);g[a.OptionCategoryOrder.DATA_RENDERER]=this.getDataRenderOptions();g[a.OptionCategoryOrder.USER_MENU]={uniqueId:"user-menu",title:this.context.l("ic3.widget_options.category.user_menu"),properties:this.guts_.userMenu||{},meta:{eventsProducedInReport:this.context.eventsProducedInReport.bind(this.context),metaProps:[{label:this.context.l("ic3.widget.user_menu.options.enabled"),valueRef:"userMenuEnabled",type:a.reporting.editor.OptionMetaType.BOOLEAN}]}};
return g};f.prototype.setOptions=function(g,h){switch(h){case"data-render":this.guts_.dataRenderOptions=g;break;default:e.prototype.setOptions.call(this,g,h)}};f.prototype.createWidgetOptions=function(){var g=e.prototype.createWidgetOptions.call(this);g.dataRenderOptions=g.dataRenderOptions||{};
return g};return f}(a.WidgetAdapter));a.InputAdapter=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var c=(function(d){__extends(e,d);function e(f){d.call(this,f,b)}e.prototype.getType=function(){return a.ReportFactoryType.FILTER};e.prototype.getId=function(){return"HierarchyMultiSelectFilter"};e.prototype.getName=function(){return this.context.l("ic3.widget.hierarchy_select.name")
};e.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.filters")};e.prototype.getMenuPath=function(){return[a.TopMenu.FILTERS_AND_TOOLS,"ic3.filters_widgets.top_menu"]};return e}(a.WidgetAdapterFactory));a.QueryFilterHierarchyMultiSelectAdapterFactory=c;
var b=(function(d){__extends(e,d);function e(f){d.call(this,f);this.classID="ic3.QueryFilterHierarchyMultiSelectAdapter"}Object.defineProperty(e.prototype,"memberRequest",{get:function(){if(!this._memberRequest){var f=this.builder()}return this._memberRequest
},enumerable:true,configurable:true});e.prototype.reportTypeName=function(){return"HierarchyMultiSelect Filter"};e.prototype.createWidgetOptions=function(){var f=d.prototype.createWidgetOptions.call(this);f.listContainer=this.context.$mainReportContainer();
f.height=this._boxContainerHeight;f.width=this._boxContainerWidth;if(_.isEmpty(f.items)){f.items=this.context.getHierarchies().items}return f};e.prototype.createWidget=function(g,f){var h=this;return viz.filters.createHierarchyMultiSelect(this.context,f,g,{conn:this.context.gviConnection(),request:function(k,i){var j=a.FilterQueryBuilderFactory.createBuilder(a.FilterQueryType.MDX_MEMBERS,h.context,h);
j.guts().hierarchy=k;var l=h.createRequest(j);if(l==null){return null}else{return l.canFireEvent()?l.getQuery():null}}})};e.prototype.getWidgetGroupName=function(){return a.WidgetAdapter.widgetGroups.icCubeFilter};e.prototype.getNameForCssClass=function(){return"hierarchyMultiSelect"
};return e}(a.QueryFilterAdapter));a.QueryFilterHierarchyMultiSelectAdapter=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var d=a.reporting.editor.OptionMetaType;var c=(function(e){__extends(f,e);function f(g){e.call(this,g,b)}f.prototype.getType=function(){return a.ReportFactoryType.TOOL};f.prototype.getId=function(){return"MdxQueryEditor"};f.prototype.getName=function(){return this.context.l("ic3.widget.mdx_query_editor.name")
};f.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.mdx")};f.prototype.getMenuPath=function(){return[a.TopMenu.FILTERS_AND_TOOLS,"ic3.mdx_support_widgets.top_menu"]};return f}(a.WidgetAdapterFactory));a.MdxQueryEditorAdapterFactory=c;
var b=(function(f){__extends(e,f);function e(h,g){f.call(this,h,g);this.classID="ic3.MdxQueryEditorAdapter"}e.prototype.widgetName=function(){return["ic3.widget.mdx_query_editor.name"]};e.prototype.createDefaultGuts=function(g){return _.assign(f.prototype.createDefaultGuts.call(this,g),{configState:a.WidgetConfigState.COMPLETE,dataRenderOptions:{}})
};e.prototype.reportTypeName=function(){return"MDXQueryEditor"};e.prototype.createWidget=function(h,g){return viz.core.createWidget(this.context,g,viz.MDXQueryEditorWidget,h)};e.prototype.destroyWidget=function(){if(this.$widgetCt&&this.$widgetCt[0]){ReactDOM.unmountComponentAtNode(this.$widgetCt[0])
}};e.prototype.getWidgetGroupName=function(){return a.WidgetAdapter.widgetGroups.mdx};e.prototype.getNameForCssClass=function(){return"query-editor"};e.prototype.getOptionsCategories=function(h){var g=f.prototype.getOptionsCategories.call(this,h);g[a.OptionCategoryOrder.DATA_RENDERER]=this.getDataRenderOptions(h);
return g};e.prototype.setOptions=function(g,h){switch(h){case"data-render":this.guts_.dataRenderOptions=g;break;default:f.prototype.setOptions.call(this,g,h)}};e.prototype.createWidgetOptions=function(){return f.prototype.createWidgetOptions.call(this)};e.prototype.getDataRenderOptions=function(g){return _.merge(f.prototype.getDataRenderOptions.call(this),{component:a.MetaWidgetOptions,meta:{metaProps:[{label:"@d{ic3.widget.query_editor.options.initial_mdx}",valueRef:"initialMdx",type:d.TEMPLATE,defaultValue:"",flags:{modal:true}},{label:"@d{ic3.widget.query_editor.options.execute_on_ctrle}",valueRef:"executeOnCtrlE",type:d.BOOLEAN,defaultValue:""},{label:"@d{ic3.widget.query_editor.options.execute_on_start}",valueRef:"executeOnStart",type:d.BOOLEAN,defaultValue:""},{label:"@d{ic3.widget.query_editor.options.show_help}",valueRef:"showHelp",type:d.BOOLEAN,defaultValue:""}]}})
};return e}(a.WidgetAdapter));a.MdxQueryEditorAdapter=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(e){__extends(d,e);function d(f){e.call(this,f,c)}d.prototype.getType=function(){return a.ReportFactoryType.TOOL};d.prototype.getId=function(){return"MdxQueryBuilder"};d.prototype.getName=function(){return this.context.l("ic3.widget.mdx_query_builder.name")
};d.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.mdx")};d.prototype.getInitialSize=function(){return{width:500,height:400}};d.prototype.getMenuPath=function(){return[a.TopMenu.FILTERS_AND_TOOLS,"ic3.mdx_support_widgets.top_menu"]
};return d}(a.WidgetAdapterFactory));a.MdxQueryBuilderAdapterFactory=b;var c=(function(e){__extends(d,e);function d(f){e.call(this,f);this.classID="ic3.MdxQueryBuilderAdapter"}d.prototype.reportTypeName=function(){return"MDX Query"};d.prototype.createDefaultGuts=function(f){return $.extend(e.prototype.createDefaultGuts.call(this,f),{layout:new a.MdxQueryBuilderLayout(this.context),query:new a.MdxQuery(f)})
};d.prototype.guts=function(){var h=e.prototype.guts.call(this);var g=h.query;var f=g.noSelectedMemberMdxExpr();return $.extend(h,{query_cube:{uniqueName:g.cubeName(),name:g.cubeName()},query_queryGenerationMode:h.query.queryGenerationMode(),query_noSelectedMemberMdxExpr:{uniqueName:f.id,name:f.caption()},query_withSubQuery:h.query.withSubQuery(),query_withSlicer:h.query.withSlicer(),query_fireChangeOnStart:h.query.fireChangeOnStart(),query_requestCssCellProperty:h.query.requestCssCellProperty(),query_requestFormatStringCellProperty:h.query.requestFormatStringCellProperty(),layout_hierarchiesPaneWidth:h.layout.hierarchiesPaneWidth()})
};d.prototype.refreshHtmlFromGuts=function(i){if(i){var h=i.query_cube.name;var g={queryGenerationMode:i.query_queryGenerationMode,noSelectedMemberMdxExprId:i.query_noSelectedMemberMdxExpr.uniqueName,withSubQuery:i.query_withSubQuery,withSlicer:i.query_withSlicer,fireChangeOnStart:i.query_fireChangeOnStart,requestCssCellProperty:i.query_requestCssCellProperty,requestFormatStringCellProperty:i.query_requestFormatStringCellProperty};
delete i.query_cube;delete i.query_queryGenerationMode;delete i.query_noSelectedMemberMdxExpr;delete i.query_withSubQuery;delete i.query_withSlicer;delete i.query_fireChangeOnStart;delete i.query_requestCssCellProperty;delete i.query_requestFormatStringCellProperty;
var f={hierarchiesPaneWidth:i.layout_hierarchiesPaneWidth};delete i.layout_hierarchiesPaneWidth;e.prototype.refreshHtmlFromGuts.call(this,i);this.guts_.query.refreshOptions(h,g);this.guts_.layout.hierarchiesPaneWidth(f.hierarchiesPaneWidth);this.buildInHtml()
}};d.prototype.allProducedEventsListener=function(){if(!this.allProducedEventsListener_){a.assert("internal error : missing all produced events listener")}return this.allProducedEventsListener_};d.prototype.createWidget=function(h,g){var i=this.context,k=this.context.mainReport().schemaName(),f=this.context.gviConfiguration().allCubes(k).getEntityAt(0);
h.query.cubeName(f?f.name:"");var j=new a.MdxQueryBuilder(i,g,h);this.allProducedEventsListener_=new a.MdxQueryBuilderEventsListener(j);j.attachAllEventsListener(this.allProducedEventsListener_);return j};d.prototype.onBuildAllDone=function(){e.prototype.onBuildAllDone.call(this);
var f=this.guts();if(f.query.fireChangeOnStart()!==false){this.gviWidget()&&this.gviWidget().onQueryChange(true)}};d.prototype.getWidgetGroupName=function(){return a.WidgetAdapter.widgetGroups.mdx};d.prototype.getNameForCssClass=function(){return"query-builder"
};d.prototype.gviWidget=function(){return e.prototype.gviWidget.call(this)};return d}(a.WidgetAdapter));a.MdxQueryBuilderAdapter=c})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var c=b.reporting.table.meta.GenericTableBaseRenderMeta;var e=viz.pivot.DefaultDrillDownStrategy;var a=b.reporting.table.meta.TableAppearance;var d=b.reporting.table.meta.GenericTableType;
var g=(function(h){__extends(i,h);function i(j){h.call(this,j,f)}i.prototype.getId=function(){return"GenericTable"};i.prototype.getName=function(){return this.context.l("ic3.widget.generic_table.name")};i.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.charts")
};i.prototype.getMenuPath=function(){return[b.TopMenu.CHARTS,"ic3.table_widgets.top_menu"]};return i}(b.ChartAdapterFactory));b.GenericTableAdapterFactory=g;var f=(function(h){__extends(i,h);function i(k,j){h.call(this,k,j);this.classID="ic3.GenericTableAdapter";
this.drillDownState_={drillDownHistory:[]}}i.prototype.widgetName=function(){return["ic3.widget.generic_table.name"]};i.prototype.getWidgetStylingName=function(){return"ic3Table"};i.prototype.getWidgetStylingPresets=function(){return a};i.prototype.saveDrillDownState=function(){if(this.widget&&this.widget.options&&this.widget.options.drillDownStrategy){this.drillDownState_=this.navigationGuts().guts().drillDownStrategy.getState();
this.drillDownState_.drillDownHistory=_(this.drillDownState_.drillDownHistory).map(function(j){j.executed=false;return j}).value()}};i.prototype.drillDownPerformBack=function(){this.navigationGuts().guts().drillDownStrategy.removeLastHistoryItem();this.saveDrillDownState()
};i.prototype.clearDrillDownState=function(){this.drillDownState_.drillDownHistory.length=0;if(this.navigationGuts()&&this.navigationGuts().guts().drillDownStrategy&&this.navigationGuts().guts().drillDownStrategy.clearHistory){this.navigationGuts().guts().drillDownStrategy.clearHistory()
}};i.prototype.refresh=function(){this.saveDrillDownState();h.prototype.refresh.call(this)};i.prototype.destroy=function(){this.saveDrillDownState();h.prototype.destroy.call(this)};i.prototype._doOnRefresh=function(){this.saveDrillDownState();h.prototype._doOnRefresh.call(this)
};i.prototype.getState=function(k){var j=h.prototype.getState.call(this,k);if(k==viz.StateSaveMode.SELECTION){if(this.navigationGuts().guts().drillDownStrategy&&this.navigationGuts().guts().drillDownStrategy.getState){this.drillDownState_=this.navigationGuts().guts().drillDownStrategy.getState()
}else{this.navigationGuts().guts_.drillDownStrategy=new e(this.context,this.drillDownState_)}if(!this.drillDownState_.drillDownClassID){this.drillDownState_.drillDownClassID=this.navigationGuts().guts_.drillDownStrategy.classID}this.drillDownState_.drillDownHistory=_(this.drillDownState_.drillDownHistory).filter(function(l){return !l.collapsed
}).map(function(l){l.executed=false;return l}).value();j.drillDownState=this.drillDownState_;j.drillDownState.drillDownClassID=this.navigationGuts().guts().drillDownStrategy.classID}return j};i.prototype.setState=function(j){h.prototype.setState.call(this,j);
if(!b.isUndefined(this.widget)){this.widget.doSetState(j)}if(j.drillDownState&&!b.objectIsEmpty(j.drillDownState)){this.drillDownState_=j.drillDownState;this.drillDownState_.drillDownHistory=_.map(this.drillDownState_.drillDownHistory,function(k){k.executed=false;
return k});if(this.navigationGuts()&&this.navigationGuts()&&this.navigationGuts().guts().drillDownStrategy){if(this.navigationGuts().guts().drillDownStrategy.setState){this.navigationGuts().guts().drillDownStrategy.setState(this.drillDownState_)}}}};i.prototype.reportTypeName=function(){return"GenericTable"
};i.prototype.createNavigationStrategy=function(j,k){return new b.NavigationStrategy(j,k)};i.prototype.getNavigationAndUserMenuOptions=function(k){var j=h.prototype.getNavigationAndUserMenuOptions.call(this,k);j.meta.metaProps.push({label:"@d{ic3.widget.user_menu.styling}",valueRef:"menuVisibility.styling",type:b.reporting.editor.OptionMetaType.BOOLEAN,defaultValue:true,configurable:function(m,l){return _.get(l,"menuVisibility.enabled",true)
}});return j};i.prototype.createUserMenu=function(){var m=this;var k=h.prototype.createUserMenu.call(this),l=function(n){return({id:"styling-"+n,title:n,onClick:function(){return m.widget.doSetTheme(n)}})},j={id:"change-styling",icon:"glyphicons glyphicons-brush",title:this.context.mainReport().l("ic3.widget.box_menu.styling"),visible:function(){return !!_.get(m.navigationGuts().guts(),"menuVisibility.styling",true)
},items:_.map(this.getWidgetStylingPresets(),function(o,n){return l(n)})};k.rootItem.items.push(j);new b.WidgetStylingManager(this.context,this.getWidgetStylingName(),this.getWidgetStylingPresets()).getPresets(function(n){return _.forEach(n,function(o){return j.items.push(l(o.caption))
})});return k};i.prototype.createWidgetOptions=function(){var j=h.prototype.createWidgetOptions.call(this);if(!j.dataRenderOptions){j.dataRenderOptions={}}if(!j.dataRenderOptions.chartType){j.dataRenderOptions.chartType=c[0].defaultValue}this.processOptions(j);
_.set(j,"onColumnResize",this.onColumnResize.bind(this));return j};i.prototype.processOptions=function(l){var j=this.navigationGuts().getDrillDownStrategy(),k=this;if(_.isObject(j)&&j.classID&&this.drillDownState_.drillDownClassID!==j.classID){this.clearDrillDownState();
this.drillDownState_.drillDownClassID=j.classID}switch(l.dataRenderOptions.chartType.id){case d.PivotTable:if(j){if(j.gizmoType){l.navigationGuts.guts_.drillDownStrategy=j.createPivotTableDrillDownStrategy(this.context,this.drillDownState_,this.navigationGuts(),this.uid(),{onVizBeforeRequestSend:function(m){k.box()&&k.box().onBeforeInternalRequestSend()
},onVizRequestExecuted:function(m,n){k.box()&&k.box().onInternalRequestExecuted()},onVizRequestExecutedInError:function(m,n){k.box()&&k.box().onInternalRequestExecuted()},onError:function(m){k.context.notificationMgr().notifyGviError(m,k.uid());return false
}})}}else{l.navigationGuts.guts_.drillDownStrategy=new e(this.context,this.drillDownState_)}if(!this.drillDownState_.drillDownClassID){this.drillDownState_.drillDownClassID=l.navigationGuts.guts_.drillDownStrategy.classID}return l;case d.SimpleTable:case d.SlickGrid:default:return l
}};i.prototype.createWidget=function(l,j){var k;l=_.extend({},l);switch(l.dataRenderOptions.chartType.id){case d.SimpleTable:k=viz.core.createWidget(this.context,j,viz.data.table.SimpleTable,l);break;case d.SlickGrid:k=viz.core.createWidget(this.context,j,viz.data.table.SlickGrid,l);
break;case d.PivotTable:default:k=viz.core.createWidget(this.context,j,viz.pivot.PivotTableWidget,l);break}return k};i.prototype.getWidgetGroupName=function(){return b.WidgetAdapter.widgetGroups.table};i.prototype.getNameForCssClass=function(){return"generictable"
};i.prototype.getChartConfigurationOptions=function(){return null};i.prototype.clearCachedAdapterData=function(){h.prototype.clearCachedAdapterData.call(this);this.clearDrillDownState()};i.prototype.getDataRenderOptionsMeta=function(){return c};i.prototype.onColumnResize=function(n,m){var l=_.get(this.createWidgetOptions(),"dataRenderOptions.columnWidths");
var k=[];if(l&&_.isString(l)){k=l.split(",")}if(n>k.length){var j=k.length;while(j<n){k.push(_.get(this.guts(),"dataRenderOptions.columnWidth",_.last(k)||"100"));j++}}k[n]=m;_.set(this.guts_,"dataRenderOptions.columnWidths",k.join(","));this.context.mainReport().commands().widgetOptionsCommand&&this.context.mainReport().commands().widgetOptionsCommand.updateOptions()
};return i}(b.ChartAdapter));b.GenericTableAdapter=f})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(e){__extends(d,e);function d(f){e.call(this,f,c)}d.prototype.getType=function(){return a.ReportFactoryType.FILTER};d.prototype.getId=function(){return"DatePicker"};d.prototype.getName=function(){return this.context.l("ic3.widget.date_picker.name")
};d.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.filters")};d.prototype.getMenuPath=function(){return[a.TopMenu.FILTERS_AND_TOOLS,"ic3.filters_widgets.top_menu"]};return d}(a.WidgetAdapterFactory));a.DatePickerAdapterFactory=b;var c=(function(d){__extends(e,d);
function e(g,f){d.call(this,g);this.classID="ic3.DatePickerAdapter"}e.prototype.widgetName=function(){return["ic3.widget.date_picker.name"]};e.prototype.getWidgetConfigState=function(){return a.WidgetConfigState.COMPLETE};e.prototype.reportTypeName=function(){return"DatePicker"
};e.prototype.createWidgetOptions=function(){var f=d.prototype.createWidgetOptions.call(this);f.dataRenderOptions=f.dataRenderOptions||{pickerRenderer:"UseBrowser"};f.dataRenderOptions.theme=f.dataRenderOptions.theme||"Classic";f.preselectionFrom=_.get(this.builder().guts(),"preselectionFrom");
f.preselectionTo=_.get(this.builder().guts(),"preselectionTo");f.minimumValue=_.get(this.builder().guts(),"minimumValue");f.maximumValue=_.get(this.builder().guts(),"maximumValue");f.memberFormatter=this.createMemberFormatter();return f};e.prototype.createWidget=function(g,f){return viz.filters.createDatePicker(this.context,f,g)
};e.prototype.getWidgetGroupName=function(){return a.WidgetAdapter.widgetGroups.icCubeFilter};e.prototype.getNameForCssClass=function(){return"ic3-datepicker"};e.prototype.setOptions=function(f,g){switch(g){case"data":this.builder().guts_=f;break;case"data-render":this.guts_.dataRenderOptions=f;
break;default:d.prototype.setOptions.call(this,f,g)}};e.prototype.doCreateBuilder=function(g){var f=new a.HeadTailQueryBuilder(this.context);this.guts().ic3_mdxBuilderUid=f.uid();f._adapter=this;return g.addNewMdxFilter(f)};e.prototype.getOptionsCategories=function(){var f=d.prototype.getOptionsCategories.call(this);
f[a.OptionCategoryOrder.DATA]=this.getDataOptions();f[a.OptionCategoryOrder.USER_MENU]=this.getUserMenuOptions();f[a.OptionCategoryOrder.DATA_RENDERER]=this.getDataRenderOptions();return f};e.prototype.getDataOptions=function(){var g=this;var f=d.prototype.getDataOptions.call(this);
f.properties=this.builder().guts();f.meta.queryFromWizard=function(h){return g.builder().mdxStatementForBoxEditor(h)};f.component=a.reporting.editor.DatePickerDataOptions;f.manualPreview=true;return f};e.prototype.getDataRenderOptions=function(){var f=this.guts().dataRenderOptions||{};
return{uniqueId:"data-render",title:this.context.l("ic3.widget_options.category.data_render"),properties:f,meta:{eventsProducedInReport:this.context.eventsProducedInReport.bind(this.context),metaProps:a.DatePickerMeta}}};e.prototype.createMemberFormatter=function(){var g=this.builder().guts();
var f=_.get(g,"memberExpression");if(_.isEmpty(f)){f="$level.lookupByKey($date)"}if(_.isObject(g.options.WIZARD.setAxis[0])){f=f.replace(/\$level/gmi,g.options.WIZARD.setAxis[0].memberBase.level);f=f.replace(/\$hier/gmi,g.options.WIZARD.setAxis[0].memberBase.hierarchy)
}return function(i){var h=f;h=h.replace(/"(.*?)"/gm,function(j,k){return moment(i).format(k)});h=h.replace(/\$date/gmi,'"'+moment(i).format("YYYY-MM-DD")+'"');return h}};return e}(a.QueryFilterAdapter));a.DatePickerAdapter=c})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(c){var b=c.reporting.controls.SelectControlMeta;var f=c.reporting.controls.GenericSelectType;var d=viz.SelectionMode;var a=(function(h){__extends(g,h);
function g(i){h.call(this,i,e)}g.prototype.getType=function(){return c.ReportFactoryType.FILTER};g.prototype.getId=function(){return"SelectionFilter"};g.prototype.getName=function(){return this.context.l("ic3.widget.select_control.name")};g.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.filters")
};g.prototype.getMenuPath=function(){return[c.TopMenu.FILTERS_AND_TOOLS,"ic3.filters_widgets.top_menu"]};return g}(c.WidgetAdapterFactory));c.SelectControlAdapterFactory=a;var e=(function(h){__extends(g,h);function g(j,i){h.call(this,j);this.classID="ic3.SelectControlAdapter"
}g.prototype.widgetName=function(){return["ic3.widget.select_control.name"]};g.prototype.reportTypeName=function(){return"SelectControl"};g.prototype.createDefaultGuts=function(i){var j=h.prototype.createDefaultGuts.call(this,i);j.dataRenderOptions={type:c.reporting.controls.MultiSelect};
return j};g.prototype.createWidgetOptions=function(){var i=h.prototype.createWidgetOptions.call(this);i.listContainer=this.context.$mainReportContainer();_.extend(i,i.dataRenderOptions.type.prototype,i.dataRenderOptions);return i};g.prototype.createRequest=function(i){this.memberRequest=h.prototype.createRequest.call(this,i);
return this.memberRequest};g.prototype.createWidget=function(j,i){var k=this;j=_.defaults(j,{selectionMode:d.MULTI});switch(j.dataRenderOptions.type.id){case f.Buttons:case f.HorizontalButtons:return viz.filters.createButtonList(this.context,i,j);case f.DropDown:return viz.core.createWidget(this.context,i,viz.filters.SimpleSelect,$.extend({},j));
case f.Tree:return viz.core.createWidget(this.context,i,viz.filters.TreeSelect,$.extend({},j));case f.Autocomplete:return viz.filters.createAutoComplete(this.context,i,j,{conn:this.context.gviConnection(),request:function(n,l){if(k.memberRequest==null){return null
}else{var m=k.builder().mdxStatement({limit:l,offset:0,searchTerm:n});return k.memberRequest.canFireEvent()?k.memberRequest.getQuery(m):null}}});case f.Slider:return viz.filters.createSlider(this.context,i,j);case f.MultiSelect:default:return viz.filters.createMultiSelect(this.context,i,j)
}};g.prototype.getWidgetGroupName=function(){return c.WidgetAdapter.widgetGroups.icCubeFilter};g.prototype.getNameForCssClass=function(){var i=this.guts_.dataRenderOptions&&this.guts_.dataRenderOptions.type?this.guts_.dataRenderOptions.type.id:f.MultiSelect;
switch(i){case f.Buttons:case f.HorizontalButtons:return"buttonlist";case f.DropDown:return"dropdown";case f.Tree:return"tree";case f.Autocomplete:return"autocomplete";case f.MultiSelect:default:return"multiselect"}};g.prototype.setOptions=function(i,j){switch(j){case"data":this.builder().guts_=i;
break;case"data-render":this.guts_.dataRenderOptions=i;break;default:h.prototype.setOptions.call(this,i,j)}};g.prototype.getOptionsCategories=function(){var i=h.prototype.getOptionsCategories.call(this);i[c.OptionCategoryOrder.DATA]=this.getDataOptions();i[c.OptionCategoryOrder.USER_MENU]=this.getUserMenuOptions();
i[c.OptionCategoryOrder.DATA_RENDERER]=this.getDataRenderOptions();return i};g.prototype.getDataOptions=function(){var j=this;var i=h.prototype.getDataOptions.call(this);i.properties=this.builder().guts();i.meta.queryFromWizard=function(k){return j.builder().mdxStatementForBoxEditor(k)
};i.component=c.FilterDataOptions;i.manualPreview=true;return i};g.prototype.getDataRenderOptions=function(){var i=this.guts().dataRenderOptions||{};return{uniqueId:"data-render",title:this.context.l("ic3.widget_options.category.data_render"),properties:i,meta:{eventsProducedInReport:this.context.eventsProducedInReport.bind(this.context),metaProps:b}}
};return g}(c.QueryFilterAdapter));c.SelectControlAdapter=e})(ic3||(ic3={}));var ic3;(function(a){var b=a.reporting.editor.ColorModeType;a.LocalHTMLTemplateEntities=[{__id:"progress_bar",__caption:"@d{ic3.widget.widget_template.options.preset.progress_bar}",config:{options:[{name:"color",type:"Color"},{name:"bgColor",type:"Color"},{name:"title",type:"Expression"},{name:"percent",type:"Expression"}]},options:{html:'{{~d.rowsIndices :idx}}\n<div class="container" style="width:100%; font-weight:bold;">\n    <div style="line-height: 32px;">\n        <div class="title" style="float:left; color:#455a7a;">{{=p.title(idx, 0)}}</div>\n        <div class="value" style="float:right; color:#626160; font-size:1.5em;">{{=p.percent(idx, 0)}}</div>\n    </div>\n    <div class="bar" style="clear:both; width:100%; height:25px; background:{{=p.bgColor(idx, 0)}}; overflow:hidden; border-radius:3px; box-shadow:inset 0px 5px 10px 0px rgba(0,0,0,0.05);">\n        <div class="fill" style="width:{{=p.percent(idx, 0)}}; height:100%; background:{{=p.color(idx, 0)}};"></div>\n    </div>\n</div>\n{{~}}'},color:{mode:b.EXPRESSION,colorFunc:{evaluationType:"JS",jsFunctionBody:'return "linear-gradient(to bottom, #aed35a 0%,#4d9915 100%)"',contextType:"CELL"}},bgColor:{mode:b.SINGLE_COLOR,color:"#f2f2f2"},title:{evaluationType:"JS",contextType:"CELL",jsFunctionBody:"return context.rowLabel()"},percent:{evaluationType:"JS",contextType:"CELL",jsFunctionBody:'return (100 * context.percentageCol()).toFixed(2) + "%"'}},{__id:"d3_bubble_chart",__caption:"@d{ic3.widget.widget_template.options.preset.d3_bubble_chart}",config:{options:[{name:"Text Color",type:"Color",valueRef:"textColor"},{name:"Background Color",type:"Color",valueRef:"backColor"},{type:"Cell Expression",name:"Font Size (px)",detailedInfo:"Text size in pixels",defaultValue:"12",valueRef:"fontSize"}]},options:{html:'<div style="width:100%; height:100%"></div>',afterTemplateUpdate:'function(context, node, props) {\n    var data = [];\n    for (var y = 0, h = context.rowsCount; y < h; ++y) {\n        for (var x = 0, w = context.columnsCount; x < w; ++x) {\n            data.push({\n                title: context.rowLabel(y) + (context.columnsCount < 2 ? "" : "," + context.columnLabel(x)),\n                backColor: props.backColor ? props.backColor(y, x) : "black",\n                textColor: props.textColor ? props.textColor(y, x) : "white",\n                fontSize: (typeof props.fontSize === "function") ? props.fontSize(y, x) : (props.fontSize || 12),\n                value: context.cellValue(y, x),\n                click: function(y, x) {\n                    context.fireCellClick(y, x);\n                    context.fireColumnClick(y, x);\n                    context.fireRowClick(y, x);\n                }.bind(this, y, x)\n            });\n        }\n    }\n    \n    d3.select(node).select("div").selectAll("*").remove();\n    \n    var bbox = d3.select(node).select("div").node().getBoundingClientRect();\n\n    var diameter = bbox.width < bbox.height ? bbox.width: bbox.height,\n        format = d3.format(",d");\n\n    var bubble = d3.layout.pack()\n        .sort(null)\n        .size([diameter, diameter])\n        .padding(1.5);\n\n    var svg = d3.select(node).select("div").append("svg")\n        .attr("width", diameter)\n        .attr("height", diameter)\n        .attr("class", "bubble");\n\n    d3.select(node).select("div").style("height", diameter + "px");\n\n    var root = svg.selectAll(".node")\n        .data(bubble.nodes({ children: data }).filter(function(d) { return !d.children; }))\n        .enter()\n        .append("g")\n        .attr("class", "node")\n        .attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; })\n        .on("click", function(d) { d.click(); });\n\n    root.append("title")\n        .text(function(d) { return d.title + ": " + format(d.value); });\n\n    root.append("circle")\n        .attr("r", function(d) { return d.r; })\n        .style("fill", function(d) { return d.backColor; });\n\n    root.append("text")\n        .attr("dy", ".3em")\n        .style("text-anchor", "middle")\n        .style("fill", function(d) { return d.textColor; })\n        .style("font-size", function(d) { return d.fontSize + "px"; } )\n        .text(function(d) { return d.title.substring(0, d.r / 3); });\n}\n'},color:{mode:"@d{ic3.color_mode.palette_for_categories}",colors:["#951b81","#c4398d","#da6bae","#eca7d1","#540b48","#761466"]},"Text Size":"1",fontSize:"22",textColor:{mode:"@d{ic3.color_mode.single_color}",color:"#faf5f5"},backColor:{mode:"@d{ic3.color_mode.palette_for_categories}",colors:["#951b81","#c4398d","#da6bae","#eca7d1","#540b48","#761466"],color:"#b85aa6"}},{__id:"d3_sunburst_chart",__caption:"@d{ic3.widget.widget_template.options.preset.d3_sunburst_chart}",config:{options:[{name:"Palette",type:"Palette"},{defaultValue:"Total",detailedInfo:"The label for the root, center, if not defined in the MDX",name:"Root Name",type:"Text",valueRef:"rootName"}]},options:{afterTemplateUpdate:'/**\n * You can bind events to node and it\'s children\n */\nfunction(context, node, props) {\n    var $node = $(node);\n    var chartElem = $node.find("#chart").get(0);\n\n    var colors = props.Palette();\n    var rootName = props.rootName() || "";\n    var axis1 = context.getTable().getAxes().getAxis(1);\n    var tupleLen = axis1.getTupleLength();\n\n   // build the structure using not using parentId for creating a hierarchical (d3 stratified) structure\n    var buildData = function(useParentUN) {\n      var dataIds = {};\n      var data = [];\n        \n      if (!useParentUN ) {\n\t\t    data.push({\n\t\t        name: rootName,\n\t\t        id: "ic3-d3-root",\n    \t\t});\n      }\n\n      for (var y = 0, h = context.rowsCount; y < h; ++y) {\n        for (var x = 0, w = context.columnsCount; x < w; ++x) {\n            var id = "";\n            var pid;\n            for (var t = 0; t < tupleLen; ++t) {\n                pid = !useParentUN ? (id === "" ? "ic3-d3-root" : id) : axis1.getMemberParentUniqueName(y, t);\n                id += axis1.getMemberUniqueName(y, t);\n                var value = (t < (tupleLen - 1)) ? null : context.cellValue(y, x);\n                var line = {\n                    name: axis1.getMemberCaption(y, t),\n                    id: id,\n                    pid: pid,\n                    value: value\n                };\n                if (dataIds[id] !== true) {\n                    dataIds[id] = true;\n                    data.push(line);\n                }\n            }\n        }\n      }\n        \n      return data;\n    }\n\n    // try one way and if it\'s not working to the other\n    try {\n        var root = d3.stratify().id(function(d) { return d.id; }).parentId(function(d) { return d.pid; })( buildData(true) );\n    }\n    catch (error) {\n        root = d3.stratify().id(function(d) { return d.id; }).parentId(function(d) { return d.pid; })( buildData(false) );\n    }\n\n    var width = node.getBoundingClientRect().width;\n    var height = node.getBoundingClientRect().height;\n    var radius = Math.min(width, height) / 2;\n\n    var getAncestorL1 = function(d) {\n        var cur = d;\n        while (cur.depth > 1) cur = cur.parent;\n        return cur;\n    }\n\n    var getColor = function(d) {\n        var curDepth = d.depth;\n        if (curDepth == 0) {\n            return colors[0];\n        }\n\n        var anc1 = getAncestorL1(d);\n        var posInParent = anc1.parent.children.indexOf(anc1);\n        var perc = d.value / anc1.value;\n        return d3.rgb(colors[1 + posInParent % (colors.length - 1)]).brighter(1.0 - perc);\n    }\n\n    // Total size of all segments; we set this later, after loading the data.\n    var totalSize = 0;\n\n    var vis = d3.select(chartElem).append("svg:svg")\n        .attr("viewBox", "0 0 " + width + " " + height)\n        .attr("width", "100%")\n        .attr("height", "100%")\n        .append("svg:g")\n        .attr("id", "container")\n        .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");\n\n    var partition = d3.layout.partition()\n        .size([2 * Math.PI, radius * radius])\n        .value(function(d) {\n            return d.data.value;\n        });\n\n    var arc = d3.svg.arc()\n        .startAngle(function(d) {\n            return d.x;\n        })\n        .endAngle(function(d) {\n            return d.x + d.dx;\n        })\n        .innerRadius(function(d) {\n            return Math.sqrt(d.y);\n        })\n        .outerRadius(function(d) {\n            return Math.sqrt(d.y + d.dy);\n        });\n\n    function toPercString(percentage) {\n        return percentage < 0.1 ? "< 0.1%" : percentage + "%";\n    }\n\n    function title(d) {\n        //var percentageString = toPercString((100 * d.value / totalSize).toPrecision(3));\n        var parentValue = d.parent != null ? d.parent.value : null;\n        var text = d.data.name + " - " + d.value;\n        if (parentValue === null) {\n            return text;\n        }\n        var parentName = d.parent.data.name;\n        var parentPerc = toPercString((100 * d.value / parentValue).toPrecision(3));\n        return text + "\\n" + parentPerc + " of " + parentName ;\n    }\n\n    // Main function to draw and set up the visualization, once we have the data.\n    function createVisualization(json) {\n        // Bounding circle underneath the sunburst, to make it easier to detect\n        // when the mouse leaves the parent g.\n        vis.append("svg:circle")\n            .attr("r", radius)\n            .style("opacity", 0);\n\n        // For efficiency, filter nodes to keep only those large enough to see.\n        var nodes = partition.nodes(json)\n            .filter(function(d) {\n                return (d.dx > 0.005); // 0.005 radians = 0.29 degrees\n            });\n\n        // Get total size of the tree = value of root node from partition.\n        totalSize = json.value;\n\n        var path = vis.data([json]).selectAll("path")\n            .data(nodes)\n            .enter().append("svg:path")\n            .attr("display", getColor)\n            .attr("d", arc)\n            .attr("fill-rule", "evenodd")\n            .attr("stroke", "white")\n            .style("fill", function(d) {\n                return getColor(d);\n            })\n            .style("opacity", 1)\n            .on("mouseover", mouseover)\n            .append("svg:title").text(function(d) {\n                return title(d);\n            });\n\n        vis.append("svg:text")\n            .text("")\n            .attr("fill", "white")\n            .attr("text-anchor", "middle")\n            .attr("id", "percentage");\n\n        // Add the mouseleave handler to the bounding circle.\n        d3.select("#container").on("mouseleave", mouseleave);\n    };\n\n    // Fade all but the current sequence, and show it in the breadcrumb trail.\n    function mouseover(d) {\n        d3.select($node.find("#percentage").get(0))\n            .text(function(d) {\n                return title(d);\n            });\n\n        // Fade all the segments.\n        vis.selectAll("path")\n            .style("opacity", 0.3);\n\n        var sequenceArray = getAncestors(d);\n        // Then highlight only those that are an ancestor of the current segment.\n        vis.selectAll("path")\n            .filter(function(node) {\n                return (sequenceArray.indexOf(node) >= 0);\n            })\n            .style("opacity", 1);\n    }\n\n    // Restore everything to full opacity when moving off the visualization.\n    function mouseleave(d) {\n        // Deactivate all segments during transition.\n        vis.selectAll("path").on("mouseover", null);\n\n        // Transition each segment to full opacity and then reactivate it.\n        vis.selectAll("path")\n            .transition()\n            .duration(1000)\n            .style("opacity", 1)\n            .each(function() {\n                d3.select(this).on("mouseover", mouseover);\n            });\n            //.each("end", function() { d3.select(this).on("mouseover", mouseover); });\n    }\n\n    // Given a node in a partition layout, return an array of all of its ancestor\n    // nodes, highest first, but excluding the root.\n    function getAncestors(node) {\n        var path = [];\n        var current = node;\n        while (current.parent) {\n            path.unshift(current);\n            current = current.parent;\n        }\n        return path;\n    }\n\n    createVisualization(root);\n}',html:'<div id="main">\n    <div id="sequence"/>\n    <div id="chart" style="padding:3px"/>\n</div>'},rootName:"Total",Palette:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"]},{__id:"d3_cloud_chart",__caption:"@d{ic3.widget.widget_template.options.preset.d3_cloud_chart}",config:{options:[{name:"color",type:"Color"},{defaultValue:"Impact",detailedInfo:"The font family used in the chart",name:"font",type:"Text"},{defaultValue:"20",name:"Min font Size (px)",type:"Number",valueRef:"minFontSize"},{defaultValue:"40",name:"Max font Size (px)",type:"Number",valueRef:"maxFontSize"},{defaultValue:"-90",name:"Start Angle",type:"Number",valueRef:"startAngle"},{defaultValue:"90",name:"End Angle",type:"Number",valueRef:"endAngle"}]},options:{afterTemplateUpdate:'/**\n * You can bind events to node and it\'s children\n */\nfunction(context, node, props) {\n    // get some info from the container\n    var $node = $(node);\n    var height = $node.height();\n    var width = $node.width();\n\n    var data = [];\n    for (var y = 0, h = context.rowsCount; y < h; ++y) {\n        for (var x = 0, w = context.columnsCount; x < w; ++x) {\n            data.push({\n                text: context.rowLabel(y),\n                title: context.rowLabel(y) + " - " + context.cellValue(y, x),\n                color: props.color(y, x),\n                size: context.cellValue(y, x),\n                click: function(y, x) {\n                    context.fireCellClick(y, x);\n                    context.fireColumnClick(y, x);\n                    context.fireRowClick(y, x);\n                }.bind(this, y, x)\n            });\n        }\n    }\n\n    // get values from the user properties, apply defaults in case we\'re missing something\n    var minFontSize = props.minFontSize() || 20;\n    var maxFontSize = props.maxFontSize() || 40;\n    var startAngle = props.startAngle() || -90;\n    var endAngle = props.endAngle() || 90;\n    var font = props.font() || "Impact";\n\n    // this allows for scaling our data between min/max fontSize\n    var scale = d3.scale.linear()\n        .domain([d3.min(data, function(d) { return d.size; }), d3.max(data, function(d) { return d.size; })])\n        .range([minFontSize, maxFontSize]);\n\n    // convert the text to a valid html class\n    var toId = function(text) {\n        return text.replace(/\\W/g, \'_\')\n    };\n\n    // This algo calculates the word position, size, and rotation\n    d3.layout.cloud().size([width, height])\n        .words(data)\n        .padding(2)\n        .text(function(d) { return d.text; })\n        .rotate(function() { return startAngle + ((endAngle - startAngle) * Math.random()); })\n        .font(font)\n        .fontSize(function(d) { return scale(d.size); })\n        .on("end", draw)\n        .start();\n\n    // this is drawing the results\n    function draw(words) {\n        d3.select(node).append("svg")\n            .attr("width", width)\n            .attr("height", height)\n            .append("g")\n            .attr("transform", "translate( " + width / 2 + "," + height / 2 + ")")\n            .selectAll("text")\n            .data(words)\n            .enter().append("text")\n            .style("font-size", function(d) { return d.size + "px"; })\n            .style("font-family", font)\n            .attr("id", function(d) { return toId(d.text); })\n            .attr("text-anchor", "middle")\n            .attr("transform", function(d) { return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")"; })\n            .text(function(d) { return d.text; });\n\n        var missing = [];\n\n        data.forEach(function(d) {\n            var svgWord = d3.select(node).select("#" + toId(d.text));\n\n            if (svgWord.empty()) {\n                // add missing words that have a value\n                if (d.value !== null)\n                    missing.push(d.text);\n            } else\n                svgWord\n                .on("click", function() {\n                    d.click();\n                })\n                .on("mouseover", function() {\n                    d3.select(this)\n                        .transition()\n                        .attr("stroke", "black")\n                        .attr("stroke-width", ".2px")\n                })\n                .on("mouseout", function() {\n                    d3.select(this)\n                        .transition()\n                        .attr("stroke", null)\n                        .attr("stroke-width", null)\n                })\n                .style("fill", function() {\n                    return d.color;\n                })\n                .append("svg:title").text(d.title);\n        });\n\n        // Handle missing words with a warning in the UI\n        if (missing.length > 0) {\n            d3.select(node).select("g")\n                .append("text")\n                .text("!")\n                .attr("transform", "translate( " + (-width / 2) + ",0)")\n                .style("font-size", maxFontSize)\n                .style("font-family", font)\n                .style("fill", "red")\n                .append("svg:title").text("Missing words : " + missing);\n        }\n    }\n}',html:null},color:{colors:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],maxValue:"290",minValue:"0",mode:"@d{ic3.color_mode.palette_for_categories}",shouldReverse:false},font:"Impact"},{__id:"svg_map",__caption:"@d{ic3.widget.widget_template.options.preset.svg_map}",config:{options:[{name:"Region Color",valueRef:"color",type:"Color"}]},options:{initialHtml:"Waiting....",afterTemplateUpdate:'/**\n * You can bind events to node and it\'s children\n */\nfunction(context, node, props) {\n\t//$(node)\n    // transform the data into a structure\n    var data = [];\n    for (var y = 0, h = context.rowsCount; y < h; ++y) {\n        for (var x = 0, w = context.columnsCount; x < w; ++x) {\n            data.push({\n                color: props.color ? props.color(y, x) : "black",\n                value: context.cellValue(y, x),\n                click: function(y, x) {\n                    context.fireCellClick(y, x);\n                    context.fireColumnClick(y, x);\n                    context.fireRowClick(y, x);\n                }.bind(this, y, x)\n            });\n        }\n    }\n   \n   // bind the data with the regions, as we\'ve no actual data a plain roundrobin\n   var regions = ["CH-AG","CH-AI","CH-AR","CH-BE","CH-BL","CH-BS","CH-FR","CH-GE","CH-GL","CH-GR","CH-JU","CH-LU","CH-NE","CH-NW","CH-OW","CH-SG","CH-SH","CH-SO","CH-SZ","CH-TG","CH-TI","CH-UR","CH-VD","CH-VS","CH-ZG","CH-ZH" ];\n   $node = $(node);\n   for ( var id = 0; id < regions.length; id++ ) {\n       \n       var region = regions[id];\n       var regData = data[ id % data.length ];    // data -> regionId\n       $node.find("#" + region)                      \n           .css({ fill: regData.color })\n           .click( function(d) { d.click(); }.bind(this,regData) );\n   }\n    \n}',html:'<!-- (c) ammap.com | SVG map of Switzerland - Low -->\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:amcharts="http://amcharts.com/ammap" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"\n     style="width:100%;height:100%" viewbox="0 0 611.8 391.06">\n\t<defs>\n\t\t<style type="text/css">\n\t\t\t.land\n\t\t\t{\n\t\t\t\tfill: #CCCCCC;\n\t\t\t\tfill-opacity: 1;\n\t\t\t\tstroke:white;\n\t\t\t\tstroke-opacity: 1;\n\t\t\t\tstroke-width:0.5;\n\t\t\t}\n\t\t</style>\n\n\t</defs>\n\t<g>\n\t\t<path id="CH-AG" title="Aargau" class="land" d="M337.26,138.22l3.25,-2.57l1.79,2.51l-0.09,2.61l0,0l-2.66,-2.35L337.26,138.22zM306.15,40.64l4.2,-2.07l1.12,1.24l2.54,-0.34l1.78,1l0.11,3.35l3.95,3.43l7.6,1.16l2.11,-2.23l2.83,1.59l0,0l-0.45,4.42l-3.05,4.06l-1.47,-0.16l-0.53,2.67l-2.2,0.56l-0.53,1.63l0.8,4.16l1.38,0.08l0.17,1.83l-1.21,0.96l2.94,3.12l-0.95,1.03l0.49,2.01l-1.43,0.54l1.71,0.93l0.3,1.91l-1.92,3.78l2.5,1.97l0.32,2.54l1.52,1.45l-0.47,4.73l1.66,1.89l-0.38,2.16l2.95,0.14l2.64,-1.61l-3.54,6.53l-4.22,2.54l-1.2,-0.36l2.7,7.99l0,0l-1.93,4.73l1.44,5.96l-0.5,3.6l1.81,2.59l-0.43,4.73l0,0l-2.5,0.42l-4.28,-1.5l-5.75,-13.87l-0.94,-5.76l-2.13,-2.73l0.43,-2.48l-5.36,-3.01l-1.2,0.1l-1.13,2.76l-1.93,-0.18l-1.09,4.18l-2.05,1.94l-0.04,3.33l-2.52,0.69l-1.16,0.14l-2.9,-3.25l2.67,-0.51l-0.34,-2.44l-6.33,2.16l-2.31,-0.59l-1.29,-3.03l-1.34,-0.59l-2.24,1.6l-2.12,-0.14l0.59,1.88l-4.41,1.07l-1.74,-0.71l0.09,-2.99l-2.89,-4.38l-1.31,1.13l-4.75,0.22l1.48,4.2l-3.76,3.49l-3.1,-1.68l-7.47,2.2l-3.12,-1.21l0,0l-0.62,-5.41l0,0l1.93,-1.49l2.78,-6.54l3.63,-0.87l2.47,-6.27l1.71,1.77l3.76,0.32l0.27,3.04l7.52,-3.95l0.74,-4.01l2.16,-2.34l-0.07,-5.38l-1.71,-0.1l-0.65,-2.66l-6.26,-2.68l0,0l0,0l0,0l2.7,-1.17l0.46,1.11l0.24,-1.37l-1.66,-5.73l-1,-0.82l-1.58,1.41l0,0l-0.76,-1.39l-1.34,-0.02l0.66,-4.46l-5.36,0.06l-1.63,-4.18l-2.41,-1.35l0.03,-2.01l-1.58,0.72l-1.31,-2.97l-2.9,0.12l-0.42,3.78l-3.06,3.46l-2.35,0.78l0.11,-5.08l-6.65,-1.79l-0.24,-1.1l-3.39,-1.16l0,0l10.89,-3.47l3.51,-6.06l2.63,1.16l6.76,-1.04l2.37,3.17l0.42,4.21l4.2,1.3l2.08,-2.79l8.34,1.44l6.34,-2.77l3.04,1.32l2.44,-4.68l3.66,-0.54l1.67,-2.35l2.29,0.26l4.92,-5.13l2.27,0.48L306.15,40.64z"/>\n\t\t<path id="CH-AI" title="Appenzell Inner-Rhoden" class="land" d="M456.81,110.7l-3.68,-7.95l0.66,-3.39l-1.16,-2.46l4.83,-4.68l-0.2,-1.41l2.82,-1.17l-1.97,-4.98l3.86,-0.71l0.03,1.17l2.13,0.08l2.29,2.24l2.44,-0.46l1.05,2.88l3.74,2.01l5.01,-0.18l0,0l-2.02,11.78l-3.56,4.8l-3.21,2.66l-7.46,3.37L456.81,110.7zM479.49,82.17l0.23,-1.55l2.9,-1.63l-1.2,-0.68l0.24,-1.51l2.1,-2.01l2.17,1.13l1.16,-2.49l1.78,0.95l5.34,-0.76l0,0l-3.95,2.33l2.17,2.33l-3.39,0.64l-4.64,3.74l-0.35,-1.53L479.49,82.17z"/>\n\t\t<path id="CH-AR" title="Appenzell Ausser-Rhoden" class="land" d="M456.81,110.7L454.23,111.93L452.4,109.39L450.93,109.73L447.79,107.31L445.53,108.5L442.83,108.28L438.5,105.9L441,102.79L439.08,97.06L442.28,94.77L440.79,92.67L438.59,93.35L437.72,91.78L438.74,90.09L437.2,90.63L436.58,88.8L439.48,88.3L441.87,81.85L446.62,81.01L451.48,82.24L460.86,79.7L463.85,80.99L466.25,80.62L469.21,78.49L469.69,74.33L472.04,74.93L482.56,70.42L481.92,68.84L482.91,67.55L491.22,69.54L495.78,72.31L494.22,73.64L494.22,73.64L488.88,74.39L487.1,73.44L485.94,75.92L483.76,74.79L481.66,76.8L481.42,78.31L482.62,78.99L479.72,80.62L479.49,82.17L479.49,82.17L478.15,87.23L478.65,91.68L478.65,91.68L473.64,91.86L469.91,89.85L468.86,86.97L466.41,87.43L464.12,85.19L461.99,85.11L461.96,83.93L458.1,84.65L460.07,89.63L457.25,90.8L457.46,92.21L452.63,96.9L453.79,99.36L453.12,102.75z"/>\n\t\t<path id="CH-BE" title="Bern" class="land" d="M153.24,179.66l1.69,0.63l-1.77,1.61l-1.01,-0.79l0,0L153.24,179.66zM159.1,176.47l0.5,2.4l-2.52,1.4l-0.62,-3.09l1.9,-0.45l0,0L159.1,176.47zM216.17,96.72l-3.44,5.65l-6.37,2l-2.47,3.79l-6.76,2.32l-0.16,2.6l-7.29,4.28l-2.93,0.34l1.89,5.13l1.46,-0.81l1.77,1.7l1.79,4.02l-1.17,0.24l0.15,1.05l3.86,-0.43l2.63,-2.73v-1.52l2.05,0.61l0.22,-1.74l3.62,-0.24l0.39,3.19l2.48,0.85l-2.9,3.36l-3.37,-0.49l-1.46,2.39l-1.86,0.61l-0.53,1.03l2.32,2.39l-4.69,1.05l-2.46,-1.5l-2.09,0.83l2.63,5.83l5.82,-1.7l1.13,5.16l4.52,-2.13l-1.82,-4.54l6.64,-3.6l2.5,-4.35l-0.82,-2.53l3.1,0.08l2.23,-1.5l2.29,1.5l0.84,2.49l4.1,-1.72l3.97,1.44l1.86,-3.86l1.86,-0.02l-0.26,-5.22l-3.12,-1.33l-1.08,-5.44l-2.86,0.08l-3.13,-3.37l-0.27,-4l-1.83,-1.94l9.82,-1.45l4.28,-2.18l6.5,6.88l3.23,0.1l2.42,-1.76l1.51,2.34l2.25,-2.44l1.66,1.41l1.67,-0.99l0,0l0.62,5.41l0,0l5.25,10.83l0.9,6.17l1.69,2.49l-0.44,2.33l-2.52,1.94l1.84,5.99l-1.66,8.23l3.27,3.65l1.09,4.28l3.1,-0.81l1.12,1.28l3.04,0.06l-0.38,4.48l-0.85,2.56l-1.87,1.44l-0.31,2.52l-2.12,2.96l-3.12,0.06l-3.2,3.31l2.06,2.38l-3.49,4.37l0.15,2.05l1.61,1.48l0.07,3.78l10.31,7.8l3.75,5.28l1.51,0.65l4.94,-2.77l3.67,0.29l0,0l5.46,0.14l1.77,2.67l2.65,0.63l3.22,2.98l5.88,-2.94l5.75,1.69l0.99,-1.79l2.69,1.2l1.27,2.04l1.89,0.2l7.22,-5.42l4.37,-1.39l0,0l3.56,3.08l0,0l0.2,1.3l2.43,-1.83l3.2,0.45l1.27,0.29l0.07,1.32l0,0l-1.27,2.12l0.3,3.14l1.23,1.33l-0.31,3.2l0.96,0.77l-0.35,4.18l-3.29,0.47l-3.86,-1.24l0,0v0.94l0,0l-0.23,2.49l1.74,4.33l0,0l-1.56,-0.27l-0.62,1.82l-3.02,2.29l-1.44,6.87l0.78,2.68l-2.23,3.13l-4.68,2l-1.59,2.46l-6.22,3.21l-10.43,1.86l-0.81,-2.17l-6.37,-1.09l-1.69,-1.88l-13.83,-3.21l-6.71,4.52l1.32,2.99l-0.46,1.76l-3.7,1.56l-2.44,3.03l-6.37,2.89l-4.25,-0.35l-17.44,12.38l-12.09,-5.91l-2.36,1.89l-1.93,4.78l-2.52,-1.05l-5.8,1.48l-0.67,1.79l3.64,2.2l-2.21,2.2l-6.91,1.44l-1.13,-2.83l-2.36,1.66l-3.16,-1.89l-5.29,1.97l-6.11,5.05l-5.22,1.23l-0.93,-1.36l0.27,-4.64l-1.75,1.87l-4.75,1.35l0.05,3.9l-1.42,1.66l-4.15,0.12l0,0l-0.35,-5.42l1.39,-0.8l-1.85,-0.23l-0.94,-3.18l-2.02,-0.02l2.17,-7.29l-2.31,-3.57l0.31,-1.25l3.62,-0.18l1.43,-2.4l-1.09,-6.42l1.62,-0.29l-0.47,-1.31l1.52,-1.02l0.72,-3.42l-1.63,-7.15l0,0l2.58,-1.21l3.44,-4.83l2.77,0.94l2.54,-2.37l-1.16,-6.17l0.15,-2.41l2.17,-1.12l-1.09,-2.57l3.31,-0.12l1.52,3.19l2.63,-3.27l-0.96,-0.08l1.44,-6.62l-2.4,-1.73l-2.23,0.06l0.5,-2.67l-5.61,-0.94l-1.5,-2.04l0.96,-6.1l-1.74,-2.77l1.88,-2.02l-0.44,-1.94l2.51,-4.48l0,0l0.11,-0.94l0,0l1.44,-2.28l-3.94,-3.87l1.85,-2.04l1.93,0.79l-0.65,1.32l3.43,-0.53l1.15,-1.63l-1.08,-5l-3.48,-1.08l-6.25,0.79l-2.55,-1.57l-3.24,0.02l-0.8,-1.22l-1.65,1.16l-1.19,-0.94l-2.82,0.47l2.62,-1.75l-0.36,-2.48l1.02,-1.34l-1.29,-1.85l1.07,-3.72l-2.1,-1.44l2.54,-0.59l2.9,-3.49l-2.62,-4.38l-8.16,4.1l-8.36,1.93l-5.96,-0.29l0,0l0,0l0,0l-1.21,-0.35l0,0l-2.14,-5.28l1.13,-4.93l7.18,-5.49l-1.32,-3.36l1.34,-1.92l-1.4,-2.07l-4.86,-2.53l-1.56,1.07l-0.7,-1.66l2.21,-2.51l-1.35,-0.53l-12.53,3.62l-0.97,-0.79l-8.51,5.45l2.96,-9.13l-3.6,-6.8l0,0l1.36,-1.7l1.59,4.81l6.23,-3.76l1.54,-2.95l1.51,-0.61l0.46,1.27l1.86,-0.1l1.36,1.43l2.21,-3.78l3.72,-0.44l3.16,-6.14l1.54,-0.81l0.15,-2.3l2.62,-0.97l1.42,2.16l1.79,-1.23l7.02,-0.97l-1.63,-2.34l0.9,-2l2.52,-1.01l-0.63,-3.81l5.63,-0.3l0.63,1.29l9.85,0.83l4.39,-0.59l2.94,-3.57l5.8,-1.94l15.39,2.58L216.17,96.72zM170.32,173.76L170.32,173.76l0.05,1.79l2.09,-1.02l0.12,-1.75l-1.24,0.43L170.32,173.76zM234.13,127.69L234.13,127.69l-1.62,0.59l-0.53,1.92l1.97,0.04l0.67,-1.78L234.13,127.69zM216.17,96.72l-4.05,-0.02l3.27,-4.58l0,0l2.65,3.14L216.17,96.72zM185.14,73.18l7.11,1.89l0,0l-0.74,3.32l0,0l-2.45,-0.14l-2.25,-2.82l-2,-0.58L185.14,73.18z"/>\n\t\t<path id="CH-BL" title="Basel-Landschaft" class="land" d="M268.7,72.7L269.92,70.14L269.17,68.75L267.83,68.72L268.49,64.27L263.14,64.33L261.51,60.15L259.09,58.79L259.12,56.78L257.54,57.5L256.23,54.53L253.33,54.65L252.91,58.43L249.85,61.9L247.5,62.68L247.61,57.6L240.96,55.81L240.72,54.71L237.33,53.55L234.71,55.05L231.97,54.89L226.45,49.23L224.26,49.71L224.54,53.48L220.91,57.56L219.7,53L217.77,52.68L215.92,48.53L208.16,53.67L208.51,55.85L210.82,54.57L212.37,55.69L211.32,58.61L208.73,58.53L207.94,57.44L209.52,61.08L212.71,61.86L213.35,63.15L212.09,66.58L212.5,69.08L207.07,69.62L202.64,71.43L200.65,69.12L198.74,69.7L197.65,72.25L199.88,72.17L201.62,74.14L202.33,75.71L201.51,77.97L197.48,79.11L192.66,78.53L193.25,80.64L196.73,82.48L196.36,85.19L199.61,85.38L200.6,80.93L205.17,81.05L205.48,83.26L208.65,84.31L210.9,83.56L212.54,80.6L211.8,78.91L219.17,78.23L217.59,76.92L217.56,73.86L219.48,75.43L223.95,74.61L225.08,68.57L222.42,67.21L222.83,63.39L227.32,64.79L229.4,63.85L228.42,62.97L229.18,62.16L230.8,61.98L231.3,64.27L235.49,65.4L236.6,67.11L235.21,70.32L233.5,71.25L232.67,77.34L230.26,79.15L226.27,79.13L226.35,84.63L227.47,85.07L227.78,87.71L235.29,86.67L239.19,87.45L241.04,91.12L244.67,93.37L248.1,92.67L249.36,88.78L252.7,88.26L254.22,86.24L259.46,84.43L258.23,82.01L260.08,80L263.54,81.45L270.76,76.7z"/>\n\t\t<path id="CH-BS" title="Basel-Stadt" class="land" d="M232.34,43.27L231.47,44.35L233.67,47.08L233.36,48.41L232.92,47.58L232.19,48.69L226.45,49.23L226.45,49.23L224.26,49.71L224.54,53.47L220.91,57.56L219.7,53L217.77,52.68L215.92,48.53L215.92,48.53L217.2,46.14L219.52,46.48L220.41,43.47L224.28,46.12L228.15,42.55L231.72,43.29L234.23,41.49z"/>\n\t\t<path id="CH-FR" title="Fribourg" class="land" d="M110.43,209.44l0.27,0.29l0,0l1.38,0.35l-1.23,4.2l0,0l-0.81,1l0,0l-1.2,0.69l-1.85,-2.79l3.28,-3.87l0,0L110.43,209.44zM120.74,204.83l0.36,0.04l0,0l0.47,1.22l0,0l0.59,1.02l0,0l2.86,2.69l-2.01,4.12l0,0l-0.45,0.59l0,0l-4.8,-2.02l-2.52,1.61l-2.85,-0.14l0.65,-1.55l2.32,-0.27l0,0l0.82,-0.22l0,0l4.33,-7.11l0,0L120.74,204.83zM122.85,178.36l4.06,5.16l3.36,2.36l-3.62,1.85l2.58,-0.77l2.27,2.6l-3.59,5.11l0.94,2.81l-0.77,1.32l0.94,0.49l1.13,-1.51l1.47,1.06l-2.71,5.05l-0.23,-0.81l-4.21,1.41l-2.59,-2.3l-4.61,2.93l-2.74,-2.47l-0.9,0.51l-2.29,-2l-0.5,0.79l1,-2.73l-0.81,0.49l-4.9,-5.31l5.13,-4.99l0,0L122.85,178.36zM171.34,173.2l1.24,-0.43l-0.12,1.75l-2.09,1.02l-0.05,-1.79l0,0L171.34,173.2zM147.61,164.99l5.96,0.3l8.36,-1.93l8.16,-4.1l2.62,4.38l-2.9,3.49l-2.54,0.59l2.1,1.44l-1.07,3.72l1.3,1.85l-1.03,1.34l0.36,2.48l-2.62,1.75l2.82,-0.47l1.19,0.94l1.65,-1.16l0.8,1.22l3.24,-0.02l2.55,1.57l6.25,-0.79l3.48,1.08l1.08,5l-1.15,1.63l-3.43,0.53l0.65,-1.32l-1.93,-0.79l-1.85,2.05l3.94,3.87l-1.44,2.28l0,0l-0.11,0.94l0,0l-2.51,4.48l0.45,1.94l-1.88,2.02l1.74,2.77l-0.96,6.1l1.5,2.04l5.61,0.94l-0.5,2.67l2.23,-0.06l2.4,1.73l-1.44,6.62l0.96,0.08l-2.63,3.27l-1.52,-3.19l-3.31,0.12l1.09,2.57l-2.17,1.12l-0.15,2.41l1.16,6.17l-2.54,2.37l-2.77,-0.94l-3.44,4.83l-2.58,1.21l0,0l-3.82,4.18l-2.12,-2.74l-3.98,3.44l-2.08,0.06l-3.36,5.96l-3.09,2.21l-5.32,-0.1l-5.34,5.19l-0.43,2.6l-4.67,1.89l1.11,-2.05l-1.71,-2.3l0.24,-2.99l-1.25,-3.18l-2.36,-2.03l-2.52,0.12l-3.28,-2.33l-2.08,1l0.22,-2.52l-4.68,5.26h-2l-4.95,-6.19l1.93,-3.56l0.71,1.15l3.35,-0.72l0.81,2.11l4.36,-5.75l0,0l1.13,-0.27l0,0l-0.54,-1.86l-1.86,1.72l-1.36,-0.63l-1.13,-2.5l0,0l-0.31,-0.23l0,0l-2.25,-1l-1.81,1.55l-2.52,-1.98l-0.14,1.47l-2.47,0.57l1.19,-6.4l-0.66,-7.91l2.67,0.25l2.02,-2.84l2.69,1.39l1.92,-1l0.53,-2.53l-1.17,-1.49l3.87,-2.88l0.5,-1.98l5.34,-5.2l0.78,-2.18l-1.39,-1.98l-1.42,0.57l-1.59,-1.24l0.81,-1.08l0.8,0.63l3.01,-4.75l2,-0.71l1.32,-2.93l-1.4,-2.4l1,-2.5l2.87,1.12l1.03,-2.18l-1.28,-1.2l0.93,-2.1l-1.67,0.77l-0.5,-1.44l2.01,-3.99l-1.15,-1.67l-0.93,-1.08l-2.06,1.16l0.96,3.01l-3.63,-4.72l-1.75,-0.53l0.67,-1.3l-4.53,-5.14l0,0l4.41,-5.36l0,0l4.79,5.55l2.94,0.98l-0.74,2.05l3.89,3.96l-2.21,2.03l0.76,0.9l1.24,0.24l1.09,-1.48l2.6,1.48l-0.81,1.38l1.3,1.2l-1.32,1.91l0.89,0.89l4.64,-5.21l-1.23,-2.22l2.91,-2.4l0,0l1.01,0.79l1.77,-1.61l-1.69,-0.63l0,0l-4.53,-7.05l0.8,-6.25L147.61,164.99zM156.46,177.18l0.62,3.09l2.52,-1.4l-0.5,-2.4l0,0l-0.74,0.26L156.46,177.18z"/>\n\t\t<path id="CH-GE" title="Genève" class="land" d="M22.79,294.33l2.47,2.73l7.52,3.8l2.87,-5.35l0,0l3.7,1.64l0.61,2.55l-2,2.55l3.12,5.04l2.42,-0.02l2.32,-2.39l0.16,1.71l1.69,-0.21l0.03,2.33l-1.94,3.67l-6.38,3.91l-2.15,-0.16l-6.06,5.01l0.2,2.47l-8.15,5.36l-4.53,-0.56l-0.3,-1.75l-5.48,-0.04l-2.12,3.28l-1.07,-1.15l-4.65,-0.76l-4.91,3.16l3.39,-8.7l0.65,0.72l0.97,-2.33l-4.05,-2.93L3.2,314l1.62,0.33l-0.23,-1.38l1.3,0.5l4.48,-3.73l1.83,1.34l1.92,-2.66l1.43,0.66l1.97,-1.09l2.36,1.77l2.79,-2.43l-3.01,-6.63l2.43,-1.93L22.79,294.33zM30.1,288.19l0.35,1.15l0,0l-1.83,0.14l0.82,-1.19l0,0l0.05,-0.31l0,0l0.31,-0.06l0,0L30.1,288.19zM37.32,291.87l-4.82,-2.3l-3.43,-3.16l1.31,-1.27l8.16,4.19l0,0L37.32,291.87z"/>\n\t\t<path id="CH-GL" title="Glarus" class="land" d="M411.57,126.22L420,135.02L429.02,134.73L436.4,136.09L436.31,147.25L434.41,150.13L429.61,152.88L435.23,155.44L438.96,153.51L443.37,157.08L444.5,161.24L442.55,171.04L444.46,173.54L444.21,176.97L444.21,176.97L441.32,178.97L438.11,183.62L435.95,184.72L431.32,184.25L431.83,185.33L429.62,187.75L425.75,190.05L423.46,185.82L419.02,185.19L416.85,186.88L416.89,190.09L411.8,197.72L400.95,200.59L399.29,200.08L399.01,197.6L394.1,197.31L394.1,197.31L394.65,194.38L393.4,191.58L404.83,184.76L404.34,179.96L401.94,176.2L401.94,176.2L405.81,174.66L404.73,172.53L406.77,168.3L403.34,166.8L401.53,163.79L402.76,162.74L399.89,160.2L398.69,157.12L396.34,155.88L397.76,155.17L397.67,152.98L400.39,152.98L403.91,150.79L407.47,143.66L404.64,142.41L406.9,140.04L406.44,133.68z"/>\n\t\t<path id="CH-GR" title="Graubünden" class="land" d="M485.45,149.3L486.25,150.82L492.28,148.28L496.23,150.37L497.77,148.77L502.56,148.16L503.76,149.6L506.36,149.94L507.74,151.91L512.2,153.29L516.41,152.98L523.68,157.99L526.9,155.98L529.41,156.47L528.39,158.58L530.74,160.51L531.2,162.64L528.33,167.71L529.38,168.85L529.05,173.32L537.43,177.69L542.61,177.16L544.39,179.86L548.2,180.02L552.69,185.06L553.14,187.81L557.47,187.95L560.02,191.86L562.34,190.48L568.53,190.03L571.9,186.87L576.9,186.9L577.39,183.3L576.18,180.88L578.39,173.99L585.77,176.28L588.31,175.19L587.22,170.8L589.82,169.56L592.5,162.44L595.82,162.23L597.69,160.39L599.43,161.02L603.26,165.15L603.26,168.69L607.09,169.58L611.68,172.55L609.84,181.67L608.42,183.13L609.17,190.31L607.26,194.18L607.24,197.09L605.09,200.78L602.38,201.73L605.05,205.36L605.59,208.42L599.83,213L602.03,215.98L601.81,217.61L597.77,222.64L599.97,232.25L605.98,231.42L611.96,236.81L609.65,250.25L607.94,250.76L606.91,252.6L601.98,248.69L599.09,249.96L593.23,247.65L591.49,250.31L589.81,248.67L587.66,249.45L585.6,248.76L584.33,244.68L581.81,243.44L579.85,244.56L578.85,243.62L578.19,240.72L580.59,236.91L577.95,232.29L574.57,235.52L571.13,233.83L563.16,237.91L559.42,236.95L559.21,242.62L556.56,243.95L556.66,246.32L551.64,250.82L552.97,254.73L551.36,257.09L552.14,258.73L551.38,262.64L552.88,265.39L551,269.3L553.34,270.29L553.96,272.79L556.02,272.6L556.56,273.94L558.94,274L563.12,272.01L564.96,272.65L565.72,275.76L567.22,274.96L568,275.97L567.59,280.22L564.62,280.77L562.97,282.4L563.04,285.58L560.19,287.39L559.84,291.35L561.35,294.93L566.59,299.21L569.45,306.1L563.81,312.01L557.91,311.57L555.13,313.59L551.75,311.24L553.8,307.5L553.1,304.41L545.74,300.95L544.85,299.51L545.84,294.95L543.1,293.2L545.14,287.55L540.83,285.15L539.73,282.35L536.58,283.18L535.54,284.78L533.01,281.88L528.41,285.25L523.64,285.48L515.58,290.76L511.26,287.61L510.03,287.88L508.44,289.3L507.48,292.98L508.51,294.83L506.9,298.9L503.56,298.83L501.59,297.15L495.95,300.34L492.48,298.63L489.13,298.55L485.76,296.24L484.48,297.19L480.53,292.38L477.92,284.53L473.01,283.03L473.69,279.29L471.89,274.02L473.27,262.74L470.69,261.19L472.51,260.51L473.09,256.64L469.33,258.56L466.02,264.89L461.07,261.43L460.22,259.48L461.04,257.81L459.45,256.72L447.96,259.26L447.39,266.92L443.99,268.67L443.87,269.92L444.6,272.48L448.24,275.4L447.84,279.46L448.77,280.83L447.54,283.91L450.39,287.08L449.85,290.78L450.68,292.48L448.6,295.13L448.85,298.05L444.52,303.98L444.02,310.38L440.23,310.65L439.97,313.98L437.56,315.86L436.65,320.89L434.83,323.05L432.39,323.03L432.39,323.03L429.23,321.05L426.49,316.77L422.53,314.4L421.14,305.32L418.05,299.49L420.93,295.2L419.44,292.63L419.79,290.65L420.33,289.25L422.71,288.23L423.65,283.52L422.88,277.24L424.67,276.01L422.82,271.89L423.59,266.43L422.17,263.5L417.4,262.72L413.88,256.62L413.41,249.14L416.54,241.57L415.27,239.08L411.33,236.83L405.59,238.53L404.35,232.78L402.86,235.44L400.31,234.52L398.03,236.12L399.39,239.73L398.63,241.33L389.73,246.08L388.08,246.36L387.66,244.64L383.71,246.05L377.18,243.72L375.51,244.42L373.96,243.5L372.35,244.64L372.35,244.64L372.35,244.64L372.35,244.64L369.92,242.66L367.32,243.05L367.32,243.05L367.31,235.79L363.65,232.23L364.05,229.23L367.28,226.25L366.75,220.82L369.63,218.82L371.38,219.61L376.51,215.98L376.7,212.39L378.88,210.74L381.26,213.94L385.4,212.21L386.19,207.21L388.27,206.4L387.49,201.49L389.78,201.12L394.1,197.31L394.1,197.31L399.01,197.6L399.29,200.08L400.95,200.59L411.8,197.72L416.89,190.09L416.85,186.88L419.02,185.19L423.46,185.82L425.75,190.05L429.62,187.75L431.83,185.33L431.32,184.25L435.95,184.72L438.11,183.62L441.32,178.97L444.21,176.97L444.21,176.97L446.66,179.54L452.3,178.95L453.42,179.94L465.96,181.61L471.24,185.41L471.97,182.85L473.86,182.3L473.75,180.02L476.5,177.58L475.28,176.93L475.44,174.96L478.76,169.36L480.63,168.77L480.75,165.91L484.25,164.85L474.95,150.02L474.95,150.02L475.78,149.32L476.33,150.73L477.26,149.29L483.45,147.63z"/>\n\t\t<path id="CH-JU" title="Jura" class="land" d="M145.67,61.7L151.05,63.87L156.39,62.4L158.12,60.78L163.88,63.65L168.04,62.68L165.99,64.9L163.75,72.66L167.32,74.29L172.15,73.58L173.62,77.16L178.8,74.57L185.14,73.18L185.14,73.18L184.81,74.85L186.8,75.43L189.06,78.25L191.51,78.39L191.51,78.39L192.66,78.53L192.66,78.53L193.25,80.64L196.73,82.48L196.35,85.19L199.61,85.38L199.61,85.38L203.42,87.23L211.59,86.87L211.33,88.32L213.66,89.24L213.57,91.68L215.39,92.11L215.39,92.11L212.13,96.7L216.17,96.72L216.17,96.72L216.17,96.72L216.17,96.72L207.58,100.81L192.19,98.23L186.38,100.17L183.44,103.74L179.06,104.34L169.21,103.5L168.58,102.21L162.95,102.51L163.58,106.32L161.06,107.33L160.16,109.33L161.79,111.67L154.77,112.64L152.98,113.87L151.56,111.71L148.95,112.68L148.8,114.98L147.26,115.79L144.1,121.93L140.38,122.36L138.17,126.14L136.8,124.72L134.94,124.82L134.48,123.55L132.97,124.16L131.43,127.11L125.2,130.87L123.61,126.06L122.25,127.76L122.25,127.76L121.76,127.94L121.76,127.94L119.39,126.72L123.77,124.2L124.63,121.14L134.77,112.68L133.12,103.84L140.32,102.33L142.92,98.64L142.17,96.38L147,95.95L149.09,92.71L147.6,91.8L147.38,88.9L143,86.81L140.01,88.7L130.42,90.19L127.79,89.43L124.46,90.78L125.21,86.56L129.13,83.71L129.14,80.58L132.36,80.26L132.7,74.87L135.28,74.73L136.98,72.21L141.05,70.73L138.5,62.7L143.54,60.64z"/>\n\t\t<path id="CH-LU" title="Lucerne" class="land" d="M253.1,113.29L256.22,114.5L263.69,112.3L266.79,113.99L270.56,110.5L269.07,106.3L273.82,106.08L275.13,104.95L278.02,109.33L277.92,112.32L279.66,113.04L284.08,111.97L283.48,110.08L285.6,110.22L287.84,108.62L289.18,109.21L290.47,112.24L292.78,112.84L299.11,110.68L299.44,113.12L296.77,113.63L299.67,116.88L300.83,116.74L303.36,116.05L303.4,112.72L305.45,110.78L306.54,106.6L308.47,106.77L309.6,104.02L310.8,103.92L316.16,106.93L315.73,109.41L317.86,112.14L318.8,117.91L324.55,131.78L328.83,133.28L331.32,132.87L331.32,132.87L332.12,136.48L336.1,135.08L336.75,137.99L336.75,137.99L332.17,140.71L328.26,147.67L329.73,148.79L335.11,148L344.99,156.33L344.23,159.53L338.99,161.08L338.99,161.08L339.28,158.7L333.37,157.12L333.52,160.71L327.92,160.91L327.45,157.02L325.39,156.63L320.92,162.6L318.78,160.65L314.85,161.62L311.75,160.93L309.04,163.27L306.74,162.03L305.35,164.53L306.85,166.09L306.85,166.09L306.85,166.09L306.85,166.09L303.1,167.2L301.13,166.35L296.27,168.91L298,172.89L294.09,175.86L290.9,181.87L290.51,178.78L288.66,177.97L285.52,180.9L284.95,187.69L281.63,192.75L284.56,198.31L282.48,202.37L282.48,202.37L278.81,202.08L273.88,204.85L272.37,204.2L268.62,198.92L258.31,191.11L258.24,187.34L256.63,185.86L256.49,183.82L259.98,179.45L257.92,177.06L261.11,173.76L264.23,173.7L266.35,170.74L266.66,168.22L268.53,166.78L269.38,164.22L269.76,159.74L266.73,159.68L265.61,158.4L262.5,159.21L261.41,154.93L258.15,151.28L259.81,143.04L257.97,137.06L260.49,135.12L260.94,132.79L259.25,130.3L258.35,124.12z"/>\n\t\t<path id="CH-NE" title="Neuchâtel" class="land" d="M122.25,127.76L125.85,134.57L122.89,143.7L131.41,138.24L132.38,139.03L144.91,135.42L146.26,135.95L144.05,138.46L144.75,140.12L146.31,139.05L151.17,141.58L152.58,143.66L151.24,145.57L152.56,148.93L145.38,154.42L144.25,159.35L146.4,164.63L146.4,164.63L141.34,163.17L131.41,169.88L131.41,169.88L127,175.23L127,175.23L122.85,178.36L122.85,178.36L111.26,189.4L111.26,189.4L107.97,186.02L104.91,186.29L105.85,181.12L102.72,178.92L103.17,172.97L93.32,178.11L90.6,182.5L86.68,183.46L86.68,183.46L84.92,183.46L84.92,183.46L76.63,188.77L70.91,190.78L67.89,189.64L67.89,189.64L68.44,182.22L64.13,174.82L72.89,165.72L73.99,167.31L91.32,160.97L94.98,155.13L102.91,150.61L99.22,147.39L101.2,145.85L100.7,144.45L103.82,142.55L105.96,142.63L105.98,139.23L114.6,135.06L121.76,127.94L121.76,127.94z"/>\n\t\t<path id="CH-NW" title="Nidwalden" class="land" d="M306.85,166.09L305.35,164.53L306.74,162.03L309.04,163.27L311.75,160.93L314.85,161.62L318.78,160.65L320.92,162.6L325.39,156.63L327.45,157.02L327.92,160.91L333.52,160.71L333.37,157.12L339.28,158.7L338.99,161.08L338.99,161.08L338.65,163.65L342.66,165.13L349.16,164.53L352.94,162.37L352.94,162.37L353.36,163.96L350.74,167.73L351.17,172.26L349.27,172.36L349.36,174.7L343.74,177.5L341.47,176.63L340.73,178.66L337.79,180.61L339.11,180.94L340.39,183.34L339.01,185.02L339.42,189.19L339.42,189.19L332.47,189.74L331.55,186.22L326.45,190.46L327.76,186.96L327.18,185.45L325.91,185.72L326.28,196.91L328.19,197.64L327.78,199.21L329.5,200.9L332.42,202.1L333.43,204.65L329.19,205.46L329.19,205.46L325.63,202.37L325.63,202.37L319.26,195.99L321.07,194.53L320.22,184.68L322.2,177.48L321.79,174.54L317.62,175.51L314.8,173.66L317.64,170.05L317.22,165.28L310.47,164.5z"/>\n\t\t<path id="CH-OW" title="Obwalden" class="land" d="M329.19,205.46l4.24,-0.81l-1.01,-2.55l-2.91,-1.2l-1.73,-1.69l0.42,-1.57l-1.92,-0.73l-0.36,-11.19l1.27,-0.28l0.58,1.51l-1.31,3.5l5.1,-4.25l0.92,3.52l6.95,-0.55l0,0l3.71,0.39l1.09,1.44l-2.47,2.1l-0.7,5.97l-2.47,0.67l1.11,1.04l1.09,-0.57l-0.36,1.75l1.73,3.24l-5.79,1.77l0,0l-0.07,-1.32l-1.27,-0.29l-3.2,-0.45l-2.43,1.83L329.19,205.46zM306.85,166.09l3.62,-1.6l6.76,0.79l0.42,4.77l-2.85,3.6l2.82,1.85l4.17,-0.96l0.42,2.93l-1.98,7.2l0.85,9.85l-1.81,1.45l6.37,6.39l0,0l-4.37,1.39l-7.22,5.42l-1.89,-0.2l-1.27,-2.04l-2.68,-1.2l-0.99,1.79l-5.75,-1.69l-5.88,2.94l-3.22,-2.98l-2.64,-0.63l-1.77,-2.67l-5.46,-0.14l0,0l2.08,-4.07l-2.93,-5.56l3.32,-5.05l0.57,-6.79l3.14,-2.93l1.85,0.81l0.39,3.09l3.18,-6l3.91,-2.97l-1.73,-3.98l4.86,-2.56l1.97,0.85L306.85,166.09z"/>\n\t\t<path id="CH-SG" title="Sankt Gallen" class="land" d="M459.25,59.71l-0.18,-0.66l0,0L459.25,59.71zM480.12,51.64l-8.59,9.52l0.07,1.69l2.04,1.57l10.28,-7.84l0,0l7.23,11.88l1.03,0.26l0.94,-1.45l1.31,1.91l5.17,1.41l-1.82,4.02l0.88,5.25l2.91,3.04v1.79L499,87.47l-4.02,0.4l-2.56,2.9l-2.87,7.74l-3.49,2.62l-1.5,3.93l-2.13,1.78l-6.02,17.65l3.18,8.78l1.31,8.24l-0.92,2.19l-5.42,4.01l0.41,2.31l0,0l9.29,14.83l-3.49,1.06l-0.12,2.86l-1.88,0.59l-3.32,5.59l-0.16,1.97l1.23,0.65l-2.75,2.44l0.11,2.28l-1.89,0.55l-0.73,2.56l-5.29,-3.8l-12.53,-1.67l-1.12,-0.98l-5.64,0.59l-2.46,-2.58l0,0l0.26,-3.43l-1.92,-2.5l1.96,-9.8l-1.13,-4.16l-4.41,-3.57l-3.72,1.93l-5.63,-2.57l4.8,-2.74l1.9,-2.88l0.08,-11.16l-7.38,-1.36l-9.01,0.3l-8.43,-8.8l0,0l-4.79,-8.53l-16.73,1.8l-2.91,-0.52l-2.19,-1.92l0,0l-1.69,-3.74l1.09,-1.53l6.48,-0.81l1.98,1.37l0.82,-1.62l8.11,-1.33l1.19,-1.39l0.89,-2.83l-1.94,-1.59l2.01,-0.75l1.24,-2.58l2.24,-0.42l1.4,-2.6l-1.79,-6.47l-1.54,-0.28l-2.24,-4.41l0,0l3.78,-3.1l0.71,-3.9l1.77,-0.5l-0.01,-3.28l3.04,-0.7l1.42,-1.59l1.97,1.21l0.17,-1.29l3.18,-0.74l-4.68,-2.88l0.2,-1.53l-2.6,-0.98l-0.66,-1.59l1.19,-1.79l4.02,-1.11l1.73,1.65l3.62,-1.55l0.97,2.55l3.08,-0.42l0.89,0.98l4.91,-1.59l1.47,-3.24l1.04,1.85l0.86,-0.6l0.43,1.19l3.55,0.48l0.47,1.97l1.52,-1.03l3.45,1.85l1.81,0.1l2.38,-1.67l2.36,1.11l3.02,-2.71l-0.55,-1.93l-1.2,0.56l1.2,-2.25l-1.78,-1.25l-1.7,1.75l-3,-1.02l1.55,0.34l0.26,-2.07l2.74,-1.12l1.42,0.74l0.77,-1.79l2.85,0.04l0.39,1.93l1.82,0.36l-2.64,3.6l4.94,0.14l-0.85,3.03l1.88,-0.4l2.21,2.35l1.2,-3.48l1.59,-0.42l11.63,-12.21l0,0L480.12,51.64zM478.15,87.23l1.33,-5.07l0,0l4.57,-1.03l0.35,1.53l4.64,-3.74l3.39,-0.64l-2.17,-2.33l3.95,-2.33l0,0l1.56,-1.33l-4.56,-2.77l-8.31,-1.99l-1,1.29l0.65,1.57l-10.52,4.51l-2.35,-0.6l-0.49,4.15l-2.95,2.13l-2.4,0.38l-3,-1.29l-9.38,2.54l-4.86,-1.23l-4.75,0.83l-2.39,6.46l-2.9,0.5l0.62,1.83l1.54,-0.54l-1.03,1.69l0.88,1.57l2.2,-0.67l1.48,2.1l-3.2,2.28l1.92,5.73l-2.5,3.11l4.33,2.38l2.7,0.22l2.27,-1.19l3.13,2.42l1.47,-0.34l1.83,2.54l2.58,-1.23l0,0l5.59,3.59l7.46,-3.37l3.21,-2.66l3.56,-4.8l2.02,-11.78L478.15,87.23z"/>\n\t\t<path id="CH-SH" title="Schaffhausen" class="land" d="M355.77,40.44l0.39,0.04l0,0l-5.14,10.41l-2.98,-5.9l3.43,-3.39l0,0l1.9,1.06L355.77,40.44zM385.2,15.99l-0.8,0.58l1.85,2.3l3.36,0.26l0.81,1.74l3.01,-0.02l0.2,1.94l-3,-0.4l1,0.72l-1.12,1.76l2.25,1.48l1.21,4.25l0,0l-3.53,0.68l0.81,-1.8l-3.2,-2.8l-3.53,-0.78l-1.47,0.76l0,0l0.4,-3l1.57,-0.9l-2.31,-2.24l-3.08,-0.36l0.08,-2.3l2.71,-2.04l1.13,0.3l-0.24,-1.52l1.43,-0.6L385.2,15.99zM353.44,1.62l5.65,0.22l0.2,6.31l1.35,1.7l3.13,-2.88l-1.07,-2.98l1.33,-2.38l1.5,2.32l2.51,0.74l1.35,5.72l2.74,-1.96l1.85,0.88l1.77,2.64l-2.56,0.74l-1.25,3.28l3.18,2.4l-1.25,4.52l0,0l-1.35,0.4l0,0l-1.94,-4.42l-2.4,0.96l-2.66,-1.02l-0.19,1.4l1.59,1.06l-2.27,1.66l0.69,1.54l0,0l-0.01,0.06l0,0l-2.44,-1.92l-2.59,0.52l0.16,2.76l-2.2,0.68l0.49,2.84l0,0l-1.44,-2.26l-3.63,2.06l-2.59,-1.56l-2.46,1.1v1.5l-1,-1.18l-0.9,0.58l0.42,2.96l-4.78,-0.28v1.06l-2.6,-1.68l0.16,2.16l-1.59,-1.58l0.57,-1.96l-3.08,0.5l-2.86,-2.4l-1.58,0.04l-0.88,-1.56l2.05,-2l-2.04,-2.88l5.02,-4.9l1.48,0.02l-0.65,-3.52l3.24,-4.56l5.05,-2.56l1.28,1l0.7,-1.54l3.51,-1.24l1.7,1.5l1.48,-0.74l-0.18,-1.84l-1.62,-0.78l0.45,-2.74L353.44,1.62z"/>\n\t\t<path id="CH-SO" title="Solothurn" class="land" d="M234.5,128.34l0.13,0.12l0,0l-0.67,1.78l-1.97,-0.04l0.53,-1.92l1.62,-0.59l0,0L234.5,128.34zM197.65,72.25l2.23,-0.08l1.74,1.97l0.71,1.57l-0.82,2.27l-4.03,1.13l-4.82,-0.58l0,0l-1.15,-0.14l0,0l0.74,-3.32l0,0L197.65,72.25zM270.76,76.7l-2.06,-4l1.23,-2.57l0,0l1.58,-1.41l1,0.82l1.66,5.73l-0.24,1.37l-0.46,-1.11L270.76,76.7zM270.76,76.7l6.26,2.68l0.65,2.66l1.71,0.1l0.07,5.38l-2.16,2.34l-0.74,4.01l-7.52,3.95l-0.27,-3.04L265,94.48l-1.71,-1.77l-2.47,6.27l-3.63,0.87l-2.78,6.54l-1.93,1.49l0,0l-1.67,0.99l-1.66,-1.41l-2.25,2.44l-1.51,-2.34l-2.42,1.76l-3.22,-0.1l-6.5,-6.88l-4.28,2.18l-9.82,1.45l1.83,1.94l0.27,4l3.13,3.37l2.86,-0.08l1.08,5.45l3.12,1.33l0.26,5.22l-1.86,0.02l-1.86,3.86l-3.97,-1.44l-4.1,1.72l-0.84,-2.49l-2.29,-1.5l-2.23,1.5l-3.1,-0.08l0.82,2.53l-2.5,4.35l-6.64,3.6l1.82,4.54l-4.52,2.13l-1.13,-5.16l-5.81,1.7l-2.63,-5.83l2.09,-0.83l2.46,1.5l4.69,-1.05l-2.32,-2.39l0.53,-1.03l1.86,-0.61l1.46,-2.39l3.37,0.49l2.9,-3.36l-2.48,-0.85l-0.39,-3.19l-3.62,0.24l-0.22,1.74l-2.05,-0.61v1.52l-2.63,2.73l-3.86,0.44l-0.15,-1.05l1.17,-0.24l-1.79,-4.02l-1.77,-1.7l-1.46,0.81l-1.89,-5.13l2.93,-0.34l7.29,-4.28l0.16,-2.6l6.76,-2.32l2.47,-3.79l6.37,-2l3.44,-5.65l0,0l0,0l0,0l1.86,-1.47l-2.64,-3.14l0,0l-1.82,-0.44l0.09,-2.44l-2.33,-0.91l0.26,-1.45l-8.16,0.36l-3.82,-1.85l0,0l1,-4.45l4.56,0.12l0.31,2.21l3.17,1.05l2.25,-0.75l1.65,-2.96l-0.74,-1.69l7.37,-0.68l-1.58,-1.31l-0.03,-3.06l1.92,1.57l4.47,-0.81l1.13,-6.05l-2.66,-1.35l0,0l0.4,-3.82l4.49,1.39l2.08,-0.94l-0.97,-0.88l0.76,-0.82l1.62,-0.18l0.5,2.29l4.2,1.13l1.11,1.71l-1.39,3.2l-1.71,0.94l-0.82,6.08l-2.42,1.81l-3.99,-0.02l0.08,5.5l1.12,0.44l0.31,2.64l7.51,-1.03l3.9,0.77l1.85,3.67l3.63,2.24l3.43,-0.69l1.27,-3.89l3.33,-0.52l1.52,-2.03l5.23,-1.81l-1.23,-2.42l1.85,-2.01l3.47,1.45L270.76,76.7zM209.52,61.08l3.18,0.78l0.65,1.29l-1.27,3.42l0.42,2.51l0,0l-5.44,0.54l-4.42,1.81l-2,-2.31l0,0l1.69,-2.39l-3.51,-1.81l-1.23,0.48l1.9,-3.44l5.92,3.48l4.18,-3.24L209.52,61.08z"/>\n\t\t<path id="CH-SZ" title="Schwyz" class="land" d="M384.95,117.06L387.14,118.98L390.05,119.49L406.78,117.69L411.57,126.22L411.57,126.22L406.44,133.68L406.9,140.04L404.64,142.41L407.47,143.66L403.91,150.79L400.39,152.98L397.67,152.98L397.76,155.17L396.34,155.88L398.69,157.12L399.89,160.2L402.76,162.74L401.53,163.79L403.34,166.8L406.77,168.3L404.73,172.53L405.81,174.66L401.94,176.2L401.94,176.2L393.68,181.14L391.87,181.16L390.74,182.91L390.17,177.46L388.58,178.56L387.31,173.09L385.1,171.9L382.04,174.01L379.7,171.92L371.25,176.69L369.23,170.72L366,171.31L359.8,169.52L357.43,169.91L357.17,163.02L354.56,161.75L352.94,162.37L352.94,162.37L349.16,164.53L342.66,165.13L338.65,163.65L338.99,161.08L338.99,161.08L344.23,159.53L344.99,156.33L335.11,148L329.73,148.79L328.26,147.67L332.17,140.71L336.75,137.99L336.75,137.99L337.26,138.22L337.26,138.22L339.55,138.42L342.21,140.77L342.21,140.77L346.27,143.04L351.55,141.96L352.02,144.39L357.83,141.76L362.1,141.96L364.96,137.83L366.67,137.59L367.79,135.95L368.29,132.43L370.45,130.65L369.29,128.16L369.29,128.16L367.67,125.03L370.81,120.56L382.73,116.64z"/>\n\t\t<path id="CH-TG" title="Thurgau" class="land" d="M483.91,56.58l-10.28,7.84l-2.04,-1.57l-0.07,-1.69l8.59,-9.52l0,0L483.91,56.58zM370.87,23.6l1.65,-0.32l0,0l1.35,-0.4l0,0l4.21,0.9l4.98,2.88l0,0l1.47,-0.76l3.53,0.78l3.2,2.8l-0.81,1.8l3.53,-0.68l0,0l3.58,1.22l16.08,-7.51l9.05,1.32l4.22,2.38l4.66,0.3l1.97,2.08l2.17,-0.24l37.6,18.5l5.67,1.49l0,0l-11.63,12.21l-1.59,0.42l-1.2,3.48l-2.21,-2.35l-1.88,0.4l0.85,-3.03l-4.94,-0.14l2.64,-3.6l-1.82,-0.36l-0.39,-1.93l-2.85,-0.04l-0.77,1.79l-1.42,-0.74l-2.74,1.12l-0.26,2.07l-1.55,-0.34l3,1.02l1.7,-1.75l1.78,1.25l-1.2,2.25l1.2,-0.56l0.55,1.93l-3.02,2.71l-2.36,-1.11l-2.38,1.67l-1.81,-0.1l-3.45,-1.85l-1.52,1.03l-0.47,-1.97l-3.55,-0.48l-0.43,-1.19l-0.86,0.6l-1.04,-1.85l-1.47,3.24l-4.91,1.59l-0.89,-0.98l-3.08,0.42l-0.97,-2.55l-3.62,1.55l-1.73,-1.65l-4.02,1.11l-1.19,1.79l0.66,1.59l2.6,0.98l-0.2,1.53l4.68,2.88l-3.18,0.74l-0.17,1.29l-1.97,-1.21l-1.42,1.59l-3.04,0.7l0.01,3.28l-1.77,0.5l-0.71,3.9l-3.78,3.1l0,0l-2.63,-4.47l-2.79,-0.76l1.25,-2.48l-0.39,-3.7l0,0l1.67,0.04l0,0l1.38,-0.56l-3.39,-0.6l0.08,-2.31l-3.24,-4.1l0.3,-2.09l1.59,-0.62l-0.07,-8.1l-7.53,-1.71l-1.69,-4.32l3.01,-1.46l-2.71,-2.01l-3.14,0.44l-0.22,-2.37l-7.8,-1.83l-1.13,-3.33l1.07,-2.71l7.56,4.27l3.05,-9.1l-2.93,-1.04l0.01,-2.58l-2.15,-0.18l-0.94,2.72l-4.65,2.64l-5.29,-0.72l-2.56,-1.46l-3.6,-7.05l0,0l0.01,-0.06l0,0l3.68,-2.04L370.87,23.6zM459.07,59.05L459.07,59.05l0.18,0.66L459.07,59.05z"/>\n\t\t<path id="CH-TI" title="Ticino" class="land" d="M367.32,243.05l2.6,-0.39l2.43,1.98l1.61,-1.13l1.55,0.92l3.28,-0.45l4.92,2.07l3.95,-1.41l0.42,1.72l1.65,-0.27l8.9,-4.75l0.75,-1.6l-1.36,-3.6l2.28,-1.61l2.55,0.92l1.5,-2.66l1.24,5.76l5.73,-1.7l3.94,2.25l1.27,2.49l-3.13,7.57l0.47,7.49l3.52,6.1l4.78,0.78l1.42,2.93l-0.77,5.46l1.85,4.12l-1.79,1.23l0.77,6.28l-0.93,4.72l-2.39,1.01l-0.54,1.4l-0.35,1.99l1.5,2.57l-2.89,4.28l3.09,5.84l1.39,9.08l3.97,2.37l2.74,4.27l3.16,1.98l0,0l-5.9,6.6l-6.38,3.18l2.1,6.32l-1.62,4.36l-3.7,0.45l-4.22,2.35l-1.43,2.75l2.98,8.6l-2.19,0.81l-0.69,1.61l-1.47,-0.04l-0.62,2.17l3.21,1.84l0.67,5.94l5.41,1.41l1.13,1.91l1.01,-0.23l0.03,2.53l1.44,-0.58l0.5,0.85l-5.37,5.72l0.08,2.63l-2.59,5.37l0.61,1.58l-6.18,-0.15l0.89,-2.64l-1.85,-0.98l-2.82,0.52l-0.85,-1.58l-6.08,2.32l0.36,-2.68l4.21,-4.27l-1.38,-0.21l-0.7,-3.98l-1.25,-1.02l0.34,-2.11l-3.49,-5.51l-0.11,-4.41l-3.72,-0.87l-5.1,-5.36l-6.37,-0.35l2.12,-5.03l4.8,-5.02l-0.39,-1.63l1.51,0.43l1.25,-2.09l-0.07,-2.93l-6.21,-5.08l-3.2,1.36l-3.3,-1.71l-2.23,-3.69l-3.17,3.49l-3.58,0.37l-4.68,-2.19l-1.36,-1.9l-4.65,0.23l-2.12,-3.71l0.82,-2.8l-3.9,-1.67l-1.38,-3.94l-3.45,-3.05l-0.97,-3.5l-8.03,-2.64l-1.15,-2.43l-2.48,-0.8l-0.13,-1.42l1.77,-1.79l-3.95,-6.56l5.18,-6.89l-0.26,-3.99l0.99,-1.75l-1.12,-4.78l1.3,-1.77l-1.98,-7.28l1.67,-1.89l-3.6,-4.12l-7.61,2.38l0,0l1.08,-7.87l6.8,-0.63l4.68,-6.27l0,0l5.63,-2.29l-0.82,-3.99l1.13,-3.74l2.36,-1.88l1.19,1.02l3.49,-0.39l2.25,1.9l4.1,-0.67l2.12,2.56L367.32,243.05zM407.09,359.3l-1.32,-0.43l-1.03,3.75l2.1,0.66L407.09,359.3z"/>\n\t\t<path id="CH-UR" title="Uri" class="land" d="M352.94,162.37L354.56,161.75L357.17,163.02L357.43,169.91L359.8,169.52L366,171.31L369.23,170.72L371.25,176.69L379.7,171.92L382.04,174.01L385.1,171.9L387.31,173.09L388.58,178.56L390.17,177.46L390.74,182.91L391.87,181.16L393.68,181.14L401.94,176.2L401.94,176.2L404.34,179.96L404.83,184.76L393.4,191.58L394.65,194.38L394.1,197.31L394.1,197.31L389.78,201.12L387.49,201.49L388.27,206.4L386.19,207.21L385.4,212.21L381.26,213.94L378.88,210.74L376.7,212.39L376.51,215.98L371.38,219.61L369.63,218.82L366.75,220.82L367.28,226.25L364.05,229.23L363.65,232.23L367.31,235.79L367.32,243.05L367.32,243.05L361.75,245.83L359.63,243.27L355.53,243.93L353.27,242.04L349.78,242.43L348.59,241.41L346.23,243.29L345.1,247.02L345.92,251.01L340.29,253.3L340.29,253.3L333.79,250.21L331.2,243.37L330.95,238.98L332.9,233.7L332.92,229.46L331.27,228.72L331.27,228.72L329.53,224.39L329.76,221.9L329.76,221.9L329.76,220.96L329.76,220.96L333.62,222.19L336.91,221.72L337.26,217.55L336.3,216.78L336.61,213.58L335.38,212.25L335.09,209.11L336.36,206.99L336.36,206.99L342.14,205.22L340.42,201.98L340.78,200.23L339.69,200.8L338.58,199.76L341.05,199.09L341.75,193.12L344.22,191.01L343.13,189.58L339.42,189.19L339.42,189.19L339.01,185.02L340.39,183.34L339.11,180.94L337.79,180.61L340.73,178.66L341.47,176.63L343.74,177.5L349.36,174.7L349.27,172.36L351.17,172.26L350.74,167.73L353.36,163.96z"/>\n\t\t<path id="CH-VD" title="Vaud" class="land" d="M67.89,189.64l3.02,1.14l5.72,-2.01l8.28,-5.31l0,0h1.77l0,0l3.91,-0.96l2.73,-4.39l9.85,-5.14l-0.45,5.95l3.13,2.2l-0.94,5.17l3.06,-0.28l3.29,3.38l0,0l-5.13,4.99l4.9,5.31l0.81,-0.49l-1,2.73l0.5,-0.79l2.29,2l0.9,-0.51l2.74,2.47l4.61,-2.93l2.59,2.3l4.21,-1.41l0.23,0.81l2.71,-5.05l-1.47,-1.06l-1.13,1.51l-0.94,-0.49l0.77,-1.32l-0.94,-2.81l3.59,-5.11l-2.27,-2.6l-2.58,0.77l3.62,-1.85l-3.36,-2.36l-4.06,-5.16l0,0l4.14,-3.13l0,0l4.53,5.14l-0.67,1.3l1.75,0.53l3.63,4.72l-0.96,-3.01l2.06,-1.16l0.93,1.08l1.15,1.67l-2.01,3.99l0.5,1.44l1.67,-0.77l-0.93,2.1l1.28,1.2l-1.03,2.18l-2.87,-1.12l-1,2.5l1.4,2.4l-1.32,2.93l-2,0.71l-3.01,4.75l-0.8,-0.63l-0.81,1.08l1.59,1.24l1.42,-0.57l1.39,1.98l-0.78,2.18l-5.34,5.2l-0.5,1.98l-3.87,2.88l1.17,1.49l-0.53,2.53l-1.92,1l-2.69,-1.39l-2.02,2.84l-2.67,-0.25l0.66,7.91l-1.19,6.4l2.47,-0.57l0.14,-1.47l2.52,1.98l1.81,-1.55l2.25,1l0,0l0.31,0.23l0,0l1.13,2.5l1.36,0.63l1.86,-1.72l0.54,1.86l0,0l-1.13,0.27l0,0l-4.36,5.75l-0.81,-2.11l-3.35,0.72l-0.71,-1.15l-1.93,3.56l4.95,6.19h2l4.68,-5.26l-0.22,2.52l2.08,-1l3.28,2.33l2.52,-0.12l2.36,2.03l1.25,3.18l-0.24,2.99l1.71,2.3l-1.11,2.05l4.67,-1.89l0.43,-2.6l5.34,-5.19l5.32,0.1l3.09,-2.21l3.36,-5.96l2.08,-0.06l3.98,-3.44l2.12,2.74l3.82,-4.18l0,0l1.63,7.16l-0.72,3.42l-1.52,1.02l0.47,1.31l-1.62,0.29l1.09,6.42l-1.43,2.4l-3.62,0.18l-0.31,1.25l2.31,3.57l-2.17,7.29l2.02,0.02l0.94,3.18l1.85,0.23l-1.39,0.8l0.35,5.42l0,0l-4.38,4.93l1.05,2.88l-1.38,1.09l0.28,2.49l-1.42,0.35l-5.05,6.03l-2.2,0.29l-0.31,2.49l-1.89,2.2l-10.13,4.84l-2.83,-3.63l-3.4,-9.18l-3,-3.09l-0.77,-3.07l-3.01,-2.53l-0.82,-6.19l-1.75,-1.97l-3.05,-0.27l-1.77,-2.57l0.38,-4.35l-8.67,-9.77l0,0l-18.62,-5.37l-22.02,-0.47l-12.47,7.73l-22.84,10.63l-2.1,3.78l0,0l-8.16,-4.19l-1.31,1.27l3.43,3.16l4.82,2.3l0,0l-1.67,3.62l0,0l-2.87,5.35l-7.52,-3.8l-2.47,-2.73l0,0l6.02,-9.6l-1.29,-2.3l-1.34,0.25l-7.46,-6.24l-4.18,-1.52l2.91,-5.17l-1.78,-3.71l3.22,-3.65l2.32,-5.65l3.28,-4.08l1.09,0.29l1.43,-3.03l-6.26,-6.14l9.25,-7.61l13.98,-14.68l9.42,-4.73l2.44,-1.75l-0.09,-1.27l2.39,-0.73l0.96,-2.79l5.99,-2.98l2.62,-5.07l-3.1,-2.46l-0.61,-2.12l1.23,-0.69l0.35,-3.4L67.89,189.64zM115.37,212.13L115.37,212.13l-2.32,0.27l-0.65,1.55l2.85,0.14l2.52,-1.61l4.8,2.02l0,0l0.45,-0.59l0,0l2.01,-4.12l-2.86,-2.69l0,0l-0.59,-1.02l0,0l-0.47,-1.22l0,0l-0.58,-0.06l0,0l-4.33,7.11L115.37,212.13zM112.07,210.09l-1.38,-0.35l0,0l-0.43,-0.41l0,0l-3.28,3.87l1.85,2.79l1.2,-0.69l0,0l0.81,-1L112.07,210.09zM28.62,289.48l1.83,-0.14l0,0l-0.65,-1.42l0,0l-0.31,0.06l0,0l-0.05,0.31L28.62,289.48zM147.61,164.99l1.89,1.38l-0.8,6.25l4.53,7.05l0,0l-1.09,1.46l0,0l-2.91,2.4l1.23,2.22l-4.64,5.21l-0.89,-0.89l1.32,-1.91l-1.3,-1.2l0.81,-1.38l-2.6,-1.48l-1.09,1.48l-1.24,-0.24l-0.76,-0.9l2.21,-2.03l-3.89,-3.96l0.74,-2.05l-2.94,-0.98l-4.79,-5.55l0,0l9.93,-6.7l5.06,1.46l0,0L147.61,164.99z"/>\n\t\t<path id="CH-VS" title="Valais" class="land" d="M331.27,228.72L332.92,229.46L332.9,233.7L330.95,238.98L331.2,243.37L333.79,250.21L340.29,253.3L340.29,253.3L335.61,259.57L328.81,260.2L327.73,268.07L327.73,268.07L324.59,268.44L319.36,273.47L316.74,273.69L314.69,276.95L318.41,278.64L318.45,281.27L313.97,285.35L311,285.35L310.91,288.89L305.88,291.13L303.92,296.22L298.15,298.51L294.34,297.35L285.91,305.73L290.43,307.79L290.94,310.03L294.32,312.56L297.91,321.18L295.84,324.19L296.16,328.12L291.13,330.74L289.65,334.52L279.85,336.79L278.44,342.04L280.22,347.58L277.14,349.77L277.78,351.19L276.84,353.76L275.37,353.82L273.9,356.86L272.27,356.09L262.99,356.55L260.92,360.05L259.08,360.81L258.21,371.39L257.03,372.08L251.4,370.13L248.43,371.85L244.25,368L241.94,367.62L239.72,370.63L237.98,370.71L236.09,368.6L236.05,365.57L232.57,364.14L230.16,360.25L226.7,361.78L220.11,361.66L218.25,358.35L215.01,358.56L213.79,360.07L213.65,364.39L207.8,363.29L204.26,366.05L204.36,368.64L201.25,369.26L197.38,373.13L194.97,373.17L192.94,375.91L187.13,372.59L184.08,373.28L180.23,371.18L175.4,377.55L174.23,376.66L169.79,377.69L166.38,383.29L164.11,382.34L161.65,379.29L156.56,383.21L154.32,383.15L153.24,379.64L146.71,370.81L145.87,364.78L142.2,362.16L144.17,360.19L142.32,358.41L142.19,356.59L138.75,355.04L138.18,352.16L135.71,349.93L134.16,345.96L132.32,345.42L132.3,343.65L130.29,343.63L126.02,347.64L123.7,345.9L126.1,341.64L125.12,337.43L127.13,331.78L118.63,330.21L116,330.89L113.46,329.26L112.88,324.23L115.5,320.56L114.39,316.42L116.76,310.98L121.27,306.39L122.58,301.53L121.81,299.58L120.13,299.6L117.67,297.38L117.28,295.55L113.8,293.65L113.69,291.95L111.78,291.06L109.92,287.02L110.63,285.27L112.86,284.65L114.64,282.29L114.19,280.22L116.59,273.04L116.59,273.04L125.27,282.81L124.89,287.16L126.66,289.73L129.71,290L131.46,291.97L132.28,298.16L135.29,300.69L136.06,303.77L139.06,306.86L142.46,316.04L145.29,319.67L155.42,314.83L157.31,312.64L157.62,310.15L159.82,309.85L164.87,303.83L166.28,303.48L166,300.99L167.38,299.9L166.32,297.02L170.71,292.09L170.71,292.09L174.86,291.97L176.28,290.32L176.23,286.42L180.97,285.08L182.73,283.2L182.46,287.84L183.39,289.21L188.61,287.98L194.72,282.93L200.01,280.96L203.17,282.85L205.53,281.2L206.66,284.02L213.57,282.58L215.78,280.38L212.14,278.17L212.81,276.38L218.62,274.9L221.14,275.95L223.07,271.17L225.43,269.28L237.52,275.19L254.96,262.82L259.21,263.17L265.58,260.28L268.02,257.25L271.72,255.68L272.18,253.93L270.85,250.93L277.56,246.42L291.39,249.62L293.08,251.5L299.44,252.6L300.25,254.77L310.68,252.91L316.9,249.7L318.49,247.24L323.17,245.24L325.4,242.11L324.62,239.43L326.06,232.56L329.08,230.27L329.7,228.45z"/>\n\t\t<path id="CH-ZG" title="Zug" class="land" d="M330.93,111.25L332.63,116.4L335.29,116.11L340.98,119.49L344.98,117.2L350.62,116.6L356.27,119.53L357.5,126.32L364.94,126.77L365.86,129.01L369.29,128.16L369.29,128.16L370.45,130.65L368.29,132.43L367.79,135.95L366.67,137.59L364.96,137.83L362.1,141.96L357.83,141.76L352.02,144.39L351.55,141.96L346.27,143.04L342.21,140.77L342.21,140.77L342.31,138.16L340.51,135.65L337.26,138.22L337.26,138.22L336.75,137.99L336.75,137.99L336.1,135.08L332.12,136.48L331.32,132.87L331.32,132.87L331.75,128.14L329.95,125.55L330.45,121.95L329,115.99z"/>\n\t\t<path id="CH-ZH" title="Zürich" class="land" d="M365.32,24.52L368.92,31.57L371.49,33.03L376.78,33.75L381.43,31.12L382.38,28.4L384.52,28.58L384.51,31.16L387.43,32.19L384.39,41.29L376.83,37.02L375.76,39.74L376.9,43.07L384.7,44.9L384.91,47.28L388.05,46.84L390.77,48.85L387.76,50.31L389.44,54.63L396.97,56.34L397.04,64.45L395.45,65.06L395.15,67.15L398.39,71.25L398.31,73.56L401.7,74.15L400.32,74.71L400.32,74.71L398.65,74.67L398.65,74.67L399.04,78.37L397.78,80.85L400.58,81.61L403.21,86.08L403.21,86.08L405.45,90.49L406.98,90.77L408.78,97.23L407.38,99.83L405.14,100.25L403.89,102.83L401.88,103.58L403.83,105.17L402.94,108L401.75,109.39L393.64,110.72L392.82,112.34L390.83,110.98L384.36,111.79L383.27,113.31L384.95,117.06L384.95,117.06L382.73,116.64L370.81,120.56L367.67,125.03L369.29,128.16L369.29,128.16L365.86,129.01L364.94,126.77L357.5,126.32L356.27,119.53L350.62,116.6L344.98,117.2L340.98,119.49L335.29,116.11L332.63,116.4L330.93,111.25L330.93,111.25L328.23,103.26L329.43,103.62L333.66,101.08L337.19,94.56L334.55,96.16L331.59,96.02L331.97,93.86L330.31,91.98L330.78,87.25L329.26,85.8L328.94,83.26L326.44,81.29L328.36,77.51L328.06,75.61L326.34,74.67L327.78,74.13L327.29,72.13L328.23,71.09L325.29,67.97L326.51,67.01L326.33,65.18L324.96,65.1L324.16,60.94L324.69,59.31L326.88,58.75L327.41,56.08L328.88,56.24L331.93,52.18L332.38,47.75L332.38,47.75L334.29,48.31L342.29,45.42L341.64,43.89L338.76,44.8L337.3,41.33L338.8,41.01L340.32,38.7L344.19,38.16L345.54,35.09L348.36,35.55L352.48,38.26L353.18,39.38L351.47,41.59L351.47,41.59L348.04,44.98L351.02,50.88L356.16,40.48L356.16,40.48L357.33,38.56L356.12,33.05L357.85,31.22L358.58,32.87L357.6,33.73L358.75,34.11L360.53,31.67L358.74,29.4L358.74,29.4L358.25,26.56L360.45,25.88L360.29,23.13L362.88,22.61z"/>\n\t</g>\n</svg>'},color:{mode:"@d{ic3.color_mode.palette_for_categories}",colors:["#ECA7D1","#DA6BAE","#C4398D","#AB327A","#951B81","#761466"]}}]
})(ic3||(ic3={}));var ic3;(function(a){var f=a.reporting.editor.OptionMetaType;var d=a.reporting.editor.ColorModeType;var c=a.reporting.editor.MetaOverride;var b=a.reporting.editor.ColorModeStacks;a.HtmlTemplateOptionTypes={Text:{type:f.TEXT},Number:{type:f.NUMBER},Boolean:{type:f.BOOLEAN},Date:{type:f.DATE},HTML:{type:f.TEMPLATE,flags:{modal:true}},Color:{type:f.COLOR_MODE,defaultValue:{mode:d.AUTO},suggestion:b.FULL,contextType:"DATA"},"Single Color":{type:f.COLOR},Palette:{type:f.PALETTE},Expression:{type:f.EXPRESSION,contextType:"DATA",suggestion:a.reporting.editor.SuggestionType.EXPRESSION_VALUES_ONLY},"Cell Expression":{type:f.EXPRESSION,contextType:"CELL",suggestion:[]}};
a.DefaultHTMLTemplate={label:"@d{ic3.widget.widget_template.options.preset.default}",id:"default",proto:null};var g=function(h){return({Options:_.map(h["data-render"].config.options,function(i){return({name:i.name,code:{JS:"p."+(_.isEmpty(i.valueRef)?i.name:i.valueRef)},description:""})
})})};var e=[{label:"@d{ic3.widget.widget_template.options.on_data_received}",valueRef:"afterTemplateBuild",type:f.FUNCTION,contextType:"DATA",defaultTemplateValue:"return html;",template:"/**\n * Return html template\n */\nfunction(context, html) {\n\t${funcBody}\n}"},{label:"@d{ic3.widget.widget_template.options.after_render}",valueRef:"afterTemplateUpdate",type:f.FUNCTION,contextType:"DATA",defaultTemplateValue:"//$(node)",template:"/**\n * You can bind events to node and it's children\n */\nfunction(context, node, props) {\n\t${funcBody}\n}"},{label:"@d{ic3.widget.widget_template.options.initial_html}",valueRef:"initialHtml",type:f.TEMPLATE,suggestion:g,defaultValue:"<p>Insert your initial markup here</p>",flags:{modal:true}},{label:"@d{ic3.widget.widget_template.options.html}",valueRef:"html",type:f.TEMPLATE,suggestion:g,defaultValue:"<p>Insert your markup here</p>",flags:{modal:true}}];
a.HtmlTemplateDataRenderMeta=function(m,l,j,k,i){var h=[{sectionName:"@d{ic3.widget.widget_template.options.preset.basic}",suggestions:[a.DefaultHTMLTemplate]},{sectionName:"@d{ic3.widget.widget_template.options.preset.shared}",suggestions:[]}];l=_.sortBy(l,function(n){return k.getEvaluator().evaluate(n.caption).toLowerCase()
});_.forEach(l,function(p){var o=p.caption,r=p.path;var n=k.entityMgr().isStorageEntity(a.AppLocalEntityType.WIDGET_TEMPLATE,r);var q=h[n?0:1];q.suggestions.push({id:r,proto:null,label:o,handlers:{"ic3.delete":k.entityMgr().hasWriteAccess(a.AppLocalEntityType.WIDGET_TEMPLATE,r)?function(){k.mainReport().messageBox(k.l("ic3.widget.widget_template.options.delete_template.title"),k.l("ic3.widget.widget_template.options.delete_template.message"),{yes:function(){k.entityMgr().deleteEntity(a.AppLocalEntityType.WIDGET_TEMPLATE,r,i)
},no:null})}:null}})});h=_.filter(h,function(n){return _.size(n.suggestions)>0});return _.concat([{label:"@d{ic3.widget.widget_template.options.preset}",valueRef:"preset",type:f.TYPE_SELECT,defaultValue:a.DefaultHTMLTemplate,suggestion:h,flags:{readOnly:false,allOpened:true,separateAccordions:true}},{label:"@d{ic3.widget.widget_template.options.properties}",valueRef:"config",type:f.OBJECT,children:[{label:"@d{ic3.widget.widget_template.options.property}",childrenLabel:"name",valueRef:"options",type:f.OBJECT_ARRAY,children:[{label:"@d{ic3.widget.widget_template.options.properties.name}",valueRef:"name",type:f.TEXT,defaultValue:""},{label:"@d{ic3.widget.widget_template.options.properties.type}",valueRef:"type",type:f.SELECT,defaultValue:"Text",suggestion:_.keys(a.HtmlTemplateOptionTypes),flags:{hidePencil:true}},{label:"@d{ic3.widget.widget_template.options.properties.value_ref}",valueRef:"valueRef",type:f.TEXT,defaultValue:""},{label:"@d{ic3.widget.widget_template.options.properties.default_value}",valueRef:"defaultValue",type:f.TEXT,defaultValue:"",configurable:function(o,n){return _.get(n,"type")!=="Boolean"
}},{label:"@d{ic3.widget.widget_template.options.properties.default_value}",valueRef:"defaultValue",type:f.BOOLEAN,defaultValue:"",configurable:function(o,n){return _.get(n,"type")==="Boolean"}},{label:"@d{ic3.widget.widget_template.options.properties.detailed_info}",valueRef:"detailedInfo",type:f.TEXT,defaultValue:""}],defaultValue:[]}],defaultValue:""},{label:"@d{ic3.widget.widget_template.options.options}",valueRef:"options",type:f.OBJECT,configurable:function(n){return _.get(n,"preset.id")!=="default"
},children:c(e,{defaultValue:function(o,n,p){return _.get(m,"options."+p.valueRef,o)}})}],c(e,{valueRef:function(n){return("options."+n)},configurable:function(){return function(n){return _.get(n,"preset.id")==="default"}},defaultValue:function(o,n,p){return _.get(m,"options."+p.valueRef,o)
}}),j)}})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var d=b.reporting.editor.OptionMetaType;
var c=b.reporting.editor.ColorModeType;var a=(function(f){__extends(e,f);function e(h,g){var i=this;f.call(this,h,g);this.onChange=function(l){var j=_.clone(i.props.properties);var k=_.get(l,"preset.id","");if(k&&!_.isEqual(l.preset,j.preset)){i.loadTemplate(l);
return}else{if(!_.isEqualWith(l,j,function(o,n,m){return m==="preset"?true:undefined})){_.assign(j,l);_.each(l.config.options,function(n){var m=_.isEmpty(n.valueRef)?n.name:n.valueRef;if(l[m]==null||(n.type===d.COLOR_MODE&&l[m].type===c.AUTO)){delete j[m]}})
}}i.props.onChange(j)};this.saveTemplate=function(n,j,o){var s=i,q=s.props.properties,l=s.context.reportingContext;var k=l.mainReport();var m=l.entityMgr();var p=_.merge({},_.get(q,"preset.proto"),_.omit(q,["preset"]));if(j){var t=b.EntityMgr.buildPath(b.AppLocalEntityType.WIDGET_TEMPLATE,j,b.HtmlTemplateWidgetAdapter.entityPath);
if(o){m.saveEntity(b.AppLocalEntityType.WIDGET_TEMPLATE,t,j,p,i.loadTemplates)}else{m.getEntity(b.AppLocalEntityType.WIDGET_TEMPLATE,t,function(u){if(u){k.messageBox(l.l("ic3.widget.widget_template.options.overwrite.title"),l.l("ic3.widget.widget_template.options.overwrite.message"),{yes:function(){return i.saveTemplate(n,j,true)
},no:function(){return i.saveTemplate(false)},cancel:function(){}})}else{i.saveTemplate(n,j,true)}})}}else{if(n){i.saveTemplate(n,q.preset.label)}else{var r=[{label:l.l("ic3.ok"),handler:function(u){i.saveTemplate(n,u);k.clearModal()}},{label:l.l("ic3.cancel"),handler:function(){return k.clearModal()
}}];k.setModal(React.createElement(b.InputDialog,{title:l.l("ic3.widget.widget_template.options.save_template.title"),message:l.l("ic3.widget.widget_template.options.save_template.prompt"),buttons:r}))}}};this.loadTemplates=function(){var j=i.context.reportingContext;
j.entityMgr().listEntities(b.AppLocalEntityType.WIDGET_TEMPLATE,b.HtmlTemplateWidgetAdapter.entityPath,function(k){i.setState({templates:k})})};this.state={templates:[]}}e.prototype.componentWillMount=function(){this.loadTemplates()};e.prototype.loadTemplate=function(g){var j=this;
var i=b.HtmlTemplateWidgetAdapter.doCreateDefaultGuts(this.context.reportingContext).dataRenderOptions;var h=g.preset;switch(_.get(h,"id",null)){case null:case"default":this.props.onChange(i);break;default:this.context.reportingContext.entityMgr().getEntity(b.AppLocalEntityType.WIDGET_TEMPLATE,h.id,function(k){j.props.onChange(_.merge(i,{preset:_.set(h,"proto",k)}));
j.context.reportingContext.mainReport().refreshAllButContent()})}};e.prototype.isCustomPreset=function(g){return g&&this.context.reportingContext.entityMgr().hasWriteAccess(b.AppLocalEntityType.WIDGET_TEMPLATE,g.id)};e.prototype.render=function(){var n=this;
var k=this.state.templates;var j=this.props,l=j.allProperties,i=j.onAdvanced;var h=_.cloneDeep(this.props.properties);var g=h.config.options||(h.config.options=_.cloneDeep(_.get(h.preset,"proto.config.options")));var m=b.HtmlTemplateDataRenderMeta(_.get(h.preset,"proto"),k,_.filter(g,function(o){return o.name
}).map(function(p){var o=b.HtmlTemplateOptionTypes[p.type]||{type:d.TEXT};var q=_.isEmpty(p.valueRef)?p.name:p.valueRef;return _.assign({},o,_.omitBy({label:p.name,valueRef:q,detailedInfo:p.detailedInfo,defaultValue:_.isUndefined(p.defaultValue)?_.get(h.preset,"proto."+q):p.defaultValue,contextType:o.contextType||"CELL"},_.isUndefined))
}),this.context.reportingContext,this.loadTemplates);return(React.createElement("div",null,React.createElement(b.MetaWidgetOptions,{meta:{metaProps:m},properties:h,allProperties:l,onChange:this.onChange,onAdvanced:i}),React.createElement("div",{className:"btn-row"},React.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return n.saveTemplate(false)
}},"Save As"),this.isCustomPreset(h.preset)?React.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return n.saveTemplate(true)}},"Save"):null,React.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return n.loadTemplate(n.props.properties)
}},"Reset"))))};e.contextTypes={reportingContext:React.PropTypes.object};return e}(React.Component));b.HtmlTemplateDataRenderOptions=a})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var TinyMceComponent=ic3.reporting.editor.components.TinyMceComponent;var ic3;(function(ic3){var TinyMCEAdapterFactory=(function(_super){__extends(TinyMCEAdapterFactory,_super);function TinyMCEAdapterFactory(context){_super.call(this,context,TinyMCEAdapter)
}TinyMCEAdapterFactory.prototype.getType=function(){return ic3.ReportFactoryType.TOOL};TinyMCEAdapterFactory.prototype.getId=function(){return"HTMLWidget"};TinyMCEAdapterFactory.prototype.getName=function(){return this.context.l("ic3.widget.text_html.name")
};TinyMCEAdapterFactory.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.tools")};TinyMCEAdapterFactory.prototype.getInitialSize=function(){return{width:400,height:300}};TinyMCEAdapterFactory.prototype.getMenuPath=function(){return[ic3.TopMenu.FILTERS_AND_TOOLS,"ic3.text_widgets.top_menu"]
};return TinyMCEAdapterFactory}(ic3.WidgetAdapterFactory));ic3.TinyMCEAdapterFactory=TinyMCEAdapterFactory;var TinyMCEAdapter=(function(_super){__extends(TinyMCEAdapter,_super);function TinyMCEAdapter(context){_super.call(this,context);this.classID="ic3.TinyMCEAdapter"
}TinyMCEAdapter.prototype.widgetName=function(){return["ic3.widget.text_html.name"]};TinyMCEAdapter.prototype.reportTypeName=function(){return"TinyMCE"};TinyMCEAdapter.prototype.createDefaultGuts=function(context){return _.assign(_super.prototype.createDefaultGuts.call(this,context),{data:{content:"@d{widget.html.default_text}",isHtml:true}})
};TinyMCEAdapter.prototype.createWidgetOptions=function(){var options=_super.prototype.createWidgetOptions.call(this);options.isHtml=options.data.isHtml;options.html=this.eval(options.data.content);return options};TinyMCEAdapter.prototype.createWidget=function(options,container){return viz.core.createWidget(this.context,container,viz.core.HtmlRenderer,options)
};TinyMCEAdapter.prototype.refreshHtmlFromGuts=function(optionalGuts){_super.prototype.refreshHtmlFromGuts.call(this,optionalGuts);this.buildInHtml()};TinyMCEAdapter.prototype.getWidgetGroupName=function(){return ic3.WidgetAdapter.widgetGroups.html};TinyMCEAdapter.prototype.getNameForCssClass=function(){return"tinymce"
};TinyMCEAdapter.prototype.getDataOptions=function(){return _.merge(_super.prototype.getDataOptions.call(this),{properties:this.guts_.data,meta:{context:this.context},component:TinyMceComponent})};TinyMCEAdapter.prototype.getOptionsCategories=function(){var options=_super.prototype.getOptionsCategories.call(this);
options[ic3.OptionCategoryOrder.DATA]=this.getDataOptions();return options};TinyMCEAdapter.prototype.setOptions=function(options,categoryId){switch(categoryId){case"data":this.guts_.data=options;break;default:_super.prototype.setOptions.call(this,options,categoryId)
}};return TinyMCEAdapter}(ic3.WidgetAdapter));ic3.TinyMCEAdapter=TinyMCEAdapter})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(h){__extends(g,h);function g(i){h.call(this,i,e)}g.prototype.getType=function(){return a.ReportFactoryType.TOOL};g.prototype.getId=function(){return"ReportWidget"};g.prototype.getName=function(){return this.context.l("ic3.widget.embedded_report.name")
};g.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.tools")};g.prototype.getInitialSize=function(){return{width:500,height:400}};g.prototype.getMenuPath=function(){return[a.TopMenu.FILTERS_AND_TOOLS,"ic3.report_integration_widgets.top_menu"]
};return g}(a.WidgetAdapterFactory));a.ReportWidgetAdapterFactory=b;var c=(function(h){__extends(g,h);function g(j,l,k,i){h.call(this,j,{snapshotName:l});this.classID="ic3.ReportWidgetState";this.reportGuts=k;this.reportSnapshotGuts=i}g.prototype.snapshotName=function(i){var j=this.guts();
return a.isEmptyString(i)?j.snapshotName:(j.snapshotName=i)};return g}(a.Serializable));a.ReportWidgetState=c;var e=(function(g){__extends(h,g);function h(i){g.call(this,i);this.classID="ic3.ReportWidgetAdapter";this.mdxBuilder_=new d(i);this.mdxBuilder_.setReportWidgetAdapter(this)
}h.prototype.isRendered=function(){return this.status_=="NESTED-REPORT-RENDERED"};h.prototype.widgetName=function(){return["ic3.widget.embedded_report.name"]};h.prototype.reportTypeName=function(){return"Report Widget"};h.prototype.consumeEvent=function(i){if(i!==vizEventType.onGutsChange){g.prototype.consumeEvent.call(this,i)
}};h.prototype.builder=function(){return this.mdxBuilder_};h.prototype.createRequest=function(j){var i=j.mdxStatement();return new viz.MdxSimpleQueryWidget(i)};h.prototype.createQueryManager=function(i){this.queryManager=new f(this);return this.queryManager
};h.prototype.onVizRequestExecuted=function(){};h.prototype.createWidget=function(j,i){this.status_="BUILD-IN-HTML-COMPLETED"};h.prototype.onContainerResizeStart=function(){};h.prototype.onContainerResizeStop=function(){};h.prototype.getState=function(){var i=null;
if(this.queryManager&&this.queryManager.embeddedReport){var j=this.queryManager.embeddedReport.context_.mainReport();i={reportId:j.reportUUID(),reportName:j.reportName(),widget:j.getReportState()}}return i};h.prototype.setState=function(k){if(k){var j=this.queryManager=new f(this);
j.executeRequest(new viz.GviRequest(""));var i=false;j.embeddedReport.bind(viz.EventType.onReportRendered,function(){if(!i){var l=j.embeddedReport.context_.mainReport();l.setReportState(k.widget);i=true}})}else{this.status_="NESTED-REPORT-RENDERED"}};h.prototype.destroy=function(){if(this.queryManager&&this.queryManager.embeddedReport){var i=this.queryManager.embeddedReport.context_.mainReport();
i&&i.clear()}};h.prototype.getWidgetGroupName=function(){return a.WidgetAdapter.widgetGroups.report};h.prototype.getNameForCssClass=function(){return"embedded-report"};h.prototype.createDefaultGuts=function(i){return $.extend(g.prototype.createDefaultGuts.call(this,i),{data:{reportName:"",nonExistingReportError:"",params:null}})
};h.prototype.getDataOptions=function(){var i=g.prototype.getDataOptions.call(this);i.properties=this.guts_.data;i.meta.context=this.context;i.component=a.reporting.editor.components.ReportDataOptions;return i};h.prototype.getOptionsCategories=function(){var i=g.prototype.getOptionsCategories.call(this);
i[a.OptionCategoryOrder.DATA]=this.getDataOptions();return i};h.prototype.setOptions=function(i,j){switch(j){case"data":this.guts_.data=i;break;default:g.prototype.setOptions.call(this,i,j)}};return h}(a.WidgetAdapter));a.ReportWidgetAdapter=e;var d=(function(g){__extends(h,g);
function h(i){g.call(this,i);this.classID="ic3.ReportQuery"}h.prototype.setReportWidgetAdapter=function(i){this.reportWidgetAdapter_=i};h.prototype.mdxStatement=function(){var i=this.reportWidgetAdapter_.guts()["data"];var j=a.isEmptyString(i.reportId)?"":i.reportId;
var m=a.isEmptyString(i.reportName)?"":i.reportName;var l=i.params;var k=j+"\n"+m;a.each(l,function(n,o){k+="\n"+o.value});return k};h.prototype.eachExpression=function(i){i(this.mdxStatement())};h.prototype.validate=function(){return null};h.prototype.handleEmptyAsValue=function(){};
h.prototype.consumeEvent=function(i){};h.prototype.bindChange=function(i){};h.prototype.destroyWidget=function(){};h.prototype.refreshTabsContent=function(){};h.prototype.mdxStatementForBoxEditor=function(){return null};h.prototype.hasFlatMdx=function(){return false
};h.prototype.isDefiningFlatMdx=function(){return false};h.prototype.canHaveQueryResult=function(){return false};h.prototype.hasQueryResult=function(){return false};h.prototype.type=function(){return a.BuilderType.DUMMY};h.prototype.formTitle=function(){return""
};h.prototype.plainCodeFormTitle=function(){return""};h.prototype.getWizard=function(){return undefined};h.prototype.isBuilderWidget=function(){return true};h.prototype.getAdapter=function(){return this._adapter};return h}(a.Serializable));a.ReportQuery=d;var f=(function(g){__extends(h,g);
function h(i){g.call(this);this.classID="ic3.ReportQueryManager";this.reportWidget_=i}h.prototype.executeRequest=function(l,j){var n=this;var q=this.reportWidget_;var k=q.evalGuts().data;var p=k.reportId||"";var r=k.reportName||"";if(_.startsWith(r,".")){r=r.split("/");
var m=this.reportWidget_.context.mainReport().reportFolderPath(),o=r.pop();r=a.UtilityFunctions.absolute(m,r.join("/"),o)}if(a.isEmptyString(p)&&a.isEmptyString(r)){return}var i=this.createReportParamsJson(k);if(this.embeddedReport&&i!==this.lastReportParamsJson){if(this.embeddedReport.ic3report_==null){this.embeddedReport.bind(viz.EventType.onReportRendered,function(){n.sendEventsToReport(k)
})}else{this.sendEventsToReport(k)}}else{this.createReporting(l,q,p,r,i,k)}this.lastReportParamsJson=i;return null};h.prototype.sendEventsToReport=function(l){var n=l.params;if(n&&n.length>0){for(var j=0;j<n.length;j++){var m=n[j];var k=m.value;if(k.rpe){k=viz.event.toEvent(k)
}this.embeddedReport.fireEvent(m.name,k)}}};h.prototype.createReportParamsJson=function(l){var j={};var n=l.params;if(n&&n.length>0){for(var k=0;k<n.length;k++){var m=n[k];j[m.name]=m.value}}return JSON.stringify(j)};h.prototype.createReporting=function(k,o,n,s,i,l){if(this.embeddedReport){var j=this.embeddedReport.context_.mainReport();
j&&j.clear()}var u=this;var m=o.context.mdxRequestManager();u.fireEvent(viz.EventType.onVizBeforeRequestSend,k);m.onMdxRequestBeforeSend(k);var t=o.$container;t.empty();var p=o.context.gviConfiguration();var r=p.actualDataSourceSettings();var q=this.embeddedReport=new a.Reporting({noticesLevel:a.NoticeLevel.ERROR,dsSettings:r});
q.setupGVIConfiguration(function(){q.setupApplication({mode:a.MainReportMode.REPORTING,hideTopPanel:true,noticesLevel:a.NoticeLevel.ERROR,container:t});var v={report:{uniqueName:n,name:s,params:i},mode:a.MainReportMode.REPORTING,hideTopPanel:true,noticesLevel:a.NoticeLevel.ERROR,child:o.guid(),onNonExistingReport:function(w){var x=l.nonExistingReportError;
if(a.isEmptyString(x)){x="The report [name:"+w.name+"] [id:"+w.uniqueName+"] does not exist."}o.$container.html("<div class='ic3-report-not-exist'>"+x+"</div>")}};if(v.report.name){delete v.report.uniqueName}a.logMsg("[ic3-report-widget] opening [name:"+v.report.name+"] [uuid:"+v.report.uniqueName+"]");
q.bind(viz.EventType.onReportRendered,function(){o.status_="NESTED-REPORT-RENDERED"});q.bind(ic3EventType.onReportJSON,function(w){u.reportWidget_.context.mainReport().publishEvent(ic3EventType.onEmbeddedReportJSON,w)});q.openReport(v,function(){u.fireEvent(viz.EventType.onVizRequestExecuted,{},k)
})})};return h}(viz.QueryManager));a.ReportQueryManager=f})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(b){var c=(function(d){__extends(e,d);function e(f){d.call(this,f,a)}e.prototype.getType=function(){return b.ReportFactoryType.TOOL};e.prototype.getId=function(){return"ReportLauncherWidget"};e.prototype.getName=function(){return this.context.l("ic3.widget.report_launcher.name")
};e.prototype.getGroupName=function(){return this.context.l("ic3.widget_group.tools")};e.prototype.getMenuPath=function(){return[b.TopMenu.FILTERS_AND_TOOLS,"ic3.report_integration_widgets.top_menu"]};return e}(b.WidgetAdapterFactory));b.ReportLauncherWidgetAdapterFactory=c;
var a=(function(e){__extends(d,e);function d(f){e.call(this,f);this.classID="ic3.ReportLauncherWidgetAdapter"}d.prototype.widgetName=function(){return["ic3.widget.report_launcher.name"]};d.prototype.reportTypeName=function(){return"Report Launcher Widget"};
d.prototype.createDefaultGuts=function(f){return $.extend(e.prototype.createDefaultGuts.call(this,f),{openReportBlankTarget:true,openWithHiddenParams:true,reportName:"",params:null})};d.prototype.gutsMeta=function(){return[b.MetaInfoHelper.yesNoMeta("openReportBlankTarget"),b.MetaInfoHelper.yesNoMeta("openWithHiddenParams"),b.MetaInfoHelper.textMeta("reportName",[b.MetaInfoHelper.reportSelectorHint(this.context,false,true)]),b.MetaInfoHelper.arrayMeta("params",b.MetaInfoHelper.objectMeta("param",[b.MetaInfoHelper.textMeta("name",[],true,"reportParam",false),b.MetaInfoHelper.textMeta("value",[],true,"reportParam")],"reportParam"),"reportParam",false,"https://www.iccube.com/support/documentation/reporting/doc/ic3OpenReport.html#params")]
};d.prototype.isVisible=function(){return false};d.prototype.consumedEvents=function(){return[vizEventType.doOpenReport]};d.prototype.consumeEvent=function(f){if(f==vizEventType.doOpenReport){this.openReport()}else{e.prototype.consumeEvent.call(this,f)}};d.prototype._onRefresh=function(){};
d.prototype.createWidget=function(g,f){return undefined};d.prototype.openReport=function(){var k=this.evalGuts();var h=k.reportName;if(b.isEmptyString(h)){return}var i=this.context;var g=i.mainReport();if(!b.startsWith(h,"/")){h=g.reportFolderPath()+"/"+h}var j=g.isEditingMode();
if(g.reportMode()==b.MainReportMode.EDITING_REPORTING){var f=i.notificationMgr();f.notifyInfo("Report : "+h)}else{if(j||g.isHideTopPanel()||k.openReportBlankTarget){this.doOpenReport(i,k,h,g,"_blank")}else{this.doOpenReport(i,k,h,g)}}};d.prototype.doOpenReport=function(h,l,m,g,k){var j=$("<form style='display:none;' action='"+this.getPermalinkURL(h,g)+"'></form>");
var i=$('<input name="name" type="hidden">');i.val(m);j.append(i);var f=$("<input name='params' type='hidden'>");f.val(this.getReportParams(l));j.append(f);if(k){j.attr("target",k)}if(l.openWithHiddenParams){j.attr("method","post")}else{j.attr("method","get")
}j.appendTo(document.body);j.submit();j.remove()};d.prototype.getPermalinkURL=function(h,g){var j=h.gviConfiguration().actualDataSourceSettings();var k=j.permaLinkUrl;if(!k){var f=g.reportPermaLink();if(b.isEmptyString(f)){return null}var i=f.split("?");k=i[0]
}return k};d.prototype.getReportParams=function(g){var f="";var h=this.getParams(g.params);if(h){f=JSON.stringify(h)}return f};d.prototype.getParams=function(g){var h={};var f=false;b.each(g,function(i,k){var j=k.name;var l=k.value;if(l){h[j]=l;f=true}});if(f){return h
}return null};d.prototype.getWidgetGroupName=function(){return b.WidgetAdapter.widgetGroups.report};d.prototype.getNameForCssClass=function(){return"report-launcher"};return d}(b.WidgetAdapter));b.ReportLauncherWidgetAdapter=a})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(){}c.createBuilder=function(f,e,d){var g=this.builders[f]?this.builders[f][d.classID]:undefined;
if(!g){g=this.crateDefaultBuilder(f)}return new g(e)};c.crateDefaultBuilder=function(d){switch(d){case a.FilterQueryType.MDX_QUERY:return a.FilterQueryBuilder;default:throw"Unknown filter query builder type ["+d+"]"}};c.registerQueryBuilder=function(e,g,f){var d=this.builders[e]||(this.builders[e]={});
d[g.classId()]=f};c.builders={};return c}());a.FilterQueryBuilderFactory=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(b){b.mdxQueryExpressions=(function(){var l={};function m(n){return(l[n.id]=n)}return{members:m({id:"$ic3:members",caption:function(){return b.babylon.localize("mdxQuery.members")},tooltip:function(){return b.babylon.localize("mdxQuery.members.tooltip")
},mdx:function(){return"$ic3:$mdx$.members"}}),allMembers:m({id:"$ic3:allMembers",caption:function(){return b.babylon.localize("mdxQuery.allMembers")},tooltip:function(){return b.babylon.localize("mdxQuery.allMembers.tooltip")},mdx:function(){return"$ic3:$mdx$.allMembers"
}}),firstNotAllLevelAllMembers:m({id:"$ic3:firstNotAllLevelAllMembers",caption:function(){return b.babylon.localize("mdxQuery.firstNotAllLevelAllMembers")},tooltip:function(){return b.babylon.localize("mdxQuery.firstNotAllLevelAllMembers.tooltip")},mdx:function(){return"$ic3:$mdx$.firstNotAllLevel().allMembers"
}}),firstNotAllLevelMembers:m({id:"$ic3:firstNotAllLevelMembers",caption:function(){return b.babylon.localize("mdxQuery.firstNotAllLevelMembers")},tooltip:function(){return b.babylon.localize("mdxQuery.firstNotAllLevelMembers.tooltip")},mdx:function(){return"$ic3:$mdx$.firstNotAllLevel()"
}}),defaultMember:m({id:"$ic3:defaultMember",caption:function(){return b.babylon.localize("mdxQuery.defaultMember")},tooltip:function(){return b.babylon.localize("mdxQuery.defaultMember.tooltip")},mdx:function(){return"$ic3:$mdx$"}}),hierarchize:m({id:"$ic3:hierarchize",caption:function(){return b.babylon.localize("mdxQuery.hierarchize")
},tooltip:function(){return b.babylon.localize("mdxQuery.hierarchize.tooltip")},mdx:function(){return"$ic3:Hierarchize($mdx$)"}}),topBottom:m({id:"$ic3:topBottom",caption:function(){return b.babylon.localize("mdxQuery.topBottom")},tooltip:function(){return b.babylon.localize("mdxQuery.topBottom.tooltip")
},mdx:function(o,q,p){return"$ic3:"+o+"($mdx$,"+q+","+p+")"}}),order:m({id:"$ic3:order",caption:function(){return b.babylon.localize("mdxQuery.order")},tooltip:function(){return b.babylon.localize("mdxQuery.order.tooltip")},mdx:function(n,o){return"$ic3:Order($mdx$,"+o+","+n+")"
}}),nonEmpty:m({id:"$ic3:nonEmpty",caption:function(){return b.babylon.localize("mdxQuery.nonEmpty")},tooltip:function(){return b.babylon.localize("mdxQuery.nonEmpty.tooltip")},mdx:function(n){return"$ic3:NonEmpty($mdx$,"+n+")"}}),valueById:function(n){return l[n]
}}})();b.mdxHierarchyFactory=function(m,l){var n;if(l.type==viz.MdxEntityDataType.HIERARCHY_MEASURE){n=new j(m)}else{n=new e(m)}n.hierarchy(l);return n};var a=(function(m){__extends(l,m);function l(n){m.call(this,n);this.guid("ic3-query-hierarchy")}l.prototype.createDefaultGuts=function(n){return $.extend(m.prototype.createDefaultGuts.call(this,n),{hierarchy:null,selection:[],postProcessors:[]})
};l.prototype.name=function(r){var q=this.context.gviConfiguration().schemaInfo();var o=r.cubeName();var n=this.uniqueName();var p=q.lookupHierarchy(o,n);if(!p){return n}else{return p.name}};l.prototype.uniqueName=function(){return this.hierarchy().uniqueName
};l.prototype.isMeasures=function(){return false};l.prototype.hierarchy=function(n){return n?(this.guts_.hierarchy=n):this.guts_.hierarchy};l.prototype.selection=function(n){return n?this.guts_.selection=n:this.guts_.selection};l.prototype.postProcessors=function(n){return n?this.guts_.postProcessors=n:this.guts_.postProcessors
};l.prototype.isEmptySelection=function(){var n=this.selection();return(!n||n.length==0)};l.prototype.isExpr=function(n){return n&&n.indexOf("$ic3:")==0};l.prototype.evalExpr=function(n,o){var p=o.substring("$ic3:".length);p=p.replace("$mdx$",n.mdx);p=p.replace("$currentMemberName$",n.hierarchyUniqueName+".currentMember.name");
return p};l.prototype.parameterNames=function(q){var p=this.selection();for(var n=0;n<p.length;n++){var o=p[n];if(o.type==vizMdxEntityDataType.EVENT){q.push(o.name)}}};l.prototype.generateMdx=function(q){var p=this.generateMdxNoPostProcessing(q);var n=this.postProcessors();
if(n&&n.length>0){var o=this;$.each(n,function(r,t){var s={mdx:p,hierarchyUniqueName:o.hierarchy().uniqueName};p=o.evalExpr(s,t.mdxStatement)})}return p};l.prototype.generateMdxNoPostProcessing=function(n){return""};l.prototype.generateNoSelectedMemberMdx=function(o){var p=o.noSelectedMemberMdxExpr();
var n=this.evalExpr({mdx:this.uniqueName()},p.mdx());return"{ "+n+" }"};l.prototype.generateMdxMembers=function(r){if(this.isEmptySelection()){return this.generateNoSelectedMemberMdx(r)}var p=this.selection();var q="{ ";for(var n=0;n<p.length;n++){var o=p[n];
if(n>0){q+=", "}q+=o.uniqueName}q+="}";return q};return l}(b.Serializable));b.MdxHierarchy=a;var j=(function(m){__extends(l,m);function l(n){m.call(this,n);this.classID="ic3.MdxMeasuresHierarchy"}l.prototype.isMeasures=function(){return true};l.prototype.generateMdxNoPostProcessing=function(n){return this.generateMdxMembers(n)
};l.prototype.generateNoSelectedMemberMdx=function(n){return"{ "+this.uniqueName()+" }"};return l}(a));b.MdxMeasuresHierarchy=j;var e=(function(l){__extends(m,l);function m(n){l.call(this,n);this.classID="ic3.MdxRegularHierarchy"}m.prototype.isMeasures=function(){return false
};m.prototype.hasSets=function(){var p=this.selection();for(var n=0;n<p.length;n++){var o=p[n];var q=o.type;if(q!=vizMdxEntityDataType.MEMBER&&q!=vizMdxEntityDataType.MEASURE){return true}}return false};m.prototype.generateMdxNoPostProcessing=function(s){if(this.isEmptySelection()){return this.generateNoSelectedMemberMdx(s)
}if(!this.hasSets()){return this.generateMdxMembers(s)}var q=this.selection();var r=(q.length>1)?"Union( ":"";for(var o=0;o<q.length;o++){var p=q[o];if(o>0){r+=", "}var n=p.uniqueName;if(this.isExpr(n)){n=this.evalExpr({mdx:this.uniqueName()},n)}r+="{ "+n+" }"
}r+=(q.length>1)?", ALL)":"";return r};return m}(a));b.MdxRegularHierarchy=e;b.MdxEntityType={COLUMNS:"columns",ROWS:"rows",SUB_QUERY:"sub-query",SLICER:"slicer"};b.mdxEntityTypeCaptions=(function(){var l={};l[b.MdxEntityType.COLUMNS]="Columns";l[b.MdxEntityType.ROWS]="Rows";
l[b.MdxEntityType.SUB_QUERY]="SubQuery";l[b.MdxEntityType.SLICER]="Slicer";return l})();var i=(function(m){__extends(l,m);function l(n){m.call(this,n)}l.prototype.createDefaultGuts=function(n){return $.extend(m.prototype.createDefaultGuts.call(this,n),{hierarchies:[]})
};l.prototype.type=function(){return""};l.prototype.typeCaption=function(){return b.mdxEntityTypeCaptions[this.type()]};l.prototype.isSlicer=function(){return false};l.prototype.isSubQuery=function(){return false};l.prototype.isColumns=function(){return false
};l.prototype.isRows=function(){return false};l.prototype.isAxis=function(){return false};l.prototype.hierarchies=function(){return this.guts_.hierarchies};l.prototype.isEmpty=function(){return this.hierarchies().length==0};l.prototype.hasHierarchyByUniqueName=function(n){return b.arrayLookup(this.hierarchies(),"uniqueName",n)!=null
};l.prototype.hasHierarchyByGUID=function(n){return b.arrayLookup(this.hierarchies(),"guid",n)!=null};l.prototype.removeHierarchyByGUID=function(p){var r=false;var n=this.hierarchies();for(var q=0;q<n.length;q++){var o=n[q];if(b.prop(o,"guid")==p){n.splice(q,1);
r=true;break}}return r};l.prototype.removeAllHierarchies=function(){this.guts_.hierarchies.length=0};l.prototype.appendHierarchy=function(n){this.guts_.hierarchies.push(n)};l.prototype.syncFromUI=function(p,n){var q=n[this.type()];var t=[];b.each(q,function(w,y){var x=b.arrayLookup(p,"guid",y);
if(x){t.push(x)}});var o=false;var s=this.hierarchies();if(s.length!=t.length){o=true}else{for(var u=0;u<t.length;u++){var r=t[u].guid();var v=s[u].guid();if(r!=v){o=true;break}}}this.guts_.hierarchies=t;return o};l.prototype.parameterNames=function(q){var o=this.hierarchies();
for(var n=0;n<o.length;n++){var p=o[n];p.parameterNames(q)}};return l}(b.Serializable));b.MdxEntity=i;var g=(function(m){__extends(l,m);function l(n){m.call(this,n)}l.prototype.createDefaultGuts=function(n){return $.extend(m.prototype.createDefaultGuts.call(this,n),{nonEmpty:true})
};l.prototype.isAxis=function(){return true};l.prototype.nonEmpty=function(){return this.guts_.nonEmpty};l.prototype.toggleNonEmpty=function(){return this.guts_.nonEmpty=!this.guts_.nonEmpty};l.prototype.generateMdx=function(r){var q="";var o=this.hierarchies();
for(var n=0;n<o.length;n++){var p=o[n];if(n>0){q+=" * "}q+=p.generateMdx(r)}return q};return l}(i));b.MdxAxis=g;var c=(function(m){__extends(l,m);function l(n){m.call(this,n);this.classID="ic3.MdxColumns"}l.prototype.type=function(){return b.MdxEntityType.COLUMNS
};l.prototype.isColumns=function(){return true};return l}(g));b.MdxColumns=c;var d=(function(l){__extends(m,l);function m(n){l.call(this,n);this.classID="ic3.MdxRows"}m.prototype.type=function(){return b.MdxEntityType.ROWS};m.prototype.isRows=function(){return true
};return m}(g));b.MdxRows=d;var k=(function(l){__extends(m,l);function m(n){l.call(this,n);this.classID="ic3.MdxSubQuery"}m.prototype.createDefaultGuts=function(n){return $.extend(l.prototype.createDefaultGuts.call(this,n),{nonVisual:false})};m.prototype.type=function(){return b.MdxEntityType.SUB_QUERY
};m.prototype.isSubQuery=function(){return true};m.prototype.nonVisual=function(){return this.guts_.nonVisual};m.prototype.toggleNonVisual=function(){return this.guts_.nonVisual=!this.guts_.nonVisual};m.prototype.generateMdx=function(r){var q="";var o=this.hierarchies();
for(var n=0;n<o.length;n++){var p=o[n];if(n>0){q+=", "}q+="{ "+p.generateMdx(r)+" } ON "+n}return q};return m}(i));b.MdxSubQuery=k;var f=(function(m){__extends(l,m);function l(n){m.call(this,n);this.classID="ic3.MdxSlicer"}l.prototype.type=function(){return b.MdxEntityType.SLICER
};l.prototype.isSlicer=function(){return true};l.prototype.generateMdx=function(r){var q="";var o=this.hierarchies();for(var n=0;n<o.length;n++){var p=o[n];if(n>0){q+=" * "}q+=p.generateMdx(r)}return q};return l}(i));b.MdxSlicer=f;var h=(function(m){__extends(l,m);
function l(n){m.call(this,n);this.classID="ic3.MdxQuery"}l.prototype.createDefaultGuts=function(n){var o={};o[b.MdxEntityType.COLUMNS]=new c(n);o[b.MdxEntityType.ROWS]=new d(n);o[b.MdxEntityType.SUB_QUERY]=new k(n);o[b.MdxEntityType.SLICER]=new f(n);return $.extend(m.prototype.createDefaultGuts.call(this,null),{cube:n.mainReport().cubeName(),calcMembers:{},entities:o,options:{noSelectedMemberMdxExprId:b.mdxQueryExpressions.firstNotAllLevelAllMembers.id,queryGenerationMode:"immediate",withSubQuery:true,withSlicer:true,fireChangeOnStart:true,requestCssCellProperty:false,requestFormatStringCellProperty:false}})
};l.prototype.calcMembers=function(n,o){this.guts_.calcMembers=this.guts_.calcMembers||{};if(!n){return o?this.guts_.calcMembers=o:this.guts_.calcMembers}else{return o?this.guts_.calcMembers[n]=o:this.guts_.calcMembers[n]}};l.prototype.defineCalcMember=function(n){var p=false;
var o=this.calcMembers();b.each(o,function(q,r){b.each(r,function(s,t){if(t.uniqueName==n){p=true}})});return p};l.prototype.columns=function(){return this.guts_.entities[b.MdxEntityType.COLUMNS]};l.prototype.rows=function(){return this.guts_.entities[b.MdxEntityType.ROWS]
};l.prototype.subQuery=function(){return this.guts_.entities[b.MdxEntityType.SUB_QUERY]};l.prototype.slicer=function(){return this.guts_.entities[b.MdxEntityType.SLICER]};l.prototype.cubeName=function(n){return n?(this.guts_.cube=n):this.guts_.cube};l.prototype.cubeCaption=function(){var p=this.context.gviConfiguration().schemaInfo();
var o=this.cubeName();var n=p.cube(o);if(!n){return o}else{return b.caption(n)}};l.prototype.noSelectedMemberMdxExpr=function(){var o=this.guts_.options.noSelectedMemberMdxExprId;var n=o?b.mdxQueryExpressions.valueById(o):null;return n||b.mdxQueryExpressions.firstNotAllLevelAllMembers
};l.prototype.queryGenerationMode=function(){return this.guts_.options.queryGenerationMode};l.prototype.isQueryGenerationModeDeferred=function(){return(this.guts_.options.queryGenerationMode)=="deferred"};l.prototype.withSubQuery=function(){return this.guts_.options.withSubQuery
};l.prototype.withSlicer=function(){return this.guts_.options.withSlicer};l.prototype.fireChangeOnStart=function(){return this.guts_.options.fireChangeOnStart};l.prototype.requestCssCellProperty=function(){return this.guts_.options.requestCssCellProperty};l.prototype.requestFormatStringCellProperty=function(){return this.guts_.options.requestFormatStringCellProperty
};l.prototype.refreshOptions=function(n,o){this.guts_.cube=n;$.extend(this.guts_.options,o);if(!this.withSubQuery()){this.subQuery().removeAllHierarchies()}if(!this.withSlicer()){this.slicer().removeAllHierarchies()}};l.prototype.toggleNonEmptyAxis=function(n){n.toggleNonEmpty()
};l.prototype.toggleNonVisualSubQuery=function(){return this.withSubQuery()&&this.subQuery().toggleNonVisual()};l.prototype.toggleQueryGenerationMode=function(){var n=this.guts_.options.queryGenerationMode;if(n=="immediate"){n="deferred"}else{n="immediate"}return(this.guts_.options.queryGenerationMode=n)
};l.prototype.isValid=function(){var n=this.validate();return n==null};l.prototype.validate=function(){var n=this.columns();var o=this.rows();if(!o.isEmpty()&&n.isEmpty()){return b.babylon.localize("mdxQueryBuilderAdapter.error.mdx")}return null};l.prototype.parameterNames=function(){var q=[];
var n=this.columns();if(n){n.parameterNames(q)}var p=this.rows();if(p){p.parameterNames(q)}var o=this.subQuery();if(o){o.parameterNames(q)}var r=this.slicer();if(r){r.parameterNames(q)}q=b.uniques(q);return q};l.prototype.generateMdx=function(){var r="SELECT",s="\nFROM ["+this.cubeName()+"]",w=r+s,u=this.generateMdxCalcMembers(),t=(!b.isEmptyString(u)?(u+"\n"):"")+r,o=this.columns();
if(!o.isEmpty()){t+="\n"+(o.nonEmpty()?"NON EMPTY ":"")+o.generateMdx(this)+" ON COLUMNS"}var x=this.rows();if(!x.isEmpty()){if(!o.isEmpty()){t+=","}t+="\n"+(x.nonEmpty()?"NON EMPTY ":"")+x.generateMdx(this)+" ON ROWS"}var q=false;if(this.withSubQuery()){var p=this.subQuery();
if(!p.isEmpty()){t+="\nFROM"+(p.nonVisual()?" NON VISUAL":"")+" ( SELECT "+p.generateMdx(this)+" FROM ["+this.cubeName()+"] )";q=true}}if(!q){t+=s}if(this.withSlicer()){var v=this.slicer();if(!v.isEmpty()){t+="\nWHERE "+v.generateMdx(this)}}var n="";if(this.requestCssCellProperty()){n+=", STYLE, CLASSNAME"
}if(this.requestFormatStringCellProperty()){n+=", FORMAT_STRING"}if(n.length>0){t+="\nCELL PROPERTIES CELL_ORDINAL, VALUE, FORMATTED_VALUE"+n}if(t===w){t=""}return t};l.prototype.generateMdxCalcMembers=function(){var n=[];var q=this.calcMembers();b.each(q,function(r,s){b.each(s,function(t,u){n.push("MEMBER "+u.uniqueName+" AS "+u.formula)
})});if(n.length==0){return null}var p="WITH";for(var o=0;o<n.length;o++){p+="\n"+n[o]}return p};l.prototype.hasHierarchyByGUID=function(n){return this.columns().hasHierarchyByGUID(n)||this.rows().hasHierarchyByGUID(n)||this.subQuery().hasHierarchyByGUID(n)||this.slicer().hasHierarchyByGUID(n)
};l.prototype.removeHierarchyByGUID=function(n){var o=false;o=this.columns().removeHierarchyByGUID(n)||o;o=this.rows().removeHierarchyByGUID(n)||o;o=this.subQuery().removeHierarchyByGUID(n)||o;o=this.slicer().removeHierarchyByGUID(n)||o;return o};l.prototype.acceptHierarchy=function(o,n){if(o.isSubQuery()){return !o.hasHierarchyByUniqueName(n)
}if(o.isAxis()||o.isSlicer()){return !this.columns().hasHierarchyByUniqueName(n)&&!this.rows().hasHierarchyByUniqueName(n)&&!this.slicer().hasHierarchyByUniqueName(n)}throw b.babylon.localize("mdxQueryBuilderAdapter.error.query")};l.prototype.acceptMovingHierarchy=function(p,o,n){if(!p.isSubQuery()&&!o.isSubQuery()){return true
}if(!p.isSubQuery()&&o.isSubQuery()){return !o.hasHierarchyByUniqueName(n)}if(p.isSubQuery()&&!o.isSubQuery()){return !this.columns().hasHierarchyByUniqueName(n)&&!this.rows().hasHierarchyByUniqueName(n)&&!this.slicer().hasHierarchyByUniqueName(n)}throw"internal error: unrecognized condition!"
};l.prototype.syncFromUI=function(r){var o=this.columns();var q=this.rows();var p=this.subQuery();var t=this.slicer();var n=false;var s=[];s=s.concat(o.hierarchies());s=s.concat(q.hierarchies());s=s.concat(p.hierarchies());s=s.concat(t.hierarchies());n=o.syncFromUI(s,r)||n;
n=q.syncFromUI(s,r)||n;n=p.syncFromUI(s,r)||n;n=t.syncFromUI(s,r)||n;return n};return l}(b.Serializable));b.MdxQuery=h})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(a){var b=(function(d){__extends(c,d);function c(e){d.call(this,e);this.classID="ic3.MdxQueryBuilderLayout"}c.prototype.createDefaultGuts=function(e){return $.extend(d.prototype.createDefaultGuts.call(this,e),{hierarchiesPaneWidth:50})
};c.prototype.buildInHtml=function(e){e.append("<div class='ic3-query-builder'>   <div class='ic3-clear'></div>   <div class='ic3-panes'>       <div class='ic3-hierarchies-pane'>           <div class='ic3-available-hierarchies'>           </div>       </div>       <div class='ic3-query-pane'>           <div class='ic3-query-entities'>               <div class='ic3-query-entity ic3-columns'>                   <div class='ic3-header'></div>                   <div class='ic3-content'></div>                   <div class='ic3-clear'></div>               </div>               <div class='ic3-query-entity ic3-rows'>                   <div class='ic3-header'></div>                   <div class='ic3-content'></div>                   <div class='ic3-clear'></div>               </div>               <div class='ic3-query-entity ic3-sub-query'>                   <div class='ic3-header'></div>                   <div class='ic3-content'></div>                   <div class='ic3-clear'></div>               </div>               <div class='ic3-query-entity ic3-slicer'>                   <div class='ic3-header'></div>                   <div class='ic3-content'></div>                   <div class='ic3-clear'></div>               </div>           </div>       </div>       <div class='ic3-widget-pane'>           <div class='ic3-widget'>           </div>       </div>   </div></div>");
this.$container=e};c.prototype.$builder=function(){return this.$container?this.$container.find(".ic3-query-builder"):$()};c.prototype.hierarchiesPaneWidth=function(e){return e?this.guts_.hierarchiesPaneWidth=e:(this.guts_.hierarchiesPaneWidth||0.5)};c.prototype.$availableHierarchies=function(){return this.$container.find(".ic3-available-hierarchies")
};c.prototype.$columns=function(){return this.$container.find(".ic3-query-entity.ic3-columns")};c.prototype.$rows=function(){return this.$container.find(".ic3-query-entity.ic3-rows")};c.prototype.$subQuery=function(){return this.$container.find(".ic3-query-entity.ic3-sub-query")
};c.prototype.$slicer=function(){return this.$container.find(".ic3-query-entity.ic3-slicer")};c.prototype.onResize=function(l){var i=this.$container.find(".ic3-panes");var k=i.find(".ic3-hierarchies-pane");var g=i.find(".ic3-query-pane");var f=g.height();var e=2+(l.withSubQuery()?1:0)+(l.withSlicer()?1:0);
var h=Math.floor(f/e);var j=function(n){var m=n.find(".ic3-header").outerHeight();var o=h-m;n.find(".ic3-content").css("height",o)};j(this.$columns());j(this.$rows());j(this.$subQuery());j(this.$slicer())};c.prototype.destroy=function(){this.$builder().remove()
};return c}(a.Serializable));a.MdxQueryBuilderLayout=b})(ic3||(ic3={}));var ic3;(function(b){var a=(function(){function c(){}c.editHierarchy=function(e,p,g,m,h,k){var i=b.saveGuts(h.guts_);var n=$("body");var l=b.uniqueId();n.append("<div id='"+l+"' class='ic3-hierarchy-selection-editor ui-front'></div>");
var o=n.find("#"+l);var d=o.hierarchySelectionEditor({$dialogContainer:o,context:e,options:p,query:g,queryEntity:m,hierarchy:h});var f=function(){if(d.hierarchySelectionEditor("validate")){d.hierarchySelectionEditor("applyChanges");o.ic3dialogForReports("destroy").remove();
k&&k(true)}};var j=function(){h.guts_=b.restoreGuts(i,e);o.ic3dialogForReports("destroy").remove();k&&k(false)};o.ic3dialogForReports({wrappingClass:"ic3-h-selection-editor",modal:true,title:b.escapeHTML(h.uniqueName()),width:700,height:450,open:function(){d.hierarchySelectionEditor("onOpen")
},resizeStop:function(){d.hierarchySelectionEditor("onResizeStop")},buttons:{OK:function(){f()},Cancel:function(){j()}},close:function(){j()}})};return c}());b.MdxQueryHierarchySelection=a;b.helperClone="clone"})(ic3||(ic3={}));var ic3;(function(a){var b=(function(){function c(d){this.classID="ic3.MdxQueryBuilderEventsListener";
this.builder_=d;this.clearAllEventObjects()}c.prototype.clearAllEventObjects=function(){this.underlying_=new viz.MdxQueryWidget()};c.prototype.setEventObject=function(f,e,d){this.underlying_.setEventObject(e,d,"asMdx");this.builder_.onSetEventObject(f,e,d)};
c.prototype.hasMdxParametersResolved=function(e){var f=a.uniques(e);var g=this.underlying_.params;var d=true;a.each(f,function(h,i){var j=g[i];if((typeof j==="undefined")||(j===null)){d=false;return false}});return d};c.prototype.resolveMdxParameters=function(e,d){return this.underlying_.asMdxExpression(e,d)
};return c}());a.MdxQueryBuilderEventsListener=b})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var b=(function(c){__extends(d,c);function d(g,e,f){c.call(this,e,f);this.classID="ic3.MdxQueryBuilder";this.context=g;this.buildInHtml()}d.prototype.attachAllEventsListener=function(e){this.allEventsListener=e};d.prototype.buildInHtml=function(){if(!this.schemaInfo()){return
}this.availableHierarchiesByGUID={};this.availableHierarchiesByUName={};var e=this.layout();e.buildInHtml(this.container);var f=this.query();this.$columns=e.$columns().queryBuilderAxis({builder:this,entity:f.columns()});this.$rows=e.$rows().queryBuilderAxis({builder:this,entity:f.rows()});
this.$subQuery=e.$subQuery().queryBuilderAxis({builder:this,entity:f.subQuery()});this.$slicer=e.$slicer().queryBuilderAxis({builder:this,entity:f.slicer()});this.$availableHierarchies=e.$availableHierarchies().hierarchyContainer({builder:this});this.populateAvailableHierarchies();
this.refreshUIAvailableHierarchiesFromQuery();this.refreshUIFromQuery();this.setStyle()};d.prototype.populateAvailableHierarchies=function(){var i={};var g={};var h=this.schemaInfo();var f=this.query().cubeName();var e=h.hierarchies(f,true);$.each(e,function(j,l){var k=a.uniqueId("ic3-available-hierarchy");
i[k]=l;g[l.uniqueName]=l});this.availableHierarchiesByGUID=i;this.availableHierarchiesByUName=g};d.prototype.schemaInfo=function(){return this.context.gviConfiguration().schemaInfo()};d.prototype.query=function(){return this.options.query};d.prototype.layout=function(){return this.options.layout
};d.prototype.lookupAvailableHierarchyByGUID=function(e){return this.availableHierarchiesByGUID[e]};d.prototype.lookupAvailableHierarchyByUniqueName=function(e){return this.availableHierarchiesByUName[e]};d.prototype.removeHierarchyByGUID=function(e){return this.query().removeHierarchyByGUID(e)
};d.prototype.acceptHierarchy=function(f,e){return this.query().acceptHierarchy(f,e)};d.prototype.acceptMovingHierarchy=function(g,f,e){return this.query().acceptMovingHierarchy(g,f,e)};d.prototype.onNonEmptyAxisToggle=function(e){this.query().toggleNonEmptyAxis(e);
this.refreshUIFromQuery();this.onQueryChange()};d.prototype.onNonVisualSubQueryToggle=function(){this.query().toggleNonVisualSubQuery();this.refreshUIFromQuery();this.onQueryChange()};d.prototype.onQueryChange=function(e){this.fireMdxQueryChange();this.fireMdxQueryGeneration(e)
};d.prototype.onSetEventObject=function(g,f,e){var h=this.query().parameterNames();if(a.arrayContains(h,f)){this.onQueryChange()}};d.prototype.refreshUIAvailableHierarchiesFromQuery=function(){this.$availableHierarchies.hierarchyContainer("refreshFromQuery")
};d.prototype.refreshUIFromQuery=function(){this.$columns.queryBuilderAxis("refreshFromQuery");this.$rows.queryBuilderAxis("refreshFromQuery");this.$subQuery.queryBuilderAxis("refreshFromQuery");this.$slicer.queryBuilderAxis("refreshFromQuery");this.layout().onResize(this.query())
};d.prototype.syncQueryFromUI=function(){var e={};e[a.MdxEntityType.COLUMNS]=this.$columns.queryBuilderAxis("guids");e[a.MdxEntityType.ROWS]=this.$rows.queryBuilderAxis("guids");e[a.MdxEntityType.SUB_QUERY]=this.$subQuery.queryBuilderAxis("guids");e[a.MdxEntityType.SLICER]=this.$slicer.queryBuilderAxis("guids");
return this.query().syncFromUI(e)};d.prototype.fireMdxQueryChange=function(){var i=this.query();var f=i.validate();var h=i.generateMdx();var g=i.parameterNames();if(this.allEventsListener&&this.allEventsListener.hasMdxParametersResolved(g)){var e=(h===""?h:this.allEventsListener.resolveMdxParameters(h,g));
this.fireEvent(vizEventType.onMdxQueryChange,new viz.event.MdxQueryEvent(e,f))}};d.prototype.fireMdxQueryGeneration=function(j){var i=this.query();if(j!==true&&i.isQueryGenerationModeDeferred()){return}var f=i.validate();if(!f){var h=i.generateMdx();var g=i.parameterNames();
if(this.allEventsListener&&this.allEventsListener.hasMdxParametersResolved(g)){var e=(h===""?h:this.allEventsListener.resolveMdxParameters(h,g));this.fireEvent(vizEventType.onMdxQueryGeneration,new viz.event.MdxQueryEvent(e))}}};d.prototype.producedEvents=function(){return[vizEventType.onMdxQueryGeneration,vizEventType.onMdxQueryChange]
};d.prototype.consumedEvents=function(){return[vizEventType.doFireMdxQueryGeneration,vizEventType.doToggleMdxQueryGenerationMode]};d.prototype.consumeEvent=function(e,f){switch(e){case vizEventType.doFireMdxQueryGeneration:this.fireMdxQueryGeneration(true);
break;case vizEventType.doToggleMdxQueryGenerationMode:this.query().toggleQueryGenerationMode();break}};d.prototype.destroy=function(){this.$availableHierarchies&&this.$availableHierarchies.hierarchyContainer("destroy");this.$columns&&this.$columns.queryBuilderAxis("destroy");
this.$rows&&this.$rows.queryBuilderAxis("destroy");this.$subQuery&&this.$subQuery.queryBuilderAxis("destroy");this.$slicer&&this.$slicer.queryBuilderAxis("destroy");this.layout().destroy()};return d}(viz.BaseWidget));a.MdxQueryBuilder=b})(ic3||(ic3={}));var ic3;
(function(b){var a;(function(c){var d=(function(){function f(g){this.getModuleRevision=function(i,h){return{rev:parseInt(_.get(/Rev(\d+)Migrator/i.exec(h),[1],"")),migrator:i}};this.migrators=b.migration[g];this.migrations=_(this.migrators).map(this.getModuleRevision).sortBy("rev").value()
}f.prototype.getItemRevision=function(g){return _.get(g,"guts_.ic3Rev",-1)};f.prototype.getLastRevision=function(){return _.last(this.migrations).rev};f.prototype.needsMigration=function(g){return this.getItemRevision(g)<this.getLastRevision()};f.prototype.migrate=function(j,h){var g=this.getLastRevision();
var i=this.getItemRevision(j);if(i<g){_.map(this.migrations,function(m){var l=m.migrator,k=m.rev;return(k>i)&&(new l()).migrate(j,h)});j.guts_.ic3Rev=g}};return f}());var e=(function(){function f(){}f.stubValue=function(j,g,h,i){f.tmpValueStorage[g+h]=j[h];
j[h]=i};f.restoreValue=function(h,i,g){if(f.tmpValueStorage[i+g]){h[g]=f.tmpValueStorage[i+g]}};f.clearTempStorage=function(){f.tmpValueStorage={}};f.fixClassID=function(i,h){var g=this;if(_.isObject(i)){if(i.classID&&h[i.classID]){i.classID=h[i.classID];this.fixClassID(i.guts_,h)
}else{_.each(i,function(j){if(_.isObject(j)){g.fixClassID(j,h)}})}}else{if(_.isArray(i)){_.each(i,this.fixClassID.bind(this))}}};f.needsMigration=function(h){var g=new d("report");return g.needsMigration(h)};f.getLastReportRev=function(){return b.ic3version.rev==="$rev$"?(new d("report")).getLastRevision():parseInt(b.ic3version.rev)
};f.migrateReport=function(k,i,m){var l=this;var h=new d("report"),j=function(){i.mainReport().messageBox("Save migrated report","Would you like to save migrated report in new format?",{yes:function(){return new b.SaveReportAsCommand(i).execute()},no:null})
};if(h.needsMigration(k)){var g=function(){h.migrate(k,i);m(b.restoreGuts(k,i))};if(!i.mainReport().isReportManagingMode()){i.mainReport().messageBox("Report migration","This report isn't compatible with current version of icCube reporting. Do you want to migrate it?",{yes:function(){try{g();
j()}catch(n){i.mainReport().messageBox("Cannot migrate report","Cannot migrate report. Please contact support.");i.LoggerFactory.getLogger({instance:l}).error("Migration error: {}",n.message)}},no:null})}else{g()}}else{m(b.restoreGuts(k,i))}};f.tmpValueStorage={};
return f}());c.MigrationUtils=e})(a=b.migration||(b.migration={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(b){var a;(function(d){var c=(function(f){__extends(e,f);function e(g){f.call(this,g);this.classID="ic3.migration.CalcMeasureMgr"}e.prototype.createDefaultGuts=function(g){return{measures:[]}};e.prototype.hasCalcMeasure=function(g){return this.getCalcMeasure(g)!=null
};e.prototype.getCalcMeasure=function(g){return b.arrayLookupCaseInsensitive(this.guts_.measures,"name",g)};e.prototype.addCalcMeasure=function(g,j,h){var i={name:g,expression:j,properties:h};this.guts_.measures.push(i);return this._asVizMdxEntity(i)};e.prototype.updateCalcMeasure=function(g,h,l,i){var j={name:h,expression:l,properties:i};
var k=b.arrayLookupCaseInsensitive(this.guts_.measures,"name",g);if(!k){return null}$.extend(k,j);return this._asVizMdxEntity(j)};e.prototype.deleteCalcMeasure=function(g){var h=b.arrayLookupCaseInsensitive(this.guts_.measures,"name",g);if(h){b.arrayRemove(this.guts_.measures,h)
}};e.prototype.calcMeasures=function(){var g=this;var h=[];b.each(g.guts_.measures,function(i,j){h.push(g._asVizMdxEntity(j))});return h};e.prototype.mdxStatement=function(g){var h=this;var i="";b.each(this.guts_.measures,function(j,k){if(h.uniqueName(k.name)==g){i="MEMBER "+g+" AS "+k.expression;
if(!b.isEmptyString(k.properties)){i+=","+k.properties}}});return i};e.prototype._asVizMdxEntity=function(g){return{name:g.name,uniqueName:this.uniqueName(g.name),type:viz.MdxEntityDataType.REPORT_CALC_MEASURE,parentRowId:-1}};e.prototype.uniqueName=function(g){return"[Measures].["+b.escapeMdxName(g)+"]"
};return e}(b.Serializable));d.CalcMeasureMgr=c})(a=b.migration||(b.migration={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(b){var a;(function(c){var d=(function(f){__extends(e,f);function e(h,g){f.call(this,h,g)}e.prototype.caption=function(){b.assertAbstract("caption",this);return""};e.prototype.uniqueName=function(){b.assertAbstract("uniqueName",this);return""
};e.prototype.mdxStatement=function(){b.assertAbstract("mdxStatement",this);return null};e.prototype.cubeName=function(){return this.context.mainReport().cubeName()};return e}(b.FormWidget));c.QueryBuilderFormBase=d})(a=b.migration||(b.migration={}))})(ic3||(ic3={}));
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a;(function(c){var d=(function(f){__extends(e,f);
function e(g,h){f.call(this,g);this.classID="ic3.migration.QueryBuilderEventsFilter";this._init=true;this.isInFilter=h}e.prototype.createDefaultGuts=function(g){return{mdxStatement:null,whereClause:null}};e.prototype.isForWhereClause=function(){return this.guts_.whereClause!=null
};e.prototype.getReportCalcMeasureUniqueNames=function(){return[]};e.prototype.uniqueName=function(){return"[Events]"};e.prototype.mdxStatement=function(){return this.guts_.mdxStatement};return e}(b.migration.QueryBuilderFormBase));c.QueryBuilderEventsFilter=d
})(a=b.migration||(b.migration={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(b){var a;(function(c){var d=(function(e){__extends(f,e);function f(h,g){e.call(this,h,g);this.classID="ic3.migration.QueryBuilderFlatMdxForm"}f.prototype.createDefaultGuts=function(g){return{useMdxStatement:false,statement:null,handleEmptyAs:null}
};f.prototype.mdxStatement=function(){return this.guts_.statement};f.prototype.isDefiningMDXStatement=function(){return this.guts_.useMdxStatement};f.prototype.validate=function(){if(b.isEmptyString(this.guts_.statement)){return"MDX statement is empty"}else{return null
}};return f}(b.migration.QueryBuilderFormBase));c.QueryBuilderFlatMdxForm=d})(a=b.migration||(b.migration={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f
}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a;(function(d){var c=(function(f){__extends(e,f);function e(h,g,i){f.call(this,h,g);this.easyFields=["membersOf","membersOfLevel","mdx","top-bottom-type","top-bottom-value","top-bottom-measure","order-measure","order-option","nonempty-measure"];
this.membersOf_Options=[{id:"first (not all)",f:function(j){return j+".firstNotAllLevel().allmembers"}},{id:"last level",f:function(j){return j+".lastLevel().allmembers"}},{id:"all members",f:function(j){return j+".allmembers"}},{id:"all members (without all)",f:function(j){return"{"+j+" .allmembers - "+j+".[all] }"
}}];this.topBottom_Options=[{id:"Top",f:function(k,j,l){return"TopCount("+k+","+j+","+l+")"}},{id:"Bottom",f:function(k,j,l){return"BottomCount("+k+","+j+","+l+")"}},{id:"TopPercent",caption:"Top %",f:function(k,j,l){return"TopPercent("+k+","+j+","+l+")"}},{id:"BottomPercent",caption:"Bottom %",f:function(k,j,l){return"BottomPercent("+k+","+j+","+l+")"
}}];this.classID="ic3.migration.QueryBuilderHierarchyForm";this.hierarchyReadOnly=false;this.isInFilter=i}e.prototype.isForWhereClause=function(){return this.guts_.whereClause!=null};e.prototype.createDefaultGuts=function(g){return{hierarchy:{name:"",uniqueName:""},type:"membersOf",membersOf:"first (not all)",membersOfLevel:null,mdx:null,"top-bottom":null,"top-bottom-type":null,"top-bottom-value":null,"top-bottom-measure":null,order:null,"order-measure":null,"order-option":null,nonempty:null,"nonempty-measure":null}
};e.prototype.beforeSaveGuts=function(){var g=this.guts_;if(!g["top-bottom"]){g["top-bottom-type"]=null;g["top-bottom-value"]=null;g["top-bottom-measure"]=null}if(!g.order){g["order-measure"]=null;g["order-option"]=null}if(!g.nonempty){g["nonempty-measure"]=null
}switch(g.type){case"membersOf":g.membersOfLevel=g.mdx=null;break;case"membersOfLevel":g.membersOf=g.mdx=null;break;case"mdx":g.membersOf=g.membersOfLevel=null;break}};e.prototype.uniqueName=function(){return this.guts_.hierarchy.uniqueName};e.prototype.caption=function(){return this.guts_.hierarchy.name
};e.prototype.cubeName=function(g){return g?(this._cubeName=g):this._cubeName};e.prototype.mdxStatement=function(){var k=this.guts_;var j=this._statement();var i=k.hierarchy.uniqueName;if(k["top-bottom"]){var h=b.arrayLookup(this.topBottom_Options,"id",k["top-bottom-type"]);
var g=k["top-bottom-measure"].replace("{{current}}",i+".currentMember");j=h.f(j,k["top-bottom-value"],g)}if(k.order){var g=k["order-measure"].replace("{{current}}",i+".currentMember");j="Order( "+j+", "+g+", "+k["order-option"]+")"}if(k.nonempty){var g=k["nonempty-measure"].replace("{{current}}",i+".currentMember");
j="NonEmpty( "+j+", "+g+")"}return j};e.prototype._statement=function(){var i=this.guts_;var g=this.uniqueName();var h;switch(i.type){case"membersOf":h=b.arrayLookup(this.membersOf_Options,"id",i.membersOf).f(g);break;case"membersOfLevel":h=i.membersOfLevel+".allmembers";
break;case"mdx":h=i.mdx;break}return h};e.prototype.getReportCalcMeasureUniqueNames=function(){var g=[];var i=this.guts_;if(i.type=="mdx"){var h=new b.migration.CalcMeasureMgr(this.context).calcMeasures();b.each(h,function(j,l){var k="["+b.escapeMdxName(l.name)+"]";
if(i.mdx.toLocaleLowerCase().indexOf(k.toLocaleLowerCase())!=-1){g.push(l.uniqueName)}})}g=b.uniques(g);return g};return e}(b.migration.QueryBuilderFormBase));d.QueryBuilderHierarchyForm=c})(a=b.migration||(b.migration={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a;(function(c){var d=(function(f){__extends(e,f);function e(h,g,i){f.call(this,h,g);this.classID="ic3.migration.QueryBuilderMeasuresFormBase";
this._createCalcMeasureItem={createCalcMeasureItem:true,name:"<new calc. measure>",uniqueName:"<new calc. measure>",type:viz.MdxEntityDataType};this._eventHandler=new viz.EventHandler();this._init=true;this.isInFilter=i}e.prototype.createDefaultGuts=function(g){return{measures:[]}
};e.prototype.cubeName=function(g){return g?(this._cubeName=g):this._cubeName};e.prototype.isForWhereClause=function(){return this.guts_.whereClause!=null};e.prototype.caption=function(){var h=this.context.gviConfiguration();var g=h.schemaInfo();var i=g.measuresDimension();
return i.name};e.prototype.uniqueName=function(){return"[Measures]"};e.prototype.mdxStatement=function(){var h=this.guts_.measures;var g="";b.each(h,function(i,j){g+=(g.length==0?"":",")+j.uniqueName});return"{"+g+"}"};return e}(b.migration.QueryBuilderFormBase));
c.QueryBuilderMeasuresFormBase=d})(a=b.migration||(b.migration={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(b){var a;(function(c){var d=(function(e){__extends(f,e);function f(h,g){e.call(this,h,g);this.classID="ic3.migration.QueryBuilderWizardForm"}f.prototype.validate=function(){var g=this.guts_;if(g.cols.length===0){return b.babylon.localize("queryBuilderWizardForm.error.column")
}else{return null}};f.prototype.createDefaultGuts=function(g){return{rows:[],cols:[],filters:[],nonEmptyOnRows:false,nonEmptyOnColumns:false,handleEmptyAs:null}};f.prototype.mdxStatement=function(){var j=this.guts();var m="";var l=this.getReportCalcMeasureUniqueNames();
var k=new b.migration.CalcMeasureMgr(this.context);b.each(l,function(o,p){if(o==0){m+="WITH\n"}m+=k.mdxStatement(p)+"\n"});m+="SELECT\n";var h=j.rows.length>0;var i=j.cols.length>0;m+=i?(j.nonEmptyOnColumns?"NON EMPTY ":"")+this._mdxAxis(j.cols)+" ON COLUMNS"+(h?",\n":"\n"):"";
m+=h?(j.nonEmptyOnRows?"NON EMPTY ":"")+(this._mdxAxis(j.rows)+" ON ROWS\n"):"";var n=0;var g=0;b.each(j.filters,function(o,p){if(p.isForWhereClause()){g++}else{n++}});if(n>0){m+=" FROM ( SELECT "+this._asSubselect(j.filters)+" FROM ["+this.context.mainReport().cubeName()+"])\n"
}else{m+=" FROM ["+this.cubeName()+"]\n"}if(g>0){m+=" WHERE "+this._asWhereClause(j.filters)+"\n"}if(j.cssCellProperties){m+="CELL PROPERTIES STYLE, CLASSNAME, VALUE, FORMATTED_VALUE";if(j.formatStringCellProperties){m+=", FORMAT_STRING"}}else{if(j.formatStringCellProperties){m+="CELL PROPERTIES VALUE, FORMATTED_VALUE, FORMAT_STRING"
}}return m};f.prototype.axis0Caption=function(){return this._asCaption(this.guts_.cols)};f.prototype.axis1Caption=function(){return this._asCaption(this.guts_.rows)};f.prototype._asCaption=function(h){var g="";b.each(h,function(i,j){g+=", "+j.caption()});return g.substring(2)
};f.prototype._asSubselect=function(g){var i="";var h=0;$.each(g,function(j,l){if(!l.isForWhereClause()){var k=l.mdxStatement();if(!b.isEmptyString(k)){i+=(i.length==0?"\n":",\n")+"{ "+k+" } ON "+h;h++}}});return i};f.prototype._asWhereClause=function(g){var h="";
$.each(g,function(i,k){if(k.isForWhereClause()){var j=k.mdxStatement();if(!b.isEmptyString(j)){h+=(h.length==0?"":" * ")+"{"+j+"}"}}});return h};f.prototype._mdxAxis=function(g){var h="";$.each(g,function(i,k){var j=k.mdxStatement();if(!b.isEmptyString(j)){h+=(h.length!=0?"*":"")+"{ "+j+" }"
}});return h};f.prototype.getReportCalcMeasureUniqueNames=function(){return[]};return f}(b.migration.QueryBuilderFormBase));c.QueryBuilderWizardForm=d})(a=b.migration||(b.migration={}))})(ic3||(ic3={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]
}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ic3;(function(b){var a;(function(c){var d=(function(f){__extends(e,f);function e(g){f.call(this,g);this.classID="ic3.migration.QueryBuilderWidget"
}e.prototype.getCaptionForEventInfo=function(){return(this._adapter&&this._adapter.getCaptionForEventInfo())||("GUID:"+this.guid())};e.prototype.createDefaultGuts=function(g){return{mdxWizard:new c.QueryBuilderWizardForm(g),mdxFlat:new c.QueryBuilderFlatMdxForm(g)}
};e.prototype.mdxStatementForBoxEditor=function(){return this.mdxStatement()};e.prototype.mdxStatement=function(){var g=this.guts_;return this._mdxStatement(g.mdxFlat,g.mdxWizard)};e.prototype.hasFlatMdx=function(){return true};e.prototype.canHaveQueryResult=function(){return true
};e.prototype.hasQueryResult=function(){return true};e.prototype.isDefiningFlatMdx=function(){return this.guts_.mdxFlat.isDefiningMDXStatement()};e.prototype.validate=function(){var g=this.guts_;if(g.mdxFlat.isDefiningMDXStatement()){return g.mdxFlat.validate()
}else{return g.mdxWizard.validate()}};e.prototype._mdxStatement=function(h,g){if(h.isDefiningMDXStatement()){return h.mdxStatement()}else{return g.mdxStatement()}};e.prototype.type=function(){return b.BuilderType.QUERY};e.prototype.getAdapter=function(){return this._adapter
};return e}(b.Serializable));c.QueryBuilderWidget=d})(a=b.migration||(b.migration={}))})(ic3||(ic3={}));var ic3;(function(ic3){var migration;(function(migration){var report;(function(report){var Rev0Migrator=(function(){function Rev0Migrator(){var _this=this;
this.classIDDictionary={"ic3.QueryBuilderEventsFilter":"ic3.migration.QueryBuilderEventsFilter","ic3.QueryBuilderFlatMdxForm":"ic3.migration.QueryBuilderFlatMdxForm","ic3.QueryBuilderHierarchyForm":"ic3.migration.QueryBuilderHierarchyForm","ic3.QueryBuilderMeasuresFormBase":"ic3.migration.QueryBuilderMeasuresFormBase","ic3.QueryBuilderWizardForm":"ic3.migration.QueryBuilderWizardForm","ic3.QueryBuilderWidget":"ic3.migration.QueryBuilderWidget","ic3.BigTableAdapter":"ic3.GenericTableAdapter","ic3.SimpleTableAdapter":"ic3.GenericTableAdapter","ic3.PivotTableAdapter":"ic3.GenericTableAdapter","ic3.AmchartsSerialAdapter":"ic3.AmChartsAdapter","ic3.AmchartsRadarAdapter":"ic3.AmChartsAdapter","ic3.AmchartsPieAdapter":"ic3.AmChartsAdapter","ic3.AmchartsFunnelAdapter":"ic3.AmChartsAdapter","ic3.AmchartsXyAdapter":"ic3.AmChartsAdapter","ic3.AmchartsComboAdapter":"ic3.AmChartsAdapter","ic3.AmchartsGanttAdapter":"ic3.AmChartsAdapter","ic3.AmGaugeChartAdapter":"ic3.AmChartsAdapter","ic3.QueryFilterMultiSelectAdapter":"ic3.SelectControlAdapter","ic3.QueryFilterButtonListAdapter":"ic3.SelectControlAdapter","ic3.QueryFilterComboAdapter":"ic3.SelectControlAdapter","ic3.QueryFilterTreeAdapter":"ic3.SelectControlAdapter","ic3.QueryFilterDatePickerAdapter":"ic3.DatePickerAdapter","ic3.ActionsJquiDatePickerAdapter":"ic3.DatePickerAdapter","ic3.NewActionsJQueryButtonListAdapter":"ic3.ActionSelectControlAdapter","ic3.NewActionsButtonListAdapter":"ic3.ActionSelectControlAdapter","ic3.NewActionsComboAdapter":"ic3.ActionSelectControlAdapter","ic3.NewActionsContextualMenuAdapter":"ic3.ActionSelectControlAdapter","ic3.NewActionsMenuAdapter":"ic3.ActionSelectControlAdapter","ic3.HtmlAdapter":"ic3.TinyMCEAdapter","ic3.TemplatedGoogleChartsAdapter":"ic3.GoogleChartsAdapter"};
this.specificAdapterGuts={"ic3.BigTableAdapter":function(){return _this.chartShortcut(ic3.reporting.table.meta.TableType.SlickGrid)},"ic3.SimpleTableAdapter":function(){return _this.chartShortcut(ic3.reporting.table.meta.TableType.SimpleTable)},"ic3.AmchartsComboAdapter":function(){return _this.chartShortcut({label:"Clustered",proto:ic3.AmSerialColumnClusteredChart,id:"serial-chart-clustered"})
},"ic3.AmchartsSerialAdapter":function(){return _this.chartShortcut({label:"Clustered",proto:ic3.AmSerialColumnClusteredChart,id:"serial-chart-clustered"})},"ic3.AmchartsGanttAdapter":this.chartShortcut({label:"Clustered",proto:ic3.AmSerialColumnClusteredChart,id:"serial-chart-clustered"}),"ic3.AmGaugeChartAdapter":this.chartShortcut({label:"Clustered",proto:ic3.AmSerialColumnClusteredChart,id:"serial-chart-clustered"}),"ic3.AmchartsRadarAdapter":this.chartShortcut({label:"Radar",proto:ic3.AmRadarChart,id:"radar-chart-radar"}),"ic3.AmchartsPieAdapter":this.chartShortcut({label:"Pie",proto:ic3.AmPieChart,id:"pie-chart-pie"}),"ic3.AmchartsFunnelAdapter":this.chartShortcut({label:"Funnel",proto:ic3.AmFunnelChart,id:"funnel-chart-funnel"}),"ic3.AmchartsXyAdapter":this.chartShortcut({label:"Bubble",proto:ic3.AmXYBubbleChart,id:"bubble-chart-bubble"}),"ic3.QueryFilterMultiSelectAdapter":{dataRenderOptions:{type:ic3.reporting.controls.MultiSelect},selectionMode:"single"},"ic3.QueryFilterButtonListAdapter":function(adapter){return({dataRenderOptions:{type:adapter.guts_.layout=="horizontal"?ic3.reporting.controls.HorizontalButtons:ic3.reporting.controls.Buttons}})
},"ic3.QueryFilterComboAdapter":{dataRenderOptions:{type:ic3.reporting.controls.DropDown},selectionMode:"single"},"ic3.QueryFilterTreeAdapter":{dataRenderOptions:{type:ic3.reporting.controls.Tree}},"ic3.HtmlAdapter":function(adapter){return({data:{isHtml:adapter.guts_.isHtml,content:adapter.guts_.html}})
},"ic3.ReportWidgetAdapter":function(adapter){return({data:{reportId:adapter.guts_.reportId,reportName:adapter.guts_.reportName,params:adapter.guts_.params}})},"ic3.TemplatedGoogleChartsAdapter":function(adapter){var chartDefinition=_.get(adapter,"guts_.ic3chartType.name","Table")+"Chart";
if(ic3.reporting.googlecharts.meta[chartDefinition]){return _this.chartShortcut(ic3.reporting.googlecharts.meta[chartDefinition])}}}}Rev0Migrator.prototype.chartShortcut=function(type,ext){return _.merge({dataRenderOptions:{chartType:type}},ext)};Rev0Migrator.prototype.fixAdapterGuts=function(adapter){var propsList=["ic3_name","ic3_uid","ic3_mdxBuilderUid","ic3_eventMapper"],persistentProps=_.cloneDeep(_.pick(adapter.guts_,propsList)),oldClassID=ic3.SerializerVersions[adapter.classID]||adapter.classID,gutsExtension=null,defaultGuts={};
if(this.classIDDictionary[oldClassID]){adapter.classID=this.classIDDictionary[oldClassID]}try{defaultGuts=_.get(ic3.saveGuts(eval("new "+adapter.classID+"(this.context)")),"guts_",{});if(_.isFunction(this.specificAdapterGuts[oldClassID])){gutsExtension=this.specificAdapterGuts[oldClassID].call(this,adapter)
}else{gutsExtension=this.specificAdapterGuts[oldClassID]}}catch(err){this.context.LoggerFactory.getLogger({instance:"Rev0Migrator"}).warning('Adapter "{}" cannot be migrated. Widget has been swaped with HTML box placeholder.',adapter.classID);adapter.classID="ic3.TinyMCEAdapter";
defaultGuts={data:{isHtml:true,content:'<span style="text-align: center; color:red">Error widget: '+oldClassID+"</span>"},configState:ic3.WidgetConfigState.COMPLETE};delete persistentProps.ic3_mdxBuilderUid}adapter.guts_=_.merge(defaultGuts,persistentProps,gutsExtension,{configState:ic3.WidgetConfigState.COMPLETE});
return adapter};Rev0Migrator.prototype.fixQueryBuilder=function(builder){migration.MigrationUtils.fixClassID(builder,this.classIDDictionary);var result={classID:"ic3.QueryBuilderWidget",guts_:{mode:"MDX",options:{WIZARD:{cubeName:null,measures:[],rows:[],rowsNonEmpty:false,columns:[],columnsNonEmpty:false,filter:[]},MDX:{statement:""}},ic3_name:builder.guts_.ic3_name,ic3_uid:builder.guts_.ic3_uid}};
result.guts_.options.MDX.statement=ic3.restoreGuts(builder,this.context).mdxStatement();return result};Rev0Migrator.prototype.fixFilterBuilder=function(builder){var result={classID:"ic3.FilterQueryBuilder",guts_:{mode:"WIZARD",options:{WIZARD:{setAxis:[],filter:[]},MDX:{statement:""},MANUAL:{items:[]}},ic3_name:builder.guts_.ic3_name,ic3_uid:builder.guts_.ic3_uid}};
var uniqueName=_.get(builder,"guts_.membersOfLevel",_.get(builder,"guts_.hierarchy.uniqueName","")),defaultMdx=_.get(builder,"guts_.defaultsMdx","");if(builder.guts_.type=="mdx"){result.guts_.options.MDX.statement="WITH\nFUNCTION currMember() AS "+uniqueName+".hierarchy.currentmember\nMEMBER ic3Name AS currMember().name\nMEMBER ic3UName AS currMember().uniquename\nMEMBER ic3PName AS IIF(currMember().parent is NULL,NULL,currMember().parent.uniquename)\nMEMBER ic3Measure AS 0\nMEMBER ic3IsSelected AS false\nMEMBER ic3FilterName as [Measures].[ic3Name]\nSELECT\n{[Measures].[ic3Name],[Measures].[ic3UName],[Measures].[ic3PName],[Measures].[ic3Measure],[Measures].[ic3IsSelected],[Measures].[ic3FilterName]} ON 0,\n"+builder.guts_.mdx+" ON 1\nFROM ["+this.context.cubeName()+"]";
result.guts_.mode="MDX"}else{if(!_.isEmpty(uniqueName)){if(uniqueName=="[Measures]"){result.guts_.options.MANUAL.items.push({name:"Measures",uniqueName:ic3.FilterQueryBuilder.CONSTANTS.ALL_MEASURES,selected:false});result.guts_.mode="MANUAL"}else{var item={memberBase:{hierarchy:uniqueName,membersType:"allMembers"}};
if(!_.isEmpty(builder.guts_.nonempty)&&!_.isEmpty(builder.guts_["nonempty-measure"])){item.nonEmpty={measure:builder.guts_["nonempty-measure"]}}result.guts_.options.WIZARD.setAxis.push(item);var defaultProperty=_.startsWith(_.trim(defaultMdx),"{")?"mdxPreselection":"clientPreselection";
if(defaultProperty=="clientPreselection"){defaultMdx=defaultMdx.replace(/\[/gi,"").replace(/\]/gi,"")}result.guts_.options.WIZARD[defaultProperty]=defaultMdx}}}if(builder.classID=="ic3.FilterMdxHierarchiesBuilder"||builder.classID=="ic3.FilterMdxLevelsBuilder"){var items=builder.guts_.items||[];
result.guts_.mode="MANUAL";_.each(items,function(item){result.guts_.options.MANUAL.items.push({name:item.name,uniqueName:item.uniqueName,type:builder.classID=="ic3.FilterMdxHierarchiesBuilder"?"hierarchy":"level"})})}return result};Rev0Migrator.prototype.fixActionBuilder=function(builder){var result={classID:builder.classID,guts_:{items:[],ic3_name:builder.guts_.ic3_name,ic3_uid:builder.guts_.ic3_uid,mode:"MANUAL",options:{MANUAL:{items:[]}}}};
_.each(builder.guts_.items,function(item){var addItem=function(item){var newItem={caption:item.caption,name:item.caption,uniqueName:item.eventValue,type:"manual",eventName:item.eventName};result.guts_.items.push(newItem)};if(item.items){_.each(item.items,addItem)
}else{addItem(item)}});return result};Rev0Migrator.prototype.migrate=function(reportJSON,context){this.reportJSON=reportJSON;this.context=context;var _a=reportJSON.guts_,widgetMgr=_a.widgetMgr,mdxQueriesMgr=_a.mdxQueriesMgr;try{migration.MigrationUtils.stubValue(context.mainReport(),"mainReport","cubeName",function(){return reportJSON.guts_.cubeName
});migration.MigrationUtils.stubValue(context.mainReport(),"mainReport","schemaName",function(){return reportJSON.guts_.schemaName});migration.MigrationUtils.stubValue(context,"context","isRestoringGuts",false);this.reportJSON.guts_.calcMeasureMgr.guts_.measures=_.map(this.reportJSON.guts_.calcMeasureMgr.guts_.measures,function(measure){measure.expressionName=measure.name;
delete measure.name;return measure});this.context.isRestoringGuts=false;widgetMgr.guts_.items=_.map(widgetMgr.guts_.items,this.fixAdapterGuts.bind(this));this.context.isRestoringGuts=true;if(!_.isEmpty(_.get(reportJSON,"guts_.mdxQueriesMgr.guts_.mdxQueries.guts_.items"))){var queryBuilders=mdxQueriesMgr.guts_.mdxQueries.guts_.items;
_.set(mdxQueriesMgr,"guts_.mdxQueries.guts_.items",_.map(queryBuilders,this.fixQueryBuilder.bind(this)))}if(!_.isEmpty(_.get(reportJSON,"guts_.mdxQueriesMgr.guts_.mdxFilter.guts_.items"))){var filterBuilders=mdxQueriesMgr.guts_.mdxFilter.guts_.items;_.set(mdxQueriesMgr,"guts_.mdxFilter.guts_.items",_.map(filterBuilders,this.fixFilterBuilder.bind(this)))
}if(!_.isEmpty(_.get(reportJSON,"guts_.mdxQueriesMgr.guts_.actionBuilders.guts_.items"))){var actionBuilders=mdxQueriesMgr.guts_.actionBuilders.guts_.items;_.set(mdxQueriesMgr,"guts_.actionBuilders.guts_.items",_.map(actionBuilders,this.fixActionBuilder.bind(this)))
}}catch(err){throw err}finally{migration.MigrationUtils.restoreValue(context.mainReport(),"mainReport","cubeName");migration.MigrationUtils.restoreValue(context.mainReport(),"mainReport","schemaName");migration.MigrationUtils.restoreValue(context,"context","isRestoringValue");
migration.MigrationUtils.clearTempStorage()}};return Rev0Migrator}());report.Rev0Migrator=Rev0Migrator})(report=migration.report||(migration.report={}))})(migration=ic3.migration||(ic3.migration={}))})(ic3||(ic3={}));var ic3;(function(b){var a;(function(d){var c;
(function(e){var f=(function(){function g(){}g.prototype.migrate=function(i,h){_.set(i,"guts_.ic3Rev",b.migration.MigrationUtils.getLastReportRev())};return g}());e.Rev3483Migrator=f})(c=d.report||(d.report={}))})(a=b.migration||(b.migration={}))})(ic3||(ic3={}));
var ic3;(function(a){function b(f){viz.GlobalConnectionSettings={timeout:a.getGlobalTimeout()};var d=f.report;delete f.report;d&&(f.noticesLevel=a.NoticeLevel.ERROR);var e=new a.Reporting({noticesLevel:f.noticesLevel,dsSettings:f.dsSettings,environment:f.environment});
e.setupGVIConfiguration(function(){if(d){e.setupApplication(f);e.openReport({report:d})}else{e.setupBlankApplication({container:f.container})}});return e}a.startReport=b;function c(d,e){return moment(d).format("YYYY-MM-DD")}a.formatDate=c;a.GviConstants={Param:{windowUId:"windowUId",widgetUId:"widgetUId",openingReportId:"openingReportId",timestamp:"timestamp",noAutoCancel:"noAutoCancel"},Action:{cancelActiveRequests:"cancelActiveRequests"}}
})(ic3||(ic3={}));var ic3GviParamConstants=ic3.GviConstants.Param;var ic3GviActionConstants=ic3.GviConstants.Action;var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())
};var ic3;(function(a){var d=a.ErrorPage;var c=(function(f){__extends(e,f);function e(){f.apply(this,arguments)}e.onReportJSON="ic3reportJSON";e.onEmbeddedReportJSON="ic3embeddedReportJSON";e.onAddNote="ic3-add-note";e.onSaveSnapshot="ic3-save-snapshot";e.onSaveSelection="ic3-save-selection";
e.onNavigate="ic3navigate";e.doNavigate="ic3doNavigate";e.doNavigateBack="ic3doNavigateBack";e.doClearNavigation="ic3doClearNavigation";e.doCLearAxis0Navigation="ic3doClearAxis0Navigation";e.doCLearAxis1Navigation="ic3doClearAxis1Navigation";e.doCLearFilterNavigation="ic3doClearFilterNavigation";
return e}(viz.EventType));a.EventType=c;var b=(function(){function e(f){this.classID="ic3.Reporting";a.logMsg("[ic3-reporting] setup context");this.context_=a.setupContext(f);this.context_.reporting(this);this.container_=f.container;this.messagingService_=this.context_.messagingService();
this.setupDefaultErrorWidget()}e.prototype.bind=function(g,f){this.messagingService_.subscribe(g,f)};e.prototype.notificationMgr=function(){return this.context_.notificationMgr()};e.prototype.setupDefaultErrorWidget=function(){var f=this.context_;viz.DefaultErrorWidget.defaultErrorWidget={onError:function(g){if(g&&g.getErrorCode){if("GVI_PRINT_NOT_ENABLED"==g.getErrorCode()){f.errorMgr().addError(g.getMessage());
return}}var h=g.getAdditionalInformation();if(!h||h.length===0){h="N/A"}f.errorMgr().addGviError(g)},onFailure:function(h){var g;if(_.isElement(this.container_)){g=this.container_}else{if(_.isUndefined(this.container_)||_.isNull(this.container_)){g=document.createElement("div");
g.id="intro";document.getElementsByTagName("body")[0].appendChild(g)}else{g=$(this.container_)[0]}}ReactDOM.render(React.createElement(d,{error:h.getMessage()}),g);f.errorMgr().addGviError(h)}}};e.prototype.setupGVIConfiguration=function(i){var f=this;var g=this.context_;
var h=g.gviConfiguration();h.ready({onVizRequestExecuted:function(){f.ic3report_=new a.MainReport(g);if(i){i()}},onError:function(j){g.errorMgr().addFatalError("reporting.fatalError",[j.toString()])},onFailure:function(j){g.errorMgr().addFatalError("reporting.fatalError",[j.toString()])
}})};e.prototype.setupBlankApplication=function(f){this.ic3report_.setupBlankApplication(f)};e.prototype.setupApplication=function(f){this.ic3report_.setupApplication(f)};e.prototype.switchModesAndRebuildAll=function(f){this.ic3report_.switchModesAndRebuildAll(f)
};e.prototype.openReport=function(g,f){this.ic3report_.openReport(g,f)};e.prototype.getAllReportNames=function(f){this.context_.executeRequest(new viz.GetReportNamesGviRequest(),{onVizRequestExecuted:function(g){a.callMethod(f,"onSuccess",g)},onError:function(g){a.callMethod(f,"onError",g)
},onFailure:function(g){a.callMethod(f,"onError",g)}})};e.prototype.getAllReportNamesEx=function(f){this.context_.executeRequest(new viz.GetReportNamesGviRequest(true),{onVizRequestExecuted:function(g){a.callMethod(f,"onSuccess",g)},onError:function(g){a.callMethod(f,"onError",g)
},onFailure:function(g){a.callMethod(f,"onError",g)}})};e.prototype.lookupWidget=function(g){var f=this.context_.widgetMgr();return f.getItemById(g)};e.prototype.fireEvent=function(f,g){this.ic3report_.fireExternalEvent(f,g)};e.prototype.userName=function(){return this.context_.userInfo().getName()
};e.prototype.reportName=function(){return this.context_.mainReport().reportName()};return e}());a.Reporting=b})(ic3||(ic3={}));var ic3EventType=ic3.EventType;
